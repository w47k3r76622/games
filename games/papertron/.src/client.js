!function(){function a(a,b){return b=b||document,b.querySelector(a)}function b(a,b){return b?document.createTextNode(a):document.createElement(a)}function c(a,b,c){a.addEventListener(b,c,!1)}function d(a,b){return a?(void 0!==b&&(a.textContent=b),a.textContent):""}function e(a,b,c){return a?(void 0!==c&&a.setAttribute(b,c),a.getAttribute(b)):null}function f(){h&&h.emit.apply(h,arguments)}function g(){h.on("games",m.games),h.on("alert",function(a){n.show(a)}),h.on("disconnect",function(){l.stop(),m.show("close"),n.show("Connection lost!")}),h.on("open",function(){m.show("open")}),h.on("join",function(a,b,c){m.show("open start"),k.room(a),k.clear(),b?(l.start(b,!1,c),b.time<0?l.show(c.name):(n.show("Wait until next round starts!"),l.hide())):(i.rotate(0),i.render(),l.show(c.name))}),h.on("room",function(a,b,c){k.room(b),c&&(k.add(a+" "+c),j.play(c))}),h.on("message",function(a,b){k.add(a+": "+b)}),h.on("start",l.start),h.on("shot",function(a,b,c,d){l.load(a,b,c),d&&k.room(d)})}var h,i,j,k,l,m,n,o;l=function(){function b(a){d(r,a||""),e(r,"class",""),setTimeout(function(){e(r,"class","off")},700)}function g(){var a=s.getTime(),c=0>a?Math.ceil(Math.abs(a/(1e3/s.timer))):0;q!==c&&(u=null,b(c),c>0?j.play("count"):l.hide(),q=c),q||u||!t||(u=j.play("motor",.1,!0)),s.run(),i.anim(),i.render(s,t||s.motors[v],null===t),w&&requestAnimationFrame(g)}function h(){++v>=s.motors.length&&(v=0),n.show("Spectating: "+s.motors[v].nick)}function k(){u&&(u.loop=!1)}var p,q,r,s,t,u,v,w;return{init:function(){p=a("#game"),q=0,r=a("#count").firstChild,c(a("#start"),"click",function(){f("start"),l.hide()}),c(a("#leave"),"click",function(){f("leave"),m.show("open")}),c(document.body,"keydown",function(a){if("INPUT"!==a.target.tagName)switch(a.keyCode){case 32:w&&!t&&h();break;case 37:l.turn(3)&&i.turn(3);break;case 39:l.turn(1)&&i.turn(1)}}),c(a(".texts"),"touchstart",function(){l.turn(3)?i.turn(3):w&&!t&&h()}),c(a(".room"),"touchstart",function(){l.turn(1)?i.turn(1):w&&!t&&h()})},start:function(a,b,c){s=new o.Match(c.mode,c.map),s.load(a),s.setTime(a.time),t=s.motors[b]||null,t?i.rotate(90*t.vec):i.rotate(0),w||(v=0,w=!0,g())},stop:function(){w=!1},load:function(a,b,c){s&&(s.load(a),b.length&&j.play("exp"),c!==!1?(l.stop(),l.show(s.motors[c].nick+" wins!"),j.play(t&&t.id===c?"win":"lose"),k()):t&&b.indexOf(t.id)>=0&&(v=t.id,t=null,k()))},turn:function(a){var b=s.getTime();return!s||!t||t.crash||1>b?!1:(t.move(b),t.turn(a),f("turn",a,b),j.play("turn",.5),!0)},show:function(c){d(a("h1",p),c),e(p,"class",""),a("#start").focus(),b(0)},hide:function(){e(p,"class","hide")}}}(),i=function(){function b(a,b){var c=u.createShader(b);return u.shaderSource(c,a),u.compileShader(c),u.getShaderParameter(c,u.COMPILE_STATUS)||u.deleteShader(c),c}function d(a){for(var b=u.createProgram(),c=0;c<a.length;c++)u.attachShader(b,a[c]);return u.linkProgram(b),u.getProgramParameter(b,u.LINK_STATUS)?u.useProgram(b):u.deleteProgram(b),b}function e(a,b,c,d){var e=Math.tan(.5*Math.PI-.5*a),f=1/(c-d);return[e/b,0,0,0,0,e,0,0,0,0,(c+d)*f,-1,0,0,c*d*f*2,0]}function f(a,b,c){return[1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1]}function g(a){var b=Math.cos(a),c=Math.sin(a);return[1,0,0,0,0,b,c,0,0,-c,b,0,0,0,0,1]}function h(a){var b=Math.cos(a),c=Math.sin(a);return[b,0,-c,0,0,1,0,0,c,0,b,0,0,0,0,1]}function j(a){var b=Math.cos(a),c=Math.sin(a);return[b,c,0,0,-c,b,0,0,0,0,1,0,0,0,0,1]}function k(a,b,c){return[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1]}function l(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15],s=b[0],t=b[1],u=b[2],v=b[3],w=b[4],x=b[5],y=b[6],z=b[7],A=b[8],B=b[9],C=b[10],D=b[11],E=b[12],F=b[13],G=b[14],H=b[15];return[c*s+d*w+e*A+f*E,c*t+d*x+e*B+f*F,c*u+d*y+e*C+f*G,c*v+d*z+e*D+f*H,g*s+h*w+i*A+j*E,g*t+h*x+i*B+j*F,g*u+h*y+i*C+j*G,g*v+h*z+i*D+j*H,k*s+l*w+m*A+n*E,k*t+l*x+m*B+n*F,k*u+l*y+m*C+n*G,k*v+l*z+m*D+n*H,o*s+p*w+q*A+r*E,o*t+p*x+q*B+r*F,o*u+p*y+q*C+r*G,o*v+p*z+q*D+r*H]}function m(a,b){var c,d=a[0],e=a[1],f=a[2],g=a[4],h=a[5],i=a[6],j=a[8],k=a[9],l=a[10],m=l*h-i*k,n=-l*g+i*j,o=k*g-h*j,p=d*m+e*n+f*o;return p?(c=1/p,b[0]=m*c,b[1]=(-l*e+f*k)*c,b[2]=(i*e-f*h)*c,b[3]=n*c,b[4]=(l*d-f*j)*c,b[5]=(-i*d+f*g)*c,b[6]=o*c,b[7]=(-k*d+e*j)*c,b[8]=(h*d-e*g)*c,b):null}function n(a){var b=a[1],c=a[2],d=a[5];return a[1]=a[3],a[2]=a[6],a[3]=b,a[5]=a[7],a[6]=c,a[7]=d,a}function o(a,b,c,d,e,f,g,h){var i=0,j=0,k=0,l=0,m=0,n=0,o={};switch(e){case 0:i=f,l=f,m=1;break;case 1:j=-f,k=f,n=-1;break;case 2:i=-f,l=-f,m=-1;break;case 3:j=f,k=-f,n=1}return o.vert=[a+i+k,b+j+l,0,a,b,g,c,d,g,a-i+k,b-j+l,0,c,d,g,a,b,g,c+i-k,d+j-l,0,a+i+k,b+j+l,0,c,d,g,c-i-k,d-j-l,0,c,d,g,a-i+k,b-j+l,0],o.norm=[m,n,0,m,n,0,m,n,0,-m,-n,0,-m,-n,0,-m,-n,0,m,n,0,m,n,0,m,n,0,-m,-n,0,-m,-n,0,-m,-n,0],1&h&&(o.vert.push(a+i+k,b+j+l,0,a-i+k,b-j+l,0,a,b,g),o.norm.push(n,m,0,n,m,0,n,m,0)),2&h&&(o.vert.push(c+i-k,d+j-l,0,c,d,g,c-i-k,d-j-l,0),o.norm.push(n,-m,0,n,-m,0,n,-m,0)),o}function p(a,b,c,d){var e,f,g,h=a.data,i={color:b,vert:[],norm:[]},j=a.x,k=a.y,l=a.stuck||a.time,m=0;if(l-=h[0][3],c>l){if(h.length<2)return null;switch(m=1,l=c-l-.5,j=h[0][0],k=h[0][1],h[0][2]-h[1][2]){case-1:case 3:d(-l/c);break;case 1:case-3:d(l/c)}}else l=c;switch(h[m][2]){case 0:k+=l;break;case 1:j-=l;break;case 2:k-=l;break;case 3:j+=l}for(e=m;e<h.length;e++)f=0,e===m&&(f=1),e===h.length-1&&(f=2|f),g=o(j,-k,h[e][0],-h[e][1],h[e][2],.2,2,f),i.vert=i.vert.concat(g.vert),i.norm=i.norm.concat(g.norm),j=h[e][0],k=h[e][1];return i}function q(a,b,c){var d,e,f,g=.2,h=b/5,i=c>0?1:-1,j=.8;for(f={color:a,vert:[-b,-b,0,-b,-b,c,b,-b,0,b,-b,0,-b,-b,c,b,-b,c,b,b,0,b,-b,0,b,-b,c,b,b,0,b,-b,c,b,b,c,-b,b,0,b,b,0,b,b,c,-b,b,0,b,b,c,-b,b,c,-b,-b,0,-b,b,0,-b,b,c,-b,-b,c,-b,-b,0,-b,b,c],norm:[0,i,0,0,i,0,0,i,0,0,i,0,0,i,0,0,i,0,-i,0,0,-i,0,0,-i,0,0,-i,0,0,-i,0,0,-i,0,0,0,-i,0,0,-i,0,0,-i,0,0,-i,0,0,-i,0,0,-i,0,i,0,0,i,0,0,i,0,0,i,0,0,i,0,0,i,0,0]},i=.1,d=-b;b>d;d+=h)for(e=-b;b>e;e+=h)f.vert.push(d+g,e+g,0,d+h-g,e+g,0,d+g,e+h-g,0,d+g,e+h-g,0,d+h-g,e+g,0,d+h-g,e+h-g,0),f.norm.push(-i,-i,j,i,-i,j,-i,i,j,-i,i,j,i,-i,j,i,i,j);return f}function r(a){var b,c={scale:[1,1,1],trans:[0,0,0],rotate:[0,0,0]},d=[];for(c.vert=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,c.vert),u.enableVertexAttribArray(C),u.bufferData(u.ARRAY_BUFFER,new Float32Array(a.vert),u.STATIC_DRAW),c.norm=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,c.norm),u.enableVertexAttribArray(D),u.bufferData(u.ARRAY_BUFFER,new Float32Array(a.norm),u.STATIC_DRAW),b=0;b<a.vert.length;b++)d.push(a.color[b%a.color.length]);return c.color=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,c.color),u.enableVertexAttribArray(z),u.bufferData(u.ARRAY_BUFFER,new Uint8Array(d),u.STATIC_DRAW),c.size=a.vert.length/3,c}function s(){v.width=v.clientWidth,v.height=v.clientHeight,G=v.width/v.height,u.viewport(0,0,v.width,v.height)}function t(a,b){var c,d=Math.PI/180,e=[0,0,0,0,0,0,0,0,0];c=g(d*a.rotate[0]),c=l(c,h(d*a.rotate[1])),c=l(c,j(d*a.rotate[2])),e=m(c,e),e=n(e,e),c=l(c,k(a.scale[0],a.scale[1],a.scale[2])),c=l(c,f(a.trans[0],a.trans[1],a.trans[2])),u.uniformMatrix4fv(A,!1,b),u.uniformMatrix4fv(B,!1,c),u.uniformMatrix3fv(E,!1,e),u.bindBuffer(u.ARRAY_BUFFER,a.norm),u.vertexAttribPointer(D,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,a.vert),u.vertexAttribPointer(C,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,a.color),u.vertexAttribPointer(z,3,u.UNSIGNED_BYTE,!0,0,0),u.drawArrays(u.TRIANGLES,0,a.size)}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=[[249,0,65],[93,249,0],[0,93,249],[249,93,0]],L=[];return{clear:function(){u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT)},render:function(a,b,c){var d=k(1,1,1),h=b?-b.x:0,m=b?b.y:40,n=Math.PI/180*H,o=5.5;a&&a.mode&&(n+=Math.PI),d=l(d,f(h,m,0)),d=l(d,j(n)),d=l(d,g(c?-.4:-1.2)),d=l(d,f(0,0,c?-60:-30)),d=l(d,e(F,G,1,2e3)),i.clear(),t(J,d),a&&a.motors.forEach(function(a,b){var c,e=L[b],f=[90,0,-90*a.vec];c=p(a,K[b],o,function(b){f[2]=90*(b-a.vec)}),c&&t(r(c),d),e.scale=[.25,.25,.25],e.trans=[a.x,-a.y,0],e.rotate=f,t(e,d)})},init:function(){v=a("#scene"),u=v.getContext("experimental-webgl"),x=b(a("#vert").text,u.VERTEX_SHADER),y=b(a("#frag").text,u.FRAGMENT_SHADER),w=d([x,y]),z=u.getAttribLocation(w,"aColor"),A=u.getUniformLocation(w,"uCam"),B=u.getUniformLocation(w,"uModel"),C=u.getAttribLocation(w,"aPos"),D=u.getAttribLocation(w,"aNorm"),E=u.getUniformLocation(w,"uNorm"),u.enable(u.CULL_FACE),u.enable(u.DEPTH_TEST),F=Math.PI/180*60,H=0,J=r(q([191,153,91],80,140)),K.forEach(function(a){L.push(r({color:a,vert:[2,8,4,-2,8,4,-1,8,8,2,8,4,1,8,8,2,4,8,-1,0,8,1,0,8,1,1,8,-2,8,4,-1,8,0,-2,4,0,1,0,0,-1,0,0,-2,4,0,-1,1,8,-1,1,12,-1,7,12,-1,7,8,-2,4,8,-1,1,8,1,1,8,2,4,8,1,7,8,1,7,8,1,7,12,1,1,12,2,8,16,1,8,20,2,4,20,1,1,12,1,7,12,2,4,12,-1,7,12,-1,1,12,-2,4,12,1,1,12,1,0,12,-1,0,12,1,8,20,-1,8,20,-2,4,20,-2,0,16,-1,0,20,-2,4,20,2,8,16,-2,8,16,-1,8,20,1,8,12,-1,8,12,-2,8,16,-2,8,16,-.8,4,16,-2,4,20,-2,4,12,-.8,4,16,-2,8,16,-2,4,12,-1,0,12,-2,0,16,2,4,20,-2,4,20,-1,0,20,2,0,16,.8,4,16,2,4,20,2,4,12,.8,4,16,2,0,16,2,4,12,1,8,12,2,8,16,2,4,0,-2,4,0,-1,8,0,-2,0,4,-.8,4,4,-2,4,0,-2,4,8,-.8,4,4,-2,0,4,-2,4,8,-1,8,8,-2,8,4,2,0,4,.8,4,4,2,4,8,2,4,0,.8,4,4,2,0,4,2,4,0,1,8,0,2,8,4,1,8,0,-1,8,0,-2,8,4,-1,7,4,-1,7,16,-1,8.6,16,1,11,4,-1,11,4,-1,8.6,16,-1,7,4,-1,11,4,1,11,4,1,7,4,1,11,4,1,8.6,16,1,7,16,1,8.6,16,-1,8.6,16,1,7,12,1,7,8,1,7,4,-1,7,8,-1,7,12,-1,7,16,1,8,8,2,8,4,-1,8,8,.8,4,4,2,8,4,2,4,8,-1,1,8,-1,0,8,1,1,8,-.8,4,4,-2,8,4,-2,4,0,2,4,0,1,0,0,-2,4,0,-1,7,8,-1,1,8,-1,7,12,-2,4,8,-1,7,8,-1,8,8,-2,4,8,-1,0,8,-1,1,8,2,4,8,1,1,8,1,0,8,2,4,8,1,8,8,1,7,8,1,1,8,1,7,8,1,1,12,.8,4,16,2,8,16,2,4,20,2,4,12,1,0,12,1,1,12,1,7,12,1,8,12,2,4,12,-2,4,12,-1,8,12,-1,7,12,-1,1,12,-1,0,12,-2,4,12,-1,1,12,1,1,12,-1,0,12,2,4,20,1,8,20,-2,4,20,-.8,4,16,-2,0,16,-2,4,20,1,8,20,2,8,16,-1,8,20,2,8,16,1,8,12,-2,8,16,-1,8,20,-2,8,16,-2,4,20,-1,8,12,-2,4,12,-2,8,16,-.8,4,16,-2,4,12,-2,0,16,1,0,20,2,4,20,-1,0,20,1,0,20,2,0,16,2,4,20,1,0,12,2,4,12,2,0,16,.8,4,16,2,4,12,2,8,16,1,8,0,2,4,0,-1,8,0,-1,0,0,-2,0,4,-2,4,0,-1,0,8,-2,4,8,-2,0,4,-.8,4,4,-2,4,8,-2,8,4,1,0,8,2,0,4,2,4,8,1,0,0,2,4,0,2,0,4,.8,4,4,2,4,0,2,8,4,2,8,4,1,8,0,-2,8,4,-1,11,4,-1,7,4,-1,8.6,16,1,8.6,16,1,11,4,-1,8.6,16,1,7,4,-1,7,4,1,11,4,1,7,16,1,7,4,1,8.6,16,-1,7,16,1,7,16,-1,8.6,16,1,7,16,1,7,12,1,7,4,-1,7,4,-1,7,8,-1,7,16],norm:[0,1,0,0,1,0,0,1,0,1,0,0,.9,.2,.2,1,0,0,0,0,1,0,0,1,0,0,1,-1,0,0,-.9,.2,-.2,-1,0,0,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,.9,.2,.2,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,-1,0,0,-.9,-.2,.2,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-.9,-.2,-.2,-1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,.9,.2,-.2,1,0,0,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-.9,.2,.2,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,.9,.2,-.2,1,0,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,0,1,.2,0,1,.2,0,1,.2,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,.9,-.4,0,0,-1,0,.1,.9,.5,-.7,.7,0,-1,0,0,-.1,.4,.9,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-.9,.2,.2,-1,0,0,-1,0,0,-.9,.2,-.2,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,1,0,0,1,0,0,1,.9,-.2,.2,1,0,0,1,0,0,.9,-.2,-.2,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,-.9,-.2,-.2,-1,0,0,-1,0,0,-.9,-.2,.2,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,.9,-.2,.2,1,0,0,1,0,0,.9,-.2,-.2,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,0,1,.2,0,1,.2,0,1,.2,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,.1,.4,.9,.9,-.4,0,.1,.9,.5,-.1,.9,.5,-.7,.7,0,-.1,.4,.9]}))}),c(window,"resize",s),s()},turn:function(a){switch(a){case 1:I+=90;break;case 3:I-=90}},anim:function(){var a=I-H;H=Math.abs(a)>1?a/4+H:I},rotate:function(a){I=a,H=a}}}(),k=function(){var e,g,h,i;return{init:function(){e=a("#chat"),g=a("[name=text]",e),h=a(".texts",e),i=a(".room",e),c(g,"keydown",function(a){var b=g.value.trim();13===a.keyCode&&""!==b&&(f("message",b),k.add(m.nick()+": "+b),g.value="")})},room:function(a){var c;d(i,""),a.sort(function(a,b){return a.nick>b.nick}),a.forEach(function(a){c=b("span"),d(c,a.nick+" ★"+a.wins),i.appendChild(c)})},add:function(a){var c=b("span");d(c,a),h.insertBefore(c,h.firstChild),j.play("msg")},clear:function(){d(h,""),g.value=""}}}(),m=function(){var g,h,j,k,l,n,o,p,q;return{init:function(){g=a("body"),j=a("ul"),k=a("[name=game]"),l=a("[name=map]"),n=a("[name=bots]"),o=a("[name=mode]"),p=a("[name=nick]"),p.value=localStorage.getItem("nick")||"",c(j,"click",function(b){var c=b.target;"LI"===c.tagName&&(e(a("li.sel",j),"class",""),e(c,"class","sel"),h=e(c,"data-val"))}),c(g,"submit",function(a){var b=m.nick();localStorage.setItem("nick",b),f("open",b),a.preventDefault(),p.blur()}),c(a("#join"),"click",function(){h&&f("join",h)}),c(a("#create"),"click",function(){f("create",m.opts()),i.clear()})},show:function(a){"open"===a?(k.value||(k.value=m.nick()+"'s game"),f("games"),q=setInterval(function(){f("games")},3e3)):q&&clearInterval(q),e(g,"class",a)},nick:function(){return p.value.trim()},opts:function(){return{name:k.value.trim(),bots:n.selectedIndex,mode:o.selectedIndex,map:l.selectedIndex}},games:function(a){var c,f,g=h;for(h=null;j.firstChild;)j.removeChild(j.firstChild);a.forEach(function(a){c=b("pre"),d(c,[o.options[a.mode].text+" "+l.options[a.map].text,"Players: "+a.count,"Bots: "+a.bots].join("\n")),f=b("li"),d(f,a.name),e(f,"data-val",a.name),f.appendChild(c),a.name===g&&(f.className="sel",h=g),j.appendChild(f)})}}}(),j=function(){function b(a,b){var c=jsfxr(b);f.decodeAudioData(c,function(b){h[a]=b})}var d,f,g,h={},i=!0;return{init:function(){d=a("#sfx"),f=new AudioContext,g=f.createGain(),g.connect(f.destination),b("exp",[3,,.18,.05,.65,.97,,-.36,.46,,,.66,.65,,,.63,.16,.5,1,,.96,,,.45]),b("btn",[2,,.01,.82,.17,.94,.1,.74,-.82,.96,.99,-.82,.02,.16,.35,.04,-.7,-.8,.29,-.62,.69,.01,0,.28]),b("count",[1,,.12,,.72,.1,,-.12,.08,,,,,.09,.02,.78,,-.02,.09,-.02,.49,,,.45]),b("win",[2,.66,.01,.17,.34,.68,,.16,.02,.08,.71,-.82,.4,.34,-.34,,.68,.92,.15,-.1,.53,0,.05,.5]),b("lose",[0,.16,.01,.3,.45,.28,,.26,-.01,.15,.44,-.82,.4,.33,-.34,-.06,.03,-.19,.07,-.01,.53,0,.05,.5]),b("msg",[0,,.057,.17,.12,.72,,,,,,.58,.69,,,,,,.42,-.18,,,,.5]),b("joined",[2,,.04,.54,.36,.72,,,,,,.24,.52,,,,,,.31,,1,,-1,.5]),b("left",[0,,.04,.54,.36,.15,,,,,,.24,.52,,,,,,.18,-.54,1,,-1,.5]),b("turn",[1,,.06,,.21,.12,,.19,,,,,,,,.8,,,1,,,,,.5]),b("motor",[1,,.54,,,.07,,-.12,.08,,,-.1,1,1,.9,1,.2,.08,.78,-.02,.49,,,.45]),c(document.body,"click",function(a){var b=a.target.tagName;("A"===b||"BUTTON"===b)&&j.play("btn")}),c(d,"click",j.mute),j.mute()},play:function(a,b,c){var d,e=null;return a in h&&(d=f.createGain(),d.gain.value=b||1,d.connect(g),e=f.createBufferSource(),e.loop=c||!1,e.buffer=h[a],e.connect(d),e.start(0)),e},mute:function(){i=!i,g.gain.value=i?0:2,e(d,"class",i?"off":"")}}}(),n=function(){function b(){e(f,"class","hide")}var f,g;return{init:function(){f=a("#note"),c(f,"click",b)},show:function(a){d(f,a),e(f,"class",""),g&&clearTimeout(g),g=setTimeout(b,3e3)}}}(),window.onload=function(){o=exports,"undefined"!=typeof io&&(h=io(location.href),g()),window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&j.init(),i.init(),k.init(),m.init(),n.init(),l.init()}}();