!function(e){var A={};function t(n){if(A[n])return A[n].exports;var o=A[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=A,t.d=function(e,A,n){t.o(e,A)||Object.defineProperty(e,A,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"A",{value:!0})},t.t=function(e,A){if(1&A&&(e=t(e)),8&A)return e;if(4&A&&"object"==typeof e&&e&&e.A)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&A&&"string"!=typeof e)for(var o in e)t.d(n,o,function(A){return e[A]}.bind(null,o));return n},t.n=function(e){var A=e&&e.A?function(){return e.default}:function(){return e};return t.d(A,"a",A),A},t.o=function(e,A){return Object.prototype.hasOwnProperty.call(e,A)},t.p="./",t(t.s=0)}({0:function(e,A,t){e.exports=t("tjUo")},"2CEX":function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAjCAMAAABFARFuAAAADFBMVEUAAADw083isaDHfmNM4B3PAAAAAXRSTlMAQObYZgAAAH5JREFUeNp9zkESgCAMQ1Gb3P/OQvuhjKNmx4OmXBVFhHR1oqIDEAOOFUPxFGuLviTckmS5AdGvKAVSS10m2AOGDEOFjAizKSbIPm5hhGXvQinFU4bJsrV3kaxFJkb/OYmRFq12l5xUsnrONzEpDWHsV5iZ9rELEYIENYgIcgP+kAO/SA5XrwAAAABJRU5ErkJggg=="},"3Wew":function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAZCAMAAAA4wFPqAAAAD1BMVEX///8OU89FRUVZWVlwcHCw5VPPAAAAAXRSTlMAQObYZgAAAQVJREFUeNrtkNEOAyEIBBH9/29uU0OFOSW9NO0T86RkgV2kKIqiKIqiKIqiKJ60xb+WGb8xxjbWDhZQzWngKCNfn4ZixNmNamp4GY1ltAM7nTpoiv8gvGHAtYlcaqLaJy5ytJZHMbFjn37K+hsfGcNb0HKgl2P/fLJNfU28hRcmgjEDzsyb4xjbZIZX8Vg8TcrKY8+VWHFl6cA2o2QgCuKiKeYwHVSwvJ3J7Xw7Hbt4ZOnD6B/iY2MihS7HfA/HEgXLFjcY03Ai1ZAIIA9qMhaQGGnsIGYDTz9AdqWzLpznkpFtHGWBKUMpZWxJdImpg/ZTA1ffA8i4D7adiTmyafwC6vG+wwMmVBOAc56eVgAAAABJRU5ErkJggg=="},"DD/N":function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAPCAMAAABN/BjHAAAAIVBMVEX///8dYd6qJyeicCc0du/1yYiHWRY/JQBxQwECLnxMLQDDJQECAAAAAXRSTlMAQObYZgAAAKtJREFUeNq9zcESwiAQA9CspZDs/3+wQrdddBwvopweTBIgCXGWGa01rTZINi02ao3LF7bJkFaMSm5puZfn0Db785AsLBIl7VcoTq37VQ7nBwIMWabbMIm+Gb4KO8Uect/rwzqmuhmu3f1SjvxRHqOMv07jLDedvrFptNN2ZUi3l/w2bOl5KHyrw3QpbZYZQ7p059BsVL6xe9is5Pts2PtuXhb4D6O/MBzrfQdqFw8IU6ZxFAAAAABJRU5ErkJggg=="},E23H:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAbBAMAAACkbYEBAAAAG1BMVEX///8AQ7sAWfsAR8kATNctc/JFg/MAUucAVvKyOFiAAAAAAXRSTlMAQObYZgAAAZpJREFUeF610jGqdjUQBuAnycFJGfCCtwy4gQguIJ3ttwSXELCwDa7c6hBS2P0+1fAOM8UwKgO1VZ4/wBd8R2mwBR2dXSk6NFCD4jWFukG3goQuAWFSa4SMAHSICVbOnuz1YDqOj5cAGHTAZBpTV3nw5QO/oAAVLNXBsqofp/oviY3MBhhA0geKO7fdlA1QEZttQCxQQfYKEhKqSGu4Fz+Of0ADFixgOzK0xSIhKrRlSfjd8TdTP3PusjoWJHQKCIeEoDU2v20LGpiAgeUmAB/Y6NArQGMJZCe6BN3roYLCTySXumHwgXL3qffFi1ewm319ac1elQomWzbDjYFVAyDDEsAGxRAs4DFg+198F+6bZkC2ADIN3UHFbhROL6DRWOEgq17t1M79t1fEBgXoqLa/gHD75smJWKDQvBZAAzIWS/dSMRwDYpHh8VqbjsU1cZt0N4MISATArxob0zHx0d0sgGrvOw2v1H52LDfDA8WhSF6eJiC1/ozwSoBuwYTtMr2CoKMA+TzIqGQiYW6AMKqHIDv+DBmW6Yf4F9aDMs3ekiWNAAAAAElFTkSuQmCC"},IjRh:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAPCAMAAABN/BjHAAAAIVBMVEX///8/JQCqJyeicCc0du/1yYgCLnyHWRZMLQBxQwEdYd4sunndAAAAAXRSTlMAQObYZgAAAKlJREFUeNqtzsEWhSAIBFArHYH//+CHaUzn1WmjrC4Fg4kFrPe2bcstqrrMbGqdcQbCc6GWBOg2ceIz9HiYMwYgbKrAdSCc0OsWCilvBs4DJsrlVqoPi4ieVcaLAHctfzZzahyIecuti9BwL/HlEZNE92ajTZxjJnO+p7qPwhx6LEP0dN19nPaGMzSDXt23kwjdHmFh52UXZ979/SOHjd8nQufMbqHZrfIPGl4MmwsB4sYAAAAASUVORK5CYII="},NN41:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAJCAYAAAA/33wPAAAAY0lEQVR4AWOIC5r239prMV4MBAyEMNig03Y6uDDcIFvfpf9xYRSDrgU7/T9oooSM0Q3CpgarQWAaCHAbhFCD3yAkgNMgJIDTIJhCEB+bQehq8BiEwLgNQmC4QdSPNTyY6HQEAAr4kUgMxYJOAAAAAElFTkSuQmCC"},PxaH:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAASAgMAAABgCLUpAAAADFBMVEX///80du8aW9EdYd5uk0m3AAAAAXRSTlMAQObYZgAAAGdJREFUeAEFwTEBAyEMAMAL/JCBIWNHJCCBOou0l1IpvQNIEkCSAAYbRTA5KILBxsPDbX1ZLLr1ZfFQv/FlBHs7n5zEpEoRuNd7z8OavDu8uVhJo1dQiyIM190cpgGbJGk0kwNgsAF/jWMNSih2Tm4AAAAASUVORK5CYII="},imDG:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAcBAMAAAANToXzAAAAGFBMVEX///8dYd4aW9E0du8CLnxxQwFMLQCHWRaJ/+UaAAAAAXRSTlMAQObYZgAAASxJREFUeAGNz7FuE0EQgOFvb32u101oTzS0KyhozwRSJ+EutBS23yDk9YlPlkdrKU6m+zTzS7sAyYdn+NgumABVTKO46RrVUGS65jTHaag9VWIZ6iKk2LIadaiEYkeBxMTdTocihO4kCmT6+9X+MKYFIXQhimJlfZj/7Qa8pYrkxnpc7f/MR+bQgFCxnI7mu/n56VYV2sJZP0BJkyWUSM7yVRaCYnIM/8pXpCqKfgknhdrIcFYie9Afw3H9cCkenXSfUSf9+TVJCKFUUNbjEuJSWQiK6TXcQ2nkUpLDa/hrT7oiBXn5on6nNhoaJSin1/S3VzRWyC/HEL8bPULX7Pj0/DT/HHlfvOwsbSb0eSAE8H1b3YxSEdoAviwCkAu5qkLf2t2mEpM23pwM/gM+qG94TfivrgAAAABJRU5ErkJggg=="},mmHU:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAqCAQAAAAKJ/OvAAAAVklEQVR42u3TMQ4AIAhD0X//S+Nq1ChIXQxl5S0NADbOKtMWBQsW/ADaZbikpGCcduUEmQASYxJIhI2X42YyiJcJIT4mhYlH5szkkBN7ANmzJ5AdS8AGKXZw5LJlzyQAAAAASUVORK5CYII="},saZ5:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAdCAMAAABi+pkVAAAAGFBMVEX///9MTFYdYd6lpaUCLnxfX1+AgIA0du8enh+vAAAAAXRSTlMAQObYZgAAASpJREFUeNqtleuuBCEIg1nU0/d/4yOETOO6wg+nyd7ytQgrycgjjU/+flX1AUh53U9dsD6gLthdNFxx7Af0jyscuOL7iMaH62NdvM0Fxv9cw7vAWzy+aR/GXd6Fcsojl5zr8l+2SajpkHBowUVPHM8I5GNqKWD4yFHmF0OIDnaY8DLPAnSEQaPDA6/zQgO5QX/rgkuu3CM3bNfEDi44DS3Go4ENJLzM0xBgN+CGq72ML47BRUu4kZRTNNDjBZByrfICqxGcYoOwGkeu8PbT/L4D44vrmXscR+5RdzyGtswfXOXEecVJ3vXARgMeqhd8WwI2cM0pxCW1lhbYeZ1nBe7By5z31FaDFpwqOMVHRrcVL3iR/6k2ZdQ2DCmfhooD8lOTQmHxhHPD6/w/0HQcN7JAlQ0AAAAASUVORK5CYII="},tjUo:function(e,A,t){"use strict";t.r(A);var n=t("IjRh"),o=t.n(n),a=t("DD/N"),i=t.n(a),c=t("3Wew"),r=t.n(c),s=t("PxaH"),g=t.n(s),u=t("xroZ"),h=t.n(u),f=t("NN41"),m=t.n(f),l=t("imDG"),d=t.n(l),w=t("saZ5"),b=t.n(w),M=t("E23H"),E=t.n(M),S=t("2CEX"),O=t.n(S),F=t("mmHU"),x=t.n(F);const B=(e,A)=>Math.floor(Math.random()*(A-e+1)+e);let U=.75,Q=.005,k=.0075,C=-.1,I=24,R=!1,p=500,Y=15,D=void 0,y=void 0,T=void 0,N=void 0,v=void 0,J=void 0,K=void 0,V=void 0,X=void 0,G=440*2**(2/12),H=440*2**(4/12),L=440*2**.5,z=440*2**(7/12),P=440*2**.75,W=440*2**(14/12);const Z=e=>2*C+e;let j,q,$,_,ee,Ae,te,ne,oe,ae,ie,ce,re,se,ge,ue,he,fe,me,le,de,we,be,Me,Ee=!1;ie={},Ae={},be={},Me={},se={},re={},me={},le={};const Se=[];let Oe=0;function Fe(){ee=!0,j=0,q=0,$=0,_=0}Fe();let xe=localStorage.getItem("highscore");const Be=e=>{(!xe||e>xe)&&(xe=e)},Ue=e=>{(!xe||e>=xe)&&(xe=e,localStorage.setItem("highscore",xe))},Qe=document.querySelector("body"),ke=document.getElementById("wrapper"),Ce=document.getElementById("canvas"),Ie=Ce.getContext("2d");X=Ie.measureText("L").width;const Re={initial:2,title:3,tutorial:4,game:5,gameOver:6};let pe=Re.initial;function Ye(){Ae.init(xe),oe.init(ve,me),te.init(),ie.init(J,k,U,Q,{x:D/2-I/2,y:y/2/1.25}),be.g(),we.g(),se.u(ie),re.g(Ie),Me.g()}function De(){oe.paused||(Ie.clearRect(0,0,Ce.width,Ce.height),(!ee||se.h>=8)&&(me.end(),Ue(q),ae.registerButton(ae.getMainTouchEl(),oe.gameOverBtn),pe=Re.gameOver),Ve(ce,ie),ie.rR(),ce.renderBody(ie.velocity),Me.M(),re.S(_,oe.difficulty),re.M(ie.velocity),ie.setFrames(ae.boatFrame()),ie.runFrameUpdate(),ie.updateStrokePower(oe.difficulty),se.O(ie,re.F),ce.renderBorder(ie.velocity),be.M(),oe.render(q),ie.rLL(se.h),we.M(),Be(q))}function ye(){ae.registerButton(Qe,te.backBtn,()=>{te.leave(),ve()}),te.runTutorialSteps(),pe=Re.tutorial}function Te(){ae.clearButton(Qe,Ae.playBtn),ae.clearButton(Qe,Ae.tutorialBtn)}function Ne(){Te(),Ye(),ae.registerBoatControls(),Fe(),ce.reset(),se.B(),re.U(),oe.goTo(),pe=Re.game}function ve(){ae.registerButton(Qe,Ae.playBtn,()=>{me.song(),Ne()}),ae.registerButton(Qe,Ae.tutorialBtn,()=>{Te(),ye()}),ie.checkOarAlignment(),pe!==Re.game&&pe!==Re.gameOver||(Ue(q),Ae.updateHs(xe)),pe=Re.title}Ie.font="12px Courier",window.addEventListener("gesturestart",e=>e.preventDefault()),window.addEventListener("gesturechange",e=>e.preventDefault()),window.addEventListener("gestureend",e=>e.preventDefault()),Qe.style.overflow="hidden",window.addEventListener("mousewheel",e=>e.preventDefault(),{passive:!1}),document.addEventListener("touchmove",e=>e.preventDefault(),{passive:!1}),Qe.addEventListener("ontouchmove",e=>e.preventDefault());const Je=e=>{D=Ce.width,y=Ce.height,T=window.innerWidth,N=window.innerHeight,v=T/2,K=Math.round(N/(16/9)),J=(V=N)/Ce.height,Ce.style.width=`${K}px`,Qe.style.height=`${V}px`,ke.style.height=`${V}px`,Ce.style.height=`${V}px`,Ce.style.backgroundColor="#0e52ce",Ce.style.imageRendering="pixelated",(ae=ne()).init(Qe,me.oar.bind(me)),se.g(Ie,me.bump.bind(me)),Ye(),le.setup(ke,Ce,K),ce.init(),e()};function Ke(){if(!Ee)switch(pe){case Re.initial:Ie.clearRect(0,0,Ce.width,Ce.height),Ae.renderInitialLoad(),e=()=>{te.hasBeenSeen?ve():(Te(),ye())},Ee=!0,setTimeout(()=>{Ee=!1,e()},500);break;case Re.title:Ie.clearRect(0,0,Ce.width,Ce.height),Ve(ce,ie),ie.rR(),ce.renderBody(ie.velocity+.35),ie.justRow(),ce.renderBorder(ie.velocity+.35),Ae.renderMainScreen();break;case Re.tutorial:Ie.clearRect(0,0,Ce.width,Ce.height),te.running?(Ve(ce,ie),ie.rR(),ce.renderBody(ie.velocity+.1),ie.setFrames(ae.boatFrame()),ie.runFrameUpdate(),ce.renderBorder(ie.velocity),te.renderTutorial()):ve();break;case Re.game:se.k||De();break;case Re.gameOver:Ie.clearRect(0,0,Ce.width,Ce.height),0!==ce.current&&(ce.current=0),Ve(ce,ie),ce.renderBody(2*-C),ce.renderBorder(-2*C),re.M(-2*C),ie.fadeOut(),oe.render(q),oe.renderGameOver()}var e;window.requestAnimationFrame(Ke)}function Ve(e,A){const{current:t}=e,{velocity:n}=A,o=2*t+n;ee&&(q=-(j-=o),$=Math.floor(q/3),_=o>0?_+o:_),pe===Re.game&&A.y+q<0&&(ee=!1)}function Xe(e=0,A=0,t=0){const n=Date.now();ie.velocity+e>.1&&n>Oe+250+t&&(Se.push(fe({context:Ie,opacity:ie.velocity+.1+A,width:48,height:18,image:ie.rpI,numberOfFrames:2,loop:!0,ticksPerFrame:30,x:ie.roundX,y:ie.roundY-16})),Oe=n)}ne=function(){let e,A;const t=()=>e,n={},o={left:null,right:null},a={left:{x:0,y:0},right:{x:0,y:0}},i={left:{x:0,y:0},right:{x:0,y:0}},c={left:0,right:0},r=(e,A)=>{const t="left"===A?-1*e:e;switch(c[A]){case 1:Math.abs(e)!==t&&(c[A]=2);break;case 5:Math.abs(e)===t&&(c[A]=6)}},s=(e,t)=>{switch(c[t]){case 0:Math.abs(e)===e&&(c[t]=1);break;case 2:Math.abs(e)!==e&&(c[t]=3);break;case 3:Math.abs(e)!==e&&(c[t]=4,pe===Re.game&&A());break;case 4:Math.abs(e)!==e&&(c[[t]]=5);break;case 5:Math.abs(e)===e&&(c[t]=6);break;case 6:Math.abs(e)===e&&(c[t]=0)}},g=(e,A)=>{e&&r(e,"right"),A&&s(A,"right")},u=(e,A)=>{e&&r(e,"left"),A&&s(A,"left")},h=e=>{o[e]=null,a[e].x=0,a[e].y=0,i[e].x=0,i[e].y=0,c[e]=0},f=e=>{!o.left&&e.pageX<v&&(o.left=e,a.left={x:e.pageX,y:e.pageY}),!o.right&&e.pageX>v&&(o.right=e,a.right={x:e.pageX,y:e.pageY})},m=e=>{o.left&&o.left.identifier===e.identifier&&h("left"),o.right&&o.right.identifier===e.identifier&&h("right")},l=e=>{const A=10;o.left&&o.left.identifier===e.identifier&&(i.left.y+=a.left.y-e.pageY,a.left.y=e.pageY,i.left.x+=a.left.x-e.pageX,a.left.x=e.pageX,(i.left.x>=A||i.left.x<=-A)&&(u(i.left.x,void 0),i.left.x=0),(i.left.y>=A||i.left.y<=-A)&&(u(void 0,i.left.y),i.left.y=0)),o.right&&o.right.identifier===e.identifier&&(i.right.y+=a.right.y-e.pageY,a.right.y=e.pageY,i.right.x+=a.right.x-e.pageX,a.right.x=e.pageX,(i.right.x>=A||i.right.x<=-A)&&(g(i.right.x,void 0),i.right.x=0),(i.right.y>=A||i.right.y<=-A)&&(g(void 0,i.right.y),i.right.y=0))},d=e=>{switch(e.changedTouches.length){case 1:f(e.changedTouches[0]);break;case 2:f(e.changedTouches[0]),f(e.changedTouches[1])}},w=e=>{switch(e.changedTouches.length){case 1:l(e.changedTouches[0]);break;case 2:l(e.changedTouches[0]),l(e.changedTouches[1])}},b=e=>{switch(e.changedTouches.length){case 1:m(e.changedTouches[0]);break;case 2:m(e.changedTouches[0]),m(e.changedTouches[1])}},M=e=>{o.left=null,o.right=null};return{init:(t,n)=>{(A=>{e=A})(t),(e=>{A=e})(n)},getMainTouchEl:t,registerBoatControls:e=>{const A=e||t();A.addEventListener("touchstart",d),A.addEventListener("touchmove",w),A.addEventListener("touchend",b),A.addEventListener("touchcancel",M)},clearBoatControls:e=>{const A=e||t();h("left"),h("right"),A.removeEventListener("touchstart",d),A.removeEventListener("touchmove",w),A.removeEventListener("touchend",b),A.removeEventListener("touchcancel",M)},activeTouches:()=>o,boatFrame:()=>c,createMockTouchObject:(e,A,t)=>({identifier:e,pageX:A,pageY:t}),handleNewTouch:f,handleMovedTouch:l,handleRemovedTouch:m,registerButton:(e,A,t=null)=>{n[A.name]=e=>{if(1===e.changedTouches.length){const{pageX:n,pageY:o}=e.changedTouches[0];n>A.xMin&&n<A.xMax&&o>A.yMin&&o<A.yMax&&(t?t():A.action(e))}},e.addEventListener("touchend",n[A.name])},clearButton:(e,A)=>{e.removeEventListener("touchend",n[A.name]),delete n[A.name]},setFrameForX:r,setFrameForY:s}},de=e=>{const{code:A}=e;if(R||(R=!0,k*=4),pe===Re.game||pe===Re.tutorial)switch(A){case"Semicolon":ae.setFrameForY(10,"right"),ae.setFrameForY(10,"right"),ae.setFrameForY(10,"right");break;case"KeyL":ae.setFrameForX(-10,"right");break;case"KeyK":ae.setFrameForY(-10,"right"),ae.setFrameForY(-10,"right"),ae.setFrameForY(-10,"right");break;case"KeyJ":ae.setFrameForX(10,"right");break;case"KeyA":ae.setFrameForY(10,"left"),ae.setFrameForY(10,"left"),ae.setFrameForY(10,"left");break;case"KeyS":ae.setFrameForX(10,"left");break;case"KeyD":ae.setFrameForY(-10,"left"),ae.setFrameForY(-10,"left"),ae.setFrameForY(-10,"left");break;case"KeyF":ae.setFrameForX(-10,"left")}if(pe===Re.game)switch(A){case"KeyQ":ve();break;case"KeyP":oe.paused=!oe.paused}if(pe===Re.title)switch(A){case"KeyP":me.song(),Ne();break;case"KeyT":ye()}if(pe===Re.tutorial)switch(A){case"KeyQ":te.leave()}if(pe===Re.gameOver)switch(A){case"KeyQ":ve()}},Me.g=()=>{Me.C=new Image,Me.C.src=m.a,Me.I=!1,Me.R=!1,Me.Y=[0],Me.D=fe({context:Ie,width:18,height:9,image:Me.C,numberOfFrames:2,loop:!0,ticksPerFrame:60,x:40,y:140}),Me.B()},Me.M=()=>{Me.I&&(Me.T(),Me.R?Me.D.y-=Z(ie.velocity):Me.D.y+=Z(-ie.velocity),Me.D.update(),Me.D.render(Me.D.x,Me.D.y),Me.D.y<-9&&(Me.I=!1)),$%p==0&&(Me.Y.includes($)||(Me.Y.push($),Me.N()))},Me.B=()=>{let e=B(15,D-20);for(let A=re.F.length-1;A>=0;A-=1){const t=re.F[A];t.y>y-20&&t.y<y+20&&e>t.x&&e<t.x+t.frameWidth&&(t.x>D/2?e-=t.frameWidth:e+=t.frameWidth,A=-1)}Me.R=!1,Me.D.y=y,Me.D.x=e},Me.N=()=>{Me.B(),Me.I=!0},Me.T=()=>{Me.D.x>ie.x-4&&Me.D.x<ie.x+18&&Me.D.y<ie.y+8&&Me.D.y>ie.y-5&&(me.buoy(),be.v(),Me.I=!1)},be.g=()=>{be.I=!1,be.J=55,be.K=34,be.V=ie.y-13,be.x=ie.x,be.y=y,be.C=new Image,be.C.src=h.a,be.X=0,be.G=0,be.H=1500,be.D=fe({context:Ie,width:68,height:55,image:be.C,numberOfFrames:2,loop:!0,ticksPerFrame:2,x:be.x,y:be.y})},be.v=()=>{be.B(),be.I=!0},be.B=()=>{be.X=0,be.x=ie.x,be.y=2*y},be.L=()=>{},be.M=()=>{if(be.I){const e=Date.now();e>oe.startTime+oe.rescueTime&&(be.D.update(),be.D.render(Math.round(ie.x-4),be.y),be.y>y?me.helo(.5):be.y>be.V?me.helo(.75):be.y===be.V?me.helo(1.25):be.y>0?me.helo(.75):be.y<0&&me.helo(.5),be.y>be.V&&!be.decided&&(be.y-=2,be.y<=be.V&&(be.y=be.V,be.G=Date.now())),be.y===be.V&&(e>be.G+be.H?be.y-=2:e>be.G+1200&&2===be.X?(se.P(),be.X+=1):e>be.G+800&&1===be.X?(se.P(),be.X+=1):e>be.G+400&&0===be.X&&(se.P(),be.X+=1)),be.y<be.V&&(be.y-=2,be.y<-100&&(be.I=!1)))}},ie.init=(e,A,t,n,a)=>{ie.height=15,ie.width=12,ie.active=!0,ie.lI=new Image,ie.rI=new Image,ie.rpI=new Image,ie.lI.src=o.a,ie.rI.src=i.a,ie.rpI.src=g.a,ie.startingX=a.x,ie.scaleFx=e,ie.x=a.x,ie.y=a.y,ie.opacity=1,ie.lS=fe({context:Ie,width:84,height:15,image:ie.lI,numberOfFrames:7,loop:!0,ticksPerFrame:5,x:0,y:0}),ie.rS=fe({context:Ie,width:84,height:15,image:ie.rI,numberOfFrames:7,loop:!0,ticksPerFrame:5,x:12,y:0}),ie.resetVelocity(),ie.drift=0,ie.sSS=0,ie.lSSS=0,ie.maxVelocity=t,ie.strokePower=A,ie.wF=n,ie.lastStrokeUpdate=void 0,ie.isStuck=!1},ie.rLL=e=>{const A=8-e>0?8-e:0;let t=0,n=0;Ie.save(),Ie.globalAlpha=.7;for(let e=0;e<A;e+=1)e%2==0?(Ie.drawImage(ie.lI,0,0,12,14,16+24*t+2*t,34,12,14),t+=1):(Ie.drawImage(ie.rI,0,0,12,14,28+24*n+2*n,34,12,14),n+=1);Ie.restore()},ie.setStuck=()=>{ie.isStuck=!0},ie.setUnstuck=()=>{ie.isStuck&&(ie.isStuck=!1)},ie.updateStrokePower=e=>{ie.strokePower=k+.001*e},ie.getBBD=()=>({minY:ie.y,maxX:ie.x+17,maxY:ie.y+ie.height,minX:ie.x+8}),ie.resetVelocity=()=>{ie.velocity=0},ie.setFrames=e=>{ie.lS.currentFrame()!==e.left&&ie.rS.currentFrame()!==e.right&&(ie.sSS=0),ie.lS.currentFrame()!==e.left&&(ie.addVelocity(e.left),ie.addDrift(e.left,1)),ie.lS.goToFrame(e.left),ie.rS.currentFrame()!==e.right&&(ie.addVelocity(e.right),ie.addDrift(e.right,-1)),ie.rS.goToFrame(e.right)},ie.checkOarAlignment=()=>{ie.x===ie.startingX&&(ie.lS.goToFrame(0).resetTickCount(),ie.rS.goToFrame(0).resetTickCount(),ie.rS.update(),ie.lS.update(),ie.oarsOffset=!1)},ie.justRow=()=>{ie.x!==ie.startingX?(0!==ie.drift&&(ie.drift=0),ie.oarsOffset=!0,ie.x-ie.startingX>1?(ie.x-=.25,ie.rS.update()):ie.x-ie.startingX<-1?(ie.x+=.25,ie.lS.update()):ie.x=ie.startingX):(ie.oarsOffset&&(ie.x=ie.startingX,ie.lS.goToFrame(0).resetTickCount(),ie.rS.goToFrame(0).resetTickCount(),ie.oarsOffset=!1),ie.rS.update(),ie.lS.update(),Xe(.15,.15,100)),ie.render()},ie.isOarInWater=e=>e>2&&e<6,ie.isSameSideRowing=()=>Math.abs(ie.sSS)>3,ie.addVelocity=e=>{e&&ie.isOarInWater(e)&&ie.velocity<=ie.maxVelocity&&!ie.isSameSideRowing()&&(ie.setUnstuck(),ie.velocity+=ie.strokePower,ie.lastStrokeUpdate=Date.now())},ie.bounceLeft=()=>{ie.drift=-.066},ie.bounceRight=()=>{ie.drift=.066},ie.addDrift=(e,A)=>{ie.isSameSideRowing()?ie.lSSS=Date.now():ie.sSS+=A,e&&ie.isOarInWater(e)&&(ie.drift+=ie.strokePower*A)},ie.applyWaterFriction=()=>{const e=Date.now();e-ie.lSSS>500&&0!==ie.drift&&(ie.drift>0&&(ie.drift-=ie.wF,ie.drift<0&&(ie.drift=0)),ie.drift<0&&(ie.drift+=ie.wF,ie.drift>0&&(ie.drift=0))),ie.isStuck?ie.velocity=-2*C:e-ie.lastStrokeUpdate>500&&ie.velocity>0&&(ie.setUnstuck(),ie.velocity-=ie.wF,ie.velocity<0&&ie.resetVelocity())},ie.runFrameUpdate=()=>{ie.render(),ie.applyWaterFriction()},ie.checkForOutOfBounds=e=>{e>=D-ie.width-20&&(ie.x=D-ie.width-20,ie.drift=0),e<=10&&(ie.x=10,ie.drift=0)},ie.render=()=>{Xe(),ie.x+=4*ie.drift,ie.checkForOutOfBounds(ie.x),ie.roundX=Math.round(ie.x),ie.roundY=Math.round(ie.y),Ie.save(),ie.lS.render(ie.roundX,ie.roundY),ie.rS.render(ie.roundX+12,ie.roundY),Ie.restore()},ie.rR=()=>{for(let e=0;e<Se.length;e+=1){const A=Se[e],t=A.y-=Z(ie.velocity);A.update(),Ie.save(),Ie.globalAlpha=A.opacity,A.render(A.x,t),A.opacity-=.005,A.opacity<=0&&(Se.splice(e,1),e-=1),Ie.restore()}},ie.fadeOut=()=>{0!==ie.velocity&&ie.resetVelocity(),ie.opacity>0&&(Ie.save(),ie.opacity-=.05,Ie.globalAlpha=ie.opacity,ie.render(),Ie.restore())},(ce={}).init=()=>{ce.bD=27,ce.bodiesInRow=Math.ceil(D/ce.bD),ce.rIBC=Math.ceil(y/ce.bD)+2,ce.bXD=25,ce.bYD=240,ce.bordersInColumn=3,ce.bordersLeft=[],ce.bordersRight=[],ce.borderImage=new Image,ce.borderImage.src=r.a,ce.bodyImage=new Image,ce.bodyImage.src=E.a,ce.current=C,ce.bodyColumns=[],ce.mBTY=0,ce.mnBTY=0,ce.makeBorderLeft(),ce.makeBorderRight(),ce.makeBodySprites()},ce.reset=()=>{ce.current=C},ce.getBorderBasePositions=()=>({left:{x:0,y:-ce.bXD},right:{x:-ce.bYD,y:D-ce.bXD}}),ce.getLeftBorderYPos=(e,A)=>e+(A-1)*ce.bYD,ce.getRightBorderYPos=(e,A)=>e+(A-1)*ce.bYD,ce.makeBorderLeft=()=>{const e=ce.getBorderBasePositions();ce.makeBorderSprites(e.left.x,e.left.y,90,ce.bordersLeft)},ce.makeBorderRight=()=>{const e=ce.getBorderBasePositions();ce.makeBorderSprites(e.right.x,e.right.y,-90,ce.bordersRight)},ce.makeBorderSprites=(e,A,t,n)=>{for(let o=0;o<ce.bordersInColumn;o+=1){const a=ce.makeBorderSprite(e,A,t,o);n.push(a)}},ce.makeBorderSprite=(e,A,t,n)=>{let o,a;return Math.abs(t)===t?(a=A,o=ce.getLeftBorderYPos(e,n)):(a=A,o=ce.getRightBorderYPos(e,n)),fe({context:Ie,width:ce.bYD,height:ce.bXD,image:ce.borderImage,numberOfFrames:0,x:o,y:a,rotation:t})},ce.addBordersAbove=()=>{const e=ce.getBorderBasePositions();ce.bordersLeft.unshift(ce.makeBorderSprite(ce.bordersLeft[0].x,e.left.y,90,0)),ce.bordersRight.push(ce.makeBorderSprite(ce.bordersRight[ce.bordersRight.length-1].x,e.right.y,-90,2)),ce.bordersLeft.length>4&&ce.bordersLeft.splice(ce.bordersLeft.length-1,1),ce.bordersRight.length>4&&ce.bordersRight.splice(0,1)},ce.addBordersBelow=()=>{const e=ce.getBorderBasePositions();ce.bordersLeft.push(ce.makeBorderSprite(ce.bordersLeft[ce.bordersLeft.length-1].x,e.left.y,90,2)),ce.bordersRight.unshift(ce.makeBorderSprite(ce.bordersRight[0].x,e.right.y,-90,0)),ce.bordersLeft.length>4&&ce.bordersLeft.splice(0,1),ce.bordersRight.length>4&&ce.bordersRight.splice(ce.bordersRight.length-1,1)},ce.getBodySpriteYPos=e=>e*ce.bD-ce.bD,ce.makeBodySprites=()=>{for(let e=0;e<ce.rIBC;e+=1)0===e&&(ce.mnBTY=ce.getBodySpriteYPos(e)),e===ce.rIBC-1&&(ce.mBTY=ce.getBodySpriteYPos(e)),ce.bodyColumns.push(ce.makeSpriteRow(e))},ce.makeSpriteRow=e=>{const A=[];for(let t=0;t<ce.bodiesInRow;t+=1){const n=t*ce.bD,o=ce.getBodySpriteYPos(e),a=fe({context:Ie,width:135,height:ce.bD,image:ce.bodyImage,numberOfFrames:5,x:n,y:o});a.goToFrame(B(0,4)),A.push(a)}return A},ce.unshiftRowToColumns=()=>{ce.bodyColumns.unshift(ce.makeSpriteRow(0)),ce.bodyColumns.length>ce.rIBC+2&&ce.bodyColumns.splice(ce.bodyColumns.length-1,1)},ce.pushRowToColumns=()=>{ce.bodyColumns.push(ce.makeSpriteRow(ce.rIBC-1)),ce.bodyColumns.length>ce.rIBC+2&&ce.bodyColumns.shift()},ce.render=e=>{ce.renderBody(e),ce.renderBorder(e)},ce.renderBody=e=>{const A=ce.bodyColumns[ce.bodyColumns.length-1][0].y,t=ce.bodyColumns[0][0].y;A<ce.mBTY-ce.bD?ce.pushRowToColumns(A,ce.mnBTY+ce.bD):t>ce.mnBTY+ce.bD&&ce.unshiftRowToColumns(ce.mBTY-ce.bD);for(let A=0;A<ce.bodyColumns.length;A+=1)for(let t=0;t<ce.bodiesInRow;t+=1){ce.bodyColumns[A][t].y-=Z(e)+.15,ce.bodyColumns[A][t].render()}},ce.renderBorder=e=>{ce.bordersLeft[0].x>=0&&ce.addBordersAbove(),ce.bordersLeft[ce.bordersLeft.length-1].x<=0&&ce.addBordersBelow();for(let A=0;A<ce.bordersLeft.length;A+=1){const t=ce.bordersLeft[A];t.x-=Z(e),t.render()}for(let A=0;A<ce.bordersRight.length;A+=1){const t=ce.bordersRight[A];t.x+=Z(e),t.render()}},(te={}).init=()=>{te.thumbImage=new Image,te.thumbImage.src=O.a,te.thumbWidth=17,te.thumbHeight=35,te.running=!1,te.thumbSpeed=void 0,te.cTS=0,te.cookieName="tutorial",te.hasBeenSeen=function(e){const A=new RegExp(`(?:(?:^|.*;\\s*)${e}\\s*\\=\\s*([^;]*).*$)|^.*$`);return document.cookie.replace(A,"$1")}(te.cookieName),te.steps=[void 0,void 0,void 0,void 0],te.setSlowThumbspeed(),te.backBtn=he("<QUIT TUTORIAL(Q)",Ie.measureText("<QUIT TUTORIAL(Q)").width,X,D/2,y/5,()=>{},{fontSize:11}),te.kblBtn=he("(A S D F)",Ie.measureText("(A S D F)").width,X,10,y-3,()=>{},{fontSize:10,alignment:"left"}),te.kbrBtn=he("(; L K J)",Ie.measureText("(; L K J)").width,X,D-10,y-3,()=>{},{fontSize:10,alignment:"right"})},te.leave=()=>{te.stopTutorial(),ae.clearButton(ae.getMainTouchEl(),te.backBtn),ae.clearBoatControls()},te.setSlowThumbspeed=()=>{te.thumbSpeed=2},te.setFastThumbspeed=()=>{te.thumbSpeed=6},te.initRightThumb=()=>{te.rightThumb=fe({context:Ie,width:te.thumbWidth,height:te.thumbHeight,image:te.thumbImage,numberOfFrames:1,loop:!1,ticksPerFrame:0,x:0,y:0}),te.rTX=D-te.thumbWidth-D/3,te.rTY=y-te.thumbHeight-10,te.currentRightThumbStep=0,te.rightThumbPath={0:te.rTY,1:te.rTY-50,2:te.rTX+30,3:te.rTY,4:te.rTX},te.rtMockControl=ae.createMockTouchObject("rt",te.rTX*J+(T-K)/2,te.rTY*J),ae.handleNewTouch(te.rtMockControl)},te.initLeftThumb=()=>{te.leftThumb=fe({context:Ie,width:te.thumbWidth,height:te.thumbHeight,image:te.thumbImage,numberOfFrames:1,loop:!1,ticksPerFrame:0,x:0,y:0}),te.lTX=0+D/3,te.lTY=y-te.thumbHeight-10,te.currentLeftThumbStep=0,te.leftThumbPath={0:te.lTY,1:te.lTY-50,2:te.lTX-30,3:te.lTY,4:te.lTX},te.ltMockControl=ae.createMockTouchObject("lt",te.lTX*J+(T-K)/2,te.lTY*J),ae.handleNewTouch(te.ltMockControl)},te.removeThumbs=()=>{ae.handleRemovedTouch(te.rtMockControl),ae.handleRemovedTouch(te.ltMockControl)},te.circleRightThumb=()=>{switch(te.currentRightThumbStep){case 0:te.rTY>te.rightThumbPath[1]?te.rTY-=te.thumbSpeed:te.currentRightThumbStep=1;break;case 1:te.rTX<te.rightThumbPath[2]?te.rTX+=te.thumbSpeed:te.currentRightThumbStep=2;break;case 2:te.rTY<te.rightThumbPath[3]?te.rTY+=te.thumbSpeed:te.currentRightThumbStep=3;break;case 3:te.rTX>te.rightThumbPath[4]?te.rTX-=te.thumbSpeed:te.currentRightThumbStep=4;break;case 4:te.currentRightThumbStep=0}te.rtMockControl.pageX=te.rTX*(16/9),te.rtMockControl.pageY=te.rTY*(16/9),ae.handleMovedTouch(te.rtMockControl)},te.circleLeftThumb=()=>{switch(te.currentLeftThumbStep){case 0:te.lTY>te.leftThumbPath[1]?te.lTY-=te.thumbSpeed:te.currentLeftThumbStep=1;break;case 1:te.lTX>te.leftThumbPath[2]?te.lTX-=te.thumbSpeed:te.currentLeftThumbStep=2;break;case 2:te.lTY<te.leftThumbPath[3]?te.lTY+=te.thumbSpeed:te.currentLeftThumbStep=3;break;case 3:te.lTX<te.leftThumbPath[4]?te.lTX+=te.thumbSpeed:te.currentLeftThumbStep=4;break;case 4:te.currentLeftThumbStep=0}te.ltMockControl.pageX=te.lTX*(16/9),te.ltMockControl.pageY=te.lTY*(16/9),ae.handleMovedTouch(te.ltMockControl)},te.renderTutorial=()=>{te.backBtn.render(Ie),te.kblBtn.render(Ie),te.kbrBtn.render(Ie),te.isPaused||(1!==te.cTS&&3!==te.cTS&&4!==te.cTS||(te.circleLeftThumb(),te.leftThumb.render(te.lTX,te.lTY)),1!==te.cTS&&2!==te.cTS&&4!==te.cTS||(te.circleRightThumb(),te.rightThumb.render(te.rTX,te.rTY)),te.cTS)},te.runTutorialSteps=()=>{te.initRightThumb(),te.initLeftThumb(),te.hasBeenSeen=1,function(e,A){document.cookie=`${e}=${A}`}(te.cookieName,1),te.running=!0,le.show(),te.setTutorialStep(1),le.setMessage("Circle thumbs to row!"),te.steps[0]=setTimeout(()=>{te.setTutorialStep(2),le.setMessage("R thumb - R oar!")},4e3),te.steps[1]=setTimeout(()=>{te.setTutorialStep(3),le.setMessage("L thumb - L oar!")},8e3),te.steps[2]=setTimeout(()=>{te.setTutorialStep(4),te.setFastThumbspeed(),le.setMessage("Row fast to go go go!")},12e3),te.steps[3]=setTimeout(()=>{te.setTutorialStep(5),te.removeThumbs(),ae.registerBoatControls(),le.setMessage("Ok, you try!")},16e3)},te.stopTutorial=()=>{te.setTutorialStep(0),te.steps.forEach((e,A)=>{e&&clearTimeout(e)}),te.setSlowThumbspeed(),le.setMessage(""),te.removeThumbs(),le.hide(),te.running=!1},te.setTutorialStep=e=>{te.cTS=e},(we={}).g=()=>{we.W=Date.now(),we.Z=4e3,we.j=!0,we.q=.5,we.$=1,we._=new Image,we._.src=x.a,we.ee=fe({context:Ie,width:28,height:42,image:we._,numberOfFrames:1,ticksPerFrame:100,loop:!0,x:D/2-14,y:135}),we.Ae=he('"OH NO...',Ie.measureText('"OH NO...').width,X,D/2,65,()=>{},{fontSize:17,alignment:"center"}),we.te=he('LOGJAM!!!"',Ie.measureText('LOGJAM!!!"').width,X,D/2,85,()=>{},{fontSize:17,alignment:"center"}),we.oe=he("ROW BACK UPSTREAM!",Ie.measureText("ROW BACK UPSTREAM!").width,X,D/2,125,()=>{},{fontSize:10,alignment:"center"}),we.M=()=>{we.j&&(Date.now()>we.W+we.Z&&(we.j=!1),Ie.save(),Ie.globalAlpha=we.q,we.Ae.render(),we.te.render(),we.oe.render(),we.ee.render(),Ie.restore(),we.q+=.05*we.$,(we.q>=1||we.q<=.5)&&(we.$*=-1))}},(oe={}).init=(e,A)=>{oe.sound=A,oe.startTime=Date.now(),oe.rescueTime=1e3,oe.paused=!1,oe.resetDifficulty(),oe.goToBackScreen=e,oe.quitBtn=he("<QUIT(Q)",Ie.measureText("<QUIT(Q)").width,X,10,10,()=>{oe.leave(),ae.clearBoatControls()},{fontSize:10,alignment:"left"}),oe.ae=he("PAUSED",Ie.measureText("PAUSED").width,X,D/2,y/2,()=>{},{fontSize:30,alignment:"center"}),oe.pauseBtn=he("PAUSE(P)",Ie.measureText("PAUSE(P)").width,X,D-10,10,()=>{oe.paused=!oe.paused,oe.paused?(oe.ae.render(),A.mute()):A.unmute()},{fontSize:10,alignment:"right"}),oe.gameOverBtn=he("GAMEOVER",Ie.measureText("GAMEOVER").width,X,D/2,110,()=>{oe.leave()},{fontSize:25,alignment:"center"}),oe.ie=0,oe.score=he(oe.scoreText(),Ie.measureText(oe.scoreText()).width,X,D/2,29,()=>{},{fontSize:20,alignment:"center"})},oe.scoreText=()=>`${oe.ie}m`,oe.resetDifficulty=()=>{oe.difficulty=0},oe.updateDifficulty=e=>{oe.difficulty=Math.floor(e/100)},oe.goTo=()=>{ae.registerButton(ae.getMainTouchEl(),oe.quitBtn),ae.registerButton(ae.getMainTouchEl(),oe.pauseBtn)},oe.leave=()=>{ae.clearButton(ae.getMainTouchEl(),oe.quitBtn),ae.clearButton(ae.getMainTouchEl(),oe.gameOverBtn),ae.clearButton(ae.getMainTouchEl(),oe.pauseBtn),oe.goToBackScreen()},oe.updateScore=e=>{oe.ie=Math.floor(e/3),oe.score.name=oe.scoreText(),oe.updateDifficulty(oe.ie)},oe.render=e=>{oe.updateScore(e),oe.quitBtn.render(Ie),oe.pauseBtn.render(Ie),oe.score.render(Ie)},oe.renderGameOver=()=>{oe.gameOverBtn.render(Ie)},Ae.init=e=>{Ae.hs=`Best: ${Math.floor(e/3)||0}m`,Ae.title="ROW",Ae.initialTitleX=D/2,Ae.initialTitleY=y/2,Ae.currentTitleY=y/2,Ae.playBtnDimentions=void 0,Ae.tutorialBtnDimensions=void 0,Ie.save(),Ie.textAlign="center",Ie.fillStyle="#ffffff",Ie.font="20px Courier";const A=X;Ae.playBtn=he("PLAY(P)",Ie.measureText("PLAY(P)").width,A,D/2,y/1.65,()=>{},{fontSize:16}),Ae.tutorialBtn=he("TUTORIAL(T)",Ie.measureText("TUTORIAL(T)").width,A,D/2,y/1.35,()=>{},{fontSize:16}),Ae.hsText=he(Ae.hs,Ie.measureText(Ae.hs).width,A,D/2,y/1.15,()=>{},{fontSize:10}),Ie.restore()},Ae.updateHs=e=>{Ae.hs=`Best: ${Math.floor(e/3)||0}m`,Ae.hsText.name=Ae.hs},Ae.renderInitialLoad=()=>{Ae.renderTitle(Ae.initialTitleX,Ae.initialTitleY)},Ae.renderTitle=(e,A)=>{Ie.save(),Ie.textAlign="center",Ie.fillStyle="#ffffff",Ie.font="62px Courier",Ie.fillText(Ae.title,e,A),Ie.restore()},Ae.renderMenu=()=>{Ae.playBtn.render(Ie),Ae.tutorialBtn.render(Ie),Ae.hsText.render(Ie)},Ae.renderMainScreen=()=>{Ae.currentTitleY>60?(Ae.currentTitleY-=1,Ae.renderTitle(Ae.initialTitleX,Ae.currentTitleY)):(Ae.renderTitle(Ae.initialTitleX,Ae.currentTitleY),Ae.renderMenu())},se.g=(e,A)=>{se.ce=e,se.re=void 0,se.k=!1,se.ge=A,se.h=0,se.ue=0},se.P=()=>{me.addLife(),se.h>0&&(se.h-=1)},se.u=e=>{se.he=e.width,se.fe=e.height},se.B=()=>{se.h=0,se.ue=0},se.me=()=>{const e=Date.now();e>se.ue+500&&(se.ge(),se.h+=1,se.ue=e)},se.O=(e,A)=>{const t=e.getBBD();A.forEach(A=>{const n=A.getObstacleBodyDimensions();t.maxX>n.minX&&t.minX<n.maxX&&t.maxY>n.minY&&t.minY<n.maxY&&se.le(t,e,n,A),Me.I&&Me.D.y<A.y+A.height-3&&Me.D.y>A.y&&Me.D.x+6>A.x&&Me.D.x<A.x+A.frameWidth&&(Me.D.x>A.x+A.frameWidth-7?Me.D.y<A.y+A.height-15&&Me.D.x<n.maxX+3&&(Me.R=!0):Me.R=!0)})},se.le=(e,A,t)=>{let n=0;e.maxX<t.midX-t.quadSize&&e.maxY<t.midY?n=t.quadSize:e.maxX>t.midX+t.quadSize&&e.maxY<t.midY?n=t.quadSize:e.minX>t.midX+t.quadSize&&e.minY>t.midY?n=t.quadSize:e.maxX<t.midX-t.quadSize&&(e.minY,t.midY),e.maxY>t.maxY&&e.maxY-t.maxY>A.height/6&&e.minX>t.minX&&e.maxX<t.maxX?(A.setStuck(),se.me()):e.maxY>t.minY+n&&(A.resetVelocity(),se.me()),e.minX<t.maxX-n&&e.maxX>t.maxX&&(A.bounceRight(),se.me()),e.maxX>t.minX+n&&e.minX<t.minX&&(A.bounceLeft(),se.me())},re.g=e=>{re.ce=e,re.F=[],re.de=[],re.we=7,re.be=150,re.Me=30,re.Ee=0},re.U=()=>{let e=50;for(;e>0;)re.de.push(re.Se(null,B(-10,-140))),re.de.push(re.Oe(null,B(-10,-140))),e-=1},re.M=e=>{re.Fe(e),re.xe(e)},re.Fe=e=>{re.de.forEach(A=>{A.render(e)})},re.xe=e=>{re.F.forEach(A=>{A.render(e)})},re.S=(e,A)=>{const t=re.be-Y*A;e-(t<re.Me?re.Me:t)>re.Ee&&B(1,20)===re.we&&(re.Be(),re.Ee=e)},re.Be=()=>{let e;e=1===B(1,2)?re.Se():re.Oe(),re.F.push(e)},re.Oe=(e,A)=>{const t=ge(Ie);return t.x=e||B(t.minX,t.maxX),t.y=A||B(y,y+25),t},re.Se=(e,A)=>{const t=ue(Ie);return t.x=e||B(t.minX,t.maxX),t.y=A||B(y,y+25),t},ge=e=>{const A={getObstacleBodyDimensions:()=>({minY:A.y+10,maxX:A.x+22,maxY:A.y+25,minX:A.x+6,midX:A.x+14,midY:A.y+14,quadSize:5}),render:e=>{A.y-=Z(e),A.sprite.update(),A.sprite.render(A.x,A.y)},init:e=>(A.ctx=e,A.image=new Image,A.image.src=d.a,A.height=28,A.width=84,A.frames=3,A.frameWidth=A.width/A.frames,A.minX=6,A.maxX=102,A.collisionOffsets={n:0,ne:9,e:6,se:9,s:3,sw:6,w:5,nw:20},A.x=A.maxX-10,A.y=100,A.sprite=fe({context:A.ctx,width:A.width,height:A.height,image:A.image,numberOfFrames:A.frames,ticksPerFrame:10,loop:!0,x:A.x,y:A.y}),A)};return A.init(e)},ue=e=>{const A={getObstacleBodyDimensions:()=>({minY:A.y+5,maxX:A.x+26,maxY:A.y+27,minX:A.x+7,midX:A.x+16,midY:A.y+15,quadSize:6}),render:e=>{A.y-=Z(e),A.sprite.update(),A.sprite.render(A.x,A.y)},init:e=>(A.ctx=e,A.image=new Image,A.image.src=b.a,A.height=29,A.width=96,A.frames=3,A.frameWidth=A.width/A.frames,A.minX=6,A.maxX=98,A.collisionOffsets={n:4,ne:10,e:6,se:10,s:2,sw:8,w:6,nw:11},A.x=A.minX+10,A.y=200,A.sprite=fe({context:A.ctx,width:A.width,height:A.height,image:A.image,numberOfFrames:A.frames,ticksPerFrame:10,loop:!0,x:A.x,y:A.y}),A)};return A.init(e)},he=(e,A,t,n,o,a,i={})=>{const c={setScaledMinMax:()=>{c.xMin=(c.oX-c.width/2)*J,c.yMin=(c.oY-1.2*c.height)*J,c.xMax=(c.oX+c.width)*J,c.yMax=(c.oY+c.height/2)*J},render:()=>{Ie.save(),Ie.textAlign=c.alignment,Ie.fillStyle="#ffffff",Ie.font=`${c.fontSize}px Courier`,Ie.fillText(c.name,c.oX,c.oY),Ie.restore()},init:()=>(c.name=e,c.fontSize=i.fontSize||20,c.alignment=i.alignment||"center",c.width=A,c.height=t,c.oX=n,c.oY=o,c.xMin=(n-c.width/2)*J,c.yMin=(o-1.2*c.height)*J,c.xMax=(n+c.width)*J,c.yMax=(o+c.height/2)*J,c.action=a,c)};return c.init()},fe=e=>{const A={};let t=0,n=0;const o=e.ticksPerFrame||0,a=e.numberOfFrames||1;return A.context=e.context,A.width=e.width,A.height=e.height,A.image=e.image,A.loop=e.loop||!1,A.x=e.x,A.y=e.y,A.frameIndex=0,A.opacity=e.opacity,A.rotation=e.rotation,A.currentFrame=()=>t,A.resetTickCount=()=>{n=0},A.render=(e,n)=>{(e||n)&&(A.x=e,A.y=n),A.rotation&&(A.context.save(),A.context.translate(0,0),A.context.rotate(A.rotation*(Math.PI/180))),A.context.drawImage(A.image,t*(A.width/a),0,A.width/a,A.height,A.x,A.y,A.width/a,A.height),A.rotation&&A.context.restore()},A.update=()=>{(n+=1)>o&&(n=0,t<a-1?t+=1:A.loop&&(t=0))},A.goToFrame=e=>(e<a&&(t=e),A),A},me.init=e=>{me.ctx=e,me.muted=!1,me.queueSong=!1,me.vol=.05},me.mute=()=>{me.muted=!0,me.vol=0,me.gainNode.gain.setValueAtTime(me.vol,me.ctx.currentTime),me.ctx.suspend()},me.unmute=()=>{me.muted=!1,me.vol=.05,me.gainNode.gain.setValueAtTime(me.vol,me.ctx.currentTime),me.ctx.resume()},me.setup=()=>{me.osc=me.ctx.createOscillator(),me.gainNode=me.ctx.createGain(),me.osc.connect(me.gainNode),me.gainNode.connect(me.ctx.destination),me.osc.type="square"},me.play=(e,A,t,n)=>{const o=n?n*me.vol:me.vol;me.setup(),me.osc.frequency.value=e,me.gainNode.gain.setValueAtTime(o,me.ctx.currentTime),me.osc.start(A),me.stop(A,t)},me.stop=(e,A)=>{me.osc.stop(e+(A||.25))},me.oar=()=>{me.play(1320,me.ctx.currentTime+.05,.01,.5),me.play(1760,me.ctx.currentTime+.075,.01,.5),me.play(1320,me.ctx.currentTime+.1,.01,.5)},me.bump=()=>{me.play(440/6,me.ctx.currentTime+.05,.05,2),me.play(440/6,me.ctx.currentTime+.1,.05,2)},me.buoy=()=>{me.play(G,me.ctx.currentTime+0,.2),me.play(L,me.ctx.currentTime+.075,.2),me.play(z,me.ctx.currentTime+.125,.2)},me.addLife=()=>{me.play(z,me.ctx.currentTime,.05),me.play(P,me.ctx.currentTime+.05,.05)},me.helo=e=>{me.play(110,me.ctx.currentTime,.01,e)},me.song=()=>{me.play(G,me.ctx.currentTime+.75),me.play(G,me.ctx.currentTime+.875),me.play(G,me.ctx.currentTime+1.25),me.play(G,me.ctx.currentTime+1.375),me.play(G,me.ctx.currentTime+1.75),me.play(G,me.ctx.currentTime+1.875),me.play(H,me.ctx.currentTime+2),me.play(H,me.ctx.currentTime+2.125),me.play(L,me.ctx.currentTime+2.25),me.play(L,me.ctx.currentTime+2.375),me.play(L,me.ctx.currentTime+2.75),me.play(L,me.ctx.currentTime+2.875),me.play(H,me.ctx.currentTime+3),me.play(H,me.ctx.currentTime+3.125),me.play(L,me.ctx.currentTime+3.25),me.play(z,me.ctx.currentTime+3.5),me.play(P,me.ctx.currentTime+3.75,.1),me.play(P,me.ctx.currentTime+3.875,.1),me.play(P,me.ctx.currentTime+4,.1),me.play(P,me.ctx.currentTime+4.125,.1),me.play(P,me.ctx.currentTime+4.25,.1),me.play(W,me.ctx.currentTime+4.75),me.play(W,me.ctx.currentTime+4.875),me.play(W,me.ctx.currentTime+5),me.play(P,me.ctx.currentTime+5.125),me.play(P,me.ctx.currentTime+5.25),me.play(P,me.ctx.currentTime+5.375),me.play(L,me.ctx.currentTime+5.5),me.play(L,me.ctx.currentTime+5.625),me.play(L,me.ctx.currentTime+5.75),me.play(G,me.ctx.currentTime+5.875),me.play(G,me.ctx.currentTime+6),me.play(G,me.ctx.currentTime+6.125),me.end(6)},me.end=(e=0)=>{me.play(P,me.ctx.currentTime+.25+e),me.play(z,me.ctx.currentTime+.5+e),me.play(z,me.ctx.currentTime+.625+e),me.play(L,me.ctx.currentTime+.75+e),me.play(L,me.ctx.currentTime+.875+e),me.play(H,me.ctx.currentTime+1+e),me.play(G,me.ctx.currentTime+1.25+e)};const Ge=new(window.AudioContext||window.webkitAudioContext);me.init(Ge),le.init=()=>{le.isInit=!1,le.textbox=document.createElement("div"),le.textbox.style.fontSize="20px",le.textbox.style.fontWeight="bold",le.textbox.style.position="absolute",le.textbox.style.top=0,le.textbox.style.left="50%",le.textbox.style.transform="translateX(-50%)",le.textbox.style.padding="16px 20px",le.textbox.style.boxSizing="border-box",le.textbox.style.color="#ffffff",le.textbox.style.backgroundColor="#707070",le.hide()},le.setup=(e,A,t)=>{le.isInit||(le.textbox.style.width=`${t}px`,e.insertBefore(le.textbox,A),le.isInit=!0)},le.setMessage=e=>{le.textbox.innerHTML=e},le.show=()=>{le.textbox.style.opacity=1,le.textbox.style.display="block"},le.hide=()=>{le.textbox.style.opacity=0,le.textbox.style.display="none"},le.init(),document.monetization&&document.monetization.addEventListener("monetizationstart",function(){"started"===document.monetization.state&&(p=300,Y=10)}),window.addEventListener("load",()=>{window.addEventListener("keydown",de),Je(Ke)})},xroZ:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAA3CAMAAACCexzvAAAAIVBMVEX////WU0LLPizBNCJTjfcaW9E0du9wcHBFRUX///+6LhxhZIMbAAAAAXRSTlMAQObYZgAAAVNJREFUeNrt1M1ywzAIRtEATkB9/wcuY30pHWFFLl54U1YZ58w1iX8e4xANByqCWa4LDlMW27Y9WcoC5PUKUhdh1qIeUfsc8cZekU9CDWK+CFaZCUSSUJtH1E5EICH4iWE3uQGhFiJViBtjmpPcgFALkSrUGir+QXIDwiMQuYLzENEXzpMaEGoQRxVy0J8MYSe5AaEGcVQhJsYIi1o2Xah18Tis/I6gsYzkSkS8UYuQGhrupBrpX3dWj5Aa9rgScbCjaxEXagOx5ZyI6DBmOkzh59T+2Polvu9my7f9PQ8g9hA0Jrt0odbF5KWEivDspYQlIXLjx7zFtKI2bYCwCIOkCoQaRG6AYATHT0dgQVoLEpVlJCQhAjGpqA2NkbR9QCZCLYl6ZG7YwUKoQSwidREXWaoCpiLqkYWpizBnxH/khgi9CdVFvNqoJEAEQ3URO9LfxDefLRE9AbA4owAAAABJRU5ErkJggg=="}});