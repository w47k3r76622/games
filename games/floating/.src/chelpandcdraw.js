class MHelp{static randOpt(t,s){return arguments[Math.floor(Math.random()*arguments.length)]}static resultantOf(t,s){return Math.sqrt(Math.pow(t,2)+Math.pow(s,2))}}class DOMHelp{static TAGN(t,s){if("number"==typeof s)return document.getElementsByTagName(t)[s]}}let CDraw={arc:function(t,s,e,i,a,h){this.x=t,this.y=s,this.radius=e,this.startAngle=i,this.endAngle=a,this.styling=h,this.type="arc",this.center={},this.rotation={rad:0,about:this.center},this.alpha=1,this.GCParams={shadow:[0,0,"transparent",0]},this.indexInScene=null,this.updateProps=(t=>{this.center.x=this.x,this.center.y=this.y});let r=new CDraw.autoStyle(this.styling,this);this.draw=(t=>{t.beginPath(),t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle),r.call(t),t.closePath(),this.updateProps(t)})},rect:function(t,s,e,i,a){this.x=t,this.lengthX=s,this.y=e,this.breadthY=i,this.styling=a,this.center={},this.rotation={rad:0,about:this.center},this.alpha=1,this.GCParams={shadow:[0,0,"transparent",0]},this.updateProps=(t=>{this.center.x=this.x+this.lengthX/2,this.center.y=this.y+this.breadthY/2});let h=new CDraw.autoStyle(this.styling,this);this.draw=(t=>{t.beginPath(),h.call(t,()=>{t.strokeRect(this.x,this.y,this.lengthX,this.breadthY)},()=>{t.fillRect(this.x,this.y,this.lengthX,this.breadthY)}),t.closePath(),this.updateProps(t)})},autoStyle:function(t,s){var e;e="string"==typeof t?t.split("_"):t,this.object=s,this.color=s.color=e[1],this.strokeWidth=s.strokeWidth=Number(e[0]),this.styleType="FILL",""==e[0]&&(this.styleType="FILL"),""!=e[0]&&(this.styleType="STROKE"),this.call=((t,s=function(){t.stroke()},e=function(){t.fill()})=>{this.color=this.object.color,this.strokeWidth=this.object.strokeWidth,"FILL"==this.styleType&&(t.fillStyle=this.color,e()),"STROKE"==this.styleType&&(t.lineWidth=this.strokeWidth,t.strokeStyle=this.color,s())})},rotate:function(t,s){0!=t.rotation.rad&&null!=t.center&&(s.translate(t.rotation.about.x,t.rotation.about.y),s.rotate(t.rotation.rad),s.translate(-t.rotation.about.x,-t.rotation.about.y))},shadow:function(t,s){[t.shadowColor,t.shadowOffsetX,t.shadowOffsetY,t.shadowBlur]=[s[2],s[0],s[1],s[3]]},stylesAndComposites:{draw:function(t,s){s.globalAlpha=t.alpha,CDraw.shadow(s,t.GCParams.shadow),s.globalCompositeOperation=null!=t.GCParams.op?t.GCParams.op:"source-over"},restore:function(t){t.globalAlpha=1,CDraw.shadow(t,[0,0,"transparent",0]),t.globalCompositeOperation="source-over"}},useScene:function(t){["rect","arc"].map(t=>{CDraw[t].prototype.shapeName=t}),this.B=t,this.allChildren=[];let s=()=>{CDraw.clearCanvas(this.B),this.allChildren.map((t,s)=>{t.indexInScene=s,this.B.save(),CDraw.stylesAndComposites.draw(t,this.B),CDraw.rotate(t,this.B),t.draw(this.B),CDraw.stylesAndComposites.restore(this.B),this.B.restore()}),requestAnimationFrame(s)};s(),this.add=(t=>{t.indexInScene=this.allChildren.length,this.allChildren.push(t)}),this.remove=(t=>{t.indexInScene?this.allChildren.splice(t.indexInScene,1):console.warn("This element is not in scene.")})},clearCanvas:function(t){t.clearRect(0,0,t.canvas.width,t.canvas.height)}};