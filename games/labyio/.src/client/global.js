let Renderer={tileSize:80,mapOffset:80/3+20},UI={},Game={},socket,canvas,ctx,inName,message,players,gameInfo;function getInputValue(a){return document.getElementById(a).value}function swapState(a){let b=document.getElementsByClassName('state');for(let c=0;c<b.length;c++)b[c].style.display='none';document.getElementById(a).style.display='block'}function changeTitles(a,b){document.title='LabyIO - '+a,message.innerHTML=b}function onChangeName(){socket.emit('username',inName.value)}function onCreateLobby(){onChangeName();let b=JSON.parse(JSON.stringify(defaultRules));b.playerCount=+getInputValue('inPlayerCount'),b.goalsCount=+getInputValue('inGoalsCount'),b.size=+getInputValue('inSize'),socket.emit('createLobby',b)}function onJoinLobby(){onChangeName(),socket.emit('joinLobby',{wantsDefaultRules:document.getElementById('inDefaultRules').checked})}function onLeaveLobby(){socket.emit('leaveLobby')}function init(){loadSprites(),socket=io({upgrade:!1,transports:['websocket']}),players=document.getElementById('players'),message=document.getElementById('message'),inName=document.getElementById('inName'),gameInfo=document.getElementById('gameInfo'),document.getElementById('btnCreateLobby').addEventListener('click',onCreateLobby),document.getElementById('btnJoinLobby').addEventListener('click',onJoinLobby),document.getElementById('btnLeaveLobby').addEventListener('click',onLeaveLobby),document.getElementById('btnQuitGame').addEventListener('click',onLeaveLobby),canvas=document.getElementById('canvas'),canvas.addEventListener('mousemove',onMouseMove),canvas.addEventListener('click',onMouseClick),ctx=canvas.getContext('2d'),reset(),bind()}window.addEventListener('load',init,!1);