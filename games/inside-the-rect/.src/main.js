!function(e){var t={};function c(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=t,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c(c.s=0)}([function(e,t){document.addEventListener("DOMContentLoaded",()=>{function e(e,t){return(e||t)&&!(e&&t)}let t,c,n;const a=30,l={Right:39,Left:37,Up:38,Down:40,D:68,A:65,W:87,S:83};let r,o,i,u;function d(e,a){document.addEventListener(e,e=>{switch(e.keyCode){case l.Right:case l.D:r=a;break;case l.Left:case l.A:o=a;break;case l.Up:case l.W:i=a;break;case l.Down:case l.S:u=a}n?t=!1:c=!0},!1)}d("keydown",!0),d("keyup",!1);const f=document.getElementById("main-canvas"),Y=f.getContext("2d"),X="dimgray",s="whitesmoke";let h;Y.font="18px serif",Y.lineWidth=2;const g=10;let m,y=0;const p={},b=24,x=32,M=[{},{},{},{}];!function l(){t||(c=!1,n=!1,r=!1,o=!1,i=!1,u=!1,h=g,m=0,p.X=f.width/2,p.Y=f.height/2,p.accelX=0,p.accelY=0,p.damaged=!1,M[0].X=f.width/5*4,M[0].Y=f.height/5*4,M[0].accelMax=4,M[1].X=f.width/5*1,M[1].Y=f.height/5*1,M[1].accelMax=16,M[2].X=M[0].X,M[2].Y=M[1].Y,M[3].X=M[1].X,M[3].Y=M[0].Y,M.map(e=>(e.accelX=0,e.accelY=0,e)),t=!0),Y.fillStyle=X,Y.strokeStyle=s,Y.clearRect(0,0,f.width,f.height),Y.fillRect(0,0,f.width,f.height),Y.beginPath(),Y.strokeRect(p.X-b/2,p.Y-b/2,b,b),p.damaged||(Y.fillStyle=s,Y.fillRect(p.X-b/2,p.Y-b/2,b,b),Y.fillStyle=X),M.forEach(e=>{Y.strokeRect(e.X-b/2,e.Y-b/2,b,b)}),Y.fillStyle=s,Y.fillText(`SCORE: ${m}`,10,30),Y.fillText(`HP${h}`,p.X-b,p.Y-20),Y.rect(M[0].X,M[0].Y,M[1].X-M[0].X,M[1].Y-M[0].Y),Y.stroke(),c?function(){function t(e,t){let c=e;return e>t&&(c=0),e<0&&(c=t),c}p.X=t(p.X,f.width),p.Y=t(p.Y,f.height),r?p.accelX+=1:o&&(p.accelX-=1),u?p.accelY+=1:i&&(p.accelY-=1),p.accelX=Math.min(p.accelX,x),p.accelY=Math.min(p.accelY,x),p.X+=p.accelX,p.Y+=p.accelY;const c=m<200?.02:2e-4*m;[M[0],M[1]].forEach(e=>{e.accelX+=(e.X<p.X?1:-1)*c,e.accelY+=(e.Y<p.Y?1:-1)*c,e.accelX=Math.min(e.accelX,e.accelMax),e.accelY=Math.min(e.accelY,e.accelMax),e.X+=e.accelX,e.Y+=e.accelY}),M[2].X=M[0].X,M[2].Y=M[1].Y,M[3].X=M[1].X,M[3].Y=M[0].Y,p.damaged?p.damaged=!1:M.forEach(e=>{Math.abs(e.X-p.X)<b/2&&Math.abs(e.Y-p.Y)<b/2&&(h-=1,p.damaged=!0)});const n=M[0].X<p.X&&p.X<M[1].X,a=M[1].X<p.X&&p.X<M[0].X,l=M[0].Y<p.Y&&p.Y<M[1].Y,d=M[1].Y<p.Y&&p.Y<M[0].Y;e(n,a)&&e(l,d)&&(m+=1)}():n||(Y.fillText("Don't touch corners of the rectangle",300,70),Y.fillText("You are this OFFLINE square",200,200),Y.fillText("Keep inside the rectangle",220,370)),h<=0&&(h=0,n=!0,c=!1,y=Math.max(m,y),document.getElementById("highscore").innerText=y),setTimeout(l,1e3/a)}()})}]);