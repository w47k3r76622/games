var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};function menu(a,b){this.x=a;this.y=b;this.type="menu"}
menu.prototype.draw=function(a){a.fillStyle="rgba(50, 50, 50, 0.8)";a.fillRect(50,50,a.canvas.width-100,a.canvas.height-100);a.save();a.restore();a.translate(a.canvas.width/window.devicePixelRatio,100);a.font="25px Arial";a.fillStyle="white";a.fillText("SpaceY",-50,0);a.restore();a.save();a.translate(200,150);a.font="20px Arial";a.fillStyle="white";a.fillText("Your are lost in space with little fuel left. To come home you need fly trough different wormholes.",0,0);a.translate(0,30);a.fillText("The only chance is to use the gravity of planets.",
0,0);a.translate(0,60);a.fillText("Use key w for getting speed, but be carefully, you don't have many fuel",0,0);a.translate(0,30);a.fillText("Use key a for rotating counterclockwise, rotating also costs fuel",0,0);a.translate(0,30);a.fillText("Use key d for rotating clockwise",0,0);a.translate(0,60);a.fillText("Good luck getting home",0,0);a.translate(0,30);a.fillText("Press esc for starting",0,0)};menu.prototype.update=function(){return null};function tb(a,b,c){this.x=a;this.y=b;this.z=1;this.s=c;this.type="toolbar"}tb.prototype.draw=function(a){a.translate(this.x,this.y);a.scale(this.z,this.z);a.font="20px Arial";a.fillStyle="white";a.fillText("Tank",0,0);a.translate(50,0);a.fillStyle="blue";a.fillRect(20,0,10*this.s.fuel,-20)};tb.prototype.update=function(){return null};tb.prototype.type=function(){return"toolbar"};function wormhole(a,b,c,d){this.x=a;this.y=b;this.z=1;this.m=d;this.r=c;this.type="wormhole"}wormhole.prototype.draw=function(a){a.translate(this.x,this.y);a.scale(this.z,this.z);a.beginPath();var b=a.createRadialGradient(20,20,this.r/2-10,0,0,80);b.addColorStop(0,"#101010");b.addColorStop(1,"white");a.fillStyle=b;a.arc(0,0,this.r,0,6.28);a.fill()};wormhole.prototype.update=function(){return null};wormhole.prototype.type=function(){return"wormhole"};function planet(a,b,c,d,e){this.x=a;this.y=b;this.z=1;this.r=c;this.m=d;this.t=e;this.type="planet";this.img=new Image;this.img.src="p"+this.t+".png"}planet.prototype.draw=function(a){a.translate(this.x,this.y);a.scale(this.r/13,this.r/13);a.drawImage(this.img,-this.img.width/2,-this.img.height/2)};planet.prototype.update=function(){return null};function ship(a,b,c){this.x=a;this.y=b;this.z=1;this.rotSpeed=this.rotation=0;this.radius=100;this.forces=[];this.speed={x:0,y:0};this.gravi=[];this.fuel=c;this.rotateBurst=this.burst=!1;this.type="ship"}
ship.prototype.draw=function(a){a.translate(this.x,this.y);a.scale(this.z,this.z);a.rotate(this.rotation);a.beginPath();a.moveTo(-10,-7);a.lineTo(-3,-7);a.lineTo(-3,-6);a.lineTo(-2,-6);a.lineTo(-2,-5);a.lineTo(-1,-5);a.lineTo(-1,-4);a.lineTo(12,-4);a.lineTo(12,-3);a.lineTo(17,-3);a.lineTo(17,-2);a.lineTo(18,-2);a.lineTo(18,-1);a.lineTo(19,-1);a.lineTo(19,0);a.lineTo(20,0);a.lineTo(20,1);a.lineTo(19,1);a.lineTo(19,2);a.lineTo(18,2);a.lineTo(18,3);a.lineTo(17,3);a.lineTo(17,4);a.lineTo(12,4);a.lineTo(12,
5);a.lineTo(-1,5);a.lineTo(-1,6);a.lineTo(-2,6);a.lineTo(-2,7);a.lineTo(-3,7);a.lineTo(-3,8);a.lineTo(-10,8);a.lineTo(-10,7);a.lineTo(-9,7);a.lineTo(-9,6);a.lineTo(-8,6);a.lineTo(-8,5);a.lineTo(-7,5);a.lineTo(-7,4);a.lineTo(-9,4);a.lineTo(-9,3);a.lineTo(-10,3);a.lineTo(-10,2);a.lineTo(-12,2);a.lineTo(-12,1);a.lineTo(-13,1);a.lineTo(-13,0);a.lineTo(-12,0);a.lineTo(-12,-1);a.lineTo(-10,-1);a.lineTo(-10,-2);a.lineTo(-9,-2);a.lineTo(-9,-3);a.lineTo(-7,-3);a.lineTo(-7,-4);a.lineTo(-8,-4);a.lineTo(-8,-5);
a.lineTo(-9,-5);a.lineTo(-9,-6);a.lineTo(-10,-6);a.lineTo(-10,-7);this.burst&&(a.moveTo(-15,0),a.lineTo(-19,0),a.lineTo(-19,1),a.lineTo(-15,1));1==this.rotateBurst&&(a.moveTo(12,-7),a.lineTo(12,-12),a.lineTo(11,-12),a.lineTo(11,-7));-1==this.rotateBurst&&(a.moveTo(12,8),a.lineTo(12,13),a.lineTo(11,13),a.lineTo(11,8));a.closePath();a.fillStyle="#ffaa00";a.fill()};ship.prototype.addGravi=function(a){this.gravi.push(a)};ship.prototype.speedEnd=function(){this.burst=!1};
ship.prototype.rotateEnd=function(){this.rotateBurst=0};ship.prototype.speedUp=function(){0>=this.fuel?this.burst=!1:(this.burst=!0,this.speed.x+=.02*Math.cos(this.rotation),this.speed.y+=.02*Math.sin(this.rotation),this.fuel-=.04)};ship.prototype.rotate=function(a){0>=this.fuel||(this.rotSpeed+=.001*a,this.fuel-=.03,this.rotateBurst=a)};
ship.prototype.update=function(){y=x=0;x=this.speed.x;y=this.speed.y;this.rotation+=this.rotSpeed;for(var a=$jscomp.makeIterator(this.gravi),b=a.next();!b.done;b=a.next()){g=b.value;bufX=g.x-this.x;bufY=g.y-this.y;dist=Math.atan2(bufY,bufX);r=Math.sqrt(bufX*bufX+bufY*bufY);if(5>r-g.r)return g;f=g.m/(r*r)*150;x+=Math.cos(dist)*f;y+=Math.sin(dist)*f}this.x+=x;this.y+=y;this.speed.y=y;this.speed.x=x;return null};function star(a,b,c){this.x=a;this.y=b;this.z=c;this.radius=10;this.type="star"}star.prototype.draw=function(a){a.translate(this.x,this.y);a.scale(this.z,this.z);a.beginPath();var b=a.createRadialGradient(.5,.5,.5,1,1,1);b.addColorStop(0,"black");b.addColorStop(1,"white");a.fillStyle=b;a.arc(this.x,this.y,this.radius,0,6.28);a.fill()};star.prototype.update=function(){this.x+=.5*this.z;return null};var lvls=[{s:{x:50,y:100,f:5},ps:[{x:500,y:400,r:75,m:3,t:2}],wh:{x:750,y:450,r:30,m:2},ast:[{x:300,y:400,r:.02,m:.01,z:1,sx:.1,sy:.01},{x:350,y:150,r:.02,m:.01,z:1.4,sx:.01,sy:.2},{x:350,y:100,r:.02,m:.01,z:1.4,sx:.1,sy:.01}]},{s:{x:50,y:100,f:5},ps:[{x:450,y:100,r:50,m:2.5,t:2},{x:500,y:400,r:75,m:2,t:1}],wh:{x:850,y:450,r:50,m:2.5},ast:[{x:300,y:500,r:.02,m:.01,z:1,sx:.02,sy:-.02},{x:550,y:650,r:.02,m:.01,z:1.4,sx:-.02,sy:.01},{x:400,y:643,r:.02,m:.01,z:1.4,sx:.02,sy:-.01},{x:650,y:450,r:.02,m:.01,
z:1,sx:.02,sy:.01},{x:750,y:700,r:.02,m:.01,z:1.4,sx:.02,sy:-.01},{x:500,y:570,r:.02,m:.01,z:1.4,sx:.02,sy:.01}]},{s:{x:50,y:100,f:5},ps:[{x:700,y:250,r:40,m:2,t:2},{x:500,y:400,r:20,m:2,t:1}],wh:{x:750,y:450,r:50,m:2},ast:[{x:500,y:250,r:.02,m:.01,z:1,sx:.1,sy:.01},{x:650,y:620,r:.01,m:.01,z:2,sx:.01,sy:-.01},{x:950,y:620,r:.01,m:.01,z:1.5,sx:.01,sy:-.01},{x:850,y:320,r:.01,m:.01,z:1.5,sx:.01,sy:-.01}]},{s:{x:60,y:200,f:5},ps:[{x:500,y:150,r:45,m:2.5,t:2},{x:300,y:500,r:20,m:2,t:1},{x:600,y:400,
r:35,m:2,t:1},{x:900,y:450,r:40,m:2,t:2}],wh:{x:950,y:150,r:50,m:2},ast:[{x:500,y:250,r:.02,m:.01,z:1,sx:.1,sy:.01},{x:650,y:320,r:.01,m:.01,z:2,sx:.01,sy:-.01},{x:950,y:620,r:.01,m:.01,z:1.5,sx:.01,sy:-.01},{x:850,y:320,r:.01,m:.01,z:1.5,sx:.01,sy:-.01}]},{s:{x:900,y:700,f:5},ps:[{x:500,y:150,r:45,m:2.5,t:2},{x:300,y:500,r:20,m:2,t:1},{x:600,y:400,r:35,m:2,t:1}],wh:{x:250,y:150,r:25,m:2},ast:[{x:500,y:250,r:.02,m:.01,z:1,sx:.1,sy:.01},{x:650,y:320,r:.01,m:.01,z:2,sx:.01,sy:-.01},{x:950,y:620,r:.01,
m:.01,z:1.5,sx:.01,sy:-.01},{x:850,y:320,r:.01,m:.01,z:1.5,sx:.01,sy:-.01}]},{s:{x:900,y:200,f:5},ps:[{x:400,y:150,r:35,m:2,t:1},{x:300,y:500,r:20,m:2,t:1},{x:600,y:400,r:35,m:2,t:1},{x:600,y:400,r:35,m:2,t:1}],wh:{x:250,y:350,r:25,m:2},ast:[{x:500,y:250,r:.02,m:.01,z:1,sx:.1,sy:.01},{x:650,y:320,r:.01,m:.01,z:2,sx:.01,sy:-.01},{x:950,y:620,r:.01,m:.01,z:1.5,sx:.01,sy:-.01},{x:850,y:320,r:.01,m:.01,z:1.5,sx:.01,sy:-.01}]},{s:{x:100,y:100,f:5},ps:[{x:300,y:300,r:35,m:1.5,t:1},{x:600,y:300,r:20,m:1.5,
t:2},{x:800,y:300,r:35,m:1.5,t:1}],wh:{x:1E3,y:300,r:35,m:2},ast:[{x:500,y:150,r:.02,m:.01,z:1,sx:.1,sy:.01},{x:450,y:100,r:.02,m:.01,z:1,sx:.1,sy:.01},{x:650,y:500,r:.01,m:.01,z:2,sx:.01,sy:-.01},{x:950,y:620,r:.01,m:.01,z:1.5,sx:.01,sy:-.01},{x:850,y:150,r:.01,m:.01,z:1.5,sx:.01,sy:-.01},{x:350,y:550,r:.01,m:.01,z:2,sx:.01,sy:-.01},{x:900,y:350,r:.01,m:.01,z:1.7,sx:.04,sy:-.04}]}];function asteroid(a,b,c,d,e,h,k){this.x=a;this.y=b;this.z=e;this.rf=c;this.r=0;this.m=d;this.sx=h;this.sy=k;this.type="asteroid";this.img=new Image;this.img.src="asteroid.png"}asteroid.prototype.draw=function(a){a.translate(this.x,this.y);a.scale(this.z,this.z);a.rotate(this.r);a.drawImage(this.img,-this.img.width/2,-this.img.height/2)};asteroid.prototype.update=function(){this.r+=this.rf;this.x+=this.sx;this.y+=this.sy;return null};function key(a,b){this.x=a;this.y=b;this.type="keylayout"}
key.prototype.draw=function(a){a.translate(this.x,this.y);a.font="25px Arial";a.fillStyle="white";a.fillText("w",0,0);a.font="12px Arial";a.fillStyle="white";a.fillText("Burst",-7,25);a.translate(30,60);a.font="25px Arial";a.fillStyle="white";a.fillText("a",0,0);a.font="12px Arial";a.fillStyle="white";a.fillText("Rotate",-7,25);a.translate(-60,0);a.font="25px Arial";a.fillStyle="white";a.fillText("d",0,0);a.font="12px Arial";a.fillStyle="white";a.fillText("Rotate",-7,25)};key.prototype.update=function(){return null};function progress(a,b,c,d){this.x=a;this.y=b;this.lvls=c;this.l=d;this.type="progress"}
progress.prototype.draw=function(a){for(var b=0,c=0;c<this.lvls.length;c++)a.save(),a.translate(this.x+150*c,this.y),a.beginPath(),a.moveTo(0,0),a.lineTo(100,0),a.strokeStyle="white",a.stroke(),a.restore(),a.save(),a.translate(this.x+150*(c+1),this.y),a.beginPath(),a.arc(-25,0,8,0,2*Math.PI,!1),c>this.l?(a.strokeStyle="white",a.stroke()):(a.fillStyle="white",a.fill()),a.restore(),b=c;a.save();a.translate(this.x+150*(b+1),this.y);a.beginPath();a.moveTo(0,0);a.lineTo(100,0);a.strokeStyle="white";a.stroke();
a.restore()};progress.prototype.update=function(){return null};function end(a,b){this.x=a;this.y=b;this.type="end"}
end.prototype.draw=function(a){a.fillStyle="rgba(50, 50, 50, 0.8)";a.fillRect(50,50,a.canvas.width-100,a.canvas.height-100);a.save();a.restore();a.translate(a.canvas.width/window.devicePixelRatio,100);a.font="25px Arial";a.fillStyle="white";a.fillText("SpaceY",-50,0);a.restore();a.save();a.translate(200,150);a.font="20px Arial";a.fillStyle="white";a.fillText("You haved arrived your home ",0,0);a.translate(0,70);a.font="50px Arial";a.fillStyle="white";a.fillText("GAME OVER",0,0);a.translate(0,50);
a.font="20px Arial";a.fillStyle="white";a.fillText("Asteroid pixel graphics https://opengameart.org/users/funwithpixels",0,0);a.translate(0,30);a.font="20px Arial";a.fillStyle="white";a.fillText("Planet pixel graphics https://opengameart.org/users/master484",0,0)};end.prototype.update=function(){return null};
