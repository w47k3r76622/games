(function(){"use strict";function t(t){return u=t}function r(){return u="undefined"!=typeof Float32Array?Float32Array:Array}var n=this,a=1e-6,e={};!function(){if("undefined"!=typeof Float32Array){var t=new Float32Array(1),r=new Int32Array(t.buffer);e.invsqrt=function(n){var a=.5*n;t[0]=n;var e=1.5;r[0]=1597463007-(r[0]>>1);var u=t[0];return u*(e-a*u*u)}}else e.invsqrt=function(t){return 1/Math.sqrt(t)}}();var u=null;r();var i={};i.create=function(t){var r=new u(3);return t?(r[0]=t[0],r[1]=t[1],r[2]=t[2]):r[0]=r[1]=r[2]=0,r},i.set=function(t,r){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},i.equal=function(t,r){return t===r||Math.abs(t[0]-r[0])<a&&Math.abs(t[1]-r[1])<a&&Math.abs(t[2]-r[2])<a},i.add=function(t,r,n){return n&&t!==n?(n[0]=t[0]+r[0],n[1]=t[1]+r[1],n[2]=t[2]+r[2],n):(t[0]+=r[0],t[1]+=r[1],t[2]+=r[2],t)},i.subtract=function(t,r,n){return n&&t!==n?(n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],n):(t[0]-=r[0],t[1]-=r[1],t[2]-=r[2],t)},i.multiply=function(t,r,n){return n&&t!==n?(n[0]=t[0]*r[0],n[1]=t[1]*r[1],n[2]=t[2]*r[2],n):(t[0]*=r[0],t[1]*=r[1],t[2]*=r[2],t)},i.negate=function(t,r){return r||(r=t),r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r},i.scale=function(t,r,n){return n&&t!==n?(n[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r,n):(t[0]*=r,t[1]*=r,t[2]*=r,t)},i.normalize=function(t,r){r||(r=t);var n=t[0],a=t[1],e=t[2],u=Math.sqrt(n*n+a*a+e*e);return u?1===u?(r[0]=n,r[1]=a,r[2]=e,r):(u=1/u,r[0]=n*u,r[1]=a*u,r[2]=e*u,r):(r[0]=0,r[1]=0,r[2]=0,r)},i.cross=function(t,r,n){n||(n=t);var a=t[0],e=t[1],u=t[2],i=r[0],c=r[1],s=r[2];return n[0]=e*s-u*c,n[1]=u*i-a*s,n[2]=a*c-e*i,n},i.length=function(t){var r=t[0],n=t[1],a=t[2];return Math.sqrt(r*r+n*n+a*a)},i.squaredLength=function(t){var r=t[0],n=t[1],a=t[2];return r*r+n*n+a*a},i.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},i.direction=function(t,r,n){n||(n=t);var a=t[0]-r[0],e=t[1]-r[1],u=t[2]-r[2],i=Math.sqrt(a*a+e*e+u*u);return i?(i=1/i,n[0]=a*i,n[1]=e*i,n[2]=u*i,n):(n[0]=0,n[1]=0,n[2]=0,n)},i.lerp=function(t,r,n,a){return a||(a=t),a[0]=t[0]+n*(r[0]-t[0]),a[1]=t[1]+n*(r[1]-t[1]),a[2]=t[2]+n*(r[2]-t[2]),a},i.dist=function(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2];return Math.sqrt(n*n+a*a+e*e)};var c=null,s=new u(4);i.unproject=function(t,r,n,a,e){e||(e=t),c||(c=o.create());var u=c,i=s;return i[0]=2*(t[0]-a[0])/a[2]-1,i[1]=2*(t[1]-a[1])/a[3]-1,i[2]=2*t[2]-1,i[3]=1,o.multiply(n,r,u),o.inverse(u)?(o.multiplyVec4(u,i),0===i[3]?null:(e[0]=i[0]/i[3],e[1]=i[1]/i[3],e[2]=i[2]/i[3],e)):null};i.create([1,0,0]),i.create([0,1,0]),i.create([0,0,1]),i.create();i.str=function(t){return"["+t[0]+", "+t[1]+", "+t[2]+"]"};var o={};o.create=function(t){var r=new u(16);return t&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r},o.set=function(t,r){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},o.equal=function(t,r){return t===r||Math.abs(t[0]-r[0])<a&&Math.abs(t[1]-r[1])<a&&Math.abs(t[2]-r[2])<a&&Math.abs(t[3]-r[3])<a&&Math.abs(t[4]-r[4])<a&&Math.abs(t[5]-r[5])<a&&Math.abs(t[6]-r[6])<a&&Math.abs(t[7]-r[7])<a&&Math.abs(t[8]-r[8])<a&&Math.abs(t[9]-r[9])<a&&Math.abs(t[10]-r[10])<a&&Math.abs(t[11]-r[11])<a&&Math.abs(t[12]-r[12])<a&&Math.abs(t[13]-r[13])<a&&Math.abs(t[14]-r[14])<a&&Math.abs(t[15]-r[15])<a},o.identity=function(t){return t||(t=o.create()),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.multiplyVec3=function(t,r,n){n||(n=r);var a=r[0],e=r[1],u=r[2];return n[0]=t[0]*a+t[4]*e+t[8]*u+t[12],n[1]=t[1]*a+t[5]*e+t[9]*u+t[13],n[2]=t[2]*a+t[6]*e+t[10]*u+t[14],n},o.translate=function(t,r,n){var a,e,u,i,c,s,o,f,l,h,M,v,b=r[0],y=r[1],p=r[2];return n&&t!==n?(a=t[0],e=t[1],u=t[2],i=t[3],c=t[4],s=t[5],o=t[6],f=t[7],l=t[8],h=t[9],M=t[10],v=t[11],n[0]=a,n[1]=e,n[2]=u,n[3]=i,n[4]=c,n[5]=s,n[6]=o,n[7]=f,n[8]=l,n[9]=h,n[10]=M,n[11]=v,n[12]=a*b+c*y+l*p+t[12],n[13]=e*b+s*y+h*p+t[13],n[14]=u*b+o*y+M*p+t[14],n[15]=i*b+f*y+v*p+t[15],n):(t[12]=t[0]*b+t[4]*y+t[8]*p+t[12],t[13]=t[1]*b+t[5]*y+t[9]*p+t[13],t[14]=t[2]*b+t[6]*y+t[10]*p+t[14],t[15]=t[3]*b+t[7]*y+t[11]*p+t[15],t)},o.frustum=function(t,r,n,a,e,u,i){i||(i=o.create());var c=r-t,s=a-n,f=u-e;return i[0]=2*e/c,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*e/s,i[6]=0,i[7]=0,i[8]=(r+t)/c,i[9]=(a+n)/s,i[10]=-(u+e)/f,i[11]=-1,i[12]=0,i[13]=0,i[14]=-(u*e*2)/f,i[15]=0,i},o.perspective=function(t,r,n,a,e){var u=n*Math.tan(t*Math.PI/360),i=u*r;return o.frustum(-i,i,-u,u,n,a,e)},n&&(n.glMatrixArrayType=u,n.MatrixArray=u,n.setMatrixArrayType=t,n.determineMatrixArrayType=r,n.glMath=e,n.vec3=i,n.mat4=o)}).call(this);
(function(){"use strict";var t=this,e=function(t){var e=null;try{e=t.getContext("experimental-webgl"),e.viewportWidth=t.width,e.viewportHeight=t.height}catch(r){}return e},r=function(t){t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clearColor(0,0,0,1),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE);var e=mat4.create(),r=mat4.create();return mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,r),mat4.identity(e),{projectionMatrix:r,modelViewMatrix:e}},a=function(t,e,r){var a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,r),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(a));var i=t.createShader(t.VERTEX_SHADER);t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(i));var o=t.createProgram();return t.attachShader(o,i),t.attachShader(o,a),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||alert("Could not initialise shaders"),t.useProgram(o),o.vertexPositionAttribute=t.getAttribLocation(o,"aVertexPosition"),o.vertexNormalAttribute=t.getAttribLocation(o,"aVertexNormal"),o.textureCoordAttribute=t.getAttribLocation(o,"aTextureCoord"),o.pMatrixUniform=t.getUniformLocation(o,"uPMatrix"),o.mvMatrixUniform=t.getUniformLocation(o,"uMVMatrix"),o.nMatrixUniform=t.getUniformLocation(o,"uNMatrix"),o.uSamplerUniform=t.getUniformLocation(o,"uSampler"),t.enableVertexAttribArray(o.vertexPositionAttribute),t.enableVertexAttribArray(o.vertexNormalAttribute),t.enableVertexAttribArray(o.textureCoordAttribute),o},i=function(i,o,n){function m(){t.requestAnimationFrame(m),o(g,A,x,s)}var c=document.getElementById("canvas-gl"),l=document.getElementById("canvas-hud"),d=document.getElementById("shader-vs").innerHTML,u=document.getElementById("shader-fs").innerHTML,g=e(c),h=l.getContext("2d");if(!g)return void alert("no gl ;(");var v=r(g),x=v.projectionMatrix,s=v.modelViewMatrix,A=a(g,d,u);i(g,A,x,s,h),console.log("gl init ok"),m(),setInterval(n,16)};t.startApp=i}).call(this);
(function(){"use strict";function e(e,t){this.lo=vec3.create(e),this.hi=vec3.create(t)}function t(e,t){return{level:e,engine:0,position:vec3.create([X/2,1.5,0]),speed:vec3.create([0,0,0]),ground:!0,prevGround:!0,deadCnt:0,finishCnt:0,exploded:!1,score:t||0}}function n(e){return{level:e.level,engine:e.engine,position:e.position,speed:e.speed,ground:e.ground,prevGround:e.ground,deadCnt:e.deadCnt,finishCnt:e.finishCnt,exploded:e.exploded,score:e.score}}function r(e){for(var t,n=[],r="1",c=0;e>c;c++)n.push(r),t=Object.keys(lt[r]||{}),r=t[Math.random()*t.length|0];return r=st[n[n.length-1]],n.push(r),n}function c(t){for(var n,r,c,i=[],o=t.layer,a=t.shift,u=0;u<o.length;u++)for(var d=0;X>d;d++)n=o[u][d],0!==n&&(r=vec3.create([d,0,-u-a-1]),c=vec3.add(r,[1,1,1],vec3.create()),i.push(new e(r,c)),n===q&&(r=vec3.create([d,1,-u-a-1]),c=vec3.add(r,[1,1,1],vec3.create()),i.push(new e(r,c))),n===O&&(r=vec3.create([d,1,-u-a-1]),c=vec3.add(r,[1,1,1],vec3.create()),i.push(new e(r,c)),r=vec3.create([d,2,-u-a-1]),c=vec3.add(r,[1,1,1],vec3.create()),i.push(new e(r,c))),n===j&&(r=vec3.create([d,2,-u-a-1]),c=vec3.add(r,[1,1,1],vec3.create()),i.push(new e(r,c))));return i}function i(e){var t=15+2*e,n=r(t);console.log("chunkIds",n);for(var i,o,a=n.map(function(e){return dt[e]}),u=0,d=[],l=0;l<a.length;++l)i=a[l],o={layer:i,shift:u},o.bboxes=c(o),d.push(o),u+=i.length;return console.log("chunks",d),{num:e,chunks:d}}function o(e){var n=e?e.level.num:0,r=e?e.score:0;n++,k=t(i(n),r),D=[]}function a(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d"),n=t.createLinearGradient(0,0,e.width,0);return n.addColorStop(0,"#777"),n.addColorStop(.5,"#999"),n.addColorStop(1,"#777"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),e}function u(e,t){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),n}function d(e,t,n){var r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),r.itemSize=n,r.numItems=Math.ceil(t.length/n),r}function l(e,t,n,r,c){for(var i,l,s,f,v=[[I,G,P],[I,G,Y],[M,G,Y],[M,G,P],[I,N,P],[I,N,Y],[M,N,Y],[M,N,P]],h=[].concat(v[0],v[1],v[2],v[3]).concat(v[4],v[0],v[3],v[7]).concat(v[6],v[5],v[4],v[7]).concat(v[4],v[5],v[1],v[0]).concat(v[3],v[2],v[6],v[7]),m=[0,0,0,1,1,1,1,0],E=[].concat(m,m,m,m,m),p=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19],w=[],R=vec3.create(),g=vec3.create(),A=0;A<h.length;A+=12)f=[0,0,0],i=h.slice(A,A+3),l=h.slice(A+3,A+6),s=h.slice(A+6,A+9),vec3.subtract(i,l,R),vec3.subtract(s,l,g),vec3.cross(g,R,f),w=w.concat(f,f,f,f);F=d(e,h,3),S=d(e,w,3),y=d(e,E,2),L=e.createBuffer(),L.numItems=p.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,L),U=u(e,a(16,16)),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(p),e.STATIC_DRAW),B=c,o()}function s(e,t,n,r){var c=mat4.create();c.set(n),mat4.translate(c,r),e.uniformMatrix4fv(t.mvMatrixUniform,!1,c),e.drawElements(e.TRIANGLES,L.numItems,e.UNSIGNED_SHORT,0)}function f(e,t,n,r,c){var i,o=mat4.create(),a=(mat4.create(),mat4.create(),c.shift),u=c.layer;e.uniformMatrix4fv(t.pMatrixUniform,!1,n),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,U),e.uniform1i(t.uSamplerUniform,0),e.bindBuffer(e.ARRAY_BUFFER,y),e.vertexAttribPointer(t.textureCoordAttribute,y.itemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,S),e.vertexAttribPointer(t.vertexNormalAttribute,S.itemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,F),e.vertexAttribPointer(t.vertexPositionAttribute,F.itemSize,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,L),o.set(r),mat4.translate(o,[0,0,-a]);for(var d=0;d<u.length;d++)for(var l=0;X>l;l++)i=u[d][l],0!==i&&(s(e,t,o,[l,0,-d]),i===q?s(e,t,o,[l,1,-d]):i===O?(s(e,t,o,[l,1,-d]),s(e,t,o,[l,2,-d])):i===j&&s(e,t,o,[l,2,-d]))}function v(e,t,n,r){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),vec3.negate(k.position,ft),mat4.identity(r),mat4.translate(r,ft),k.level.chunks.forEach(function(c){f(e,t,n,r,c)}),B.clearRect(0,0,800,600),Q===W&&(B.fillStyle="white",B.font="20px Arial",B.textAlign="left",B.fillText("Level "+k.level.num,15,35),B.fillText("Score "+k.score,120,35),k.finishCnt>0&&(B.font="40px Arial",B.textAlign="center",B.fillText("Level Finished!",400,300)));var c=Math.max(k.deadCnt,k.finishCnt);b(c/At)}function h(e,t){return t.bboxes.filter(function(t){return e.intersect(t)})}function m(e,t){var n,r=[];return t.chunks.forEach(function(t){n=h(e,t),n.length>0&&(r=r.concat(n))}),r}function E(t){var n=vec3.add(t,[-.4,-.5,-.5],vec3.create()),r=vec3.add(t,[.4,.2,.5],vec3.create());return new e(n,r)}function p(e){var t=e.level.chunks,n=t[t.length-1],r=n.shift+n.layer.length;return e.position[2]<-r}function w(e){var t,n,r,c,i,o=vec3.create(),a=vec3.create(e.speed);if(p(e)&&(e.ground&&0===e.finishCnt&&(e.finishCnt=1),e.ground||0!==e.deadCnt||(e.deadCnt=1)),e.deadCnt>0&&e.deadCnt++,e.finishCnt>0)return e.finishCnt++,e;for(e.exploded?vec3.set(e.position,o):vec3.add(e.position,e.speed,o),n=E(e.position),t=E(o),r=m(t,e.level),e.ground=!1,t.lo[1]<-4&&0===e.deadCnt&&(e.deadCnt=1),i=0;i<r.length;++i)if(c=r[i],n.lo[1]>=c.hi[1]&&t.lo[1]<c.hi[1]){o[1]=c.hi[1]+.5,t=E(o),e.ground=!0;break}for(r=m(t,e.level),i=0;i<r.length;++i)if(c=r[i],n.hi[1]<=c.lo[1]&&t.hi[1]>c.lo[1]){o[1]=c.lo[1]-.2,t=E(o);break}for(r=m(t,e.level),i=0;i<r.length;++i)if(c=r[i],n.lo[2]>=c.hi[2]&&t.lo[2]<c.hi[2]){o[2]=c.hi[2]+.5,t=E(o),e.deadCnt=1,e.exploded=!0;break}return 1.5===o[1]&&a[1]<0&&(a[1]=.25*-a[1]),a[1]-=.003,e.ground&&(a[0]*=.5),Math.floor(e.position[2])>Math.floor(o[2])&&(e.score+=Math.floor(1e3*-a[2])),e.position=o,e.speed=a,e}function R(e){var t=vec3.create(e.speed),n=e.engine,r=.2*n+.001;return e.deadCnt>0?e:(Tt[vt]&&(n+=8e-4,n>gt&&(n=gt)),Tt[ht]&&(n-=.01,0>n&&(n=0)),t[2]=-n,(e.ground||e.prevGround)&&(Tt[mt]&&vec3.add(t,[-r,0,0]),Tt[Et]&&vec3.add(t,[r,0,0])),e.ground&&Tt[pt]&&(t[1]+=.09),e.engine=n,e.speed=t,e)}function g(){Ct.classList.add("hidden"),xt.classList.add("hidden"),bt.classList.add("hidden")}function A(){g(),Q=H,Ct.classList.remove("hidden")}function T(){g(),Q=W,b(0),o()}function C(){g(),Q=J,bt.classList.remove("hidden")}function x(){g(),Q=K,xt.classList.remove("hidden")}function b(e){_t.style.background="rgba(0,0,0,"+e+")"}function _(){if(Q===H);else if(Q===K);else{if(k.deadCnt>At)return void C();k.finishCnt>At&&o(k),Tt[Rt]&&A(),Tt[wt]?D.length>=2&&(D.pop(),k=D.pop()):(k=n(k),R(k),w(k),D.push(k),D.length>300&&D.shift())}}e.prototype.intersectCoord=function(e,t){return e.lo[t]<this.hi[t]&&this.lo[t]<e.hi[t]},e.prototype.intersect=function(e){return this.intersectCoord(e,0)&&this.intersectCoord(e,1)&&this.intersectCoord(e,2)};var F,S,y,L,U,B,k,D,z,M=0,I=1,N=0,G=1,Y=-1,P=0,X=11,q=3,O=4,j=5,H="main",W="game",J="over",K="instructions",Q=H,V=[[0,1,0,0,0,1,0,0,0,1,0]],Z=[[0,0,0,1,0,0,0,1,0,0,0]],$=[[0,0,0,3,0,0,0,3,0,0,0]],et=[[0,0,0,1,0,0,0,0,0,0,0]],tt=[[0,0,0,0,0,0,0,1,0,0,0]],nt=[[0,0,0,0,0,1,0,0,0,0,0]],rt=[[0,0,0,0,0,0,0,0,0,0,0]],ct=[[0,1,1,0,1,1,1,0,1,1,0],[0,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,0],[0,0,1,1,1,0,1,1,1,0,0]],it=[[0,0,0,1,1,0,1,1,0,0,0],[0,0,0,0,1,1,1,0,0,0,0]],ot=[[0,0,0,0,4,5,4,0,0,0,0]],at=[[0,0,4,5,4,0,4,5,4,0,0]],ut=[[4,5,4,0,4,5,4,0,4,5,4]],dt={"1z":[].concat(rt,rt),1:[].concat(nt,nt,nt,nt,nt,nt),"1w":[].concat(ot),"1t2":[].concat(it).reverse(),"2t1":[].concat(it),"2z":[].concat(rt,rt),"2w":[].concat(at),2:[].concat(Z,Z,Z,Z,Z,Z),"2b":[].concat(Z,Z,$,Z,Z),"2l":[].concat(et,et,et,et,et,et),"2r":[].concat(tt,tt,tt,tt,tt,tt),"2t3":[].concat(ct).reverse(),"3t2":[].concat(ct),"3z":[].concat(rt,rt),3:[].concat(V,V,V,V,V,V),"3w":[].concat(ut)},lt={"1z":{1:1},1:{1:1,"1w":1,"1z":1,"1t2":1},"1w":{1:1},"1t2":{2:1},"2z":{2:1},"2t1":{1:1},2:{"2z":1,"2t1":1,"2t3":1,2:1,"2l":1,"2r":1,"2b":1,"2w":1},"2w":{2:1},"2b":{2:1},"2l":{2:1},"2r":{2:1},"2t3":{3:1},"3z":{3:1},"3t2":{2:1},3:{"3z":1,"3t2":1,3:1},"3w":{3:1}},st={"1z":"1w",1:"1w","1w":"1w","1t2":"2w","2t1":"1w","2z":"2w","2w":"2w",2:"2w","2b":"2w","2l":"2w","2r":"2w","2t3":"3w","3t2":"2w","3z":"3w",3:"3w","3w":"3w"},ft=vec3.create(),vt="accelerate",ht="stop",mt="move-left",Et="move-right",pt="jump",wt="reverse-time",Rt="ESCAPE",gt=.3,At=Math.ceil(62.5),Tt={};z={37:mt,38:vt,39:Et,40:ht,32:pt,82:wt,27:Rt};var Ct=document.querySelector(".menu-main"),xt=document.querySelector(".menu-instructions"),bt=document.querySelector(".menu-over"),_t=document.querySelector(".overlay");this.init=l,this.render=v,this.updateData=_,window.addEventListener("keyup",function(e){var t=e.which||e.keyCode;z[t]&&(Tt[z[t]]=!1)},!1),window.addEventListener("keydown",function(e){var t=e.which||e.keyCode;z[t]&&(Tt[z[t]]=!0)},!1);var Ft=document.querySelectorAll(".menu-item-start"),St=document.querySelectorAll(".menu-item-instructions"),yt=document.querySelectorAll(".menu-item-main");[].forEach.call(Ft,function(e){e.addEventListener("click",function(e){e.preventDefault(),T()})}),[].forEach.call(St,function(e){e.addEventListener("click",function(e){e.preventDefault(),x()})}),[].forEach.call(yt,function(e){e.addEventListener("click",function(e){e.preventDefault(),A()})})}).call(this);