// -----------  Data ----------- //
function get_screen_size(){var e=document.getElementById("body");return{width:e.offsetWidth,height:e.offsetHeight}}function get_cell_side(e,t){var n=e.height/t.height,r=e.width/t.width;return Math.floor(Math.min(n,r))}function set_canvas(e,t,n,r){e.setAttribute("width",n.width*r),e.setAttribute("height",n.height*r),e.setAttribute("style","margin-top:"+Math.floor((t.height-n.height*r)/2)+"px;")}function init(e){var t=get_screen_size(),n={width:e.grid[0].length,height:e.grid.length},r=get_cell_side(t,n),i=document.getElementById("myCanvas");set_canvas(i,t,n,r),context={level:e,grid_size:n,canvas:i,cell_side:r,dude_size:e.dude_size,bullet_size:e.bullet_size,pixel_size:r*e.dude_size/16,castle_pixel_size:r/16},cell_colors=["#1D7F7F","#68AD14"],grass=1,draw(),loop_song()}var started=!1,context={},cell_colors=["#1D7F7F","#68AD14"];