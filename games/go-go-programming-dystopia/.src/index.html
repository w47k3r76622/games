<!doctype html><html><head><meta charset="utf-8"/><title>JS13K TypeScript Webpack Starter Party</title><style>html,
      body {
        width: 100%;
        min-height: 100vh;
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background-color: #333;
      }
      div .vc {
        font-size: 2rem;
        width: 64px;
        height: 64px;
        margin: 1em;
        border: none;
        user-select: none;
        background-color: white;
        opacity: 0.7;
      }
      #game {
        position: absolute;
        z-index: 100;
        height: 100%;
        width: 100%;
        color: white;
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      #game button {
        width: 128px;
        height: 32px;
        margin: 1.5em;
        border-radius: 0.5em;
      }
      #game h1 {
        font-size: 3rem;
        font-family: monospace;
      }
      #toast {
        position: absolute;
        z-index: 100;
        /* max-height: 42px;
        min-width: 80%;
        max-width: 80%; */
        font-size: 1.5em;
        padding: 3em;
        text-align: justify;
        bottom: 0;
        background-color: #ddd;
        align-self: center;
        opacity: 0.9;
        transition: 1s;
      }
      #toast.hide {
        bottom: -500px;
      }
      .error {
        display: none;
      }
      @media only screen and (max-height: 420px) {
        .error {
          display: block;
        }
        canvas,
        #start2 {
          display: none;
        }
      }</style></head><body><div id="game"><h1>Go Go<br/>Programming Dystopia</h1><button id="start1">1 Player</button><br/><button id="start2">2 Players</button></div><div id="toast" class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor</div><div class="error">:(</div><script>!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.onResize=t.createCanvas=t.MAP_SIZE=t.TILE_SIZE=t.SCALE=t.ctx=t.canvas=void 0;var n=o(r(1));t.createCanvas=function(){return t.canvas||(t.canvas=document.createElement("canvas"),t.ctx=t.canvas.getContext("2d"),t.SCALE=t.canvas.width/512,document.body.appendChild(t.canvas)),{canvas:t.canvas,ctx:t.ctx}},t.onResize=function(){t.MAP_SIZE=Math.min(innerWidth,innerHeight),t.MAP_SIZE-=t.MAP_SIZE%32,t.canvas.height=t.canvas.width=t.MAP_SIZE;var e=t.SCALE;t.SCALE=t.MAP_SIZE/512,t.TILE_SIZE=t.MAP_SIZE/16,n.default.resize(t.SCALE/e)}},function(e,t,r){"use strict";var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2)),s=n(r(16)),a=r(0),c=r(17),u=r(18),l=r(3),f=new(function(){function e(){this.isPaused=!1,this.levelCompleted=!1,this.endless=!1,this.level=-1,this.score=0,this.players=[],this.objects=[],this.blocks=[],this.tasks=[]}return e.prototype.loadLevel=function(e){var t;this.level=e%s.default.length,this.objects=o(this.players),this.levelCompleted=!1,this.isPaused=!1,this.players.forEach((function(e){return e.resetPos()}));var r=s.default[this.level];this.endless=!!r.endless,this.tasks=r.servers.map((function(){return l.createRandomObjective(r.items,r.colors)})),this.blocks=r.blocks.map((function(e){return e.map((function(e){return e*a.TILE_SIZE}))}));var n=r.providers.map((function(e,t){return u.createItemProvider(e,r.items[t])})),i=r.painters.map((function(e,t){return u.createPainter(e,r.colors[t])})),f=this.tasks.map((function(e,t){return u.createStorageServer(t+1,r.servers[t],e)})),h=r.bugs.map(u.createBug);(t=this.objects).unshift.apply(t,o(n,i,f,h)),c.displayMessage(r.message,1e4)},e.prototype.resize=function(e){this.objects.forEach((function(t){return t.onResize(e)})),this.blocks.forEach((function(t){t[0]*=e,t[1]*=e}))},e.prototype.onTaskCompleted=function(e){var t=this;if(this.score+=3,this.endless){var r=s.default[this.level],o=l.createRandomObjective(r.items,r.colors);e(o);var n=this.tasks.findIndex((function(e){return e.completed}));this.tasks[n]=o}this.levelCompleted=this.tasks.every((function(e){return e.completed})),this.levelCompleted&&(this.score+=2,setTimeout((function(){return t.loadLevel(t.level+1)}),3e3))},e.prototype.renderTasks=function(e){e.save(),e.textAlign="center",e.font="14px bold",e.lineWidth=1,e.translate(0,20),this.tasks.forEach((function(t,r){var o=r>0?2.5:.5;e.translate(a.TILE_SIZE*o,0),e.globalAlpha=t.completed?.5:1,e.fillStyle="white",e.fillText("Task# "+(r+1),a.TILE_SIZE,-1),t.components.forEach((function(t,r){var o=t.itemId,n=t.color;e.fillStyle=n,e.fillRect(0,19*r,2*a.TILE_SIZE,18),e.strokeRect(0,19*r,2*a.TILE_SIZE,18),e.fillStyle="black",e.fillText(o.substring(2,o.length-2),a.TILE_SIZE,17*(1+r))}))})),e.restore()},e.prototype.render=function(e){var t=this;if(e.save(),e.drawImage(i.default.floor,0,0,a.MAP_SIZE,a.MAP_SIZE),-1!==this.level){if(this.isPaused)return e.fillStyle="white",e.textAlign="center",e.font="2rem monospace",void e.fillText("Game Paused",a.MAP_SIZE/2,a.MAP_SIZE/2);this.blocks.forEach((function(t){e.drawImage(i.default.block,t[0],t[1],a.TILE_SIZE,1.5*a.TILE_SIZE)})),this.renderTasks(e),this.objects.forEach((function(r){r.active&&r.update(t.objects,t.blocks).render(e)})),e.font="1.5rem bold monospace",e.textAlign="center",e.fillStyle="white",e.fillText("Score: "+this.score,14.5*a.TILE_SIZE,a.TILE_SIZE/2),e.restore()}},e}());t.default=f},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadAssets=void 0;var n=o(r(8)),i=o(r(9)),s=o(r(10)),a=o(r(11)),c=o(r(12)),u=o(r(13)),l=o(r(14)),f=o(r(15)),h={floor:new Image,bug:new Image,block:new Image,storage:new Image,painter:new Image,provider:new Image,player:new Image,playerArms:new Image},A=Object.keys(h).length,d=0;t.loadAssets=function(){return new Promise((function(e,t){for(var r in h)h[r].onload=function(){return++d===A&&e(h)},h[r].onerror=t;h.bug.src=f.default,h.floor.src=n.default,h.block.src=l.default,h.storage.src=c.default,h.painter.src=a.default,h.provider.src=u.default,h.playerArms.src=i.default,h.player.src=s.default}))},t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRandomObjective=t.HUE_MAP=t.getDistance=t.addVectors=t.clamp=void 0,t.clamp=function(e,t,r){return Math.max(e,Math.min(r,t))},t.addVectors=function(e,t){var r=e[0],o=e[1];return[r+t[0],o+t[1]]},t.getDistance=function(e,t){var r=e[0],o=e[1],n=t[0],i=t[1];return Math.hypot(n-r,i-o)},t.HUE_MAP={blue:226,green:150,orange:55,purple:284,red:1},t.createRandomObjective=function(e,t){for(var r,o,n=[],i=[],s=e.length-Math.floor(Math.random()*e.length*.5),a=[],c=0;c<s;c++){do{r=Math.floor(Math.random()*e.length),o=Math.floor(Math.random()*t.length)}while(n.includes(r)||i.includes(o));n.push(r),i.push(o),a.push({itemId:e[r],color:t[o]})}return{components:a,completed:!1}}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(0),s=o(r(2)),a=function(){function e(e,t,r,o){void 0===o&&(o="white"),this.id=e,this.type=t,this.gridPos=r,this.color=o,this.active=!0,this.preventCollision=!1,this.w=1.5*i.TILE_SIZE,this.h=.25*i.TILE_SIZE,this.hue=0,this.scale=i.SCALE,this.offset=0,this.offsetDirection=1,this.resetPos()}return Object.defineProperty(e.prototype,"center",{get:function(){var e=this.pos,t=e[0],r=e[1];return[t+this.w/2,r+this.h/2]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridP",{get:function(){return this.center.map((function(e){return Math.floor(e/i.TILE_SIZE)}))},enumerable:!1,configurable:!0}),e.prototype.resetPos=function(){this.pos=this.gridPos.map((function(e){return e*i.TILE_SIZE}))},e.prototype.onAction=function(e){e.item||e.pickItem(this)},e.prototype.onResize=function(e){this.scale*=e,this.w*=e,this.h*=e,this.pos[0]*=e,this.pos[1]*=e},e.prototype.setColor=function(e){this.color=e},e.prototype.getClosestObject=function(e){var t=this,r=[null,1e3];return(e=e.filter((function(e){return e.active&&!e.owner}))).forEach((function(e){var o=n.getDistance(t.center,e.center);o<r[1]&&(r=[e,o])})),r},e.prototype.update=function(e,t){return"item"===this.type&&this.updateOffset(),this},e.prototype.updateOffset=function(){this.offset>2?this.offsetDirection=-.25:this.offset<-2&&(this.offsetDirection=.25),this.offset+=this.offsetDirection},e.prototype.renderId=function(e){e.textAlign="center",e.font="bold 1rem monospace",e.fillText(this.id,.5*this.w,this.h+14)},e.prototype.renderDetails=function(e){e.strokeStyle="black",e.lineWidth=1,e.strokeRect(0,0,this.w,this.h)},e.prototype.render=function(e){var t=this.pos,r=t[0],o=t[1];e.save(),e.translate(r,o+this.offset),e.fillStyle=this.color,!this.owner&&this.renderId(e),this.rotation&&(e.rotate(this.rotation),e.translate(0,-20*this.rotation)),"player"===this.type&&(e.filter="contrast(1.1) hue-rotate("+this.hue+"deg)"),this.renderDetails(e),s.default[this.type]?e.drawImage(s.default[this.type],0,0,this.w,this.h):e.fillRect(0,0,this.w,this.h),e.restore()},e}();t.default=a},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(4)),a=r(0),c=function(e){function t(t,r,o,n,i){var s=e.call(this,t,r,o,i)||this;return s.preventCollision=!0,s.w=a.TILE_SIZE,s.h="painter"!==r?1.5*a.TILE_SIZE:a.TILE_SIZE,s.onAction=function(e){return n(e)},s}return n(t,e),t}(s.default);t.default=c},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(4)),c=s(r(2)),u=r(0),l=r(3),f=function(e){function t(t,r,o,n){var i=e.call(this,t,"player",r,o)||this;return i.controller=n,i.vel=[0,0],i.maxSpeed=u.TILE_SIZE/12,i.acc=.15,i.scope=1.5*u.TILE_SIZE,i.scale*=.8,i.w=c.default.playerArms.width*i.scale,i.h=c.default.player.height*i.scale,i.maxSpeed*=i.scale,i.hue=l.HUE_MAP[o]||0,i}return n(t,e),Object.defineProperty(t.prototype,"rotation",{get:function(){var e=this.vel[0];return e>0?.15:e<0?-.15:0},enumerable:!1,configurable:!0}),t.prototype.setColor=function(t){l.HUE_MAP[t]&&(this.hue=l.HUE_MAP[t],e.prototype.setColor.call(this,t))},t.prototype.onResize=function(t){e.prototype.onResize.call(this,t),this.maxSpeed*=t,this.scope*=t},t.prototype.accelerate=function(){this.controller.left?this.vel[0]-=this.acc:this.controller.right?this.vel[0]+=this.acc:this.vel[0]=0,this.controller.up?this.vel[1]-=this.acc:this.controller.down?this.vel[1]+=this.acc:this.vel[1]=0;var e=this.maxSpeed;this.vel[0]=l.clamp(-e,e,this.vel[0]),this.vel[1]=l.clamp(-e,e,this.vel[1])},t.prototype.move=function(e,t){var r=this;this.accelerate(),this.updateOffset();var o=l.addVectors(this.pos,this.vel);if(!this.owner){if(t.some((function(e){return l.getDistance(e,o)<.85*u.TILE_SIZE})))return;if(e.some((function(e){return e.preventCollision&&l.getDistance(e.pos,o)<.85*u.TILE_SIZE})))return}this.pos=o.map((function(e){return l.clamp(0,u.MAP_SIZE-r.w,e)})),this.item&&this.moveItem()},t.prototype.moveItem=function(){this.item.pos=i(this.pos),this.item.pos[0]+=(this.w-this.item.w)/2,this.item.pos[1]-=this.h},t.prototype.pickItem=function(e){e.owner=this,e.active=!0,e.offset=this.offset,e.offsetDirection=this.offsetDirection,this.item=e},t.prototype.dropItem=function(e){if(void 0===e&&(e=!0),this.item){var t=this.item;return t.active=e,t.owner=null,this.item=null,t}},t.prototype.update=function(e,t){var r=this;if(e=e.filter((function(e){var t;return e.id!==r.id&&!e.owner&&r.id!==(null===(t=e.item)||void 0===t?void 0:t.id)})),this.move(e,t),this.controller.action){this.controller.action=!1;var o=this.getClosestObject(e),n=o[0];o[1]<this.scope&&n.onAction(this)}return this.item&&this.controller.release&&this.dropItem(),this},t.prototype.renderDetails=function(e){e.save(),this.item?(e.translate(0,.75*this.h),e.scale(1,-1)):e.translate(0,.25*this.h),e.drawImage(c.default.playerArms,0,0,this.w,this.h),e.restore()},t}(a.default);t.default=f},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),s=o(r(6)),a=r(23),c=o(r(1)),u=document.getElementById("game"),l=document.getElementById("start1"),f=document.getElementById("start2");function h(e){u.style.display="none",c.default.players=function(e){if(void 0!==window.orientation)return[new s.default("Player1",[7.5,7.5],"orange",new a.VirtualController)];var t=[new s.default("Player1",[7.5,7.5],"pink",new a.KeyboardController("wsadxc"))];2===e&&t.push(new s.default("Player2",[7.5,6.5],"orange",new a.KeyboardController("824650")));return t}(e),c.default.loadLevel(0)}onblur=function(){return c.default.isPaused=!0},onload=function(){var e=n.createCanvas().ctx,t=function(){requestAnimationFrame(t),c.default.render(e)};window.onresize=n.onResize,n.onResize(),i.loadAssets().then((function(){t()})),void 0!==window.orientation&&(l.innerText="Start",f.style.display="none"),l.onclick=function(){return h(1)},f.onclick=function(){return h(2)}}},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJUExURTkwMCIiIllGQROUWjAAAACfSURBVHja7dQ7DYBAEATQAQ8YQMmJAI8XVFIgYYqjeMVsudlP8nLd29EkI9mbJF9pUjZYv8JIqvQr1BP84o31Edd/oWswz/k0CQ94wAMe8IAHPOABD3jAAx7wgAc84AEPeMADHvCABzzgAQ94wAMe8IAHPOABD3jAAx7wgAc84AEPeMADHvCABzzgAQ94wAMe8IAHPOABD3jAAx4s8uAFyusvTDMaOewAAAAASUVORK5CYII="},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAASCAMAAADxAweqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTCYrRMcxSkE8cmg4bF9hjN9OfXWIr+51WaCgoJe91BgDJRgAAAABdFJOUwBA5thmAAAAjklEQVQoz52RURKAIAhE3Qyp7n/gUGtaCpup/WiK95wQUjoCpCjPMnSLVGyK+1GR0LSyq6OUZSmBWcuFVEwtgdkB/phzS2B2wL9vCYd0A5A8vHtmgGwZmBVRn+o+nWqEho/8ap4IgL0P1s4YpUAFbhN+exBt2KZeD/F4nXnhD6atYF3hFsEm4d7t2436YweFXwKTPb4wGAAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAYCAMAAABQmCTMAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTCYrRMcxSt9OfUE8cmg4bO51Wf6uNF9hjPd2Ipe91HWIr3FFnFoAAAABdFJOUwBA5thmAAAAlklEQVQoz62TSw4EIQhERfHb97/vUNiZaTsRXMxbkfhSKmIIb2gSHEQppdZaiiOLRmmC0hRlPYJZGqKmARR7lUpascz4xDLjimPyxDaxOd+dh5ocs4Ij8ziTfwe1zaVNfzMzODHzNca4sm1qGrXee7vr/RiDxszNmXwNIu0RWZFisq4DFGwNPaurMNsfib5v5H5Pos1lPhB0BLjCsXuAAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaBAMAAABfkYHAAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAPUExURUdwTJmZmXd3d4iIiDMzM5CoqG0AAAABdFJOUwBA5thmAAAASklEQVQY03XQsQ0AMQhDUa/ACl6BFf7+M10REZ2AUPlZrpAkANC5H6qDhtpKouGKDh9CDtgAmQvSjpgQBTTgfMI7hO3KA7Hj8bcPYnIn+wzmV1oAAAAASUVORK5CYII="},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAoCAMAAADT08pnAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAVUExURUdwTGEvIYpFJh4LCUYgFAAAANpGJKyu988AAAABdFJOUwBA5thmAAAAaUlEQVQoz+WSQQ7AIAgEoSj/f7IinmQ3aRNvnYvJTgwCilAahOXTtAfya0FnRYVCmqhBVIwQwgspvFbwJeZ5xKpbVL6IqI2ER9cORM7jirDIDb1qTfBOg+/EWX+LXi/0FIBcLcpNyG+QASCcCLOrGz74AAAAAElFTkSuQmCC"},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAYCAMAAADEfo0+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAPUExURUYcFB4JDYpJJu9uENdHBDwy9OMAAABLSURBVBjTnY9bDgAQDATX1v3PjCboQ0RM4sPQzRYMgHCo8O8En4SOT6GI7FAxnH+kDH70WOVhepjl4vqZ4hhiyXkZp3buIs+b0EADlocBveOReA0AAAAASUVORK5CYII="},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAYCAMAAADEfo0+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJUExURUYcFB4JDYpJJk/cOVQAAAA9SURBVBjTY2BCAwxMDCgALIAkDRaAKITRWAVQTSBKC5XMQPIJFqejew7d+1gAIxIA85FEGBjJE8AwFA0AAHNFAZVKgXPnAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAPElEQVQ4jWNgoBXgChP7j45J0igyRwsDEzQIl0ZsBpGtGachFBlAqmYMQ0YNGAzRSJWUSJW8gM0gQrkRAOmlN3nOkyyuAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o};Object.defineProperty(t,"__esModule",{value:!0});var n=["#80ffdb","#e63946","#fca311","#0077b6","#8ac926","#8338ec"],i=["< title />","< article />","< div />","< image />","< link />"],s={message:"Welcome to Guitecs Industries, your job here will be to create\n  web pages and store them in our servers, you can see your pending tasks\n  on the upper left corner",items:["< HelloWorld />"],colors:["teal"],bugs:[],blocks:o(u([["5-10",10],[5,"10-15"],[10,"10-15"],[0,11],[1,"8-10"],[2,"5-7"],["3-5",4],[15,11],[14,"8-10"],[13,"5-7"],["10-12",4],["6-9",1]])),providers:[[3,12]],painters:[[12,12]],servers:[[7.5,3]]},a={message:"You passed the interview, congratulations! You will now be working\n  on our production server. Just avoid making contact with the bugs,\n  and everything should be just fine :D",items:i.slice(0,3),colors:n.slice(0,3),blocks:o(u([[1,14],[2,13],[3,12],["4-5",11],[14,14],[13,13],[12,12],["10-11",11],[7.5,10],["1-14",2],[5,"3-4"],[10,"3-4"],[7.5,5]])),bugs:[[3,3],[13,13]],providers:[[2,5],[2,7],[2,9]],painters:[[13,5],[13,7],[13,9]],servers:[[5,13],[7.5,14],[10,13]]},c={endless:!0,message:"Incredible job! You are now a permanent part of the organization,\n  remember to complete your tasks as fast as posible, otherwise\n  the users may recieve an ugly 404 ERROR",items:i.slice(2,6),colors:n,blocks:u([["5-10",9],["6-9",4],["7-8",13],["7-8",14]]),bugs:[[3,3],[12,12],[3,12]],providers:[[1,11],[3,12],[5,13]],painters:[[14,4],[14,6],[14,8],[1,4],[1,6],[1,8]],servers:[[10,13],[12,12],[14,11]]};function u(e){var t=[];return e.forEach((function(e){var r=e[0],o=e[1];if("string"==typeof r)for(var n=r.split("-").map((function(e){return parseInt(e)})),i=n[0],s=n[1],a=i;a<=s;a++)t.push([a,+o]);else if("string"==typeof o){var c=o.split("-").map((function(e){return parseInt(e)}));for(i=c[0],s=c[1],a=i;a<=s;a++)t.push([+r,a])}else t.push([r,o])})),t}t.default=[s,a,c]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayMessage=void 0;var o=document.getElementById("toast");o.onclick=function(){return o.classList.add("hide")},t.displayMessage=function(e,t){o.classList.remove("hide"),o.innerText=e,setTimeout((function(){return o.classList.add("hide")}),t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBug=t.createPainter=t.createStorageServer=t.createItemProvider=void 0;var o=r(19);Object.defineProperty(t,"createItemProvider",{enumerable:!0,get:function(){return o.createItemProvider}});var n=r(20);Object.defineProperty(t,"createStorageServer",{enumerable:!0,get:function(){return n.createStorageServer}});var i=r(21);Object.defineProperty(t,"createPainter",{enumerable:!0,get:function(){return i.createPainter}});var s=r(22);Object.defineProperty(t,"createBug",{enumerable:!0,get:function(){return s.createBug}})},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createItemProvider=void 0;var n=o(r(4)),i=o(r(5)),s=o(r(1));t.createItemProvider=function(e,t){return new i.default(t,"provider",e,(function(e){if(!e.item){var r=new n.default(t,"item",e.pos,"white");e.pickItem(r),s.default.objects.push(r)}}))}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStorageServer=void 0;var n=o(r(5)),i=o(r(1)),s=r(0);t.createStorageServer=function(e,t,r){var o,a=[],c=r,u=c.components.length;function l(e){a=[],c=e,u=e.components.length,o.color="white"}return(o=new n.default("Server #"+e,"storage",t,(function(e){if(!c.completed)if(o.color="white",e.item){if(!e.item.item&&a.length<u){var t=e.dropItem(!1);a.push(t),"bug"===t.type&&(a.forEach((function(e){e.active=!0})),a.splice(0,a.length)),a.length===c.components.length&&(c.completed=a.every((function(e,t){var r=e.id,o=e.color;return r===c.components[t].itemId&&o===c.components[t].color})),c.completed?(o.color="lightgreen",i.default.onTaskCompleted(l)):(o.color="red",console.log({task:c,storage:a})))}}else a.length&&e.pickItem(a.pop())}),"white")).renderDetails=function(e){e.save(),e.translate(.5*-s.TILE_SIZE,10),e.strokeStyle="black",e.lineWidth=2,a.forEach((function(t,r){e.fillStyle=t.color,e.fillRect(0,r*(s.TILE_SIZE/u),.4*s.TILE_SIZE,s.TILE_SIZE/u),e.strokeRect(0,r*(s.TILE_SIZE/u),.4*s.TILE_SIZE,s.TILE_SIZE/u)})),e.restore()},o.renderId=function(e){e.textAlign="center",e.font="bold 1rem monospace",e.fillText(a.length+"/"+u,.5*o.w,o.h+24),e.fillStyle="white",e.fillText(o.id,.5*o.w,o.h+12)},o}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createPainter=void 0;var n=o(r(5));t.createPainter=function(e,t){var r=new n.default("","painter",e,(function(e){var r;return null===(r=e.item)||void 0===r?void 0:r.setColor(t)}),t);return r.renderDetails=function(e){e.fillStyle=t,e.fillRect(0,.2*r.h,r.w,.25*r.h),e.fillRect(.1*r.w,.1*r.h,.8*r.w,.25*r.h)},r}},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createBug=void 0;var s=r(0),a=i(r(6)),c=r(3);t.createBug=function(e){return new l(e)};var u=[-1.75,1.75],l=function(e){function t(t){var r=e.call(this,"bug",t,"lightgreen")||this;r.vel=[0,0],r.asset=void 0,r.coolDown=0,r.type="bug",r.w=r.h=s.TILE_SIZE/2,r.canBePicked=Math.random()>.6,r.canStealItem=Math.random()>.5;var o=Math.round(Math.random());return r.vel[o]=u[Math.round(Math.random())],r.vel[1-o]=.15*t[o],r}return n(t,e),t.prototype.setColor=function(e){var t;null===(t=this.owner)||void 0===t||t.setColor(e)},t.prototype.onAction=function(e){return e.item?"bug"===e.item.type?(e.dropItem(!1),void this.evolve()):void(this.item||this.pickItem(e.dropItem())):this.item?e.pickItem(this.dropItem()):this.canBePicked?e.pickItem(this):void 0},t.prototype.evolve=function(){this.canBePicked=!1,this.scope*=1.25,this.w*=2,this.h*=2,this.vel[0]*=1.125,this.vel[1]*=1.125},t.prototype.accelerate=function(){},t.prototype.move=function(){this.accelerate(),this.pos=c.addVectors(this.pos,this.vel);var e=1.5*s.TILE_SIZE;(this.pos[0]<e||this.pos[0]>s.MAP_SIZE-e)&&(this.vel[0]*=-1),(this.pos[1]<e||this.pos[1]>s.MAP_SIZE-e)&&(this.vel[1]*=-1)},t.prototype.update=function(e){if(this.updateOffset(),!this.owner&&this.move(),this.item)return this.moveItem(),this;if(this.coolDown>0)return--this.coolDown,this;e=e.filter((function(e){var t;return"item"===e.type||"player"===e.type&&"item"===(null===(t=e.item)||void 0===t?void 0:t.type)}));var t=this.getClosestObject(e),r=t[0];return t[1]>this.scope?this:(this.coolDown=100,"item"===r.type?(this.pickItem(r),this):(this.canStealItem?this.pickItem(r.dropItem()):r.item.setColor("darkgreen"),this))},t.prototype.renderId=function(){},t.prototype.renderDetails=function(e){e.save(),e.restore()},t}(a.default)},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualController=t.KeyboardController=void 0;var s=i(r(1)),a={};onkeydown=onkeyup=function(e){var t,r,o=e.key.toLowerCase(),n="d"===e.type[3];n!==(null===(t=a[o])||void 0===t?void 0:t.state)&&(a[o]={state:n,active:n}),(null===(r=a.p)||void 0===r?void 0:r.active)&&(s.default.isPaused=!s.default.isPaused,a.p.active=!1)};var c=function(){function e(e){this.keys=e}return Object.defineProperty(e.prototype,"up",{get:function(){var e;return null===(e=a[this.keys[0]])||void 0===e?void 0:e.active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"down",{get:function(){var e;return null===(e=a[this.keys[1]])||void 0===e?void 0:e.active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){var e;return null===(e=a[this.keys[2]])||void 0===e?void 0:e.active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){var e;return null===(e=a[this.keys[3]])||void 0===e?void 0:e.active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"action",{get:function(){var e;return null===(e=a[this.keys[4]])||void 0===e?void 0:e.active},set:function(e){a[this.keys[4]].active=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"release",{get:function(){var e;return null===(e=a[this.keys[5]])||void 0===e?void 0:e.active},enumerable:!1,configurable:!0}),e}();t.KeyboardController=c;var u=function(e){function t(){var t=e.call(this,["VUP","VDOWN","VLEFT","VRIGHT","VACTION","VDROP"])||this;return t.init(),t}return n(t,e),t.prototype.init=function(){var e=this,t=document.createElement("div");this.keys.map((function(){return document.createElement("button")})).forEach((function(r,o){r.ontouchstart=r.onmousedown=function(){a[e.keys[o]]={state:!0,active:!0}},r.onmouseout=r.ontouchend=r.onmouseup=function(){a[e.keys[o]]={state:!1,active:!1}},r.className="vc "+e.keys[o],r.innerText=e.keys[o][1],t.appendChild(r)})),document.body.appendChild(t)},t}(c);t.VirtualController=u}]);</script></body></html>