var Tetris=function(){var t=[[[0,1],[1],[1]],[[0,1],[0],[0]],[[0],[0,1,2],[]],[[2],[0,1,2],[]],[[0,1,2],[0],[]],[[0,1,2],[2],[]],[[0,1],[1,2],[]],[[0],[0],[0,1]],[[0,1],[0],[0]],[[1,2],[0,1],[]],[[1],[1],[1]]],i=["red","orange","yellow","green","blue","purple"],o=function(i,o,n,r){this.container=i,this.occupy=t[Math.floor(r*t.length)],this.width=o,this.height=n,this.counter=0,this.color=null;var s=Math.floor(Math.random()*(this.container.width-this.width+1));this.setInitPosition(s,0)};return o.prototype.setInitPosition=function(t,i){this.position={x:t,y:i}},o.prototype.getArea=function(){var t=this,i=[];return this.occupy.forEach(function(o,n){o.forEach(function(o){var r={};r.x=t.position.x+o,r.y=t.position.y+n,i.push(r)})}),i},o.prototype.draw=function(t){{var o,n=t.game.view,r=(t.width,t.height,this.getArea());n.querySelectorAll(".container__block")}o=this.color?this.color:this.color=i[Math.floor(Math.random()*i.length)],r.forEach(function(i){t.map[i.y][i.x].color=o,t.map[i.y][i.x].view.classList.add("container__block--tetris--"+o)})},o.prototype.update=function(t){return++this.counter>=t?(this.counter=0,this.fall()):void 0},o.prototype.fall=function(){return++this.position.y,this.isHitWall()||this.isHitBlocks()?(--this.position.y,!0):!1},o.prototype.slide=function(t){return this.position.x+=t,this.isHitWall()||this.isHitBlocks()?(this.position.x-=t,!0):!1},o.prototype.isHitBlocks=function(){var t,i=this.container.map,o=!1;return t=this.getArea(),t.forEach(function(t){1===i[t.y][t.x].occupy&&(o=!0)}),o},o.prototype.isHitWall=function(){var t=this.getArea(),i=this.container,o=!1;return t.forEach(function(t){return t.y>=i.height||t.x>=i.width||t.x<0?void(o=!0):void 0}),o},o}();