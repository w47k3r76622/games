<!DOCTYPE html><html><head><title>King Longlegs</title></head><body style="display:grid"><canvas style="align-self:start;justify-self:center;"></canvas><script>!function(){const e=e=>(e^=e<<13,e^=e>>7,4294967295&(e^=e<<5)),t=e=>{const t=e.toString(16);return"#"+t+t+t},l=(e,l,o)=>{ctx.strokeStyle=t(e),ctx.fillStyle=t(l),ctx.lineWidth=o},o=40,a=50,c=30,s=90,i=105,n=e=>[...e.matchAll(/[a-zA-Z][^a-zA-Z]*/g)].map((e=>({t:e[0][0],data:e[0].substring(1).trim().split(/[\s,]+/).map(parseFloat)}))),v=n("S15F0W1r -40,0 80,-20l -40,-20 40,-20 25,-30 -25,-30 Zfsr -25,-30 50,-100Aa -25,-135 5 1.5 4.72 a 25,-135 5 4.72 1.5 Zfsr -60,-140 120,-15"),r=n("S0F14 W2Al -35,0 -7,0 a 0,12 15 4.1,5.39 l 35,0 sW1Al -33,-1 -7,-1 a 0,11 15 4.1,5.39 l 33,-1 29,-6 15,-9 7,-8 0,-5 -7,-8 -15,-9 -29,-5 Zfs"),h=n("F1S1W0r -12,-80 24,80 Al 6,-80 3,-250 -3,-250 -6,-80 ZfW6 Aa -50,-250,50,3.16,0 sW4 Aa -100,-220,30,-3.24,0.1 a -100,-290,80,1.2,1.95 s Aa -50,-220,60,3,3.7 s Aa -123,-220,40,-0.8,0.15 sAl -30,-250 30,-250 s Aa -30,-250,2,0,6.28 fs Aa 30,-250,2,0,6.28 fs"),d=n("F0S15W1Al -22,-22 22,-22 22,-32, 10,-27, 0,-37 -10,-27, -22,-32 Zfs"),x=(e,t,l)=>{const o=l.split("\n");for(let l=0;l<o.length;l++){const G=o[l];if(ctx.fillText(G,e,t),l<o.length-1){const e=ctx.measureText(G);t+=1.5*(e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)}}},f=e=>{ctx.save(),ctx.translate(e.x-G.l,e.y-G.o),l(0,0,2);for(let t=0;t<e.G.length;t++){const l=e.G[t],G=e.G.length>2||e.i?t<e.G.length/2?-1:1:e.v,c=Math.hypot(l[0]-l[2],l[1]-l[3]),s=Math.acos((4100-c*c)/4e3)||Math.PI,i=(Math.PI-s-(Math.asin(o*Math.sin(s)/c)||0))*G,n=Math.PI/2-i-Math.asin((l[2]-l[0])/c),v=n+(Math.PI-s)*G;ctx.beginPath(),ctx.moveTo(l[0],l[1]),ctx.lineTo(l[0]+o*Math.cos(n),l[1]+o*Math.sin(n)),ctx.lineTo(l[0]+o*Math.cos(n)+a*Math.cos(v),l[1]+o*Math.sin(n)+a*Math.sin(v)),ctx.stroke()}ctx.beginPath(),ctx.arc(0,0,c,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.restore()},M=()=>{ctx.fillStyle="#aaa",ctx.fillRect(0,0,G.h,G.M)},_=()=>{ctx.save(),ctx.translate(-G.l,-G.o),l(0,6,1),G.level._.forEach(((t,l)=>{const o=t[0],a=t.slice(1);ctx.beginPath(),ctx.moveTo(a[0],a[1]);for(let t=0;t<a.length-2;t+=2){let c=e(G.p^l^o^t|1);if(a[t]<G.l&&a[t+2]<G.l||a[t]>G.l+G.h&&a[t+2]>G.l+G.h||a[t+1]<G.o&&a[t+3]<G.o||a[t+1]>G.o+G.M&&a[t+3]>G.o+G.M)ctx.lineTo(a[t+2],a[t+3]);else{const l=a[t],G=a[t+1],s=a[t+2]-l,i=a[t+3]-G,n=Math.hypot(s,i),v=i/n,r=-s/n;for(let t=0;t<n;t+=c%32+32)ctx.lineTo(l+s*t/n+v*(Math.abs(c=e(c))%o),G+i*t/n+r*(Math.abs(c=e(c))%o));ctx.lineTo(l+s+v*(Math.abs(c=e(c))%o),G+i+r*(Math.abs(c=e(c))%o))}}ctx.closePath(),ctx.fill(),ctx.stroke()})),ctx.restore()},p=e=>{ctx.save(),ctx.translate(-G.l,-G.o),l(13,15,1);for(let t=0;t<G.u.length;t++){const l=G.u[t];if(void 0!==l&&l.m==e){const e=l.A?l.x+G.l:l.x,t=l.A?l.y+G.o:l.y;e>G.l-10&&e<G.l+G.h+10&&t>G.o-10&&t<G.o+G.M+10&&(ctx.beginPath(),ctx.arc(e,t,3,0,2*Math.PI),ctx.fill(),ctx.stroke())}}ctx.restore()},u=()=>{ctx.save(),ctx.translate(-G.l,-G.o);for(let t=0;t<G.level.T.length;t++){const o=G.level.T[t];let a=e(11|t);if("spikes"===o.k){l(0,14,2),ctx.beginPath();for(let t=0;t<o.j.length;t+=4){a=e(a);const l=o.S*(1+a%30/100),c=Math.log(l)+1,s=Math.pow(o.L[t/2],4),i=o.j[t],n=o.j[t+1];if(i>G.l-l&&i<G.l+G.h+l&&n>G.o-l&&n<G.o+G.M+l){const e=o.j[t+2],G=o.j[t+3];ctx.beginPath(),ctx.moveTo(i+G*c+e*l*(s-1),n-e*c+G*l*(s-1)),ctx.lineTo(i+e*l*s,n+G*l*s),ctx.lineTo(i-G*c+e*l*(s-1),n+e*c+G*l*(s-1)),ctx.stroke(),ctx.fill()}}}else"words"===o.k?(ctx.save(),ctx.translate(o.x,o.y),ctx.rotate(o.r),w(r,0,15*Math.pow(o.F/500,3)-157),w(v,0,0),ctx.restore()):"lamp"===o.k?(ctx.save(),ctx.translate(o.x,o.y),ctx.scale(o.s,1),ctx.rotate(o.r),ctx.lineWidth=2,ctx.fillStyle="rgba(255,255,255,"+o.F/2e3+")",ctx.strokeStyle="rgba(255,255,255,"+o.F/1e3+")",ctx.shadowBlur=Math.round(o.F/1e3*10),ctx.shadowColor="#fff",ctx.beginPath(),ctx.arc(-100,-220,30,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.shadowBlur=0,w(h,0,0),ctx.restore()):"water"===o.k&&(ctx.lineWidth=5,ctx.strokeStyle="#fffa",ctx.fillStyle="#fff6",ctx.fillRect(o.x,o.y,o.W,o.D),ctx.strokeRect(o.x,o.y,o.W,o.D))}ctx.restore()},w=(e,l,o)=>{ctx.beginPath();for(let G=0;G<e.length;G++){const a=e[G];if("s"===a.t)ctx.stroke();else if("f"===a.t)ctx.fill();else if("S"===a.t)ctx.strokeStyle=t(a.data[0]);else if("F"===a.t)ctx.fillStyle=t(a.data[0]);else if("W"===a.t)ctx.lineWidth=a.data[0];else if("l"===a.t)for(let e=0;e<a.data.length;e+=2)ctx.lineTo(a.data[e]+l,a.data[e+1]+o);else"A"===a.t?ctx.beginPath():"Z"===a.t?ctx.closePath():"a"===a.t?ctx.arc(a.data[0]+l,a.data[1]+o,a.data[2],a.data[3],a.data[4]):"r"===a.t&&(ctx.fillRect(a.data[0]+l,a.data[1]+o,a.data[2],a.data[3]),ctx.strokeRect(a.data[0]+l,a.data[1]+o,a.data[2],a.data[3]))}},g=(e,t,l,o,a)=>{const c={F:1e10};for(let s=0;s<G.level.H.length;s++){const i=G.level.H[s];for(let G=0;G<i.length;G+=2){const n=e-i[G],v=t-i[G+1],r=n*l+v*o,h=m(l*l+o*o,2*r,n*n+v*v-a*a);h>=0&&h<=1e3&&h<c.F&&(c.F=h,c.s=0,c.O=s,c.U=G,c.Z=i[G],c.I=i[G+1],c.P=-r/a)}for(let G=0;G<i.length-2;G+=2){let n=i[G+3]-i[G+1],v=i[G]-i[G+2];const r=Math.hypot(n,v);n/=r,v/=r;const h=l*n+o*v;if(h>0)continue;const d=(a-((e-i[G])*n+(t-i[G+1])*v))/h;if(d>=0&&d<=1e3&&d<c.F){const a=(-v*(e+l*d-i[G])+n*(t+o*d-i[G+1]))/r;a>=0&&a<=1&&(c.F=d,c.s=a,c.O=s,c.U=G,c.Z=i[G]+(i[G+2]-i[G])*a,c.I=i[G+1]+(i[G+3]-i[G+1])*a,c.P=-h)}}}return c.B=e+l*c.F,c.C=t+o*c.F,c.Y=(c.B-c.Z)/a,c.J=(c.C-c.I)/a,c},m=(e,t,l)=>{const o=t*t-4*e*l;if(o<0)return-1;const G=-t/(2*e),a=Math.sqrt(o)/(2*e);return G-a>=0?G-a:G+a},y=(e,t,l,o,G,a,c,s,i)=>({N:e,R:t,x:l,y:o,V:0,K:0,ax:0,ay:0,q:0,X:G,g:a||.5,$:c||.9,ee:s||.05,te:0,le:i||.001,A:!1}),b=e=>{for(let t=0;t<G.u.length;t++)if(void 0===G.u[t])return void(G.u[t]=e);G.u.push(e)},A=(e,t,l,o,a)=>{if(0===o)t+=G.oe.x,l+=G.oe.y;else if(o>0){const e=G.Ge.find((e=>e.ce.ae===o));0,t+=e.ce.x,l+=e.ce.y}const c={text:e,x:t,y:l,F:100*e.length+(a?2e3:1e3),big:a};for(let e=0;e<G.messages.length;e++)if(void 0===G.messages[e])return G.messages[e]=c,c;return G.messages.push(c),c},T=e=>{let t=G.h/3;G.oe.x<G.l+t?G.l=G.oe.x-t:G.oe.x>G.l+G.h-t&&(G.l=G.oe.x-G.h+t),t=G.M/3,G.oe.y<G.o+t?G.o=G.oe.y-t:G.oe.y>G.o+G.M-t&&(G.o=G.oe.y-G.M+t),G.l=Math.min(Math.max(0,G.l),G.level.se-G.h),G.o=Math.min(Math.max(0,G.o),G.level.ie-G.M)},k=[],j=[];let S=0,L=0;let E=new AudioContext,F=(e=1,t=.05,l=220,o=0,G=0,a=.1,c=0,s=1,i=0,n=0,v=0,r=0,h=0,d=0,x=0,f=0,M=0,_=1,p=0,u=0,w=0)=>{let g=Math,m=2*g.PI,y=44100,b=i*=500*m/y/y,A=l*=(1-t+2*t*g.random(t=[]))*m/y,T=0,k=0,j=0,S=1,L=0,F=0,W=0,D=w<0?-1:1,H=m*D*w*2/y,O=g.cos(H),U=g.sin,Z=U(H)/4,I=1+Z,P=-2*O/I,B=(1-Z)/I,C=(1+D*O)/2/I,Y=-(D+O)/I,z=C,J=0,N=0,R=0,V=0;for(n*=500*m/y**3,x*=m/y,v*=m/y,r*=y,h=y*h|0,e*=.3,D=(o=y*o+9)+(p*=y)+(G*=y)+(a*=y)+(M*=y)|0;j<D;t[j++]=W*e)++F%(100*f|0)||(W=c?1<c?2<c?3<c?U(T*T):g.max(g.min(g.tan(T),1),-1):1-(2*T/m%2+2)%2:1-4*g.abs(g.round(T/m)-T/m):U(T),W=(h?1-u+u*U(m*j/h):1)*(W<0?-1:1)*g.abs(W)**s*(j<o?j/o:j<o+p?1-(j-o)/p*(1-_):j<o+p+G?_:j<D-M?(D-j-M)/a*_:0),W=M?W/2+(M>j?0:(j<D-M?1:(D-j)/M)*t[j-M|0]/2/e):W,w&&(W=V=z*J+Y*(J=N)+C*(N=W)-B*R-P*(R=V))),H=(l+=i+=n)*g.cos(x*k++),T+=H+H*d*U(j**5),S&&++S>r&&(l+=v,A+=v,S=0),!h||++L%h||(l=A,i=b,S=S||1);(e=E.createBuffer(1,D,y)).getChannelData(0).set(t),(l=E.createBufferSource()).buffer=e,l.connect(E.destination),l.start()};const W=(e,t,l,o)=>({k:"words",text:e,x:t,y:l,r:o,F:0,ne:0}),D=(e,t)=>{var l,o;0===e.F?(e.ne+=t,(Math.random()<.001*t||e.ne>500)&&(b(y(0,void 0,e.x+60*(Math.random()-.5),e.y-180,3e3+300*Math.random(),.001*Math.random()-.002,.99,.1,.001)),e.ne=0),Math.abs(G.oe.x-e.x)<40&&Math.abs(G.oe.y-e.y+80)<80&&(F(...[1.2,,268,.02,.19,.32,,3.6,,,305,.07,.03,,,,.16,.79,.13,,-1388]),e.F=.001,l=e.x,o=e.y-170,G.ve++,G.re++,k.push([1,l,o]),e.text.startsWith("DOUBLE")&&(G.de.he=!0),A(e.text,e.x,e.y-160-20*e.text.split("\n").length))):e.F<500&&(e.F+=t)},H=(e,t,l,o,G)=>({k:"lamp",x:e,y:t,xe:l,F:l?1e3:0,s:o,r:G}),O=(e,t)=>{0===e.F?Math.abs(G.oe.x-e.x+100*e.s)<40&&Math.abs(G.oe.y-e.y+100)<100&&(G.Me.fe=e,G.Me._e=G.p,G.re=G.ve,e.F=1,F(...[1.2,,300,.05,.19,1,,3.6,.2,-.1,,,.05,,100,,,.79,.13,.2,-1405])):e.F<1e3&&(e.F+=t,e.F>1e3&&(e.F=1e3))},U=(t,l,o,G)=>{const a=[],c=[];let s=e(t[0]^t[1]|1),i=0,n=0;for(let l=0;l<t.length-2;l+=2){let G=t[l+2]-t[l],v=t[l+3]-t[l+1];const r=Math.hypot(G,v);G/=r,v/=r;for(let h=0;h<r;h+=16){0===i&&0===n||h>30?(i=v,n=-G):(i=(i+v)/2,n=(n-G)/2),s=e(s),i+=s%100/400,s=e(s),n+=s%100/400;const r=Math.hypot(i,n);i/=r,n/=r,a.push(t[l]+h*G,t[l+1]+h*v,i,n),c.push(null==o?1:0,0),s=e(s),h+=7&s}}return{k:"spikes",S:l,j:a,L:c,pe:t,ue:o,delay:G}},Z=(e,t)=>{for(let l=0;l<e.j.length;l+=4){const o=G.oe.x-(e.j[l]+e.S*e.L[l/2]*e.j[l+2]),a=G.oe.y+80-(e.j[l+1]+.8*e.S*e.L[l/2]*e.j[l+3]),c=Math.hypot(o,a);e.S*(o*e.L[l/2]+a*e.L[l/2])/c>.8&&c<30+.2*e.S&&e.L[l/2]>.75&&(G.Me.pending||={we:e.j[l+2],ge:e.j[l+3]}),void 0!==e.ue&&(1===e.L[l/2]&&(c>250||G.oe.i)?(e.L[l/2+1]+=t,e.L[l/2+1]>3e3&&(e.L[l/2]-=.001,e.L[l/2+1]=-1)):e.L[l/2]>0&&e.L[l/2+1]<0?(e.L[l/2]-=e.ue*t,e.L[l/2]<=0&&(e.L[l/2]=0,e.L[l/2+1]=0)):e.L[l/2]>0&&e.L[l/2+1]>0?(e.L[l/2+1]+=t,e.L[l/2+1]>e.delay&&(e.L[l/2]+=e.ue*t,e.L[l/2]>=1&&(e.L[l/2]=1))):(!G.oe.i&&c<80||l<e.j.length-4&&e.L[l/2+2]>.2&&e.L[l/2+3]>0&&e.L[l/2+3]<2e3||l>4&&e.L[l/2-2]>.2&&e.L[l/2-1]>0&&e.L[l/2-1]<2e3)&&(e.L[l/2]=.001,e.L[l/2+1]=1))}},I=(e,t,l,o)=>({k:"water",x:e,y:t,W:l,D:o}),P=(e,t)=>{if(G.oe.x>e.x&&G.oe.y<e.x+e.W&&G.oe.y+50>e.y&&G.oe.y<e.y+e.D){const l=2e-4*Math.min(80,G.oe.y+50-e.y);G.oe.K-=l*t,G.oe.V*=Math.pow(.95,t/10),G.oe.K*=Math.pow(.95,t/10),G.oe.me=!0}else G.oe.me=!1},B=(e,t,l,o)=>{const G=[];for(let e=0;e<o;e++){const a=15*(2*(e/(o-1))-1),i=c-Math.abs(a/2)-4;G.push([a,i,a,i+s,t,l+s,2])}return{ae:e,x:t,y:l,V:0,K:0,v:1,G:G,ye:!1,i:!1,me:!1}},C=(e,t)=>{const l=g(e.x,e.y+i-30,0,1,30),o=g(e.x,e.y,0,-1-Math.abs(e.K),c);e.ye=Math.abs(l.J)>.6&&l.F<2*t+2,z(e,t),!e.i&&!e.me&&e.ye&&e.K>-1&&o.F>t+1?(e.y=l.I+.01*l.J*t-i,e.K=0):e.K+=.01*t;let G=t;for(let t=0;t<3&&G>.001;t++){const t=g(e.x,e.y+i-30,e.V,e.K,30),l=g(e.x,e.y,e.V,e.K,c),o=l.F<t.F||e.i?l:t;if(!(o.F<=G)){e.x+=e.V*G,e.y+=e.K*G;break}{const t=Math.max(0,o.F-.001);e.x+=e.V*t,e.y+=e.K*t,e.V+=o.Y*(o.P+.001),e.K+=o.J*(o.P+.001),G-=o.F}}e.K*=.98,e.V*=e.i?.95:.6,e.V>1&&(e.V=1),e.V<-1&&(e.V=-1)},Y=(e,t)=>e*e*e/(Math.abs(e*e*e)+1)*(.5*Math.abs(t)+.4),z=(e,t)=>{ctx.save(),ctx.translate(e.x-G.l,e.y-G.o),ctx.beginPath(),e.G.toSorted(((e,t)=>Math.hypot(t[2]-t[0],t[3]-t[1])-Math.hypot(e[2]-e[0],e[3]-e[1]))).forEach((l=>{const o=s/Math.hypot(l[2]-l[0],l[3]-l[1]);if(o<.8&&(l[2]=l[0]+(l[2]-l[0])*o,l[3]=l[1]+(l[3]-l[1])*o,l[6]=2),0===l[6])l[2]=l[4]-e.x,l[3]=l[5]-e.y,e.G.every((e=>0===e[6]))&&Math.hypot(l[2]-l[0],l[3]-l[1])>s&&(l[6]=1);else if(1!==l[6]||e.i){if(2===l[6]||e.i){let o;for(let G=0;G<20;G++){const a=.04*(G-10)+(Math.PI/2-e.V*t*.03),c=g(e.x+l[0],e.y+l[1],s*Math.cos(a),s*Math.sin(a),5);(void 0===o||o.F>c.F)&&(o=c)}if(void 0!==o&&o.F<.98){l[4]=o.B,l[5]=o.C;const G=l[2]-l[4]+e.x,a=l[3]-l[5]+e.y;l[2]-=t*Y(G,e.V),l[3]-=t*Y(a,(e.V+e.K)/2),Math.hypot(G,a)<10&&(l[6]=0)}else if(e.i){Math.random()<.01*t&&(l[4]=l[0]+e.x+s*(Math.random()-.5),l[5]=l[1]+e.y+s*(Math.random()-.5)*2);const o=l[2]-l[4]+e.x,G=l[3]-l[5]+e.y;l[2]-=.05*t*Math.sign(o),l[3]-=.05*t*Math.sign(G)}else{l[4]=l[0]+e.x+(e.ye||e.me?4.5*Math.cos(G.F/150+l[0]):0),l[5]=l[1]+e.y+89.1;const o=l[2]-l[4]+e.x,a=l[3]-l[5]+e.y;l[2]-=.05*t*o,l[3]-=.05*t*a}}}else l[2]-=t*Y(l[2]-l[0],e.V),l[3]-=t*Y(l[3]-72,(e.V+e.K)/2),Math.abs(l[2]-l[0])<20&&(l[6]=2)})),ctx.restore()},J=(e,t)=>{C(e.ce,t),Math.abs(G.oe.x-e.ce.x)<100&&Math.abs(G.oe.y-e.ce.y)<100&&(void 0===e.be||e.be.F<0)&&e.Ae<e.messages.length-1&&(e.Ae++,e.be=A(e.messages[e.Ae],0,-100,e.ce.ae))},N=B(666,600,1900,13);let R=0;const V=(K=B(3,450,2400,4),{k:"talker",be:void 0,Ae:-1,messages:["Ah....\ncome stand under this lamppost.","You seek the many-legged king?","Know this: the path is dark.","You must face your fears\nor turn back."],ce:K});var K;V.ce.v=1;const q=[{Te:"The Lamppost",se:4e3,ie:2e3,ke:[0,0],je:[1,-1e3],Se:[0,0],Le:[0,0],T:[H(342,1824,!0,-1,0),W("Far below the king waits.\nBe bold.",3801,1198,0)],_:[[20,1330,1870,1430,1780,1510,1760,1600,1870,1330,1870],[15,1710,1900,1840,1770,1770,1560,1970,1600,2080,1700,2160,1700,2170,1900,1710,1900],[20,4e3,1510,3650,1480,3450,1380,3450,1220,4e3,1180],[20,4e3,1200,3960,1170,3980,840,3560,670,3030,560,2640,710,2630,910,2920,1180,3070,1270,3070,1410,2770,1430,2470,1220,1880,1090,1480,430,0,460,0,360,4e3,260],[20,0,450,70,1050,120,1610,310,1820,4e3,1870,4e3,2e3,0,2e3],[15,3290,1560,3480,1560,3470,1650,3250,1660,3290,1560]],H:[[1330,1870,1430,1780,1510,1760,1600,1870,1330,1870],[1710,1900,1840,1770,1770,1560,1970,1600,2080,1700,2160,1700,2170,1900,1710,1900],[4e3,1510,3650,1480,3450,1380,3450,1220,4e3,1180],[4e3,1200,3960,1170,3980,840,3560,670,3030,560,2640,710,2630,910,2920,1180,3070,1270,3070,1410,2770,1430,2470,1220,1880,1090,1480,430,0,460,0,360,4e3,260],[0,450,70,1050,120,1610,310,1820,4e3,1870,4e3,2e3,0,2e3],[3290,1560,3480,1560,3470,1650,3250,1660,3290,1560]]},{Te:"A Sudden Drop",se:3200,ie:3e3,ke:[0,1e3],je:[2,0],Se:[0,0],Le:[0,0],Ge:[V],T:[W("Fortune favors the bold.",3008,1235,0),H(299,2539,!1,-1,-.15),U([570,2100,300,2070],40,void 0,void 0),U([820,2130,560,2100],30,void 0,void 0)],_:[[10,0,900,730,900,1090,940,1340,1030,1290,1220,1120,1450,1120,2230,1040,2360,820,2130,300,2070,200,2480,340,2540,340,2630,3200,2720,3200,3e3,0,2990],[10,1890,1260,2400,1270,2320,1370,2e3,1350,1970,1300,1890,1260],[30,3200,0,3200,870,3030,860,2780,840,2730,770,2460,790,2230,650,2070,630,1930,650,1880,730,1740,690,1700,590,1670,540,1190,360,570,450,0,500,0,0],[30,3200,2260,2670,2210,2410,2040,2350,1780,2550,1600,2700,1260,3e3,1240,3200,1200]],H:[[0,900,730,900,1090,940,1340,1030,1290,1220,1120,1450,1120,2230,1040,2360,820,2130,300,2070,200,2480,340,2540,340,2630,3200,2720,3200,3e3,0,2990],[1890,1260,2400,1270,2320,1370,2e3,1350,1970,1300,1890,1260],[3200,0,3200,870,3030,860,2780,840,2730,770,2460,790,2230,650,2070,630,1930,650,1880,730,1740,690,1700,590,1670,540,1190,360,570,450,0,500,0,0],[3200,2260,2670,2210,2410,2040,2350,1780,2550,1600,2700,1260,3e3,1240,3200,1200]]},{Te:"",se:2e3,ie:6e3,ke:[1,0],je:[0,0],Se:[0,0],Le:[3,6e3],T:[W("Take courage.",638,5392,0),U([1650,2410,1830,2400,1860,2480,1850,2540,1630,2540,1650,2410],30,.003,250),H(1737,5392,!0,1,0)],_:[[30,0,1230,180,1210,500,1240,730,1380,910,1980,520,2190,190,2260,0,2260],[20,300,3470,520,3510,690,3470,780,3520,690,3580,320,3720],[20,370,2880,670,2950,580,3080,350,3010,370,2880],[20,980,3200,1310,3160,1290,3290,1150,3310,980,3300,980,3200],[20,260,4040,550,4090,590,4230,720,4260,710,4350,330,4320,260,4040],[30,800,4560,1360,4580,1150,4800,780,4620,800,4560],[30,1230,2790,2e3,2840,2e3,5450,1840,5010,1420,4990,1170,4770,1230,2790],[20,0,2730,170,2730,360,2770,370,2970,400,4580,340,4800,170,4950,160,5190,260,6e3,0,6e3],[20,980,2210,1490,2240,1390,2310,930,2310,980,2210],[30,0,0,1990,10,1990,1150,1900,1160,1760,1170,1640,1150,1290,970,1e3,940,770,990,400,930,0,890],[20,910,3820,930,3750,1040,3730,1060,3830,910,3820],[20,640,3900,670,3820,780,3830,790,3930,640,3900],[5,1650,2410,1830,2400,1860,2480,1850,2540,1630,2540,1650,2410],[20,2e3,2890,1930,2840,1940,2560,1920,2090,1840,1630,1700,1410,1750,1040,2e3,1040],[30,570,6e3,510,5630,410,5490,510,5410,570,5390,1330,5400,2e3,5390,2e3,6e3]],H:[[0,1230,180,1210,500,1240,730,1380,910,1980,520,2190,190,2260,0,2260],[0,2730,170,2730,360,2770,370,2970,400,4580,340,4800,170,4950,160,5190,260,6e3,0,6e3],[1230,2790,2e3,2840,2e3,5450,1840,5010,1420,4990,1170,4770,1230,2790],[370,2880,670,2950,580,3080,350,3010,370,2880],[980,3200,1310,3160,1290,3290,1150,3310,980,3300,980,3200],[260,4040,550,4090,590,4230,720,4260,710,4350,330,4320,260,4040],[800,4560,1360,4580,1150,4800,780,4620,800,4560],[980,2210,1490,2240,1390,2310,930,2310,980,2210],[0,0,1990,10,1990,1150,1900,1160,1760,1170,1640,1150,1290,970,1e3,940,770,990,400,930,0,890],[300,3470,520,3510,690,3470,780,3520,690,3580,320,3720],[910,3820,930,3750,1040,3730,1060,3830,910,3820],[640,3900,670,3820,780,3830,790,3930,640,3900],[1650,2410,1830,2400,1860,2480,1850,2540,1630,2540,1650,2410],[2e3,2890,1930,2840,1940,2560,1920,2090,1840,1630,1700,1410,1750,1040,2e3,1040],[570,6e3,510,5630,410,5490,510,5410,570,5390,1330,5400,2e3,5390,2e3,6e3]]},{Te:"Stepping Stones",se:7e3,ie:2500,ke:[0,0],je:[0,0],Se:[2,-6e3],Le:[4,0],T:[U([5830,2350,6080,2350],50,void 0,void 0),U([4990,2350,5280,2350],50,void 0,void 0),U([1770,970,3300,970],100,void 0,void 0),U([3910,230,560,200],90,void 0,void 0),H(908,1731,!0,1,12.25)],_:[[30,1260,2340,7e3,2350,7e3,2500,1240,2490,1260,2340],[30,1230,2490,1280,970,3720,970,3730,1180,3100,1340,2730,1510,2490,1670,2350,1790,2300,1920,2260,2500],[30,7e3,0,7e3,2500,6840,2500,6580,0],[30,1870,0,6250,0,6320,1530,4960,1470,4670,960,4600,850,4400,680,4300,430,4140,400,3910,230,560,200,560,0],[30,3930,1960,4170,2110,4180,2170,3940,2070,3890,2020,3930,1960],[30,3560,1780,3770,1780,3700,1830,3570,1890,3540,1800,3560,1780],[20,3960,1660,4200,1590,4150,1690,3990,1700,3960,1660],[20,4430,1370,4490,1270,4580,1350,4390,1490,4310,1440,4430,1370],[20,3890,1020,4080,1020,4080,1110,3910,1120,3890,1020],[20,2900,650,3060,650,3040,700,2860,700,2900,650],[30,2750,770,2580,800,2550,740,2750,770],[30,1800,700,1930,710,1950,750,1840,780,1770,740,1800,700],[20,4170,1160,4240,1180,4320,1220,4220,1250,4170,1250,4100,1240,4170,1160],[30,3200,730,3280,760,3340,790,3300,820,3170,820,3200,730],[30,2210,660,2360,680,2330,740,2150,730,2210,660],[30,770,2500,760,2180,770,1790,940,1720,1260,1720,1270,2500],[30,0,0,560,10,610,360,540,630,590,950,570,1090,430,1250,290,1520,210,1860,270,2110,270,2500,0,2490]],H:[[1260,2340,7e3,2350,7e3,2500,1240,2490,1260,2340],[1230,2490,1280,970,3720,970,3730,1180,3100,1340,2730,1510,2490,1670,2350,1790,2300,1920,2260,2500],[7e3,0,7e3,2500,6840,2500,6580,0],[1870,0,6250,0,6320,1530,4960,1470,4670,960,4600,850,4400,680,4300,430,4140,400,3910,230,560,200,560,0],[3930,1960,4170,2110,4180,2170,3940,2070,3890,2020,3930,1960],[3560,1780,3770,1780,3700,1830,3570,1890,3540,1800,3560,1780],[3960,1660,4200,1590,4150,1690,3990,1700,3960,1660],[4430,1370,4490,1270,4580,1350,4390,1490,4310,1440,4430,1370],[3890,1020,4080,1020,4080,1110,3910,1120,3890,1020],[2900,650,3060,650,3040,700,2860,700,2900,650],[2750,770,2580,800,2550,740,2750,770],[1800,700,1930,710,1950,750,1840,780,1770,740,1800,700],[4170,1160,4240,1180,4320,1220,4220,1250,4170,1250,4100,1240,4170,1160],[3200,730,3280,760,3340,790,3300,820,3170,820,3200,730],[2210,660,2360,680,2330,740,2150,730,2210,660],[770,2500,760,2180,770,1790,940,1720,1260,1720,1270,2500],[0,0,560,10,610,360,540,630,590,950,570,1090,430,1250,290,1520,210,1860,270,2110,270,2500,0,2490]]},{Te:"",se:7e3,ie:2500,ke:[0,0],je:[5,-1500],Se:[3,0],Le:[0,0],T:[U([1060,2290,4520,2260],30,void 0,void 0),W('DOUBLE JUMP ACHIEVED\n"He who jumps into the void owes no explanation\nto those who stand and watch."\n',4886,1092,0),H(546,1649,!1,1,.1),H(546,1649,!0,-1,-.1)],_:[[20,1e3,1060,590,1100,590,1060,650,1020,1020,1020],[30,0,1580,640,1660,680,2300,5540,2250,6180,2210,6710,2250,7e3,2220,6990,2500,0,2490],[30,7e3,0,7e3,1690,6650,1680,6450,1620,6170,1360,6e3,600,5180,540,4740,750,4570,1110,4540,1480,1040,1500,800,530,790,0],[20,5370,1810,5550,1900,5500,1920,5370,1880,5300,1780,5370,1810],[20,5740,1530,5970,1540,5840,1590,5690,1580,5740,1530],[20,5530,1090,5720,1130,5560,1150,5440,1170,5450,1100,5530,1090],[20,4690,1090,5150,1090,5150,1170,4690,1160,4690,1090],[20,1450,2e3,1570,1990,1540,2040,1430,2050,1450,2e3],[20,2060,1860,2130,1860,2120,1920,1970,1930,2060,1860],[20,2530,2100,2640,2110,2620,2170,2500,2170,2530,2100],[20,3050,1810,3140,1800,3110,1870,3020,1850,3050,1810],[20,3830,2040,4020,2050,3970,2110,3860,2100,3830,2040],[20,1100,2070,1260,2080,1220,2160,1070,2160,1080,2100,1100,2070],[20,1720,1960,1830,1950,1810,2010,1720,2010,1720,1960],[20,2830,1940,2940,1950,2860,2010,2770,1990,2830,1940],[20,3410,1790,3510,1810,3400,1850,3320,1810,3410,1790],[20,4260,1990,4400,1980,4330,2070,4260,1990],[20,5570,2020,5670,2040,5560,2080,5510,2040,5570,2020],[20,5480,1640,5570,1640,5500,1680,5430,1670,5480,1640],[20,5960,1270,6040,1290,5940,1360,5910,1300,5960,1270],[30,0,0,260,0,250,160,220,690,260,930,160,1080,40,1280,50,1590,0,1620]],H:[[1e3,1060,590,1100,590,1060,650,1020,1020,1020],[0,1580,640,1660,680,2300,5540,2250,6180,2210,6710,2250,7e3,2220,6990,2500,0,2490],[7e3,0,7e3,1690,6650,1680,6450,1620,6170,1360,6e3,600,5180,540,4740,750,4570,1110,4540,1480,1040,1500,800,530,790,0],[5370,1810,5550,1900,5500,1920,5370,1880,5300,1780,5370,1810],[5740,1530,5970,1540,5840,1590,5690,1580,5740,1530],[5530,1090,5720,1130,5560,1150,5440,1170,5450,1100,5530,1090],[4690,1090,5150,1090,5150,1170,4690,1160,4690,1090],[1450,2e3,1570,1990,1540,2040,1430,2050,1450,2e3],[2060,1860,2130,1860,2120,1920,1970,1930,2060,1860],[2530,2100,2640,2110,2620,2170,2500,2170,2530,2100],[3050,1810,3140,1800,3110,1870,3020,1850,3050,1810],[3830,2040,4020,2050,3970,2110,3860,2100,3830,2040],[1100,2070,1260,2080,1220,2160,1070,2160,1080,2100,1100,2070],[1720,1960,1830,1950,1810,2010,1720,2010,1720,1960],[2830,1940,2940,1950,2860,2010,2770,1990,2830,1940],[3410,1790,3510,1810,3400,1850,3320,1810,3410,1790],[4260,1990,4400,1980,4330,2070,4260,1990],[5570,2020,5670,2040,5560,2080,5510,2040,5570,2020],[5480,1640,5570,1640,5500,1680,5430,1670,5480,1640],[5960,1270,6040,1290,5940,1360,5910,1300,5960,1270],[0,0,260,0,250,160,220,690,260,930,160,1080,40,1280,50,1590,0,1620]]},{Te:"Horatius's Bridge",se:6e3,ie:1500,ke:[4,1500],je:[6,0],Se:[0,0],Le:[0,0],T:[U([830,1200,1520,1230],100,void 0,void 0),U([1690,1220,2640,1260],100,void 0,void 0),U([2770,1250,3600,1280,3950,1280,4060,1150,4200,1e3,4290,850],100,void 0,void 0),U([4310,0,4080,130,3900,280,3740,430,3650,610,3410,700,3270,520,3170,250,3030,10],50,void 0,void 0),H(487,705,!0,1,0),H(486,704,!0,-1,0),H(1853,739,!1,1,.3),H(1855,738,!0,-1,-.3),W("Then out spake brave Horatius,\nThe Captain of the Gate:",857,735,0),W('"To every man upon this earth\nDeath cometh soon or late.',2139,1097,.1),W("And how can man die better\nThan facing fearful odds,",3728,1150,-.15),W('For the ashes of his fathers,\nAnd the temples of his Gods."',4811,618,0),U([4930,690,4950,930,4950,1060,5050,1060],70,void 0,void 0),H(5633,1058,!1,1,0),H(5634,1056,!0,-1,0)],_:[[10,1520,1450,1500,900,790,890,720,740,1880,740,1910,800,1770,840,1820,890,1690,910,1700,1440],[10,3600,1450,3570,1260,3560,1120,3670,1150,3790,1130,3770,1450],[10,3880,1390,4e3,1200,4210,990,4270,1100,3940,1460,3880,1390],[10,4310,0,4080,130,3900,280,3740,430,3650,610,3410,700,3270,520,3170,250,3030,10],[30,0,690,720,720,870,1150,1240,1200,4160,1290,4240,830,4360,620,4970,610,4950,1060,6e3,1050,6e3,1500,0,1500,0,690],[10,2580,1250,2740,860,2670,810,2520,680,2520,580,3010,870,3190,960,3150,1060,2860,960,2740,1270],[30,2030,1200,2080,1090,2210,1100,2220,1250,2030,1200],[30,6e3,0,6e3,380,5720,360,5300,210,4560,130,1950,110,800,170,0,190,0,0]],H:[[0,690,720,720,870,1150,1240,1200,4160,1290,4240,830,4360,620,4970,610,4950,1060,6e3,1050,6e3,1500,0,1500,0,690],[1520,1450,1500,900,790,890,720,740,1880,740,1910,800,1770,840,1820,890,1690,910,1700,1440],[3600,1450,3570,1260,3560,1120,3670,1150,3790,1130,3770,1450],[3880,1390,4e3,1200,4210,990,4270,1100,3940,1460,3880,1390],[4310,0,4080,130,3900,280,3740,430,3650,610,3410,700,3270,520,3170,250,3030,10],[2580,1250,2740,860,2670,810,2520,680,2520,580,3010,870,3190,960,3150,1060,2860,960,2740,1270],[2030,1200,2080,1090,2210,1100,2220,1250,2030,1200],[6e3,0,6e3,380,5720,360,5300,210,4560,130,1950,110,800,170,0,190,0,0]]},{Te:"",se:4e3,ie:1500,ke:[5,0],je:[7,2650],Se:[0,0],Le:[0,0],T:[H(809,715,!0,1,.1),U([850,1070,3350,1120],60,.002,0),U([2690,1120,2730,1110,2770,1120],200,.002,0),U([1710,1100,1750,1090,1790,1100],200,.002,0)],_:[[15,0,1490,0,1050,980,1080,1700,1090,3350,1120,4e3,1140,4e3,1500],[30,560,680,830,690,940,900,580,1160,490,810,560,680],[30,3370,1140,3470,900,3670,900,3830,1160],[30,4e3,0,4e3,630,3570,530,3160,230,2770,200,1610,130,430,340,0,370,0,0]],H:[[0,1490,0,1050,980,1080,1700,1090,3350,1120,4e3,1140,4e3,1500],[560,680,830,690,940,900,580,1160,490,810,560,680],[3370,1140,3470,900,3670,900,3830,1160],[4e3,0,4e3,630,3570,530,3160,230,2770,200,1610,130,430,340,0,370,0,0]]},{Te:"The Tower",Ee:e=>{for(let t=0;t<3;t++)Math.random()*e/10>.8&&b(y(Math.random()<.95?2:0,void 0,Math.random()*G.level.se,0,3e4,.01,.9+.04*Math.random(),.5,.005))},se:3e3,ie:4e3,ke:[6,-2650],je:[8,-800],Se:[0,0],Le:[0,0],T:[U([1660,3180,2530,3230,2790,3150,2950,3040,3e3,3040],80,void 0,void 0),U([2900,3080,2920,3050,2950,3050],200,void 0,void 0),U([2320,3220,2340,3210,2360,3220],200,void 0,void 0),U([260,2770,290,2810,270,2850],200,void 0,void 0),W("The wind blows fierce upon the tower.\nHold strong.",1046,2024,0),W("O death, where is thy victory?\nO grave, where is thy sting?",162,1099,.1),U([280,2920,410,3020,760,3160],40,void 0,void 0)],_:[[10,840,2560,1e3,2570,1190,2600,1170,2680,890,2640,820,2650],[10,690,3130,700,2820,740,2370,800,1990,740,1890,730,1810,910,1810,910,1990,1200,2040,1360,2030,1440,2040,1410,2080,1270,2100,890,2120,860,2460,840,2850,860,2960,830,3220,760,3240],[10,1630,3260,1540,3130,1570,2530,1600,2160,1570,1850,1790,1870,1720,2010,1680,2660,1730,3190],[20,0,4e3,0,3790,3e3,3820,3e3,4e3],[50,3e3,3390,2080,3360,1680,3390,1620,3290,1660,3180,2530,3230,2790,3150,2950,3040,3e3,3040,3e3,3390],[30,0,1020,220,1110,300,1340,280,2920,410,3020,760,3160,770,3250,730,3330,0,3270],[10,970,3160,1110,3180,1190,3240,1140,3310,910,3290,930,3210,970,3160],[30,0,10,120,0,60,280,50,1060,0,1070]],H:[[840,2560,1e3,2570,1190,2600,1170,2680,890,2640,820,2650],[690,3130,700,2820,740,2370,800,1990,740,1890,730,1810,910,1810,910,1990,1200,2040,1360,2030,1440,2040,1410,2080,1270,2100,890,2120,860,2460,840,2850,860,2960,830,3220,760,3240],[1630,3260,1540,3130,1570,2530,1600,2160,1570,1850,1790,1870,1720,2010,1680,2660,1730,3190],[0,4e3,0,3790,3e3,3820,3e3,4e3],[3e3,3390,2080,3360,1680,3390,1620,3290,1660,3180,2530,3230,2790,3150,2950,3040,3e3,3040,3e3,3390],[2960,3040,2960,2440,2980,40],[0,1020,220,1110,300,1340,280,2920,410,3020,760,3160,770,3250,730,3330,0,3270],[970,3160,1110,3180,1190,3240,1140,3310,910,3290,930,3210,970,3160],[1940,1520,1940,1460,2480,1460,2490,1500,1940,1520],[2370,1210,2620,1210,2620,1300,2350,1300,2370,1210],[1630,870,1860,900,1860,990,1630,980,1630,870],[640,790,850,800,860,870,630,870,640,790],[1090,860,1350,860,1360,980,1080,950,1090,860],[0,10,120,0,60,280,50,1060,0,1070]]},{Te:"The Plunge",se:4e3,ie:4e3,ke:[7,800],je:[9,-1e3],Se:[0,0],Le:[0,0],T:[H(549,3040,!0,1,0),H(1502,3295,!0,1,.2),H(3687,3092,!0,1,-.2),H(3007,2522,!0,1,-.1),U([3350,1850,3300,1890,3250,1880],200,void 0,void 0),U([2720,970,2570,950,2380,900],100,void 0,void 0),I(600,3150,3100,700)],_:[[20,2330,2160,2590,2170,2600,2240,2460,2250,2330,2260,2330,2160],[20,2780,1510,2540,1520,2490,1470,2520,1430,2780,1430,2780,1510],[20,2790,1800,2550,1800,2540,1750,2790,1740],[20,2840,970,2640,960,2350,950,2330,870,2610,880,2870,900],[30,0,3990,10,3030,600,3040,1e3,3090,1350,3200,1750,3460,2150,3600,2360,3750,2680,3800,2980,3730,3400,3420,3670,3090,4e3,3050,4e3,4e3],[30,4e3,2660,3610,2710,3110,3070,2960,3310,2820,3510,2570,3500,2520,3260,2500,2990,2610,2770,2980,2530,3250,2460,3560,2320,4e3,2300],[30,4e3,0,4e3,1800,3790,1800,2880,2e3,2650,1910,2720,1370,2720,1200,2810,670,2660,390,2210,290,1310,350,840,440,550,670,290,1420,370,1750,320,2160,220,2320,10,2340,0,10]],H:[[2330,2160,2590,2170,2600,2240,2460,2250,2330,2260,2330,2160],[2780,1510,2540,1520,2490,1470,2520,1430,2780,1430,2780,1510],[2790,1800,2550,1800,2540,1750,2790,1740],[2840,970,2640,960,2350,950,2330,870,2610,880,2870,900],[0,3990,10,3030,600,3040,1e3,3090,1350,3200,1750,3460,2150,3600,2360,3750,2680,3800,2980,3730,3400,3420,3670,3090,4e3,3050,4e3,4e3],[4e3,2660,3610,2710,3110,3070,2960,3310,2820,3510,2570,3500,2520,3260,2500,2990,2610,2770,2980,2530,3250,2460,3560,2320,4e3,2300],[4e3,0,4e3,1800,3790,1800,2880,2e3,2650,1910,2720,1370,2720,1200,2810,670,2660,390,2210,290,1310,350,840,440,550,670,290,1420,370,1750,320,2160,220,2320,10,2340,0,10]]},{Te:"Forest of Spikes",se:3e3,ie:3e3,ke:[8,1e3],je:[10,0],Se:[0,0],Le:[0,0],T:[U([2280,2230,2370,2360,2520,2370,2590,2220,2540,2100],70,void 0,void 0),U([330,1990,370,1990,1e3,2100,1700,2050,2160,2140,2280,2230],1e3,void 0,void 0),U([2540,2100,2650,2050,2840,2130,3e3,2100],1e3,void 0,void 0)],_:[[30,2990,0,3e3,830,2730,820,2530,880,2510,1080,2390,1030,2270,870,2e3,1040,1800,910,1290,880,270,810,0,820,10,0],[30,0,1310,380,1330,1270,1340,1560,1390,1980,1390,2160,1260,2180,1150,2280,1050,2380,1200,2380,1330,2450,1430,2680,1480,2770,1600,2650,1720,2350,1670,1510,1790,1080,1750,410,1650,0,1670],[30,0,2990,0,2060,220,2060,370,1990,1e3,2100,1700,2050,2160,2140,2280,2230,2370,2360,2520,2370,2590,2220,2540,2100,2650,2050,2840,2130,3e3,2100,2990,2990]],H:[[2990,0,3e3,830,2730,820,2530,880,2510,1080,2390,1030,2270,870,2e3,1040,1800,910,1290,880,270,810,0,820,10,0],[0,1310,380,1330,1270,1340,1560,1390,1980,1390,2160,1260,2180,1150,2280,1050,2380,1200,2380,1330,2450,1430,2680,1480,2770,1600,2650,1720,2350,1670,1510,1790,1080,1750,410,1650,0,1670],[0,2990,0,2060,220,2060,370,1990,1e3,2100,1700,2050,2160,2140,2280,2230,2370,2360,2520,2370,2590,2220,2540,2100,2650,2050,2840,2130,3e3,2100,2990,2990]]},{Te:"",se:5500,ie:3e3,Ee:e=>{C(N,e),0===R&&G.oe.x>300?(A("IMPOSSIBLE!",N.x,N.y-100),R=1):1===R?(N.V+=.35,(N.x>2800||N.x>G.l+G.h)&&(N.V=0,N.x=4400,N.y=1830,R=2)):2===R?(N.V+=.3,N.x>4600&&(N.V=0,R=3)):3===R&&G.oe.x>4400?(A("NO! ALL MY TRAPS HAVE FAILED!\nBUT MY THIRTEEN LEGS WILL NOT!",N.x,N.y-100),R=4):4!==R||N.i||(N.V+=.1,N.x<4620&&(N.K=-2),N.y>2050&&(A("Ughgh...",N.x,N.y-80),setTimeout((()=>G.mode=2),1e3),G.winTime=G.F,N.i=!0))},Fe:()=>{f(N),w(d,N.x-G.l,N.y-G.o)},ke:[9,0],je:[0,0],Se:[0,0],Le:[0,0],T:[U([-140,2070,40,2100],500,void 0,void 0),U([770,2060,830,2060],100,void 0,void 0),U([830,2050,930,2040],200,void 0,void 0),U([920,2040,1370,2070],250,void 0,void 0),U([1330,2050,1470,2080,1550,2140,1680,2140,1830,2080,2230,2090,2510,2150,2820,2140],40,.003,10),U([2240,1470,2450,1460],30,.003,500),U([2270,1030,2440,1020],30,.003,500),I(3150,2150,1e3,300),U([4750,2110,4770,2330,4860,2360,4960,2350,4960,2350,5e3,2280],80,void 0,void 0)],_:[[3,2930,1800,2790,1800,2780,1750,2940,1750],[3,2240,1470,2450,1460,2440,1520,2230,1520,2240,1470],[3,2270,1030,2440,1020,2450,1090,2260,1090,2270,1030],[30,2850,2150,2880,1910,2900,1500,2890,1130,2870,890,3090,880,3070,990,3100,2160],[30,3860,0,3690,90,3300,180,3170,370,3100,550,2820,570,2720,460,2590,130,2380,70,2100,0],[30,0,2990,0,2060,440,2070,810,2070,1010,2020,1330,2050,1470,2080,1550,2140,1680,2140,1830,2080,2230,2090,2510,2150,2820,2140,3e3,2130,3e3,2130,3120,2140,3250,2240,3360,2300,3640,2360,3980,2390,4130,2210,4200,2130,4410,2090,4500,1940,4690,1960,4750,2110,4770,2330,4860,2360,4960,2350,5e3,2280,5040,2990],[30,5030,3e3,4990,2670,5e3,2170,5130,1690,5100,1330,5100,310,5410,300,5490,300,5490,3e3]],H:[[2930,1800,2790,1800,2780,1750,2940,1750],[2240,1470,2450,1460,2440,1520,2230,1520,2240,1470],[2270,1030,2440,1020,2450,1090,2260,1090,2270,1030],[2850,2150,2880,1910,2900,1500,2890,1130,2870,890,3090,880,3070,990,3100,2160],[3860,0,3690,90,3300,180,3170,370,3100,550,2820,570,2720,460,2590,130,2380,70,2100,0],[0,2990,0,2060,440,2070,810,2070,1010,2020,1330,2050,1470,2080,1550,2140,1680,2140,1830,2080,2230,2090,2510,2150,2820,2140,3e3,2130,3e3,2130,3120,2140,3250,2240,3360,2300,3640,2360,3980,2390,4130,2210,4200,2130,4410,2090,4500,1940,4690,1960,4750,2110,4770,2330,4860,2360,4960,2350,5e3,2280,5040,2990],[5030,3e3,4990,2670,5e3,2170,5130,1690,5100,1330,5100,310,5410,300,5490,300,5490,3e3]]}],Q=e=>{const t=q[e];G.level=t,G.p=e,G.Ge=t.Ge||[],G.T=t.T,G.u=[],G.messages=[],T(),t.We||(t.We=!0,A(t.Te,100,100,void 0,!0)),t.De&&t.De()},X=e=>{G.Me.He>0&&(G.Me.He-=e),void 0!==G.Me.pending&&(G.Me.He<=0&&G.re>0&&(F(...[,,999,.01,.04,.02,3,3.5,,-12,41,.27,,,,,,.57,.03,.05]),G.re--,k.push([-1]),G.Me.He=500,G.oe.V+=2*G.Me.pending.we,G.oe.K+=2*G.Me.pending.ge,G.de.Oe=200,G.de.Ue=G.de.he,G.re<=0&&(setTimeout((()=>A("Ughgh...",0,-80,0)),400),G.oe.i=!0,G.Me.Ze=2e3)),G.Me.pending=void 0)},$=e=>{G.Me.Ze>0&&(G.Me.Ze-=e,G.Me.Ze<=0&&(F(...[2,0,200,.06,.12,.39,,2,-.2,-.1,50,,.06,,,.1,.19,.65,.27]),G.oe.i=!1,G.oe.x=G.Me.fe.x-100*G.Me.fe.s,G.oe.y=G.Me.fe.y-200,Q(G.Me._e),G.re=G.ve))},ee=e=>{G.oe.ye||G.oe.me&&Math.abs(G.oe.K)<1?(G.de.Oe=100,G.de.Ue=G.de.he):G.de.Oe>=0&&(G.de.Oe-=e),!G.oe.i&&G.de.buffer>0&&(G.de.buffer-=e,(G.de.Oe>=0||G.de.Ue)&&G.de.buffer>=0&&(G.de.Ie=G.F,G.de.buffer=0,G.de.Oe<0&&(G.de.Ue=!1),F(...[,,173,.03,.06,.05,1,.6,,91,,,,,,,,.6,.05]))),G.F-G.de.Ie<35?G.oe.K=-2:(G.keys.ArrowUp||G.keys.w)&&G.F-G.de.Ie<85&&(G.oe.K=Math.min(G.oe.K,-2))},te=e=>{G.oe.i||(G.de.Pe||!G.keys.ArrowUp&&!G.keys.w||(G.de.buffer=50),(G.keys.ArrowLeft||G.keys.a)&&(G.oe.v=-1,G.oe.V-=.3),(G.keys.ArrowRight||G.keys.d)&&(G.oe.v=1,G.oe.V+=.3)),G.de.Pe=G.keys.ArrowUp||G.keys.w},le=e=>{G.F+=e,0===G.mode?(ctx.clearRect(0,0,G.h,G.M),M(),f(G.oe),u(),_(),ctx.fillStyle="#fffa",ctx.fillRect(0,0,G.h,G.M),ctx.fillStyle="#000",ctx.font="bold 60px serif",ctx.textAlign="center",ctx.fillText("King Longlegs",G.h/2,G.M/2-100),ctx.font="25px sans",ctx.fillText("Use the arrow keys or WASD to move.",G.h/2,G.M/2),ctx.fillText("Press any key to continue.",G.h/2,G.M/2+40),Object.entries(G.keys).some((e=>e[1]))&&(G.mode=1)):1===G.mode?(ctx.clearRect(0,0,G.h,G.M),M(),f(G.oe),(()=>{for(const e of G.Ge)f(e.ce)})(),u(),G.level.Fe&&G.level.Fe(),p(),_(),p(!0),(()=>{ctx.save(),ctx.translate(-G.l,-G.o);for(let e=0;e<G.messages.length;e++){const t=G.messages[e];void 0!==t&&(t.big?(ctx.font="bold 60px serif",ctx.textAlign="left"):(ctx.font="16px sans-serif",ctx.textAlign="center"),t.F>1e3?ctx.fillStyle="#000":ctx.fillStyle="#000000"+Math.floor(255*t.F/1e3).toString(16),x(t.x+(t.big?G.l:0),t.y+(t.big?G.o:0),t.text))}ctx.restore()})(),(()=>{l(2,14,1);for(let e=0;e<S;e++)ctx.beginPath(),ctx.arc(40*e+40,40,8,0,2*Math.PI),ctx.fill(),ctx.stroke();for(let e=S;e<G.ve;e++)ctx.beginPath(),ctx.arc(40*e+40,40,8,0,2*Math.PI),ctx.stroke()})(),G.level.Ee&&G.level.Ee(e),(()=>{const e=G.level,t=G.l-G.oe.x,l=G.o-G.oe.y;if(G.oe.x<20)Q(e.ke[0]),G.oe.y+=e.ke[1],G.oe.x=G.level.se-20-1;else if(G.oe.x>e.se-20)Q(e.je[0]),G.oe.y+=e.je[1],G.oe.x=21;else if(G.oe.y<50)Q(e.Se[0]),G.oe.x+=e.Se[1],G.oe.y=G.level.ie-100;else{if(!(G.oe.y>e.ie-100))return;Q(e.Le[0]),G.oe.x+=e.Le[1],G.oe.y=50}const o=g(G.oe.x,G.oe.y+i-30,0,1,30);o.F<50&&(G.oe.y=o.I-i-1),G.l=t+G.oe.x,G.o=l+G.oe.y})(),(e=>{te(),X(e),$(e),ee(e),C(G.oe,e)})(e),Ge(e),oe(e),(e=>{for(let t=0;t<G.u.length;t++){const l=G.u[t];if(void 0!==l)if((l.q+=e)>l.X)G.u[t]=void 0;else{if(l.x+=l.V*e,l.y+=l.K*e,l.V*=Math.pow(l.$,e),l.K*=Math.pow(l.$,e),l.V+=l.ax*e+l.te*e,l.K+=(l.g+l.ay)*e,l.ax*=Math.pow(.99,e),l.ay*=Math.pow(.99,e),10*Math.random()<l.ee&&(l.ax+=.02*(Math.random()-.5)*l.ee,l.ay+=.02*(Math.random()-.5)*l.ee),0!==l.le){const e=l.V*l.V+l.K*l.K,o=l.le*Math.sin((l.q+(l.x+l.y)/10+17*t)/(1e3+(731*t&511)))/(4+e);l.ax-=l.K*o,l.ay+=l.V*o}if(1===l.N){let e=l.x-l.R[0],t=l.y-l.R[1];const o=Math.hypot(e,t);l.V-=e/(o+10)/4,l.K-=t/(o+10)/4}else 2!==l.N||l.A||g(l.x,l.y,l.V,l.K,4).F<e&&(G.u[t]=void 0)}}})(e),(e=>{for(let t=0;t<G.messages.length;t++){const l=G.messages[t];void 0!==l&&(l.F-=e,l.F<0?G.messages[t]=void 0:l.F<1e3&&(l.y-=5e-5*e*(1e3-l.F)))}})(e),(e=>{if(k.length>0){const t=k[0];if(0===j.length)for(let e=0;e<10;e++){let l;t[0]>0?(l=y(1,[40*S+40,40],t[1]-G.l,t[2]-G.o,3e3,1e-10,.97,1,1e-4),l.A=!0,l.m=!0):(l=y(0,void 0,40*S+G.l,40+G.o,1e4,.005,.99,.5,.005),l.m=!0),l.V=2*(Math.random()-.5),l.K=2*(Math.random()-.5),L=3e3,j[e]=l,b(l)}else L-=e,(L<0||t[0]<0||j.every((e=>Math.hypot(e.x-e.R[0],e.y-e.R[1])<10||e.q>=e.X)))&&(S+=k.shift()[0],t[0]>0&&j.forEach((e=>e.X=e.q)),j.length=0)}else S=G.re})(e),T()):2===G.mode&&(ctx.clearRect(0,0,G.h,G.M),M(),f(G.oe),u(),_(),ctx.fillStyle="#fffa",ctx.fillRect(0,0,G.h,G.M),ctx.fillStyle="#000",ctx.font="bold 60px serif",ctx.textAlign="center",ctx.fillText("Victory!",G.h/2,G.M/2-100),ctx.font="25px serif",ctx.fillText("The evil thirteen-legged king is no more.",G.h/2,G.M/2))},oe=e=>{for(let t=0;t<G.level.T.length;t++){const l=G.level.T[t];"spikes"===l.k?Z(l,e):"words"===l.k?D(l,e):"lamp"===l.k?O(l,e):"water"===l.k&&P(l,e)}},Ge=e=>{for(const t of G.Ge)"talker"===t.k&&J(t,e)},ae=document.querySelector("canvas");let ce;ae.height=Math.min(1e3,innerHeight-50),ae.width=Math.min(1600,innerWidth-50),ctx=ae.getContext("2d"),G={},(()=>{let e=ctx.canvas.height<900?ctx.canvas.height/900:1;ctx.scale(e,e),G={mode:0,level:void 0,p:0,oe:B(1,440,1700,2),re:3,ve:3,Me:{pending:void 0,He:0,Ze:0,fe:void 0,_e:0},de:{Ie:-100,Oe:0,buffer:0,Pe:!1,Ue:!1,he:!1},Ge:[],T:[],u:[],messages:[],l:0,o:0,h:ctx.canvas.width/e,M:ctx.canvas.height/e,keys:{},F:0},Q(0),G.Me.fe=G.level.T.find((({k:e})=>"lamp"===e)),ctx.lineCap="round"})(),addEventListener("keydown",(e=>G.keys[e.key]=!0)),addEventListener("keyup",(e=>G.keys[e.key]=!1)),addEventListener("blur",(()=>{G.keys={},ce=void 0}));const se=e=>{if(null!=e&&"visible"===document.visibilityState){le(void 0===ce?0:(e-ce)/1),ce=e}requestAnimationFrame(se)};se()}();</script></body></html>
