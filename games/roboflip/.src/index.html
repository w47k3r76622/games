<!DOCTYPE HTML>
<html>
<meta charset="UTF-8">
<head>
<title>Loading</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>body{margin:0;padding:0;background:#222;font-family:"Lucida Console",Courier,monospace;color:#a3ce27;-webkit-touch-callout:none; -webkit-user-select:none;-moz-user-select:none;user-select:none;} canvas {background:#000;display:block;margin:0;display:none;}h1{margin:auto;position:absolute;top:50%;width:100%;text-align:center;transform: translate3d(0,0,0); }#l{ font-size: 150%;}</style>
</head>
<body>
<div id="l"><h1 id="h">Loading</h1></div>
<canvas id="b"></canvas>
<script>

function SfxrParams(){this.setSettings=function(a){for(var b=0;b<24;b++){this[String.fromCharCode(97+b)]=a[b]||0}if(this["c"]<0.01){this["c"]=0.01}var c=this["b"]+this["c"]+this["e"];if(c<0.18){var d=0.18/c;this["b"]*=d;this["c"]*=d;this["e"]*=d}}}function SfxrSynth(){this._params=new SfxrParams();var k,j,h,b,e,f,d,g,c,m,a,l;this.reset=function(){var n=this._params;b=100/(n.f*n.f+0.001);e=100/(n.g*n.g+0.001);f=1-n.h*n.h*n.h*0.01;d=-n.i*n.i*n.i*0.000001;if(!n.a){a=0.5-n.n/2;l=-n.o*0.00005}g=1+n.l*n.l*(n.l>0?-0.9:10);c=0;m=n.m==1?0:(1-n.m)*(1-n.m)*20000+32};this.totalReset=function(){this.reset();var n=this._params;k=n.b*n.b*100000;j=n.c*n.c*100000;h=n.e*n.e*100000+12;return((k+j+h)/3|0)*3};this.synthWave=function(E,B){var W=this._params;var X=W.s!=1||W.v,o=W.v*W.v*0.1,C=1+W.w*0.0003,ah=W.s*W.s*W.s*0.1,T=1+W.t*0.0001,S=W.s!=1,z=W.x*W.x,M=W.g,ag=W.q||W.r,K=W.r*W.r*W.r*0.2,ae=W.q*W.q*(W.q<0?-1020:1020),Z=W.p?((1-W.p)*(1-W.p)*20000|0)+32:0,N=W.d,U=W.j/2,R=W.k*W.k*0.01,t=W.a;var s=k,I=1/k,G=1/j,F=1/h;var r=5/(1+W.u*W.u*20)*(0.01+ah);if(r>0.8){r=0.8}r=1-r;var ac=false,ai=0,u=0,D=0,H=0,ad=0,L,x=0,af,y=0,V,Q=0,O,w=0,J,A,q=0;var P=new Array(1024),v=new Array(32);for(var ab=P.length;ab--;){P[ab]=0}for(var ab=v.length;ab--;){v[ab]=Math.random()*2-1}for(var ab=0;ab<B;ab++){if(ac){return ab}if(Z){if(++w>=Z){w=0;this.reset()}}if(m){if(++c>=m){m=0;b*=g}}f+=d;b*=f;if(b>e){b=e;if(M>0){ac=true}}af=b;if(U>0){q+=R;af*=1+Math.sin(q)*U}af|=0;if(af<8){af=8}if(!t){a+=l;if(a<0){a=0}else{if(a>0.5){a=0.5}}}if(++u>s){u=0;switch(++ai){case 1:s=j;break;case 2:s=h}}switch(ai){case 0:D=u*I;break;case 1:D=1+(1-u*G)*2*N;break;case 2:D=1-u*F;break;case 3:D=0;ac=true}if(ag){ae+=K;V=ae|0;if(V<0){V=-V}else{if(V>1023){V=1023}}}if(X&&C){o*=C;if(o<0.00001){o=0.00001}else{if(o>0.1){o=0.1}}}A=0;for(var aa=8;aa--;){y++;if(y>=af){y%=af;if(t==3){for(var Y=v.length;Y--;){v[Y]=Math.random()*2-1}}}switch(t){case 0:J=((y/af)<a)?0.5:-0.5;break;case 1:J=1-y/af*2;break;case 2:O=y/af;O=(O>0.5?O-1:O)*6.28318531;J=1.27323954*O+0.405284735*O*O*(O<0?1:-1);J=0.225*((J<0?-1:1)*J*J-J)+J;break;case 3:J=v[Math.abs(y*32/af|0)]}if(X){L=x;ah*=T;if(ah<0){ah=0}else{if(ah>0.1){ah=0.1}}if(S){ad+=(J-x)*ah;ad*=r}else{x=J;ad=0}x+=ad;H+=x-L;H*=1-o;J=H}if(ag){P[Q%1024]=J;J+=P[(Q-V+1024)%1024];Q++}A+=J}A*=0.125*D*z;E[ab]=A>=1?32767:A<=-1?-32768:A*32767|0}return B}}var synth=new SfxrSynth();window.jsfxr=function(d){synth._params.setSettings(d);var h=synth.totalReset();var f=new Uint8Array(((h+1)/2|0)*4+44);var k=synth.synthWave(new Uint16Array(f.buffer,44),h)*2;var b=new Uint32Array(f.buffer,0,44);b[0]=1179011410;b[1]=k+36;b[2]=1163280727;b[3]=544501094;b[4]=16;b[5]=65537;b[6]=44100;b[7]=88200;b[8]=1048578;b[9]=1635017060;b[10]=k;k+=44;var g=0,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="data:audio/wav;base64,";for(;g<k;g+=3){var j=f[g]<<16|f[g+1]<<8|f[g+2];c+=e[j>>18]+e[j>>12&63]+e[j>>6&63]+e[j&63]}return c};var $={v:0.1,cols:{black:"#000",ash:"#9d9d9d",blind:"#fff",bloodred:"#be2633",pigmeat:"#e06f8b",oldpoop:"#493C2B",newpoop:"#a46422",blaze:"#eb8931",zornskin:"#f7e26b",shadegreen:"#2f484e",leafgreen:"#44891A",slimegreen:"#A3CE27",nightblue:"#1B2632",seablue:"#005784",skyblue:"#31A2F2",cloudblue:"#B2DCEF"}};var initializing=false,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var lastClassId=0;Class=function(){};var inject=function(d){var c=this.prototype;var b={};for(var a in d){if(typeof(d[a])=="function"&&typeof(c[a])=="function"&&fnTest.test(d[a])){b[a]=c[a];c[a]=(function(e,f){return function(){var h=this._super;this._super=b[e];var g=f.apply(this,arguments);this._super=h;return g}})(a,d[a])}else{c[a]=d[a]}}};Class.extend=function(e){var d=this.prototype;initializing=true;var c=new this();initializing=false;for(var b in e){if(typeof(e[b])=="function"&&typeof(d[b])=="function"&&fnTest.test(e[b])){c[b]=(function(f,g){return function(){var j=this._super;this._super=d[f];var h=g.apply(this,arguments);this._super=j;return h}})(b,e[b])}else{c[b]=e[b]}}function a(){if(!initializing){if(this.staticInstantiate){var g=this.staticInstantiate.apply(this,arguments);if(g){return g}}for(var f in this){if(typeof(this[f])=="object"){this[f]=ig.copy(this[f])}}if(this.init){this.init.apply(this,arguments)}}return this}a.prototype=c;a.prototype.constructor=a;a.extend=window.Class.extend;a.inject=inject;a.classId=c.classId=++lastClassId;return a};$.Load=function(a){this.g=a;this.imgsLoaded=0;this.imgsTotal=Object.keys($.data.i).length;this.init=function(){var d=this.g,b="data:image/gif;base64,",c=$.data.i,e;for(e in c){if(c.hasOwnProperty(e)){d.imgs[e]=new Image();d.imgs[e].onload=this.checkLoaded();d.imgs[e].src=b+c[e]}}};this.checkLoaded=function(){var c=this.g,b=this,d;this.imgsLoaded+=1;if(b.imgsLoaded===b.imgsTotal){window.setTimeout(function(){b.mkFonts()},10)}};this.mkFonts=function(){var c=this.g,e={b:[0,0,0],w:[255,255,255],g:[163,206,39],p:[224,111,139]},b=c.imgs,d;for(d in e){c.fonts[d]=$.H.resize(c.imgs.font,1,e[d])}for(d in b){b[d+"_w"]=$.H.resize(b[d],1,[255,255,255])}window.setTimeout(function(){c.init()},10)};this.init()};$.Game=function(){this.w=480;this.h=320;this.bgs={};this.imgs={};this.fonts={};this.ents=[];this.events=[];this.sfx={};this.plays=0;this.time=0;this.dt=0;this.fps=0;this.hiScore=parseInt(localStorage.getItem("hiScore"),10)||100;this.boot=function(b){var a=this;this.startState=b||"Title";this.c=document.getElementsByTagName("canvas")[0];this.ctx=this.c.getContext("2d");this.c.style.width=this.w+"px";this.c.style.height=this.h+"px";this.draw=new $.Draw(this.ctx,this.w,this.h);this.load=new $.Load(this);document.title=$.data.title};this.init=function(){var b=this,a=navigator.userAgent.toLowerCase();b.mobile="createTouch" in document||false;b.mobile="createTouch" in document||false;b.android=a.indexOf("android")>-1;b.ios=/ipad|iphone|ipod/.test(a);b.firefox=a.indexOf("firefox")>-1;b.input=new $.Input();b.input.init(b);b.emitter=new $.Emitter(b);if(this.ios){this.audio={play:function(){},say:function(){}}}else{this.audio=new $.Audio($.data.sfx);this.audio.init()}$.H.el("b").style.display="block";$.H.el("l").style.display="none";b.resize();$.H.listen("resize",function(){b.resize()});$.H.listen("orientationchange",function(){b.resize()});b.shake=new $.Shake(b);b.changeState(b.startState);function c(){b.loop();requestAnimationFrame(c,b.c)}c()};this.changeState=function(b){var a=this;a.ents=[];a.events=[];a.tick=0;a.state=new $[b](a)};this.addEvent=function(a){this.events.push(a)};this.resize=function(){var e=window.innerHeight,b=window.innerWidth,c=this.w/this.h,a=e*c,d=~~(b-a)/2;scale=a/this.w;if(b<e){$.H.el("l").style.display="block";$.H.el("h").innerHTML="Rotate Device";$.H.el("b").style.display="none"}else{$.H.el("l").style.display="none";$.H.el("b").style.display="block"}this.c.width=this.w;this.c.height=this.h;this.w2=this.w/2;this.h2=this.h/2;this.c.style.width=~~(a)+"px";this.c.style.height=~~(e)+"px";this.c.style.marginLeft=~~((b-a)/2)+"px"};this.loop=function(b){var c=this,a=new Date().getTime();this.dt=a-(this.time||a);this.fps=~~(1000/this.dt);this.time=a;c.shake.update();c.state.update();c.state.render();c.tick+=(c.dt/1000)};this.countGroup=function(b){var d=this.ents,c=d.length,a=0;while(c--){if(d[c].group===b){a+=1}}return a};this.mkFont=function(a,d){var b=this,c=b.draw.scale(b.fonts[a],d);c.scale=d;return c};this.findClosest=function(j,l){var h=this,d=h.ents.length,b=-1.5,a=h.w*2,c,f,k;while(d--){f=h.ents[d];if(f.group===l){k=$.H.getDist(j,f);if(k<a){a=k;c=f}}}if(c){b=$.H.getAngle(c,j)}return{dist:a,angle:b,e:c}}};$.H={listen:function(a,b){window.addEventListener(a,b,false)},el:function(a){return document.getElementById(a)},rnd:function(b,a){return ~~(Math.random()*a)+b},rndArray:function(b){return b[~~(Math.random()*b.length)]},textWidth:function(a,b){return(a.length*(3*b.scale))+(a.length*(1*b.scale))},fullScreen:function(a){if(a.requestFullscreen){a.requestFullscreen()}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}else{if(a.msRequestFullscreen){a.msRequestFullscreen()}}}}},mkCanvas:function(b,d){var e=document.createElement("canvas"),a=e.getContext("2d");e.width=b;e.height=d;a.mozImageSmoothingEnabled=false;a.webkitImageSmoothingEnabled=false;a.msImageSmoothingEnabled=false;a.imageSmoothingEnabled=false;return e},resize:function(j,e,a){e=e||1;a=a||false;var c=j.width*e;var q=j.height*e;var n=document.createElement("canvas");n.width=j.width;n.height=j.height;var b=n.getContext("2d");b.drawImage(j,0,0);var g=b.getImageData(0,0,j.width,j.height);var f=document.createElement("canvas");f.width=c;f.height=q;var o=f.getContext("2d");var p=o.getImageData(0,0,c,q);var l,m;for(l=0;l<q;l++){for(m=0;m<c;m++){var k=(Math.floor(l/e)*j.width+Math.floor(m/e))*4;var h=(l*c+m)*4;p.data[h]=g.data[k];p.data[h+1]=g.data[k+1];p.data[h+2]=g.data[k+2];p.data[h+3]=g.data[k+3];if(g.data[k+3]===0){p.data[h]=0;p.data[h+1]=0;p.data[h+2]=0;p.data[h+3]=0}else{if(a){p.data[h]=a[0];p.data[h+1]=a[1];p.data[h+2]=a[2];p.data[h+3]=255}}}}o.putImageData(p,0,0);var d=new Image();d.src=f.toDataURL("image/png");return d}};$.Draw=function(b,a,c){this.ctx=b;this.w=a;this.h=c;this.clear=function(){this.ctx.clearRect(0,0,this.w,this.h)};this.rect=function(d,j,e,g,f){this.ctx.fillStyle=f;this.ctx.fillRect(~~d,~~j,e,g)};this.circle=function(d,h,g,f){var e=this.ctx;d=d+(g/2);h=h+(g/2);e.beginPath();e.arc(d,h,g,0,Math.PI*2,true);e.closePath();e.fillStyle=f;e.fill()};this.rotate=function(g,e){var j=document.createElement("canvas"),d=j.getContext("2d"),f=Math.max(g.width,g.height)+6,h=e*(180/Math.PI);j.width=f;j.height=f;d.translate(f/2,f/2);d.rotate(e+Math.PI/2);d.drawImage(g,-(g.width/2),-(g.height/2));return j};this.scale=function(e,f,h){var g=$.H.mkCanvas(e.width*f,e.height*f),d=g.getContext("2d");if(g.width){d.save();d.scale(f,f);d.drawImage(e,0,0);d.restore()}return g};this.flip=function(g,k,f){var j=$.H.mkCanvas(g.width,g.height),m=j.getContext("2d"),h=k?-1:1,l=f?-1:1,e=k?g.width*-1:0,d=f?g.height*-1:0;j.width=g.width;j.height=g.height;m.save();m.scale(h,l);m.drawImage(g,e,d,g.width,g.height);m.restore();return j};this.text=function(t,l,o,n){var j=0,r=this.ctx,q=65,g=0,p=3*l.scale,k=5*l.scale,m=1*l.scale,d=$.H.textWidth(t,l),e=0;if(typeof(t)==="number"||t[0]==="0"){t+="";g=43}o=o||(this.w-d)/2;for(j=0;j<t.length;j+=1){e=((t.charCodeAt(j)-q)+g)*(p+m);if(e>-1){r.drawImage(l,e,0,p,k,~~o,~~n,p,k)}o+=p+m}}};$.Audio=function(a){this.sounds=a;this.sfx={};this.init=function(){var b;for(b in this.sounds){this.add(b,10,$.data.sfx[b])}};this.add=function(d,f,e){var c;this.sfx[d]={tick:0,pool:[]};for(c=0;c<f;c++){var b=new Audio();b.src=jsfxr(e);this.sfx[d].pool.push(b)}};this.play=function(b){var c=this.sfx[b];c.pool[c.tick].play();c.tick=(c.tick<c.pool.length-1)?c.tick+=1:c.tick=0};this.say=function(d,b){if(typeof SpeechSynthesisUtterance!=="undefined"){var c=new SpeechSynthesisUtterance(d);c.pitch=0.1;c.rate=b||0.7;speechSynthesis.speak(c)}}};$.Input=function(){this.init=function(c){var b=this,a=window.addEventListener;this.g=c;b.k=[];b.k[32]=0;b.k[16]=0;b.touching=0;b.touchLeft=0;b.touchRight=0;a("touchstart",function(d){b.touching=1;b.trackTouch(d.touches)});a("touchmove",function(d){d.preventDefault();b.trackTouch(d.touches)});a("touchend",function(d){d.preventDefault();b.trackTouch(d.touches);b.touching=0});a("keydown",function(d){b.k[d.keyCode]=1},false);a("keyup",function(d){b.k[d.keyCode]=0},false)};this.trackTouch=function(e){var k=this,g=this.g.c,d=g.offsetTop,f=g.offsetLeft,a=parseInt(g.style.width,10)/g.width,j,h,b;k.touchLeft=0;k.touchRight=0;for(b=0;b<e.length;b+=1){if(b>1){break}j=~~((e[b].pageX-f)/a);h=~~((e[b].pageY-d)/a);if(j<g.width/2){this.touchLeft=1}else{this.touchRight=1}}}};$.Sprite=Class.extend({init:function(a,b){var c;this.g=a;this.angle=0;this.id=Date.now();this.offscreen=false;this.remove=false;this.dead=false;this.tick=0;this.vx=0;this.vy=0;this.scale=1;this.alpha=1;this.col=$.cols.slimegreen;this.frames=1;this.frame=1;this.gravity=0;this.frameRate=80;this.frameNext=0;this.hurt=0;this.hurtTime=200;for(c in b){this[c]=b[c]}},update:function(){var a=this.g;this.tick+=(a.dt/100);this.lastX=this.x;this.lastY=this.y;this.x+=this.vx*a.dt;this.y+=this.vy*a.dt;if(this.gravity){this.vy+=this.gravity*a.dt}this.offscreen=this.checkOffScreen();this.cx=this.x+(this.w/2);this.cy=this.y+(this.y/2);if(this.frameNext<0){this.frameNext=this.frameRate;this.frame=(this.frame===this.frames)?1:this.frame+=1}this.frameNext-=a.dt},render:function(){var b=this.g,a=this.i;if(a){if(this.flipped){a=b.draw.flip(a,0,1)}if(this.flipX){a=b.draw.flip(a,1,0)}b.ctx.drawImage(a,(this.frame*this.w)-this.w,0,this.w,this.h,~~this.x,~~this.y,this.w,this.h)}else{this.g.draw.rect(~~this.x,~~this.y,this.w,this.h,this.col)}},keepOnScreen:function(){var b=this.g,a=b.bg.ground||0,c=false;if(this.x<0){this.x=0;c=true}else{if(this.x>(b.w-this.w)){this.x=b.w-this.w;c=true}}if(this.y<a){this.y=a;this.jumping=false;this.flipping=false;this.jumpCount=0;c=true}else{if((this.y)>(b.h-a)-this.h){this.y=b.h-this.h-a;this.jumping=false;this.flipping=false;this.jumpCount=0;c=true}}return c},checkOffScreen:function(){var a=this.g;return(this.x<0||this.x>(a.w-this.w)||this.y<0||this.y>(a.h-this.h))},doDamage:function(a){this.remove=true},kill:function(){this.dead=true;this.remove=true},receiveDamage:function(a){this.kill()},hitGroup:function(c){var b=this.g,a=b.ents.length;while(a--){if(b.ents[a]&&b.ents[a].group===c&&b.ents[a].id!==this.id&&this.hit(b.ents[a])){this.doDamage(b.ents[a]);b.ents[a].receiveDamage(this)}}},hit:function(a){return !((a.y+a.h-1<this.y)||(a.y>this.y+this.h-1)||(a.x+a.w-1<this.x)||(a.x>this.x+this.w-1))},mkImg:function(a){var b=this.g;this.i=b.draw.scale(b.imgs[a],this.scale);this.w=(this.i.width/this.frames);this.h=this.i.height;this.iHurt=b.draw.scale(b.imgs[a+"_w"],this.scale)}});$.State=Class.extend({init:function(a){this.g=a;this.fader=0;a.jump=0;a.lastJump=0;a.doJump=false},update:function(){var b=this.g,a=b.ents.length,c;b.lastJump=b.jump;b.jump=(b.mobile)?b.input.touchLeft:b.input.k[32];b.doJump=(b.lastJump===0&b.jump===1)?true:false;while(a--){if(b.ents[a]&&!b.ents[a].remove){b.ents[a].update()}}a=b.ents.length;while(a--){if(b.ents[a].remove){b.ents.splice(a,1)}}a=b.events.length;while(a--){c=b.events[a];if(!c){break}c.time-=(b.dt/1000);if(c.time<0){c.cb.call(this);b.events.splice(a,1)}}this.fader=Math.sin(b.tick*3)+1},render:function(){var c=this.g,b,a,d;for(b=0;b<c.ents.length;b+=1){if(!c.ents[b].remove){c.ents[b].render()}}}});$.Emitter=function(a){this.g=a;this.particle=function(e,b,f){var d=this.g,c;if(d.ios){return}for(c=0;c<e;c+=1){d.ents.push(new $.Particle(d,{x:b,y:f}))}};this.explosion=function(c,b,j,f,h){var e=this.g,d=$.H.rnd;while(c--){window.setTimeout(function(){e.ents.push(new $.Explosion(e,{x:b+d(-10,10),y:j+d(-10,10),magnitude:h,particles:f}))},c*150)}}};$.Particle=$.Sprite.extend({init:function(b,d){var c=["blaze"],a;this._super(b,d);this.name="particle";this.scale=1;this.group="na";this.w=4;this.h=4;this.v=(Math.random()*5)+5;this.lifespan=$.H.rnd(20,50);this.ttl=this.lifespan;this.alpha=1;this.vx=($.H.rnd(0,600)-300)/1000;this.vy=($.H.rnd(0,600)-300)/1000},update:function(){this._super();this.ttl-=1;if(this.ttl<0){this.remove=true}},render:function(){var a=this.g;a.ctx.globalAlpha=(this.ttl/this.lifespan);a.draw.rect(this.x,this.y,5,5,$.cols.zornskin);a.ctx.globalAlpha=1}});$.Tile=Class.extend({init:function(a,b){this.g=a;this.i=b.i;this.x=b.x;this.y=b.y;this.speed=(b.speed/1000);this.w=this.i.width;this.h=this.i.height;this.ctx=b.ctx;this.numTiles=Math.ceil(a.w/this.w)+2;this.tiles=[];for(i=0;i<this.numTiles;i+=1){this.tiles.push({x:i*this.w,y:this.y})}},update:function(){var c=this.g,b,a,d;for(b=0;b<this.numTiles;b+=1){a=this.tiles[b];d=this.speed*c.dt;if(a.x<-this.w){a.x=this.findLastTile()+this.w}a.x+=d}},findLastTile:function(){var c,b=0,a=this.tiles.length;while(a--){b=(this.tiles[a].x>b)?this.tiles[a].x:b}return b},render:function(){var b,a;for(b=0;b<this.numTiles;b+=1){a=this.tiles[b];this.ctx.drawImage(this.i,~~a.x,~~a.y)}}});$.Shake=function(a){this.g=a;this.c=a.c;this.ttl=0;this.mag=0;this.start=function(c,b){this.mag=c;this.ttl=b;this.l=(window.innerWidth-this.c.style.width)/2};this.update=function(){var d=this.g,e=this.c,b=$.H.rnd(-this.mag,this.mag);if(d.ios){return}this.ttl-=1;if(this.ttl===0){e.style.marginLeft=this.l+"px";e.style.marginTop="0px"}else{if(this.ttl>0){e.style.marginTop=b+"px";e.style.marginLeft=(b+this.l)+"px"}}}};$.Bg=Class.extend({init:function(d,e){e=e||{};var a=e.numStars||20,b=d.imgs;sc=d.draw.scale;this.g=d;this.c=$.H.mkCanvas(d.w,d.h);this.ctx=this.c.getContext("2d");this.draw=new $.Draw(this.ctx,d.w,d.h);this.ground=e.ground||40;this.groundTileImg=e.groundTile||b.ground;this.groundTileScale=e.groundTile||b.ground;this.speed=e.speed;this.tiles=[];var c=sc(b.ground,4);this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:280,i:c,speed:-e.speed}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:0,i:d.draw.flip(c,0,1),speed:-e.speed}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:230,i:d.draw.scale(d.imgs.bg1,10),speed:-(e.speed/1.5)}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:41,i:d.draw.scale(d.imgs.window,8),speed:-(e.speed/2)}));this.stars=[];while(a--){this.stars.push({x:$.H.rnd(0,d.w),y:$.H.rnd(0,d.h)})}},update:function(){var b=this.g,a=this.tiles.length;while(a--){this.tiles[a].update()}},render:function(){var c=this.g,a=this.stars.length,b;this.ctx.fillStyle=$.cols.black;this.ctx.fillRect(0,0,c.w,c.h);while(a--){b=this.stars[a];this.draw.circle(b.x,b.y,1,$.cols.blind)}a=this.tiles.length;while(a--){this.tiles[a].render()}c.ctx.drawImage(this.c,0,0)},stop:function(){var a=this.tiles.length;this.speed=0;while(a--){this.tiles[a].speed=0}},makeFloor:function(b){var d=10,f=$.H.mkCanvas(b.width*10,b.height),a=f.getContext("2d"),e;for(e=0;e<d;e+=1){a.drawImage(b,b.width*e,0)}return f}});$.Bg1=$.Bg.extend({init:function(c,d){this._super(c,d);var e=20,a=c.imgs;sc=c.draw.scale;this.g=c;this.c=$.H.mkCanvas(c.w,c.h);this.ctx=this.c.getContext("2d");this.draw=new $.Draw(this.ctx,c.w,c.h);this.ground=40;this.speed=d.speed;this.tiles=[];var b=this.makeFloor(sc(a.ground,4));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:280,i:b,speed:-d.speed}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:0,i:c.draw.flip(b,0,1),speed:-d.speed}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:230,i:c.draw.scale(c.imgs.bg1,10),speed:-(d.speed/1.5)}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:41,i:c.draw.scale(c.imgs.window,8),speed:-(d.speed/2)}));this.stars=[];while(e--){this.stars.push({x:$.H.rnd(0,c.w),y:$.H.rnd(0,c.h)})}}});$.Bg2=$.Bg.extend({init:function(c,d){this._super(c,d);var e=40,a=c.imgs;sc=c.draw.scale;this.g=c;this.c=$.H.mkCanvas(c.w,c.h);this.ctx=this.c.getContext("2d");this.draw=new $.Draw(this.ctx,c.w,c.h);this.ground=40;this.speed=d.speed;this.tiles=[];var b=this.makeFloor(sc(a.ground1,4));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:280,i:b,speed:-d.speed}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:0,i:c.draw.flip(b,0,1),speed:-d.speed}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:230,i:c.draw.scale(c.imgs.bg2,10),speed:-(d.speed/1.5)}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:0,i:c.draw.scale(c.imgs.window,5),speed:-(d.speed/2)}));this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:160,i:c.draw.scale(c.imgs.window,5),speed:-(d.speed/2)}));this.stars=[];while(e--){this.stars.push({x:$.H.rnd(0,c.w),y:$.H.rnd(0,c.h)})}}});$.BgTitle=$.Bg.extend({init:function(a,b){this._super(a,b);this.tiles=[];this.tiles.push(new $.Tile(this.g,{ctx:this.ctx,x:0,y:-5,i:a.draw.scale(a.imgs.window,10),speed:-(b.speed/2)}))}});$.Star=$.Sprite.extend({init:function(a,b){this._super(a,b);this.scale=6;this.group="star";this.speed=a.bg.speed*-1;this.frames=1;this.mkImg("star");this.vx=(a.bg.speed/1000)*-1;this.vy=0.05*(this.x>(a.w/2)?1:-1)},update:function(){this._super();this.hitGroup("player")},doDamage:function(b){var a=this.g;if(b.group==="player"){this.remove=true;a.audio.play("powerup");a.ents.push(new $.Msg(a,{text:this.val,col:"p",x:this.x,y:this.y}))}}});$.Battery=$.Sprite.extend({init:function(a,b){this._super(a,b);this.scale=6;this.group="battery";this.speed=a.bg.speed*-1;this.frames=1;this.mkImg("battery");this.vx=(a.bg.speed/1000)*-1;this.x=480;this.y=120},update:function(){this._super();this.hitGroup("player")},doDamage:function(b){var a=this.g;if(b.group==="player"){this.remove=true;a.ents.push(new $.Msg(a,{text:a.p1.doPowerup(),col:"p",x:this.x,y:this.y}))}}});$.Fader=$.Sprite.extend({init:function(a,b){this._super(a,b);this.w=0;this.h=a.h;this.remove=false;this.col=b.col;this.cb=b.cb;this.dir=b.dir||1},update:function(){var a=this.g;this.tick=a.dt/1.5;this.w+=this.tick;if(this.w>a.w){if(this.cb){this.cb()}this.remove=true}},render:function(){var a=this.g;if(this.dir===1){a.draw.rect(0,0,this.w,this.h,this.col);a.draw.rect(a.w,0,-this.w,this.h,this.col)}else{if(this.dir===-1){a.draw.rect(0,0,a.w-this.w,this.h,this.col);a.draw.rect(a.w,0,-(a.w-this.w),this.h,this.col)}}}});$.Explosion=$.Sprite.extend({init:function(b,c){var a;this._super(b,c);this.name="explosion";this.scale=1;this.group="na";this.startX=c.x;this.startY=c.y;this.particles=c.particles||3;this.magnitude=c.magnitude||9;this.factor=1;this.mkImg("circle");b.emitter.particle(this.particles,this.x,this.y);b.audio.play("explode");this.angle=0;this.grow=1},update:function(){var a=this.g;this._super();if(this.scale<=this.magnitude){this.scale+=this.factor}if(this.scale===this.magnitude){this.factor*=-1}if(this.scale<=1){this.remove=true}this.mkImg("circle")},render:function(){var a=this.startX-(this.w/2),d=this.startY-(this.h/2),c=this.g,b=this.i;c.ctx.drawImage(b,a,d)}});$.Msg=$.Sprite.extend({init:function(a,b){this._super(a,b);this.vy=-1;this.lifespan=2;this.ttl=this.lifespan;this.w=10;this.h=10;this.col=b.col||"w";this.f=a.mkFont(this.col,3);this.vx=-0.09;this.vy=-0.05},update:function(){var a=this.g;this._super();this.x+=this.vx*a.dt;this.y+=this.vy*a.dt;this.ttl-=a.dt/1000;if(this.ttl<0){this.kill()}},render:function(){var a=this.g;a.ctx.globalAlpha=(this.ttl/this.lifespan);a.draw.text(this.text,this.f,this.x,this.y);a.ctx.globalAlpha=1}});$.Robo=$.Sprite.extend({init:function(a,b){this._super(a,b);this.speed=1;this.group="player";this.frames=2;this.scale=4;this.mkImg("p1");this.angle=0;this.speed=5;this.vy=this.speed;this.gravity=0.001;this.jump=-0.4;this.jumping=false;this.flipping=false;this.flipped=false;this.jumpCount=0;this.jumps=0;this.flips=0;this.pause=false;this.powerup=0;this.gun=1},update:function(){var b=this.g,a=b.input.k;if(this.pause){return}this.hitGroup("baddies");if(b.doJump&&this.jumpCount<2&&this.tick>2){this.jumpCount+=1;if(!this.jumping){b.audio.play("jump");this.jumps+=1;this.jumping=true;this.vy=this.jump}else{if(this.jumping){b.audio.play("flip");this.flips+=1;this.flipping=true;this.gravity*=-1;this.jump*=-1;this.flipped=!this.flipped}}}this._super();this.keepOnScreen();if(this.x>450){this.frame=1}},render:function(){if(this.pause){return}this._super()},doDamage:function(a){if(a.group==="baddies"){this.kill()}},receiveDamage:function(a){if(a.group==="baddies"){this.kill()}},kill:function(){var d=this.g,a=this,c=$.H.rnd,b=3;this.dead=true;this.remove=true;d.bg.stop();d.ents.push(new $.Explosion(d,{x:this.x,y:this.y}));d.shake.start(50,50)},doPowerup:function(){var a=this.g;this.powerup+=1;if(this.powerup>3){a.score+=100;return 100}if(this.powerup===1){a.bulletInterval=100;return"RAPID FIRE"}else{if(this.powerup===2){return"DOUBLE SHOT"}else{if(this.powerup===3){return"TRIPLE SHOT"}}}}});$.Floater=$.Sprite.extend({init:function(a,b){this._super(a,b);this.scale=$.H.rnd(2,5);this.health=this.scale*10;this.group="baddies";this.speed=1;this.frames=2;this.frameChange=10;this.mkImg("floater");this.frameRate=120;this.x=$.H.rnd((a.w/2)-(this.w/2));this.y=$.H.rnd((a.h/2)-(this.h/2));this.setDir()},update:function(){var a=this.g;this.lastX=this.x;this.lastY=this.y;if(this.gravity){this.vy+=this.gravity}this.x+=this.vx*a.dt;this.y+=this.vy*a.dt;this.atEdget=this.keepOnScreen();if(this.atEdget){this.setDir()}this.cx=this.x+(this.w/2);this.cy=this.y+(this.y/2);this.tick+=1;if(this.frameNext<0){this.frameNext=this.frameRate;this.frame=(this.frame===this.frames)?1:this.frame+=1}this.frameNext-=a.dt;this.hurt-=a.dt},render:function(){var b=this.g,a=this.i;if(this.hurt>0){a=this.iHurt}if(this.flipX){a=b.draw.flip(a,1,0)}b.ctx.drawImage(a,(this.frame*this.w)-this.w,0,this.w,this.h,~~this.x,~~this.y,this.w,this.h)},receiveDamage:function(){var a=this.g;this.hurt=this.hurtTime;a.emitter.particle(2,this.x,this.y);this.health-=10;if(this.health<0){a.ents.push(new $.Msg(a,{text:this.scale*10,x:this.x,y:this.y}));if(!a.ios){a.shake.start(this.scale*5,this.scale*5);a.ents.push(new $.Explosion(a,{x:this.x,y:this.y}))}this.remove=true}},kill:function(){return},setDir:function(){this.vx=($.H.rnd(0,200)-100)/1000;this.vy=($.H.rnd(0,200)-100)/1000;this.flipX=this.vx>0?true:false}});$.Crate=$.Sprite.extend({init:function(a,b){this._super(a,b);this.scale=4;this.health=this.scale*10;this.group="baddies";this.speed=a.bg.speed*-1;this.frames=1;this.mkImg("crate");this.iHurt=a.draw.scale(a.imgs.crate_w,this.scale);this.frameRate=120;this.hurt=0;this.hurtTime=200;this.x=500;this.y=b.y||(a.h-a.bg.ground)-this.h;this.vx=(a.bg.speed/1000)*-1},update:function(){var a=this.g;this.lastX=this.x;this.lastY=this.y;if(a.bg.speed!==0){this.x+=this.vx*a.dt}if(this.x<-this.w){this.x=a.w*2+$.H.rnd(0,a.w)}this.frameNext-=a.dt;this.hurt-=a.dt},render:function(){var b=this.g,a=this.i;if(this.hurt>0){a=this.iHurt}b.ctx.drawImage(a,(this.frame*this.w)-this.w,0,this.w,this.h,~~this.x,~~this.y,this.w,this.h)},receiveDamage:function(){var a=this.g;this.hurt=this.hurtTime;a.emitter.particle(2,this.x,this.y);this.health-=0;if(this.health<0){a.shake.start(this.scale*5,this.scale*5);a.ents.push(new $.Explosion(a,{x:this.x,y:this.y}));this.remove=true}},kill:function(){return}});$.Spark=$.Sprite.extend({init:function(a,b){this._super(a,b);this.scale=4;this.health=this.scale*10;this.group="baddies";this.speed=a.bg.speed*-1;this.frames=2;this.mkImg("spark");this.iHurt=a.draw.scale(a.imgs.spark_w,this.scale);this.hurt=0;this.hurtTime=200;this.frameRate=100;this.x=500;this.vx=(a.bg.speed/1000)*-1},update:function(){var a=this.g;this._super();if(this.x<-this.w){this.x=a.w*2}},render:function(){var b=this.g,a=this.i;if(this.hurt>0){a=this.iHurt}b.ctx.drawImage(a,(this.frame*this.w)-this.w,0,this.w,this.h,~~this.x,~~this.y,this.w,this.h)},receiveDamage:function(){var a=this.g;a.emitter.particle(2,this.x,this.y);this.health-=0;if(this.health<0){a.shake.start(this.scale*5,this.scale*5);a.ents.push(new $.Explosion(a,{x:this.x,y:this.y}));this.remove=true}},kill:function(){return}});$.Drone=$.Sprite.extend({init:function(a,b){this._super(a,b);this.scale=4;this.health=5;this.group="baddies";this.speed=(a.bg.speed/4)*-1;this.frames=2;this.t=0;this.m=$.data.moves[b.m];this.scale=this.m.scale||4;this.flipped=this.m.flipped||0;this.mkImg(this.m.img||"drone");this.x=b.x||this.m.sx;this.y=b.y||this.m.sy;this.t=0},update:function(){var b=this.g,a=this.m;this.t+=(b.dt/1000);this.lastX=this.x;this.lastY=this.y;this.vx=a.A+a.B*Math.sin(a.C*this.t+a.D);this.vy=a.E+a.F*Math.sin(a.G*this.t+a.H);this.x+=this.vx*(b.dt/1000);this.y+=this.vy*(b.dt/1000);if(this.x<-50){this.remove=true}if(this.frameNext<0){this.frameNext=this.frameRate;this.frame=(this.frame===this.frames)?1:this.frame+=1}this.frameNext-=b.dt;this.hurt-=b.dt},receiveDamage:function(){var a=this.g;this.hurt=this.hurtTime;a.emitter.particle(2,this.x,this.y);this.health-=10;if(this.health<0){this.remove=true;a.score+=this.scale*10;a.ents.push(new $.Explosion(a,{x:this.x,y:this.y}));a.ents.push(new $.Msg(a,{text:this.scale*10,x:this.x,y:this.y}));a.waves[this.waveId]-=1;if(!a.ios){a.shake.start(this.scale*5,this.scale*5)}if(a.waves[this.waveId]===0){a.score+=this.scale*30;a.ents.push(new $.Star(a,{val:this.scale*30,x:this.x,y:this.y}))}}},kill:function(){return}});$.Bullet=$.Sprite.extend({init:function(a,b){this._super(a,b);this.w=b.size||8;this.h=b.size||8;this.name="bullet";this.speed=6/10;this.ttl=3000;this.group="bullets";this.scale=2;this.vx=this.speed*Math.cos(this.angle);this.vy=this.speed*Math.sin(this.angle);this.col=$.cols.zornskin;a.audio.play("shoot")},update:function(){this._super();this.hitGroup("baddies");if(this.offscreen){this.kill()}this.ttl-=this.tick;if(this.ttl<0){this.remove=true}},render:function(){var b=this.g,a=b.draw.scale(b.imgs.circle_w,2);this._super();if(this.tick<0.3){b.ctx.drawImage(a,~~this.x,~~this.y)}},keepOnScreen:function(){var a=this.g;if(this.x<0){this.vx*=-1}else{if(this.x>a.w-this.w){this.vx*=-1}}if(this.y<0){this.vy*=-1}else{if(this.y>a.h-this.h){this.vy*=-1}}}});$.Portal=$.Sprite.extend({init:function(a,b){this._super(a,b);this.scale=4;this.health=this.scale*10;this.group="portal";this.speed=0;this.h=50;this.w=20;this.hide()},update:function(){this._super();this.hitGroup("player")},show:function(){var a=this.g;this.x=a.w-this.w;this.y=a.h/2-(this.h/2);this.col=$.cols.slimegreen},hide:function(){var a=this.g;this.x=a.w*-2;this.active=false},doDamage:function(b){var a=this.g;if(b.group==="player"){this.active=true;this.col=$.cols.pigmeat;a.score+=100;a.ents.push(new $.Msg(a,{text:"BONUS",x:this.x,y:this.y}))}}});$.Splash=$.State.extend({init:function(a){this._super(a);this.h1=a.mkFont("g",6);this.p=a.mkFont("w",2);this.fade=0;this.skull=a.draw.scale(a.imgs.skull_w,6)},update:function(){var a=this.g;this._super();this.fade+=(0.01*(a.dt*5))/100;if(this.fade>2){a.audio.play("powerup");a.changeState("Title")}},render:function(){var b=this.g,a=this,e=$.cols,d;b.draw.rect(0,0,b.w,b.h,$.cols.black);b.ctx.globalAlpha=this.fade;b.draw.text("EOINMCG PRESENTS",this.p,false,100);b.ctx.globalAlpha=this.fade/10;b.ctx.drawImage(this.skull,220,150);b.ctx.globalAlpha=1;a._super()}});$.Title=$.State.extend({init:function(b){var a;this._super(b);this.startText=(b.mobile)?"TAP LEFT TO START":"PRESS SPACE";this.h1=b.mkFont("g",6);this.p=b.mkFont("w",2);if(b.plays===0){b.audio.say($.data.title)}this.bg=new $.BgTitle(b,{speed:500,numStars:0});this.hideText=false},update:function(){var a=this.g;this._super();this.bg.update();if(a.doJump&&a.tick>0.4){this.hideText=true;a.ents.push(new $.Fader(a,{col:$.cols.black,cb:function(){a.changeState(a.plays<1?"Tutorial":"Play")}}))}},render:function(){var b=this.g,a=this,e=$.cols,d;this.bg.render();a._super();if(!this.hideText){b.draw.text("HI",this.p,40,40);b.draw.text(b.hiScore,this.p,60,40);b.ctx.globalAlpha=this.fader;b.draw.text(this.startText,this.p,false,250);b.ctx.globalAlpha=1;b.draw.text($.data.title,this.h1,150,85)}}});$.Play=$.State.extend({init:function(a){this._super(a);this.h1=a.mkFont("g",5);this.p=a.mkFont("w",3);a.newHi=false;a.plays+=1;a.score=0;this.levelNum=0;a.waves=[];this.p1=new $.Robo(a,{x:60,y:200});a.p1=this.p1;a.ents.push(this.p1);this.portal=new $.Portal(a,{});a.ents.push(this.portal);this.gameover=false;a.state=this;this.bulletDelay=0;a.bulletInterval=200;a.audio.play("alarm");this.nextLevel()},update:function(){var d=this.g,c=this,b=d.input,a=b.k;this._super();this.bg.update();if((b.touchRight||a[16])&&this.bulletDelay<0&&!c.p1.dead&&!c.p1.pause){this.bulletDelay=d.bulletInterval;d.ents.push(new $.Bullet(d,{x:this.p1.x+(this.p1.w/2),y:this.p1.y+(this.p1.h/3),angle:0}));if(d.p1.powerup>1){d.ents.push(new $.Bullet(d,{x:this.p1.x+(this.p1.w/2),y:this.p1.y+(this.p1.h/3),angle:-0.3}))}if(d.p1.powerup>2){d.ents.push(new $.Bullet(d,{x:this.p1.x+(this.p1.w/2),y:this.p1.y+(this.p1.h/3),angle:0.3}))}}this.bulletDelay-=d.dt;if(d.p1.dead&&!this.gameover){this.gameover=true;if(d.score>d.hiScore){d.newHi=true;d.hiScore=d.score;try{localStorage.setItem("hiScore",d.score)}catch(f){}}d.ents.push(new $.Fader(d,{col:$.cols.bloodred,cb:function(){d.changeState("Gameover")}}))}if(this.gameover&&d.doJump){d.changeState("Title")}d.distance-=d.dt;if(d.distance<0){d.p1.vx=0.5;this.portal.show();d.bg.stop()}if(d.p1.x>450){this.portal.active=true}if(d.distance<-2000&&!this.gameover){this.portal.active=true}if(this.portal.active){this.levelUp()}},render:function(){var d=this.g,b=this,a=d.ents.length,f=$.cols,e;this.bg.render();b._super();if(!this.gameover){d.draw.text(d.score,this.p,40,40)}},levelUp:function(){var c=this.g,b=this,a=c.ents.length;if(c.p1.pause){return}c.audio.play("levelup");c.p1.pause=true;while(a--){if(c.ents[a].group==="baddies"){c.ents[a].remove=true}}a=c.ents.length;while(a--){if(c.ents[a].remove){c.ents.splice(a,1)}}c.events=[];b.p1.x=c.w/3;b.portal.hide();c.ents.push(new $.Fader(c,{col:$.cols.nightblue,cb:function(){c.ents.push(new $.Fader(c,{col:$.cols.nightblue,cb:function(){c.state.nextLevel();c.p1.pause=false},dir:-1}))}}))},nextLevel:function(){var d=this.g,c=this,a,b;if(this.levelNum>($.L.length-1)){this.levelNum=0}this.level=$.L[this.levelNum];a=this.level;if(a.baddies[0]==="all"){a.baddies=Object.keys($.data.moves)}this.bg=new $[a.bg](d,a.bgSettings);if(a.powerup){d.addEvent({time:a.powerup,cb:function(){d.ents.push(new $.Battery(d,{}))}})}d.addEvent({time:2,cb:function(){c.spawnWave();for(b=0;b<a.init.length;b+=1){d.ents.push(new $[a.init[b][0]](d,a.init[b][1]))}}});d.bg=this.bg;d.level=this.level;d.distance=d.level.distance;d.p1.x=60;d.p1.vx=0;c.portal.hide();d.p1.pause=false;this.levelNum+=1},spawnWave:function(){var h=this.g,f=this,b=this.level,d=b.waveSize,e=new Date().getTime(),a=$.H.rndArray(b.baddies),c;if(h.distance<100||h.p1.dead||b.baddies.length===0){return}h.waves[e]=d;for(c=0;c<b.waveSize;c+=1){h.addEvent({time:0.2*c,cb:function(){h.ents.push(new $.Drone(h,{m:a,waveId:e,x:500}))}})}h.addEvent({time:b.interval,cb:function(){f.spawnWave()}})}});$.Tutorial=$.State.extend({init:function(a){this._super(a);this.h1=a.mkFont("g",5);this.p=a.mkFont("w",3);this.p2=a.mkFont("p",3);this.shootKey=a.mobile?"TAP RIGHT":"SHIFT KEY";this.jumpKey=a.mobile?"TAP LEFT":"SPACE BAR";this.bg=new $.Bg1(a,{speed:200});a.bg=this.bg;this.hideText=false},update:function(){var a=this.g;this.bg.update();this._super();if(a.doJump&&a.tick>1||a.tick>5){this.hideText=true;a.ents.push(new $.Fader(a,{col:$.cols.nightblue,cb:function(){a.changeState("Play")}}))}},render:function(){var a=this.g;this.bg.render();this._super();if(!this.hideText){a.draw.text("HOW TO PLAY",this.h1,false,50);a.draw.text("SHOOT",this.p,130,130);a.draw.text(this.shootKey,this.p2,230,130);a.draw.text("JUMP",this.p,130,160);a.draw.text(this.jumpKey,this.p2,230,160);a.ctx.globalAlpha=this.fader;a.draw.text("DOUBLE JUMP REVERSES GRAVITY",this.p2,false,210);a.ctx.globalAlpha=1}}});$.Gameover=$.State.extend({init:function(a){this._super(a);this.h1=a.mkFont("b",7);this.h2=a.mkFont("g",5);this.p=a.mkFont("w",2);if(a.newHi){this.skull=a.draw.scale(a.imgs.star_w,27)}else{this.skull=a.draw.scale(a.imgs.skull_w,27)}a.audio.play("die")},update:function(){var a=this.g;this._super();if(a.doJump&&a.tick>1){a.ents.push(new $.Fader(a,{col:$.cols.pigmeat,dir:-1,cb:function(){a.changeState("Title")}}))}},render:function(){var a=this.g;this._super();a.draw.rect(0,0,a.w,a.h,$.cols.bloodred);a.draw.text("GAME OVER",this.h1,false,70);a.ctx.globalAlpha=0.05;a.ctx.drawImage(this.skull,220,100+(this.fader*20));a.ctx.globalAlpha=1;if(a.newHi){a.ctx.globalAlpha=this.fader;a.draw.text("NEW HISCORE",this.h2,false,170);a.ctx.globalAlpha=1}}});$.L=[{distance:10000,bg:"Bg1",bgSettings:{speed:400},baddies:[],waveSize:3,interval:3,init:[["Crate",{}],["Crate",{y:40}]]},{distance:10000,bg:"Bg1",bgSettings:{speed:400},baddies:["straightBot"],waveSize:3,interval:3,init:[["Crate",{}],["Crate",{y:40}]]},{distance:10000,bg:"Bg1",powerup:1,bgSettings:{speed:400},baddies:["sway","straightTop"],waveSize:4,interval:3,init:[["Crate",{}]]},{distance:10000,bg:"Bg1",powerup:3,bgSettings:{speed:400},baddies:["topbot","bottop"],waveSize:5,interval:3,init:[["Spark",{y:150}]]},{distance:20000,bg:"Bg2",powerup:4,bgSettings:{speed:400},baddies:["topbot","bottop","circle"],waveSize:5,interval:2,init:[["Crate",{}],["Crate",{y:40}]]},{distance:20000,bg:"Bg2",powerup:3,bgSettings:{speed:600},baddies:["all"],waveSize:5,interval:2,init:[["Crate",{}],["Crate",{y:40}]]}];$.data={title:"ROBO FLIP",i:{circle:"R0lGODlhBgAGAKEDAL4mM+uJMffia////yH5BAEKAAMALAAAAAAGAAYAAAIN3AB2EQkhRHuxLWuQKQA7",floater:"R0lGODlhDgAIAKEDAL4mMzGi8vfia////yH+EUNyZWF0ZWQgd2l0aCBHSU1QACH5BAEKAAMALAAAAAAOAAgAAAIdXIZnuOEPIQBxVirxE4MLJ4ShwyRHhHiGUppPyxQAOw==",spark:"R0lGODlhDgAHAKECAOuJMffia////////yH+EUNyZWF0ZWQgd2l0aCBHSU1QACH5BAEKAAMALAAAAAAOAAcAAAIYxGZ4u+acWohoHgCCmE7b+4HRQ43XyRwFADs=",p1:"R0lGODlhDAAIAMIFAAUDC74mMzWADJrKH/3//P///////////yH5BAEKAAcALAAAAAAMAAgAAAMfeLonMkM5KF9sVgUS9tkdgVFj5GRlRU4RsLiHCzNKAgA7",crawler:"R0lGODlhEAAIAKECAL4mM/fia////////yH5BAEKAAIALAAAAAAQAAgAAAIZlI8Skba4WIoIAHnsc/TE/WHhFJYmZSpjAQA7",drone:"R0lGODlhEAAIAKEDAL4mM+Bvi/fia////yH5BAEKAAMALAAAAAAQAAgAAAIenBOmu4j8VBAuHSernbXhoSXASJYmMJyGurYKmhoFADs=",star:"R0lGODlhBQAFAIABAPfia////yH5BAEKAAEALAAAAAAFAAUAAAIITGCGB43OWAEAOw==",battery:"R0lGODlhAwAFAKECAESJGqPOJ////////yH5BAEKAAIALAAAAAADAAUAAAIGFAwBuZoFADs=",font:"R0lGODlhjwAFAIABAAAAAMwAACH5BAEKAAEALAAAAACPAAUAAAJ0DGKHcLzOFDRJ0UbXzdJ2lFQbRo5ipJ1TA7XsW2KanNWyZXpuzuNSz5txQDZTChSrsI6kHQpVu/wer9GvWuw5ssMp1LmbuZKeDdN4NVqT1BAydWvHi14ityTUSZHLE3El0uWHN/Vg9WYoOPe01YEl9VgVUQAAOw==",window:"R0lGODlhIAAiAKECABsmMi9ITv///////yH5BAEKAAMALAAAAAAgACIAAAJZDI6py2gNo5O0PTCy3rzviXnimB0GiXpmmLbD6rpwnM40ad9irnd8/wGcgCohixgcIpPH5cvoZEY1P2SVeAVme1td9/alhWNjGXT6VEZXTSy7An/HK5c5pQAAOw==",ground:"R0lGODlhCgAKAKECAABXhDGi8v///////yH5BAEKAAIALAAAAAAKAAoAAAIQjI+gyxztoIRvWlBlVqiHAgA7",ground1:"R0lGODlhCgAKAKEBABsmMi9ITi9ITi9ITiH5BAEKAAIALAAAAAAKAAoAAAIPhI8RoMoNo5y02vucQ7wAADs=",bg1:"R0lGODlhFAAFAIABAC9ITv///yH5BAEKAAEALAAAAAAUAAUAAAIRjI+pG+CMXnNSPTpxzZzeWgAAOw==",bg2:"R0lGODlhFAAFAIAAAC9ITi9ITiH5BAEKAAEALAAAAAAUAAUAAAIPjI+pBr0fmoRpTnpAxqYAADs=",skull:"R0lGODlhCAAIAIABAAAAAP///yH5BAEKAAEALAAAAAAIAAgAAAIOTIBoyc27nDuKJnMyMAUAOw==",crate:"R0lGODlhCgAKAKECAC9ITp2dnf///////yH5BAEKAAMALAAAAAAKAAoAAAIZXI5nAd0JEkMRiTotxuHSLoSc80hmsJhDAQA7"},sfx:{jump:[0,,0.2432,,0.1709,0.3046,,0.1919,,,,,,0.5923,,,,,1,,,,,0.5],flip:[0,0.001,0.2379,0.1592,0.0225,0.85,,0.0659,0.0917,,-0.6595,-0.2759,0.7809,0.0597,0.0205,0.3604,-0.0083,-0.5261,0.3385,-0.0003,0.0833,,0.6489,0.5],powerup:[0,,0.0129,0.5211,0.4714,0.4234,,,,,,0.4355,0.5108,,,,,,1,,,,,0.5],shoot:[2,,0.1128,,0.178,0.7748,0.0046,-0.4528,,,,,,0.185,0.0994,,,,1,,,,,0.5],explode:[3,,0.3708,0.5822,0.3851,0.0584,,-0.0268,,,,-0.0749,0.7624,,,,,,1,,,,,0.5],levelup:[1,0.115,0.2886,0.4061,0.6535,0.0666,,0.3295,0.0262,-0.0114,,0.2484,0.4319,0.7129,-0.7396,,,-0.906,0.9658,0.1462,0.6577,0.0129,0.0448,0.56],die:[2,0.1987,0.388,0.4366,0.0335,0.5072,,0.1128,-0.1656,0.1987,,-0.376,0.2686,-0.684,0.1392,-0.6819,-0.8117,-0.1072,0.9846,0.057,,0.004,-0.0045,0.56],alarm:[1,0.0241,0.9846,0.6067,0.3041,0.1838,,0.0565,0.1439,-0.3068,0.1402,0.0867,0.7339,0.1332,-0.3119,-0.3257,0.2875,-0.0014,0.5866,0.0086,-0.9675,0.3643,,0.5]},moves:{straightTop:{sx:500,sy:42,scale:4,img:"crawler",flipped:1,A:-200,B:0,C:0,D:0,E:0,F:0,G:0,H:0},straightBot:{sx:500,sy:247,scale:4,img:"crawler",A:-200,B:0,C:0,D:0,E:0,F:0,G:0,H:0},topbot:{sx:500,sy:50,scale:3,img:"floater",A:-200,B:0,C:0,D:0,E:80,F:0,G:0,H:0},bottop:{sx:500,sy:230,scale:3,img:"floater",A:-200,B:0,C:0,D:0,E:-80,F:0,G:0,H:0},sway:{sx:500,sy:60,scale:4,img:"drone",A:-100,B:0,C:0,D:0,E:0,F:360,G:4,H:0},circle:{sx:500,sy:160,scale:5,img:"drone",A:-150,B:-100,C:5,D:0,E:50,F:200,G:10,H:Math.PI/2}}};window.addEventListener("load",function(){var a=new $.Game();a.boot("Splash")},false);
</script></body>
</html>
