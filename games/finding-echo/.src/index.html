<html>
  <head>

    <style type="text/css">body{background:#0c1940;background:-webkit-radial-gradient(center,ellipse cover,#0c1940 0,#08011b 100%);background:radial-gradient(ellipse at center,rgba(12,25,64,1) 0,rgba(8,1,27,1) 100%);color:#6df1ff;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:1.2rem;font-weight:bold;line-height:1.5;overflow:hidden;position:relative}.ouch{background:rgba(255,0,0,0.95) radial-gradient(ellipse at center,rgba(12,25,64,0.85) 0,rgba(8,1,27,0.85) 100%)}a{color:white}a:visited:{color:white}ul{padding:0}li{list-style:none}li+li{margin-top:.4rem}.modal{max-width:25rem;position:absolute;left:2rem;padding-top:.5rem;padding-right:1rem;top:1rem}.modal-close{font-size:1.75rem;right:.5rem;position:absolute;text-decoration:none;top:0}.hide{display:none}.main{height:50rem;margin:5rem auto;max-width:50rem;position:relative}.player{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTBtbSIgaGVpZ2h0PSIyOTdtbSIgdmlld0JveD0iMCAwIDc0NC4wOTQ0ODgxOSAxMDUyLjM2MjIwNDciPjxnIHRyYW5zZm9ybT0ibWF0cml4KDAgLTEgLTEgMCAyMDAuNDQ1IDMzOS4zMDIpIiBmaWxsPSIjMDBjNWZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iI2ZmZiI+PGVsbGlwc2Ugcnk9IjkwLjYyNCIgcng9IjEyNi4xMzMiIGN5PSI5NC4yNjEiIGN4PSIxNzcuNTUxIiBmaWxsLW9wYWNpdHk9Ii4zMjciIHN0cm9rZS13aWR0aD0iNSIvPjxwYXRoIGQ9Ik03MyA0MC43MjNTNTIuNzk3LTMuNzI0IDIwLjQ3MiAzLjg1M0MtMTEuODUzIDExLjQyOCA5Ljg2NSAxNy40ODggOS44NjUgMTcuNDg4bDQyLjkzMiA3Ny43OCIgZmlsbC1vcGFjaXR5PSIuMzI3IiBzdHJva2Utd2lkdGg9IjUiLz48cGF0aCBkPSJNNzAuMzMyIDE0NC4wNzJzLTIwLjIwMyA0NC40NDYtNTIuNTI4IDM2Ljg3Yy0zMi4zMjUtNy41NzYtMTAuNjA2LTEzLjYzNy0xMC42MDYtMTMuNjM3bDQyLjkzLTc3Ljc4MiIgZmlsbC1vcGFjaXR5PSIuMzI3IiBzdHJva2Utd2lkdGg9IjUiLz48ZWxsaXBzZSByeT0iNi45MjIiIHJ4PSIzMS4wNjYiIGN5PSI5MC43MjYiIGN4PSIxNDIuNDQ4IiBmaWxsLW9wYWNpdHk9Ii4zMjUiIHN0cm9rZS13aWR0aD0iMy41NDMiLz48cGF0aCBkPSJNMzAzLjggNzYuNTgzczIxLjIxMy0yLjUyNSAyMS4yMTMgMTQuMTQyYzAgMTYuNjY4LTIyLjIyNCAxMS42MTctMjIuMjI0IDExLjYxN3oiIGZpbGwtb3BhY2l0eT0iLjMyNSIgc3Ryb2tlLXdpZHRoPSI0Ii8+PC9nPjwvc3ZnPg==");background-size:14rem;background-repeat:no-repeat;height:7rem;left:calc(50% - 2rem);position:absolute;top:calc(50% - 3.5rem);transform:rotate(0);width:4rem}.bubble{background:#155ba9;border:2px solid #89a4c3;border-radius:200px;-moz-border-radius:200px;-webkit-border-radius:200px;height:1rem;left:0;position:absolute;opacity:.2;top:0;width:1rem}#health{left:2rem;top:0;position:absolute}.healthDot{background:#42b500;border-radius:200px;-moz-border-radius:200px;-webkit-border-radius:200px;display:inline-block;height:1rem;width:1rem}.main .modal{top:2rem;width:100%;height:100%;background:#0f101a;text-align:center;padding-top:20%;max-width:none}#instructions{top:7rem}#warped{color:white;position:absolute;display:block;width:588px;height:440px;top:-4rem;left:1rem}#warped>span[class^=w]:nth-of-type(n+0){display:block;position:absolute;-moz-transform-origin:50% 100%;-webkit-transform-origin:50% 100%;-o-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%}#warped span{font-family:georgia;font-size:38px;font-weight:regular;font-style:normal;line-height:.65;white-space:pre;overflow:visible;padding:0}#warped .w0{-moz-transform:rotate(-1.29rad);-webkit-transform:rotate(-1.29rad);-o-transform:rotate(-1.29rad);-ms-transform:rotate(-1.29rad);transform:rotate(-1.29rad);width:13px;height:24px;left:29.4px;top:124.32px}#warped .w1{-moz-transform:rotate(-1.18rad);-webkit-transform:rotate(-1.18rad);-o-transform:rotate(-1.18rad);-ms-transform:rotate(-1.18rad);transform:rotate(-1.18rad);width:11px;height:24px;left:36.04px;top:108.29px}#warped .w2{-moz-transform:rotate(-1.05rad);-webkit-transform:rotate(-1.05rad);-o-transform:rotate(-1.05rad);-ms-transform:rotate(-1.05rad);transform:rotate(-1.05rad);width:19px;height:24px;left:40.94px;top:90.4px}#warped .w3{-moz-transform:rotate(-0.89rad);-webkit-transform:rotate(-0.89rad);-o-transform:rotate(-0.89rad);-ms-transform:rotate(-0.89rad);transform:rotate(-0.89rad);width:19px;height:24px;left:54.64px;top:70.72px}#warped .w4{-moz-transform:rotate(-0.75rad);-webkit-transform:rotate(-0.75rad);-o-transform:rotate(-0.75rad);-ms-transform:rotate(-0.75rad);transform:rotate(-0.75rad);width:11px;height:24px;left:72.33px;top:56.17px}#warped .w5{-moz-transform:rotate(-0.62rad);-webkit-transform:rotate(-0.62rad);-o-transform:rotate(-0.62rad);-ms-transform:rotate(-0.62rad);transform:rotate(-0.62rad);width:19px;height:24px;left:83.84px;top:43.56px}#warped .w6{-moz-transform:rotate(-0.46rad);-webkit-transform:rotate(-0.46rad);-o-transform:rotate(-0.46rad);-ms-transform:rotate(-0.46rad);transform:rotate(-0.46rad);width:19px;height:24px;left:104.45px;top:31.32px}#warped .w7{-moz-transform:rotate(-0.33rad);-webkit-transform:rotate(-0.33rad);-o-transform:rotate(-0.33rad);-ms-transform:rotate(-0.33rad);transform:rotate(-0.33rad);width:10px;height:24px;left:126.97px;top:23.89px}#warped .w8{-moz-transform:rotate(-0.21rad);-webkit-transform:rotate(-0.21rad);-o-transform:rotate(-0.21rad);-ms-transform:rotate(-0.21rad);transform:rotate(-0.21rad);width:17px;height:24px;left:141.31px;top:19.06px}#warped .w9{-moz-transform:rotate(-0.06rad);-webkit-transform:rotate(-0.06rad);-o-transform:rotate(-0.06rad);-ms-transform:rotate(-0.06rad);transform:rotate(-0.06rad);width:17px;height:24px;left:163.11px;top:16.23px}#warped .w10{-moz-transform:rotate(0.09rad);-webkit-transform:rotate(0.09rad);-o-transform:rotate(0.09rad);-ms-transform:rotate(0.09rad);transform:rotate(0.09rad);width:19px;height:24px;left:185.08px;top:16.71px}#warped .w11{-moz-transform:rotate(0.25rad);-webkit-transform:rotate(0.25rad);-o-transform:rotate(0.25rad);-ms-transform:rotate(0.25rad);transform:rotate(0.25rad);width:19px;height:24px;left:208.68px;top:20.94px}#warped .w12{-moz-transform:rotate(5.16rad);-webkit-transform:rotate(5.16rad);-o-transform:rotate(5.16rad);-ms-transform:rotate(5.16rad);transform:rotate(5.16rad);width:23px;height:24px;left:147.32px;top:130.97px}#warped .w13{-moz-transform:rotate(5.32rad);-webkit-transform:rotate(5.32rad);-o-transform:rotate(5.32rad);-ms-transform:rotate(5.32rad);transform:rotate(5.32rad);width:15px;height:24px;left:163.41px;top:110.26px}#warped .w14{-moz-transform:rotate(5.48rad);-webkit-transform:rotate(5.48rad);-o-transform:rotate(5.48rad);-ms-transform:rotate(5.48rad);transform:rotate(5.48rad);width:23px;height:24px;left:174.64px;top:91.75px}#warped .w15{-moz-transform:rotate(5.62rad);-webkit-transform:rotate(5.62rad);-o-transform:rotate(5.62rad);-ms-transform:rotate(5.62rad);transform:rotate(5.62rad);width:11px;height:24px;left:197.04px;top:77.1px}#warped .w16{-moz-transform:rotate(5.8rad);-webkit-transform:rotate(5.8rad);-o-transform:rotate(5.8rad);-ms-transform:rotate(5.8rad);transform:rotate(5.8rad);width:31px;height:24px;left:208.91px;top:63.11px}#warped .w17{-moz-transform:rotate(6rad);-webkit-transform:rotate(6rad);-o-transform:rotate(6rad);-ms-transform:rotate(6rad);transform:rotate(6rad);width:21px;height:24px;left:242.66px;top:51.66px}#warped .w18{-moz-transform:rotate(6.18rad);-webkit-transform:rotate(6.18rad);-o-transform:rotate(6.18rad);-ms-transform:rotate(6.18rad);transform:rotate(6.18rad);width:23px;height:24px;left:268.16px;top:46.68px}#warped .w19{-moz-transform:rotate(6.34rad);-webkit-transform:rotate(6.34rad);-o-transform:rotate(6.34rad);-ms-transform:rotate(6.34rad);transform:rotate(6.34rad);width:13px;height:24px;left:296.13px;top:46.24px}#warped .w20{-moz-transform:rotate(6.49rad);-webkit-transform:rotate(6.49rad);-o-transform:rotate(6.49rad);-ms-transform:rotate(6.49rad);transform:rotate(6.49rad);width:23px;height:24px;left:313.9px;top:49.32px}#warped .w21{-moz-transform:rotate(6.65rad);-webkit-transform:rotate(6.65rad);-o-transform:rotate(6.65rad);-ms-transform:rotate(6.65rad);transform:rotate(6.65rad);width:15px;height:24px;left:340.87px;top:56.2px}#warped .w22{-moz-transform:rotate(6.85rad);-webkit-transform:rotate(6.85rad);-o-transform:rotate(6.85rad);-ms-transform:rotate(6.85rad);transform:rotate(6.85rad);width:35px;height:24px;left:357.56px;top:69.79px}#warped .w23{-moz-transform:rotate(7.04rad);-webkit-transform:rotate(7.04rad);-o-transform:rotate(7.04rad);-ms-transform:rotate(7.04rad);transform:rotate(7.04rad);width:11px;height:24px;left:391.57px;top:87.02px}#warped .w24{-moz-transform:rotate(7.14rad);-webkit-transform:rotate(7.14rad);-o-transform:rotate(7.14rad);-ms-transform:rotate(7.14rad);transform:rotate(7.14rad);width:11px;height:24px;left:402.59px;top:98.62px}#warped .w25{-moz-transform:rotate(7.29rad);-webkit-transform:rotate(7.29rad);-o-transform:rotate(7.29rad);-ms-transform:rotate(7.29rad);transform:rotate(7.29rad);width:23px;height:24px;left:409.6px;top:116.34px}#warped .w26{-moz-transform:rotate(7.44rad);-webkit-transform:rotate(7.44rad);-o-transform:rotate(7.44rad);-ms-transform:rotate(7.44rad);transform:rotate(7.44rad);width:13px;height:24px;left:425.27px;top:136.68px}#warped .w27{-moz-transform:rotate(7.55rad);-webkit-transform:rotate(7.55rad);-o-transform:rotate(7.55rad);-ms-transform:rotate(7.55rad);transform:rotate(7.55rad);width:10px;height:24px;left:432.45px;top:152.17px}#warped .w28{-moz-transform:rotate(7.68rad);-webkit-transform:rotate(7.68rad);-o-transform:rotate(7.68rad);-ms-transform:rotate(7.68rad);transform:rotate(7.68rad);width:18px;height:24px;left:432.84px;top:170.64px}#warped .w29{-moz-transform:rotate(7.84rad);-webkit-transform:rotate(7.84rad);-o-transform:rotate(7.84rad);-ms-transform:rotate(7.84rad);transform:rotate(7.84rad);width:19px;height:24px;left:434.48px;top:194.02px}#warped .w30{-moz-transform:rotate(7.97rad);-webkit-transform:rotate(7.97rad);-o-transform:rotate(7.97rad);-ms-transform:rotate(7.97rad);transform:rotate(7.97rad);width:11px;height:24px;left:437.41px;top:213.97px}#warped .w31{-moz-transform:rotate(8.08rad);-webkit-transform:rotate(8.08rad);-o-transform:rotate(8.08rad);-ms-transform:rotate(8.08rad);transform:rotate(8.08rad);width:11px;height:24px;left:434.65px;top:229.73px}#warped .w32{-moz-transform:rotate(8.27rad);-webkit-transform:rotate(8.27rad);-o-transform:rotate(8.27rad);-ms-transform:rotate(8.27rad);transform:rotate(8.27rad);width:36px;height:24px;left:413.15px;top:256.72px}#warped .w33{-moz-transform:rotate(8.5rad);-webkit-transform:rotate(8.5rad);-o-transform:rotate(8.5rad);-ms-transform:rotate(8.5rad);transform:rotate(8.5rad);width:23px;height:24px;left:402.2px;top:286.39px}#warped .w34{-moz-transform:rotate(8.66rad);-webkit-transform:rotate(8.66rad);-o-transform:rotate(8.66rad);-ms-transform:rotate(8.66rad);transform:rotate(8.66rad);width:15px;height:24px;left:390.27px;top:304.31px}#warped .w35{-moz-transform:rotate(8.82rad);-webkit-transform:rotate(8.82rad);-o-transform:rotate(8.82rad);-ms-transform:rotate(8.82rad);transform:rotate(8.82rad);width:23px;height:24px;left:367.68px;top:319.46px}#warped .w36{-moz-transform:rotate(8.96rad);-webkit-transform:rotate(8.96rad);-o-transform:rotate(8.96rad);-ms-transform:rotate(8.96rad);transform:rotate(8.96rad);width:11px;height:24px;left:354.73px;top:330.58px}#warped .w37{-moz-transform:rotate(9.07rad);-webkit-transform:rotate(9.07rad);-o-transform:rotate(9.07rad);-ms-transform:rotate(9.07rad);transform:rotate(9.07rad);width:10px;height:24px;left:340.99px;top:336.69px}#warped .w38{-moz-transform:rotate(9.18rad);-webkit-transform:rotate(9.18rad);-o-transform:rotate(9.18rad);-ms-transform:rotate(9.18rad);transform:rotate(9.18rad);width:15px;height:24px;left:321.76px;top:341.79px}#warped .w39{-moz-transform:rotate(9.31rad);-webkit-transform:rotate(9.31rad);-o-transform:rotate(9.31rad);-ms-transform:rotate(9.31rad);transform:rotate(9.31rad);width:12px;height:24px;left:305.06px;top:345.02px}#warped .w40{-moz-transform:rotate(9.42rad);-webkit-transform:rotate(9.42rad);-o-transform:rotate(9.42rad);-ms-transform:rotate(9.42rad);transform:rotate(9.42rad);width:11px;height:24px;left:289.09px;top:345.99px}
</style>

  </head>
  <body>
	 <div id="warped">
		 <span class="w0">f</span><span class="w1">i</span><span class="w2">n</span><span class="w3">d</span><span class="w4">i</span><span class="w5">n</span><span class="w6">g</span><span class="w7"> </span><span class="w8">e</span><span class="w9">c</span><span class="w10">h</span><span class="w11">o</span>
		</div>
    <div class="modal" id="instructions">
      <a href="#" class="modal-close" title="dismiss">&#215;</a>
      <p>
      Find your friend dolphin in the dark by navigating with sound alone!
      </p>
      <ul>
        <li>- [w] to move forward, [s] to move back,</li>
        <li>- [a] and [d] rotate you,</li>
        <li>- [space] to make an echo sound. use this to find walls, which will
            hurt your health if you run into them,</li>
        <li>- [f] to call out to your dolphin friend, who will respond to help you.</li>
      </ul>
    </div>
    <div class="main" id="main">
      <div class="player" id="player"></div>
      <div id="health">
        <span></span><span id="healthBar">
          <span class="healthDot"></span>
          <span class="healthDot"></span>
          <span class="healthDot"></span>
          <span class="healthDot"></span>
          <span class="healthDot"></span>
        </span>
      </div>
      <div class="modal hide" id="modal-start">
        <a href="#" class="modal-close" title="dismiss">&#215;</a>
        <p>Remember, be careful of the walls</p>
      </div>
      <div class="modal hide" id="modal-next">
        <a href="#" class="modal-close" title="dismiss">&#215;</a>
        <p>Victory! You found your dolphin friend! Onto the next friend...</p>
      </div>
      <div class="modal hide" id="modal-died">
        <a href="#" class="modal-close" title="dismiss">&#215;</a>
        <p>Oh no you died! Let's try again.</p>
      </div>
      <div class="modal hide" id="modal-end">
        <a href="#" class="modal-close" title="dismiss">&#215;</a>
        <p>That's all the friends you can find right now. Let's start over...</p>
      </div>
    </div>
    <script>!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=14)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const EM=new(function(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(2)).default);exports.default=EM},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Vector{constructor(x,y){this.x=x,this.y=y}}exports.default=Vector},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DEFAULT_VALUES={emitDelay:10,strictMode:!1},EventEmitter=function(){function EventEmitter(){var opts=arguments.length<=0||void 0===arguments[0]?DEFAULT_VALUES:arguments[0];_classCallCheck(this,EventEmitter);var emitDelay=void 0,strictMode=void 0;emitDelay=opts.hasOwnProperty("emitDelay")?opts.emitDelay:DEFAULT_VALUES.emitDelay,this._emitDelay=emitDelay,strictMode=opts.hasOwnProperty("strictMode")?opts.strictMode:DEFAULT_VALUES.strictMode,this._strictMode=strictMode,this._listeners={},this.events=[]}return _createClass(EventEmitter,[{key:"_addListenner",value:function(type,listener,once){if("function"!=typeof listener)throw TypeError("listener must be a function");-1===this.events.indexOf(type)?(this._listeners[type]=[{once:once,fn:listener}],this.events.push(type)):this._listeners[type].push({once:once,fn:listener})}},{key:"on",value:function(type,listener){this._addListenner(type,listener,!1)}},{key:"once",value:function(type,listener){this._addListenner(type,listener,!0)}},{key:"off",value:function(eventType,listenerFunc){var _this=this,typeIndex=this.events.indexOf(eventType);eventType&&-1!==typeIndex&&(listenerFunc?function(){var removedEvents=[],typeListeners=_this._listeners[eventType];typeListeners.forEach(function(fn,idx){fn.fn===listenerFunc&&removedEvents.unshift(idx)}),removedEvents.forEach(function(idx){typeListeners.splice(idx,1)}),typeListeners.length||(_this.events.splice(typeIndex,1),delete _this._listeners[eventType])}():(delete this._listeners[eventType],this.events.splice(typeIndex,1)))}},{key:"_applyEvents",value:function(eventType,eventArguments){var typeListeners=this._listeners[eventType];if(typeListeners&&typeListeners.length){var removableListeners=[];typeListeners.forEach(function(eeListener,idx){eeListener.fn.apply(null,eventArguments),eeListener.once&&removableListeners.unshift(idx)}),removableListeners.forEach(function(idx){typeListeners.splice(idx,1)})}else if(this._strictMode)throw"No listeners specified for event: "+eventType}},{key:"emit",value:function(type){for(var _this2=this,_len=arguments.length,eventArgs=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)eventArgs[_key-1]=arguments[_key];this._emitDelay?setTimeout(function(){_this2._applyEvents.call(_this2,type,eventArgs)},this._emitDelay):this._applyEvents(type,eventArgs)}},{key:"emitSync",value:function(type){for(var _len2=arguments.length,eventArgs=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)eventArgs[_key2-1]=arguments[_key2];this._applyEvents(type,eventArgs)}},{key:"destroy",value:function(){this._listeners={},this.events=[]}}]),EventEmitter}();module.exports=EventEmitter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dispatcher2=_interopRequireDefault(__webpack_require__(0)),_vector2=_interopRequireDefault(__webpack_require__(1));class BubbleManager{constructor(){this.bubbles=[],this.numBubbles=10,this.minSize=5,this.maxSize=10,this.minPos=0,this.maxPos=50,this.movement=new _vector2.default(0,0);for(let i=0;i<this.numBubbles;i++){let size=this.minSize+Math.floor(Math.random()*(this.maxSize+1)),pos=new _vector2.default(this.minPos+Math.floor(Math.random()*(this.maxPos+1)),this.minPos+Math.floor(Math.random()*(this.maxPos+1)));this.initBubble(size,pos)}this.move=this.move.bind(this),this.stop=this.stop.bind(this),_dispatcher2.default.on("MOVE",ev=>this.move(ev.data.direction)),_dispatcher2.default.on("STOP",this.stop)}initBubble(size,pos){const container=document.getElementById("main"),el=document.createElement("div");el.classList.add("bubble"),el.setAttribute("style","height: "+size+"px;transform: translateX("+pos.x+"rem) translateY("+pos.y+"rem);width: "+size+"px;"),el.dataset.x=pos.x,el.dataset.y=pos.y,container.appendChild(el),this.bubbles.push(el)}update(){0===this.movement.x&&0===this.movement.y||this.bubbles.forEach(bubble=>{const curX=parseFloat(bubble.dataset.x,10),curY=parseFloat(bubble.dataset.y,10);let newX=curX-this.movement.x,newY=curY+this.movement.y;newX>this.maxPos&&(newX=this.minPos+1),newX<this.minPos&&(newX=this.maxPos-1),newY>this.maxPos&&(newY=this.minPos+1),newY<this.minPos&&(newY=this.maxPos-1),bubble.style.transform="translateX("+newX+"rem) translateY("+newY+"rem)",bubble.dataset.x=newX,bubble.dataset.y=newY})}move(force){this.movement=force}stop(){this.movement=new _vector2.default(0,0)}}exports.default=BubbleManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={_constantlyListeners:[],_everyFrameListeners:[],_fps:60,_isRunning:!1,_millisecondsPerFrame:1e3/60,_requestId:0,_frameStop:0,previousTime:0,lag:0,frame:0,get fps(){return this._fps},set fps(amount){this._fps=amount,this._millisecondsPerFrame=1e3/this._fps},get millisecondsPerFrame(){return this._millisecondsPerFrame},get isRunning(){return this._isRunning},get requestId(){return this._requestId},tick(){const currentTime=window.performance.now(),elapsed=currentTime-this.previousTime;for(this.previousTime=currentTime,this.lag+=elapsed;this.lag>=this._millisecondsPerFrame;)this._constantly(this.lag/this._millisecondsPerFrame),this.lag-=this.millisecondsPerFrame;this._constantly(this.lag/this._millisecondsPerFrame),this._everyFrame(this.lag/this._millisecondsPerFrame),this.updateTimers(this.lag/this._millisecondsPerFrame),this.frame++,this._frameStop===this.frame&&(this._isRunning=!1,this._onFrameStop())},launchLoop(){this.previousTime=window.performance.now(),this.lag=0;const runner=()=>{this.tick(),this._isRunning&&(this._requestId=requestAnimationFrame(runner))};runner()},updateTimers(){},onEveryFrame(cb){this._everyFrameListeners=this._everyFrameListeners||[],this._everyFrameListeners.push(cb)},onConstantly(cb){this._constantlyListeners=this._constantlyListeners||[],this._constantlyListeners.push(cb)},start(){this._isRunning||(this._isRunning=!0,this.launchLoop())},stop(){this._isRunning=!1},onEveryMilli(millis,cb){throw new Error("Not implemented")},onEverySecs(secs,cb){throw new Error("Not implemented")},onEveryMins(mins,cb){throw new Error("Not implemented")},_stopOnFrame(frameNumber,cb){this._frameStop=frameNumber,this._onFrameStop=cb},_everyFrame(dtMilli){this._callListeners(this._everyFrameListeners,dtMilli)},_constantly(dtMilli){this._callListeners(this._constantlyListeners,dtMilli)},_callListeners(listeners,dtMilli){for(const listener of listeners)listener(dtMilli)}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function intersectsWith(eA,eB){const a=eA.points[0],b=eA.points[1],c=eB.points[0],d=eB.points[1],cmp=new _vector2.default(c.x-a.x,c.y-a.y),r=new _vector2.default(b.x-a.x,b.y-a.y),s=new _vector2.default(d.x-c.x,d.y-c.y),cmpxr=cmp.x*r.y-cmp.y*r.x,cmpxs=cmp.x*s.y-cmp.y*s.x,rxs=r.x*s.y-r.y*s.x;if(0===cmpxr)return c.x-a.x<0!=c.x-b.x<0||c.y-a.y<0!=c.y-b.y<0;if(0===rxs)return!1;const rxsr=1/rxs,t=cmpxs*rxsr,u=cmpxr*rxsr;return t>=0&&t<=1&&u>=0&&u<=1}function getIntersectionPoint(eA,eB){const a=eA.points[0],b=eB.points[1],c=eB.points[0],d=eB.points[1],divider=(a.x-b.x)*(c.y-d.y)-(a.y-b.y)*(c.x-d.x);if(0===divider)return new _vector2.default(0,0);const intersectionX=((a.x*b.y-a.y*b.x)*(c.x-d.x)-(a.x-b.x)*(c.x*d.y-c.y*d.x))/divider,intersectionY=((a.x*b.y-a.y*b.x)*(c.y-d.y)-(a.y-b.y)*(c.x*d.y-c.y*d.x))/divider;return new _vector2.default(intersectionX,intersectionY)}Object.defineProperty(exports,"__esModule",{value:!0});var _dispatcher2=_interopRequireDefault(__webpack_require__(0)),_vector2=_interopRequireDefault(__webpack_require__(1));class Collisions{constructor(entities){this.entities=entities,this.checkEcho=this.checkEcho.bind(this),_dispatcher2.default.on("ECHO",()=>this.checkEcho())}update(){this.checkCollisions()}checkCollisions(){this.entities.forEach(entityA=>{this.entities.forEach(entityB=>{entityA!==entityB&&this.detectRectangles(entityA,entityB)&&(entityA.isCollidable&&entityA.emitSync("collision",entityB),entityB.isCollidable&&entityB.emitSync("collision",entityA))})})}detectRectangles(rect1,rect2){return rect1.x<rect2.x+rect2.w&&rect1.x+rect1.w>rect2.x&&rect1.y<rect2.y+rect2.h&&rect1.h+rect1.y>rect2.y}checkEcho(){const player=this.entities.find(entity=>entity.isPlayer),walls=this.checkRayCasting(player.x,player.y),wall=this.findFacingWall(walls,player.x,player.y,player.angle);if(wall){const distance=this.distanceOriented(player,wall);player.emitSync("ECHO_FOUND",{data:{wall:wall,distance:distance}})}}distanceOriented(player,wall){const wallPoint=new _vector2.default(wall.x,wall.y),playerCenter=new _vector2.default(player.x+player.w/2,player.y+player.h/2);return"v"===wall.orientation?wallPoint.y=playerCenter.y:wallPoint.x=playerCenter.x,this.distance(playerCenter,wallPoint)}distance(pointA,pointB){return Math.sqrt(Math.pow(pointB.x-pointA.x,2)+Math.pow(pointB.y-pointA.y,2))}checkRayCasting(cX,cY){const hitpoints=[],wallPoints=[],walls=this.entities.filter(entity=>entity.isWall);return walls.forEach(wall=>{let closestWall;wall.points.forEach((point,jdx)=>{let closestPoint;0===jdx&&(closestPoint=wall.points[0]),1===jdx&&(closestPoint=wall.points[1]),closestWall=wall;const ray={points:[new _vector2.default(cX,cY),new _vector2.default(closestPoint.x,closestPoint.y)]};let minDistance=this.distance(ray.points[0],ray.points[1]);walls.forEach(wallK=>{if(wall.name!==wallK.name&&intersectsWith(wallK,ray)){const intersectionPoint=getIntersectionPoint(wallK,ray),tempRay={points:[new _vector2.default(cX,cY),new _vector2.default(intersectionPoint.x,intersectionPoint.y)]},tempRayLength=this.distance(tempRay.points[0],tempRay.points[1]);tempRayLength<minDistance&&(closestPoint=intersectionPoint,minDistance=tempRayLength,closestWall=wallK)}}),hitpoints.push(closestPoint)}),wallPoints.push(closestWall)}),wallPoints}findFacingWall(walls,cX,cY,angle){let closestWall;return 0===angle&&(closestWall=walls.find(wall=>"h"===wall.orientation&&wall.y<=cY)),90===angle&&(closestWall=walls.find(wall=>"v"===wall.orientation&&wall.x>=cX)),180===angle&&(closestWall=walls.find(wall=>"h"===wall.orientation&&wall.y>=cY)),270===angle&&(closestWall=walls.find(wall=>"v"===wall.orientation&&wall.x<=cX)),closestWall}}exports.default=Collisions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let entities=[];exports.default={addEntity(entity){entities.push(entity)},removeEntities(){entities.length=0},update(){entities.forEach(entity=>{entity.update&&entity.update()})},render(offset){entities.forEach(entity=>{entity.render&&entity.render()})},get entities(){return entities}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jsfxr2=_interopRequireDefault(__webpack_require__(13)),_eventEmitterEs2=_interopRequireDefault(__webpack_require__(2)),_dispatcher2=_interopRequireDefault(__webpack_require__(0)),_vector2=_interopRequireDefault(__webpack_require__(1));const audioCtx=new(window.AudioContext||window.webkitAudioContext),sfxDolphin=[2,.16,.19,.27,.17,.35,.31,.3,.24,.37,.41,.72,.22,.87,-.0239,.61,-.3,-.54,.84,-.62,.27,.3,-.6799,.3],sfxSearch=[2,.24,.93,.8,.11,.35,.34,.4199,-.56,.18,.19,.76,.23,,-.0367,.19,-.4599,-.24,.27,-.4599,.12,.12,.7,.57],sfxBaby=[2,.24,.93,.8,.11,.4,.34,.4199,-.56,.18,.19,.76,.23,,-.0367,.19,-.4599,-.24,.27,-.4599,.12,.12,.7,1],sfxDolphinURL=(0,_jsfxr2.default)(sfxDolphin),dolphinAudio=new Audio;dolphinAudio.src=sfxDolphinURL,dolphinAudio.crossOrigin="anonymous";const dolphinSource=audioCtx.createMediaElementSource(dolphinAudio),gainNode=audioCtx.createGain(),convolverGain=audioCtx.createGain(),convolver=audioCtx.createConvolver();dolphinSource.connect(gainNode),dolphinSource.connect(convolverGain),gainNode.connect(audioCtx.destination),convolverGain.connect(convolver);const searchAudioUrl=(0,_jsfxr2.default)(sfxSearch),searchAudio=new Audio;searchAudio.src=searchAudioUrl,searchAudio.loop=!1,searchAudio.crossOrigin="anonymous";const babyAudioUrl=(0,_jsfxr2.default)(sfxBaby),babyAudio=new Audio;babyAudio.src=babyAudioUrl,babyAudio.loop=!1,babyAudio.crossOrigin="anonymous";const babyAudioSource=audioCtx.createMediaElementSource(babyAudio),panNode=audioCtx.createPanner();panNode.coneOuterGain=.4,panNode.coneOuterAngle=240,panNode.coneInnerAngle=0,panNode.refDistance=20,babyAudioSource.connect(panNode),panNode.connect(audioCtx.destination),audioCtx.listener.setPosition(0,0,0),panNode.setPosition(0,0,-.4);class Player extends _eventEmitterEs2.default{constructor(x,y){super(),this.x=x,this.y=y,this.w=4,this.h=3,this.movement=new _vector2.default(0,0),this.angle=180,this.isCollidable=!0,this.isPlayer=!0,this.el=document.getElementById("player"),this.freeze=!1,this.health=5,this.onKey=this.onKey.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onEchoFound=this.onEchoFound.bind(this),this.onCallBack=this.onCallBack.bind(this),this.onPrize=this.onPrize.bind(this),this.on("collision",this.onCollision.bind(this)),_dispatcher2.default.on("KEYDOWN",ev=>this.onKey(ev.data)),_dispatcher2.default.on("KEYUP",ev=>this.onKeyUp(ev.data)),_dispatcher2.default.on("CALLBACK",ev=>this.onCallBack(ev.data)),this.on("ECHO_FOUND",ev=>this.onEchoFound(ev.data))}onKey(keyData){switch(keyData.keyName){case"w":this.orientMove(.25);break;case"d":this.rotate(-90);break;case"s":this.orientMove(-.25);break;case"a":this.rotate(90);break;case" ":gainNode.gain.value=1,convolverGain.gain.value=0,dolphinAudio.play(),_dispatcher2.default.emitSync("ECHO");break;case"f":searchAudio.play(),_dispatcher2.default.emitSync("SEARCH",{data:{pos:new _vector2.default(this.x,this.y)}})}}onKeyUp(keyData){switch(keyData.keyName){case"w":case"s":this.stopMove()}}onEchoFound(data){this.timer=setTimeout(()=>{gainNode.gain.value=.2,convolverGain.gain.value=1,dolphinAudio.play()},10*data.distance)}move(x,y){this.freeze||(this.movement.x=x,this.movement.y=y,console.log("movement",this.x,this.y),_dispatcher2.default.emit("MOVE",{data:{direction:new _vector2.default(x,y)}}))}stopMove(){this.movement.x=0,this.movement.y=0,_dispatcher2.default.emit("STOP")}orientMove(force){90===this.angle?this.move(force,0):270===this.angle?this.move(-force,0):180===this.angle?this.move(0,force):0===this.angle&&this.move(0,-force)}rotate(angle){this.freeze||(this.angle+=angle,this.angle=this.angle%360,this.angle<0&&(this.angle+=360),this.rotateEl(this.angle))}rotateEl(angle){let fixedAngle=angle;0===angle&&(fixedAngle=180),180===angle&&(fixedAngle=0),this.el.setAttribute("style","transform: rotate("+fixedAngle+"deg);")}update(){0!==this.movement.x&&(this.x+=this.movement.x),0!==this.movement.y&&(this.y+=this.movement.y)}injured(){this.health-=1,_dispatcher2.default.emitSync("INJURY",{data:{health:this.health}}),0===this.health&&_dispatcher2.default.emit("DEATH")}onPrize(){_dispatcher2.default.emit("PRIZE"),this.x-=16,this.y-=16}onCollision(entityB){if(entityB.isPrize)return this.onPrize();"h"===entityB.orientation?180===this.angle?this.y-=16:this.y+=16:270===this.angle?this.x+=16:this.x-=16,this.freeze=!0;const backup=new _vector2.default(-this.movement.x,-this.movement.y);this.movement=backup,_dispatcher2.default.emitSync("MOVE",{data:{direction:backup}}),setTimeout(()=>{this.movement=new _vector2.default(0,0),this.stopMove()},600),console.log("collision",this.x,this.y),setTimeout(()=>{this.freeze=!1},1500),this.injured()}onCallBack(data){const pos=data.position;audioCtx.listener.setPosition(this.x,this.y,0),panNode.setPosition(pos.x,pos.y,0),setTimeout(()=>{babyAudio.play()},500)}}exports.default=Player},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _eventEmitterEs2=_interopRequireDefault(__webpack_require__(2)),_dispatcher2=_interopRequireDefault(__webpack_require__(0)),_vector2=_interopRequireDefault(__webpack_require__(1));class Prize extends _eventEmitterEs2.default{constructor(x,y){super(),this.x=x,this.y=y,this.w=25,this.h=25,this.isCollidable=!0,this.isPrize=!0,this.onSearch=this.onSearch.bind(this),_dispatcher2.default.on("SEARCH",ev=>{this.onSearch(ev.data)})}onSearch(data){data.pos;const center=new _vector2.default(this.x-this.w/2,this.y-this.h/2);this.callBack(center)}callBack(position){_dispatcher2.default.emit("CALLBACK",{data:{position:position}})}}exports.default=Prize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _vector2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(1));class Wall{constructor(x,y,w,h){this.name=(Math.random().toString(36)+"00000000000000000").slice(2,5),this.x=x,this.y=y,this.w=w,this.h=h,this.orientation=w>h?"h":"v",this.isWall=!0,"h"===this.orientation?this.points=[new _vector2.default(x,y),new _vector2.default(x+w,y)]:this.points=[new _vector2.default(x,y),new _vector2.default(x,y+h)]}}exports.default=Wall},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});_interopRequireDefault(__webpack_require__(2));var _dispatcher2=_interopRequireDefault(__webpack_require__(0));exports.default=function(container){container.addEventListener("keydown",event=>{const keyName=event.key;"Control"!==keyName&&_dispatcher2.default.emit("KEYDOWN",{data:{keyName:keyName}})},!1),container.addEventListener("keyup",event=>{const keyName=event.key;"Control"!==keyName&&_dispatcher2.default.emit("KEYUP",{data:{keyName:keyName}})},!1)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _bubbles2=_interopRequireDefault(__webpack_require__(3)),_clock2=_interopRequireDefault(__webpack_require__(4)),_collisions2=_interopRequireDefault(__webpack_require__(5)),_dispatcher2=_interopRequireDefault(__webpack_require__(0)),_player2=_interopRequireDefault(__webpack_require__(7)),_prize2=_interopRequireDefault(__webpack_require__(8)),_wall2=_interopRequireDefault(__webpack_require__(9)),_levels2=_interopRequireDefault(__webpack_require__(15)),_manager2=_interopRequireDefault(__webpack_require__(6));class StateManager{constructor(){this.level=0,this.collisionManager=new _collisions2.default(_manager2.default.entities),this.bubbles=new _bubbles2.default,_clock2.default.onConstantly(_manager2.default.update),_clock2.default.onConstantly(this.collisionManager.checkCollisions.bind(this.collisionManager)),_clock2.default.onEveryFrame(this.bubbles.update.bind(this.bubbles)),_clock2.default.onEveryFrame(_manager2.default.render),this.changeLevel(0),this.onPrize=this.onPrize.bind(this),this.onDeath=this.onDeath.bind(this),_dispatcher2.default.on("PRIZE",this.onPrize),_dispatcher2.default.on("DEATH",this.onDeath)}openUI(id){const modal=document.getElementById(id);modal.classList.remove("hide"),setTimeout(()=>{modal.classList.add("hide")},4e3)}changeLevel(level){const l=_levels2.default[level];console.log("changeLevel",l),_manager2.default.removeEntities();const player=new _player2.default(l.playerX,l.playerY);player.freeze=!0;const prize=new _prize2.default(l.prizeX,l.prizeY);l.walls.map(dwall=>{const wall=new _wall2.default(dwall.x,dwall.y,dwall.w,dwall.h);return _manager2.default.addEntity(wall),wall});_manager2.default.addEntity(player),_manager2.default.addEntity(prize),_clock2.default.onConstantly(function(){}),0===level&&_clock2.default.start(),setTimeout(()=>{player.freeze=!1},2500)}onDeath(){this.openUI("modal-died"),this.changeLevel(this.level)}onPrize(){this.level++,_levels2.default[this.level]?(this.openUI("modal-next"),this.changeLevel(this.level)):(this.openUI("modal-end"),this.changeLevel(0))}}exports.default=StateManager},function(module,exports,__webpack_require__){"use strict";function onInjury(data){document.body.classList.add("ouch");const health=data.health,healthEls=document.querySelectorAll(".healthDot");if(healthEls.forEach(el=>{el.setAttribute("style","visibility: visible;")}),health<5){const max=5-health;for(let i=0;i<max;i++)healthEls[i].setAttribute("style","visibility: hidden;")}setTimeout(()=>{document.body.classList.remove("ouch")},1e3)}Object.defineProperty(exports,"__esModule",{value:!0});var _dispatcher2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0));exports.default=function(){_dispatcher2.default.on("INJURY",ev=>{onInjury(ev.data)}),document.querySelectorAll(".modal").forEach(modal=>{modal.querySelector(".modal-close").addEventListener("click",()=>{modal.classList.add("hide")})})}},function(module,exports,__webpack_require__){"use strict";function SfxrParams(){this.setSettings=function(values){for(var i=0;i<24;i++)this[String.fromCharCode(97+i)]=values[i]||0;this.c<.01&&(this.c=.01);var totalTime=this.b+this.c+this.e;if(totalTime<.18){var multiplier=.18/totalTime;this.b*=multiplier,this.c*=multiplier,this.e*=multiplier}}}var synth=new function(){this._params=new SfxrParams;var _envelopeLength0,_envelopeLength1,_envelopeLength2,_period,_maxPeriod,_slide,_deltaSlide,_changeAmount,_changeTime,_changeLimit,_squareDuty,_dutySweep;this.reset=function(){var p=this._params;_period=100/(p.f*p.f+.001),_maxPeriod=100/(p.g*p.g+.001),_slide=1-p.h*p.h*p.h*.01,_deltaSlide=-p.i*p.i*p.i*1e-6,p.a||(_squareDuty=.5-p.n/2,_dutySweep=5e-5*-p.o),_changeAmount=1+p.l*p.l*(p.l>0?-.9:10),_changeTime=0,_changeLimit=1==p.m?0:(1-p.m)*(1-p.m)*2e4+32},this.totalReset=function(){this.reset();var p=this._params;return _envelopeLength0=p.b*p.b*1e5,_envelopeLength1=p.c*p.c*1e5,_envelopeLength2=p.e*p.e*1e5+12,3*((_envelopeLength0+_envelopeLength1+_envelopeLength2)/3|0)},this.synthWave=function(buffer,length){var p=this._params,_filters=1!=p.s||p.v,_hpFilterCutoff=p.v*p.v*.1,_hpFilterDeltaCutoff=1+3e-4*p.w,_lpFilterCutoff=p.s*p.s*p.s*.1,_lpFilterDeltaCutoff=1+1e-4*p.t,_lpFilterOn=1!=p.s,_masterVolume=p.x*p.x,_minFreqency=p.g,_phaser=p.q||p.r,_phaserDeltaOffset=p.r*p.r*p.r*.2,_phaserOffset=p.q*p.q*(p.q<0?-1020:1020),_repeatLimit=p.p?32+((1-p.p)*(1-p.p)*2e4|0):0,_sustainPunch=p.d,_vibratoAmplitude=p.j/2,_vibratoSpeed=p.k*p.k*.01,_waveType=p.a,_envelopeLength=_envelopeLength0,_envelopeOverLength0=1/_envelopeLength0,_envelopeOverLength1=1/_envelopeLength1,_envelopeOverLength2=1/_envelopeLength2,_lpFilterDamping=5/(1+p.u*p.u*20)*(.01+_lpFilterCutoff);_lpFilterDamping>.8&&(_lpFilterDamping=.8),_lpFilterDamping=1-_lpFilterDamping;for(var _lpFilterOldPos,_periodTemp,_phaserInt,_pos,_sample,_superSample,_finished=!1,_envelopeStage=0,_envelopeTime=0,_envelopeVolume=0,_hpFilterPos=0,_lpFilterDeltaPos=0,_lpFilterPos=0,_phase=0,_phaserPos=0,_repeatTime=0,_vibratoPhase=0,_phaserBuffer=new Array(1024),_noiseBuffer=new Array(32),i=_phaserBuffer.length;i--;)_phaserBuffer[i]=0;for(i=_noiseBuffer.length;i--;)_noiseBuffer[i]=2*Math.random()-1;for(i=0;i<length;i++){if(_finished)return i;if(_repeatLimit&&++_repeatTime>=_repeatLimit&&(_repeatTime=0,this.reset()),_changeLimit&&++_changeTime>=_changeLimit&&(_changeLimit=0,_period*=_changeAmount),_slide+=_deltaSlide,(_period*=_slide)>_maxPeriod&&(_period=_maxPeriod,_minFreqency>0&&(_finished=!0)),_periodTemp=_period,_vibratoAmplitude>0&&(_vibratoPhase+=_vibratoSpeed,_periodTemp*=1+Math.sin(_vibratoPhase)*_vibratoAmplitude),(_periodTemp|=0)<8&&(_periodTemp=8),_waveType||((_squareDuty+=_dutySweep)<0?_squareDuty=0:_squareDuty>.5&&(_squareDuty=.5)),++_envelopeTime>_envelopeLength)switch(_envelopeTime=0,++_envelopeStage){case 1:_envelopeLength=_envelopeLength1;break;case 2:_envelopeLength=_envelopeLength2}switch(_envelopeStage){case 0:_envelopeVolume=_envelopeTime*_envelopeOverLength0;break;case 1:_envelopeVolume=1+2*(1-_envelopeTime*_envelopeOverLength1)*_sustainPunch;break;case 2:_envelopeVolume=1-_envelopeTime*_envelopeOverLength2;break;case 3:_envelopeVolume=0,_finished=!0}_phaser&&((_phaserInt=0|(_phaserOffset+=_phaserDeltaOffset))<0?_phaserInt=-_phaserInt:_phaserInt>1023&&(_phaserInt=1023)),_filters&&_hpFilterDeltaCutoff&&((_hpFilterCutoff*=_hpFilterDeltaCutoff)<1e-5?_hpFilterCutoff=1e-5:_hpFilterCutoff>.1&&(_hpFilterCutoff=.1)),_superSample=0;for(var j=8;j--;){if(++_phase>=_periodTemp&&(_phase%=_periodTemp,3==_waveType))for(var n=_noiseBuffer.length;n--;)_noiseBuffer[n]=2*Math.random()-1;switch(_waveType){case 0:_sample=_phase/_periodTemp<_squareDuty?.5:-.5;break;case 1:_sample=1-_phase/_periodTemp*2;break;case 2:_sample=.225*(((_sample=1.27323954*(_pos=6.28318531*((_pos=_phase/_periodTemp)>.5?_pos-1:_pos))+.405284735*_pos*_pos*(_pos<0?1:-1))<0?-1:1)*_sample*_sample-_sample)+_sample;break;case 3:_sample=_noiseBuffer[Math.abs(32*_phase/_periodTemp|0)]}_filters&&(_lpFilterOldPos=_lpFilterPos,(_lpFilterCutoff*=_lpFilterDeltaCutoff)<0?_lpFilterCutoff=0:_lpFilterCutoff>.1&&(_lpFilterCutoff=.1),_lpFilterOn?(_lpFilterDeltaPos+=(_sample-_lpFilterPos)*_lpFilterCutoff,_lpFilterDeltaPos*=_lpFilterDamping):(_lpFilterPos=_sample,_lpFilterDeltaPos=0),_hpFilterPos+=(_lpFilterPos+=_lpFilterDeltaPos)-_lpFilterOldPos,_sample=_hpFilterPos*=1-_hpFilterCutoff),_phaser&&(_phaserBuffer[_phaserPos%1024]=_sample,_sample+=_phaserBuffer[(_phaserPos-_phaserInt+1024)%1024],_phaserPos++),_superSample+=_sample}_superSample*=.125*_envelopeVolume*_masterVolume,buffer[i]=_superSample>=1?32767:_superSample<=-1?-32768:32767*_superSample|0}return length}},jsfxr=function(settings){synth._params.setSettings(settings);var envelopeFullLength=synth.totalReset(),data=new Uint8Array(4*((envelopeFullLength+1)/2|0)+44),used=2*synth.synthWave(new Uint16Array(data.buffer,44),envelopeFullLength),dv=new Uint32Array(data.buffer,0,44);dv[0]=1179011410,dv[1]=used+36,dv[2]=1163280727,dv[3]=544501094,dv[4]=16,dv[5]=65537,dv[6]=44100,dv[7]=88200,dv[8]=1048578,dv[9]=1635017060,dv[10]=used,used+=44;for(var i=0,base64Characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",output="data:audio/wav;base64,";i<used;i+=3){var a=data[i]<<16|data[i+1]<<8|data[i+2];output+=base64Characters[a>>18]+base64Characters[a>>12&63]+base64Characters[a>>6&63]+base64Characters[63&a]}return output};module.exports=jsfxr},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_interopRequireDefault(__webpack_require__(3)),_interopRequireDefault(__webpack_require__(4)),_interopRequireDefault(__webpack_require__(5));var _keyboard2=_interopRequireDefault(__webpack_require__(10)),_ui2=(_interopRequireDefault(__webpack_require__(6)),_interopRequireDefault(__webpack_require__(7)),_interopRequireDefault(__webpack_require__(8)),_interopRequireDefault(__webpack_require__(12)));_interopRequireDefault(__webpack_require__(9));const stateManager=new(_interopRequireDefault(__webpack_require__(11)).default);console.log(stateManager),(0,_keyboard2.default)(window),(0,_ui2.default)()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[{playerX:40,playerY:40,prizeX:120,prizeY:130,walls:[{x:1,y:1,w:179,h:1},{x:179,y:1,w:1,h:179},{x:1,y:1,w:1,h:179},{x:1,y:179,w:179,h:1}]},{playerX:20,playerY:20,prizeX:120,prizeY:120,walls:[{x:0,y:0,w:149,h:1},{x:150,y:0,w:1,h:149},{x:1,y:150,w:149,h:1},{x:0,y:1,w:1,h:149}]},{playerX:20,playerY:100,prizeX:85,prizeY:20,walls:[{x:0,y:0,w:119,h:1},{x:120,y:0,w:1,h:119},{x:1,y:120,w:119,h:1},{x:0,y:1,w:1,h:119},{x:40,y:60,w:1,h:59},{x:80,y:1,w:1,h:59}]},{playerX:20,playerY:10,prizeX:20,prizeY:65,walls:[{x:0,y:0,w:139,h:1},{x:140,y:0,w:1,h:79},{x:1,y:80,w:139,h:1},{x:0,y:1,w:1,h:79},{x:1,y:20,w:119,h:1},{x:120,y:20,w:1,h:40},{x:80,y:79,w:1,h:40},{x:1,y:60,w:60,h:1}]}]}]);</script>
  </body>
</html>
