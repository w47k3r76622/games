cx.scale(2,2);var Ngn=function(){function a(){if(requestAnimationFrame(a),env.bg_col=[8+6*Math.sin(frame/(20+40*uniqr)/30+6*uniqr),8+6*Math.sin(frame/(20+40*uniqg)/30+6*uniqg),8+6*Math.sin(frame/(20+40*uniqb)/30+6*uniqb)],cx.fillStyle="#292724",cx.rect(0,0,cvw,cvh),cx.fill(),bgs.length)for(var b=0,c=bgs.length;c>b;b++)bgs[b].drw(env.scrx,env.scry);if(nmys.length)for(var b=0,c=nmys.length;c>b;b++)nmys[b].drw(env.scrx,env.scry);plr&&plr.drw(),scrbrd&&scrbrd.drw(),frame++}function b(){if(toa=window.setTimeout(b,17),"pause"!==game_mode){mvs++;for(var a=0,c=nmys.length;c>a;a++)nmys[a]&&nmys[a].mv(a);if("start"===game_mode){if(num_nmys<2+Math.min(mvs/500,100)){var d=Math.min(utl.any(~~Math.min(mvs/2700+1,7),0),3)+1;nmys.push(new window["Nmy"+d]),num_nmys++}plr&&plr.mv()}}}return a(),b(),{end_game:function(){game_mode="init"},esc:function(){switch(game_mode){case"start":game_mode="pause";break;case"pause":game_mode="start"}},go:function(){switch(game_mode){case"init":game_mode="start",nmys=[],plr=new Plr,scrbrd=new Scrbrd,rgd={lin:{vx:0,vy:-10,x:100,y:100},ang:{vel:.2,rad:2*Math.random()*pi},ply:{ang:2.8,rot:.5,r:20}},env.x=1500,num_nmys=0,env.y=2100,uniqr=utl.infany(1),uniqg=utl.infany(1),uniqb=utl.infany(1),bgs=[],snds.reset(),mvs=0,frame=0;for(var a=0,b=settings.amt_bg;b>a;a++)bgs.push(new Bg(a+50));break;case"pause":game_mode="start";break;case"start":game_mode="pause"}}}},ngn=new Ngn;