!function(){"use strict";async function n(n){return await function(n){return new Promise((t=>setTimeout(t,n)))}(n),new Promise((n=>requestAnimationFrame((()=>n()))))}function t({tag:n,t:t,text:o,o:e}={}){const c=document.createElement(n||"div");if(t&&c.classList.add(...t.split(" ").filter(Boolean)),o){const n=document.createTextNode(o);c.appendChild(n)}return e&&c.addEventListener("click",e),c}function o({text:n,o:o,i:e,u:c}){const i=t({tag:"button",t:e?"icon-btn":"",o:o});return n&&(c?function(n,o){n.appendChild(t({tag:"span",text:o,t:"rbc"}))}(i,n):i.innerHTML=n),i}const e=new class{constructor(){this.l={}}subscribe(n,t){this.l[n]||(this.l[n]=[]),this.l[n].push(t)}unsubscribe(n,t){if(!this.l[n])return;const o=this.l[n].indexOf(t);o>=0&&this.l[n].splice(o,1)}h(n,t){this.l[n]&&this.l[n].forEach((n=>n(t)))}};function c(){e.h(0)}const i=n=>"string"==typeof n?n:n.type,r=n=>"üü´"===i(n),s=n=>"ü™ë"===i(n),a=n=>""===i(n);function u(n){return void 0!==n.m}function l(n,t){return n.some((n=>d(n,t)))}function f(n,t){return n.find((n=>d(n,t)))}function d(n,t){return n.v===t.v&&n.p===t.p}function h(n,t){t.find((t=>d(t,n)))||t.push(n)}function m(n){return n[Math.floor(Math.random()*n.length)]}const v={0:"never exactly 13 at a table",1:"Triskaidekaphobia",2:"Welcome to the Society of Multiphobics",3:"üèÅ Seat all emojis at the tables without triggering any phobias.",4:"üèÅ What a mess! Re-sort the emojis at the tables until all phobias are resolved.",5:"Start game",6:"New game",7:"You win üéâ",8:"Continue",9:"Back",10:"Big {0}",11:"Small {0}",12:"no {0} at the same table (A)",13:"no {0} next to or opposite (B)",14:"assigned to a seat at a table üçΩÔ∏è",21:"Phobias: {0}",15:"Select an emoji to learn more about it.",16:"A chair. Someone can sit here.",17:"Table {0}",18:"Occupancy: {0}/{1} ü™ë",19:"Decoration",20:"Empty field. Someone can wait here.",22:"Difficulty",23:"Easy",24:"Medium",25:"Hard",26:"Extreme",27:"Moves",28:"Top:",29:"Avg:"};function b(n,...t){document.documentElement.setAttribute("lang","en");let o=v[n];for(let n=0;n<t.length;n++){const e=t[n],c=new RegExp(`\\{${n}\\}`,"g");o=o.replace(c,e)}return o}let p=50;const g=["ü¶Ü","üë¥","üêô","üê∏","üê∂","üê¶","üíÉ","ü¶ã","üê¥","ü¶ê","üêî"],x=[...g,"üî¢","üí∞","üéà","üçå","‚òÄÔ∏è","üì∞","ü•á","üìö"],w={"ü¶Ü":"Anatidaephobia","üë¥":"Peladphobia","üêô":"Chapodiphobia","üê∏":"Ranidaphobia","üê∂":"Cynophobia","üê¶":"Ornithophobia","üíÉ":"Chorophobia","ü¶ã":"Lepidopterophobia","üê¥":"Equinophobia","ü¶ê":"Ostraconophobia","üêî":"Alektorophobia","üî¢":"Arithmophobia","üí∞":"Plutophobia","üéà":"Globophobia","üçå":"Bananaphobia","‚òÄÔ∏è":"Heliophobia","üì∞":"Chloephobia","ü•á":"Aurophobia","üìö":"Bibliophobia"};function C(n){if(!n)return"";return w[n]}const M=(n=[...x])=>m(n);function y(n,t=[...x]){return m(t.filter((t=>!n.includes(t))))}const A="mxlle13";function k(n,t){0!=t?localStorage.setItem(A+"."+n,t):function(n){localStorage.removeItem(A+"."+n)}(n)}function F(n){return localStorage.getItem(A+"."+n)}function T(n){G.C=B[n],G.M=n,k("d8y",n.toString())}const S=[0,1,2,3],B={0:{A:18,k:20,F:.3,T:.7,S:3},1:{A:21,k:24,F:.4,T:.6,S:4},2:{A:25,k:28,F:.6,T:.7,S:5},3:{A:32,k:32,F:.7,T:1,S:6}},I={0:"üíö",1:"üü°",2:"üü•",3:"üíÄ"};function O(n){switch(n){case 0:return b(23);case 1:return b(24);case 2:return b(25);case 3:return b(26)}}function j(n){const t=F(P(n));if(!t)return{B:0,I:0,count:0};const[o,e,c]=t.split(",").map(Number);return{B:o,I:e,count:c}}function P(n){switch(n){case 0:return"d8y0";case 1:return"d8y1";case 2:return"d8y2";case 3:return"d8y3"}}const $=F("oSt"),D=F("d8y"),E=D?Number(D):0,H=B[E],_={O:void 0,j:$?Number($):0,P:[],$:[],language:"en",M:E,C:H,D:0},G=Object.assign({},_),W=(()=>{const{H:n,_:t,c:o}={H:"",_:"üü´",c:"ü™ë"};return[[o,t,o,n,n,o,t,o],[o,t,o,n,n,o,t,o],[o,t,o,n,n,o,t,o],[o,t,o,n,n,o,t,o],[o,t,o,n,n,o,t,o],[o,t,o,n,n,o,t,o],[o,t,o,n,n,o,t,o],[o,t,o,n,n,o,t,o]]})();function L(n,t){return Math.floor(Math.random()*(t-n+1)+n)}function N(){return-1!==G.j}const R=(()=>{const{H:n,_:t,c:o}={H:"",_:"üü´",c:"ü™ë"};return[[n,o,t,o],[n,n,n,n],[n,n,n,n],[n,o,t,o]]})(),q=(()=>{const{H:n,_:t,c:o}={H:"",_:"üü´",c:"ü™ë"};return[[n,n,n,n,n,n,n],[n,n,n,n,n,n,n],[o,t,o,n,o,t,o],[o,t,o,n,o,t,o],[o,t,o,n,o,t,o],[n,n,n,n,n,n,n],[n,n,n,n,n,n,n]]})();function V(){switch(G.j){case 0:return{G:R,W:U([[0,1,-1,1,0],[1,-1,-1,0,3],[2,-1,-1,3,3]]),L:1,N:n=>0===n||3===n,R:(n,t)=>n<2?0:1,q:{v:1,p:0,direction:"n"}};case 1:return{G:q,W:U([[0,1,2,0,3],[1,-1,-1,2,0],[2,1,-1,2,4],[3,-1,-1,4,6],[4,-1,-1,3,2]]),L:3,N:n=>3===n,R:(n,t)=>t<3?0:1,q:{v:0,p:3,direction:"p"}};case 2:return{G:W,W:U([[0,1,4,0,3],[1,-1,-1,1,0],[1,-1,-1,2,0],[2,-1,-1,3,0],[2,-1,-1,4,0],[3,-1,-1,5,0],[3,-1,-1,6,0],[1,-1,-1,1,2],[1,-1,-1,2,2],[2,-1,-1,3,2],[2,-1,-1,4,2],[3,-1,-1,5,2],[3,-1,-1,6,2],[4,-1,-1,1,5],[4,-1,-1,2,5],[5,-1,-1,3,5],[5,-1,-1,4,5],[6,-1,-1,5,5],[6,-1,-1,6,5],[4,-1,-1,1,7],[4,-1,-1,2,7],[5,-1,-1,3,7],[5,-1,-1,4,7],[6,-1,-1,5,7],[6,-1,-1,6,7]]),L:8,N:n=>n===Math.ceil(W.length/2)-1,R:(n,t)=>t>3?1:0,q:{v:0,p:3,direction:"p"}};default:return}}function z(){if(!N())return void(G.O=void 0);G.O=G.j;let n=G.j+1;n>2&&(n=-1),G.j=n,k("oSt",n.toString())}function U(n){const t=L(0,g.length-1),o=n=>{const o=(n=t+n)%g.length;return g[o]};return n.map((([n,t,e,c,i])=>({name:o(n),V:-1!==t?o(t):void 0,U:-1!==e?o(e):void 0,v:c,p:i})))}let X,Y;function Z(n,i){if(X)X.X(Q(n,i)),J(i);else{const c=Q(n,i);X=function(n,c){const i=t({t:"dialog",o:n=>n.stopPropagation()}),r=t({t:"content"});function s(n){p--,i.classList.remove("open"),e.h(5,n)}let a,u,l;r.appendChild(n),i.appendChild(r),void 0!==c&&(a=t({t:"btns"}),u=o({text:b(9),o:()=>s(0)}),a.appendChild(u),l=o({text:c,o:()=>s(1)}),l.classList.add("prm"),a.appendChild(l),i.appendChild(a));const f=o({text:"X",o:()=>s(0),i:1});return i.appendChild(f),document.body.appendChild(i),{open:n=>(p++,i.style.zIndex=p.toString(),n?i.classList.add("open"):setTimeout((()=>i.classList.add("open")),0),r.classList.toggle("ovrflw",r.scrollHeight>r.clientHeight),r.scrollTop=0,new Promise(((n,t)=>{e.subscribe(5,n)}))),close:n=>{s(n)},Y:n=>{l&&(l.disabled=n)},X:n=>{r.innerHTML="",r.appendChild(n)},Z:n=>{l&&(l.innerText=n)}}}(c,K(i))}null==Y||Y.classList.toggle("hidden",N()),X.open().then((n=>{n&&((i||G.D)&&z(),c())}))}function J(n){null==X||X.Z(K(n))}function K(n){return V()?n||G.D?b(8):b(6):b(6)+" "+I[G.M]}function Q(n,e){e&&!N()&&function(n,t){const o=j(n),e=o.count+1,c=Math.round((o.I*o.count+t)/e);k(P(n),[Math.max(o.B,t),c,e].join(","))}(G.M,n);const c=t({t:"menu"});if(e||G.D){const t=N()?"":"<br/>"+n+"‚≠êÔ∏è";c.innerHTML=b(7)+t}else c.innerHTML=b(6);Y=t({t:"d8y"}),c.append(Y);for(let n of S){const c=t({}),i=o({text:I[n]+" "+O(n),o:()=>{T(n),J(e),null==X||X.close(1)}}),r=j(n),s=t({t:"high",text:`${b(28)} ${r.B}‚≠ê ‚Äì ${b(29)} ${r.I}‚≠êÔ∏è`});c.append(i,s),Y.append(c)}return c}function nn(n,t){const o=[];for(let e=0;e<2;e++){const c=an(t,e),i=13===c.length;i&&o.push(...sn(n,e)),c.forEach((n=>{const o=c.filter((t=>t.name===n.V)),e=tn(t,n);o.push(...e),n.J=o.length>0,n.K=i,n.nn=o}))}t.filter((n=>void 0===n.m)).forEach((n=>{const o=tn(t,n);n.J=o.length>0,n.K=0,n.nn=o}));const e=t.filter((n=>n.J));return t.forEach((n=>{n.tn=e.filter((t=>t.nn.find((t=>d(t,n)))))})),o}function tn(n,t){return on(n,t).filter((n=>n.name===t.U))}function on(n,t){const{v:o,p:e}=t;return n.filter((n=>{const c=n.v===o&&n.p===e,i=n.v===o&&n.p!==e&&n.m===t.m;return!c&&Math.abs(n.v-o)<=1&&Math.abs(n.p-e)<=1||i}))}function en(n){return u(n)&&!n.J&&!n.K}function cn(n,t){return n.flat().filter((n=>function(n,t){return s(t)&&!l(n,t)}(t,n)))}function rn(n){const t=function(n){return n.filter(en)}(n),o=t.length,e=n.length;return{en:o,cn:e,rn:o===e}}function sn(n,t){return n.flat().filter((n=>r(n)&&n.m===t))}function an(n,t){return n.filter((n=>n.m===t))}function un(n,o=0,e=0){const c=t({t:"k"});if(r(n)){c.classList.add("z"),o&&c.classList.add("A");const n=t({t:"B",text:"üçΩÔ∏è"}),e=t({t:"B",text:"üçΩÔ∏è"});c.append(n),c.append(e)}return s(n)&&(c.classList.add("C"),e&&c.classList.add("q")),c}function ln(n,t,o=0){const e=f(G.$,n);if(e&&l(G.$,n)){const n=e.sn;t.append(n),o||fn(e,n)}t.classList.toggle("h",!!e);const c=function(n,t){return sn(n,t.m).find((n=>n.v===t.v))}(G.P,n);if(c&&u(n)){const t=c.p<n.p?"j":"i";c&&qn(c).classList.toggle(t,!!e)}}function fn(n,t=n.sn){const o=!en(n);t.classList.toggle("c",o),t.classList.toggle("g",n.K&&!n.J)}function dn(n){const o=t({t:"D"}),e=t({tag:"span",t:"E",text:n.name});if(o.append(e),n.V){const e=t({t:"fear",text:n.V});o.append(e)}if(n.U){const e=t({t:"fear small",text:n.U});o.append(e)}return o}function hn(n){const t=function(n){const t=n.filter((n=>void 0!==n.V)),o=n.filter((n=>t.some((t=>t.V===n.name))));let e=t.filter((n=>o.some((t=>t.name===n.V)))).concat(o);const c=[];for(;e.length>0;){const n=[[],[]],t=[e.pop()];for(;t.length>0;){const o=t.pop(),c=vn(n[0],o)?n[0]:n[1];h(o,c),t.push(...e.filter((n=>n.name===o.V||n.V===o.name))),e=e.filter((n=>!t.some((t=>d(t,n)))))}c.push(n)}return c}(n);let o=0;const e=32===n.length?3:0,c=function(n){return n.filter((t=>{if(!t.U||t.V)return 0;return on(n,t).some((n=>n.name===t.U))}))}(n).length;for(let n of t){const t=mn(n,0,1),e=mn(n,1,0);o+=Math.min(t,e)}return o+c+e}function mn(n,t,o){return n[0].filter((n=>n.m!==t)).length+n[1].filter((n=>n.m!==o)).length}function vn(n,t){return n.every((n=>n.name!==t.V&&n.V!==t.name))}function bn(n){let t,o=V();if(o)t=function(n){const{R:t,W:o}=n;return o.map((o=>{const e=n.G[o.v][o.p];return Object.assign(Object.assign({},o),{K:0,J:0,nn:[],tn:[],m:s(e)?t(o.v,o.p):void 0,sn:dn(o)})}))}(o);else{const o=xn(n);t=yn(n,o,G.C.S);const e=hn(t);G.an={un:e,ln:o.length}}return t}function pn(){let n=W,t=V(),o=8;if(t&&(n=t.G,o=t.L),document.body.style.setProperty("--s-cnt",n.length.toString()),document.body.style.setProperty("--table-height",o.toString()),o%2==0){const n=-100*(o/2-1);document.body.style.setProperty("--table-top",n.toString()+"%")}const e=[];for(let o=0;o<n.length;o++){const c=n[o],i=[];for(let n=0;n<c.length;n++){const e=c[n];i.push(gn(e,o,n,t))}e.push(i)}return e}function gn(n,t,o,e){const c={type:n,v:t,p:o};return(s(n)||r(n))&&(c.m=o>3?1:0,e&&(c.m=e.R(t,o))),c}function xn(n,t=0){const o=[],{A:e,k:c,F:i,T:r}=G.C,s=L(e,c),a=[];for(;a.length<s;){const t=Mn(i,r),e=wn(n,o,t);if(e){a.push(t);const{v:n,p:c,m:i}=e;o.push(Object.assign(Object.assign({},t),{v:n,p:c,m:i}))}}const u=an(o,0),l=an(o,1);return(13===u.length||13===l.length)&&t<10?xn(n,t+1):a}function wn(n,t,o){const e=cn(n,t);for(let n of e)if(!Cn(t,n,o))return n}function Cn(n,t,o){const e=an(n,t.m);for(let n of e){const t=o.V&&n.name===o.V,e=n.V&&n.V===o.name;if(t||e)return 1}const c=on(n,t);for(let n of c){const t=o.U&&n.name===o.U,e=n.U&&n.U===o.name;if(t||e)return 1}return 0}function Mn(n,t){const o=M();let e,c;const i=Math.random();i>1-n&&(e=y([o])),i<t&&(c=y([o,e]));const r={name:o,V:e,U:c};return Object.assign(Object.assign({},r),{J:0,K:0,nn:[],tn:[],sn:dn(r)})}function yn(n,t,o,e=0){const c=[],i=[...t];(function(n){let t,o,e;for(e=n.length-1;e>0;e--)t=Math.floor(Math.random()*(e+1)),o=n[e],n[e]=n[t],n[t]=o;return n})(n.flat().filter(s)).slice(0,i.length).forEach((n=>{const t=i.pop();if(!t)return;const{v:o,p:e,m:r}=n;c.push(Object.assign(Object.assign({},t),{v:o,p:e,m:r}))})),nn(n,c);const r=c.filter((n=>n.J)).length;return r<o&&e<10||0===r&&e<50?yn(n,t,o,e+1):c}function An(n){var o;const e=!n,c=n?f(G.$,n):void 0,i=t({t:"s"}),u=t({});if(e){const n=t({tag:"h3",text:b(2),t:"t"}),o=[V()?b(3):b(4),b(15)];u.innerHTML=o.map((n=>`<p>${n}</p>`)).join(""),i.append(n,u);const e=t({t:"k",text:"?"});return i.append(e),i}let l,d;if(c){d=function(n){const o=n.K,e=void 0!==n.m,c=e?0===n.nn.filter((t=>n.V===t.name)).length:void 0,i=e?0===n.nn.filter((t=>n.U===t.name)).length:void 0,r=t({t:"u"}),s=t({t:"v"}),a=[{fn:o?"üò±":void 0,dn:!o,hn:b(0)},{fn:n.V,dn:c,hn:b(12,n.V)},{fn:n.U,dn:i,hn:b(13,n.U)},{fn:"ü™ë",dn:e,hn:b(14)}];return a.filter((({fn:n})=>!!n)).forEach((({dn:n,hn:o})=>{const e=t({t:"w "+(void 0!==n?n?"x":"y":"")}),c=[void 0!==n?n?"‚úî":"X":"?",o];e.innerHTML=c.map((n=>`<span>${n}</span>`)).join(""),s.append(e)})),r.append(s),r}(c),l=un(n);const o=dn(c);l.append(o),l.classList.toggle("h",1);const{V:e,U:i}=c,r=C(e),s=C(i),a=[G.P.length===W.length?b(1)+" [13]":"",e?b(10,r+" "+e):"",i?b(11,s+" "+i):""].filter(Boolean);0!==a.length&&(u.innerHTML=b(21,"<ul>"+a.map((n=>`<li>${n}</li>`)).join("")+"</ul>"))}else if(l=un(n,1),r(n)){const t=null!==(o=n.m)&&void 0!==o?o:0,e=function(n,t){return n.flat().filter((n=>n.m===t&&s(n)))}(G.P,t).length,c=an(G.$,t).length,i=[b(17,t+1),b(18,c,e)];13===c&&(i.push("üò±üò±üò±"),l.classList.add("f")),u.innerHTML=i.map((n=>`<p>${n}</p>`)).join("")}else u.innerHTML=b(s(n.type)?16:a(n)?20:19);return l&&i.append(l),d&&i.append(d),i.append(u),i}function kn(n){const o=t({t:`r ${n}`});return o.append((new DOMParser).parseFromString('<?xml version="1.0" encoding="utf-8"?>\n<svg fill="currentColor" width="800px" height="800px" viewBox="0 0 256 256" id="Flat" xmlns="http://www.w3.org/2000/svg">\n  <path d="M132.93848,231.39062A8,8,0,0,1,128,224V184H48a16.01833,16.01833,0,0,1-16-16V88A16.01833,16.01833,0,0,1,48,72h80V32a8.00065,8.00065,0,0,1,13.65723-5.65723l96,96a8.003,8.003,0,0,1,0,11.31446l-96,96A8.002,8.002,0,0,1,132.93848,231.39062Z"/>\n</svg>\n',"image/svg+xml").firstChild),o}const Fn=(n,t)=>{let o=n.touches;(null==o?void 0:o.length)||(o=n.changedTouches);let e=o?document.elementFromPoint(o[0].pageX,o[0].pageY):n.target;for(;e!==document;){if(null===e)return;if(c=t,e.classList.contains(c))return e;e=e.parentNode}var c},Tn=(n,t)=>{var o,e;n=null!==(e=null===(o=n.touches)||void 0===o?void 0:o[0])&&void 0!==e?e:n;const c=null!=t?t:n.target;return{left:n.pageX-c.offsetWidth/4+"px",top:n.pageY-c.offsetHeight/4+"px"}};var Sn=(n,t,o,e,c,i)=>{let r,s,a,u,l;const f=n,d=document.body,h=n=>{r=setTimeout((()=>{r=void 0,v(n)}),200)},m=n=>{r&&(clearTimeout(r),r=void 0),p(n)},v=n=>{s||(u&&(u.remove(),u=void 0),s=1,a=Fn(n,t),u=a&&e(a),u&&(n.preventDefault(),f.appendChild(u),u.classList.add("drag-overlay"),Object.assign(u.style,Object.assign({position:"fixed",pointerEvents:"none",zIndex:"9999"},Tn(n)))))},b=n=>{s&&u&&(n.preventDefault(),Object.assign(u.style,Tn(n,a)))},p=n=>{if(s=0,u)if(n.preventDefault(),u.remove(),u=void 0,l=Fn(n,o),l){const t="touchend"===n.type;c(a,l,t)}else i(a)};f.addEventListener("mousedown",h),f.addEventListener("touchstart",h),d.addEventListener("mousemove",b),d.addEventListener("touchmove",b,{passive:0}),d.addEventListener("mouseup",m),d.addEventListener("touchend",m)};let Bn,In,On,jn,Pn,$n,Dn,En=0;const Hn=[],_n=300,Gn=20;function Wn(n){On=o({text:b(n),o:n=>{var t;N()&&z(),c(),null===(t=n.target)||void 0===t||t.remove()}}),On.classList.add("H","prm"),In.append(On)}async function Ln(){document.body.classList.remove("a","G"),G.D=0,null==On||On.remove(),$n=void 0,Dn=void 0,En=0,zn(),G.P.length&&In&&(e.h(2,{mn:0,vn:0,bn:0}),await async function(t){const o=t.flat();for(let t=0;t<o.length;t++){const e=o[t],c=qn(e);if(r(e))c.classList.remove("f","i","j");else{const t=c.classList.contains("h");c.innerHTML="",c.classList.remove("h"),t&&await n(Gn)}}}(G.P),await n(_n),(N()||void 0!==G.O)&&(In.remove(),In=void 0,G.P=[])),G.P.length||(G.P=pn()),G.$=bn(G.P),In||(In=Xn(G.P),Nn(),await n(_n)),await async function(t){for(let o=0;o<t.length;o++){const e=t[o],c=qn(e);c.innerHTML="",ln(e,c,1),await n(Gn)}}(G.$),function(){const n=V();if(null==n?void 0:n.q){Pn=kn(n.q.direction);qn(G.P[n.q.v][n.q.p]).append(Pn)}}(),Un(G.P,G.$)}function Nn(){In&&(Bn||(Bn=t({tag:"main"}),document.body.append(Bn)),Bn.append(In),zn())}function Rn(n,t){const o=G.P[n][t];if(!l(G.$,o)&&Dn&&d(o,Dn)?(zn(),Dn=void 0):(zn(o),Dn=o),!l(G.$,o)&&(!$n||r(o)))return;const e=f(G.$,o);if($n){const n=qn($n);if(d($n,o))return Vn(o),void Jn(G.$,$n);if(e)return $n.sn.classList.remove("b"),$n=e,void Jn(G.$,$n);const t={v:$n.v,p:$n.p,m:$n.m};!function(n,t){n.p=t.p,n.v=t.v,n.m=t.m}($n,o),ln(t,n),ln(o,qn(o)),function(){if(!Pn)return;const n=V();(null==n?void 0:n.q)&&l(G.$,n.q)||(Pn.remove(),Pn=void 0)}(),En++;Vn(o,!Un(G.P,G.$))}else $n=e,Jn(G.$,$n);document.body.classList.toggle("a",!!$n)}function qn(n){var t;return null===(t=Hn[n.v])||void 0===t?void 0:t[n.p]}function Vn(n,t=0){$n&&($n=void 0);const o=f(G.$,n);o&&o.sn.classList.remove("b"),document.body.classList.remove("a"),zn(t?n:void 0)}function zn(n){jn&&(jn.remove(),jn=void 0),jn=An(n),null==Bn||Bn.append(jn)}function Un(t,o,c=0){var i;!async function(t,o,e){o.forEach((n=>{n.sn.classList.remove("c","g","e","d")})),t.flat().filter(r).forEach((n=>{qn(n).classList.remove("f")})),await n(50),o.forEach((n=>{fn(n)})),e.forEach((n=>{qn(n).classList.add("f")}))}(t,o,nn(t,o));const s=function(n,t){if(!n.length||!G.an)return 0;const{un:o,ln:e}=G.an,c=Math.max(e-o,1),i=Math.max(0,t-o),r=Math.max(0,t-e);let s=1-.8*Math.min(1,i/c)-.2*Math.min(1,r/(3*c));return s=Math.min(s,1),s=Math.max(s,0),Math.round(9999*s)}(o,En);e.h(2,{mn:s,vn:En,bn:null===(i=G.an)||void 0===i?void 0:i.un});const{rn:a}=rn(o);return a&&!c&&(G.D=1,document.body.classList.add("G"),Z(s,1),setTimeout((()=>{Wn(N()?8:6)}),300)),a}function Xn(n){const o=t({t:"F"});Hn.length=0;const e=V(),c=e?e.N:t=>t===Math.ceil(n.length/2)-1;return n.forEach(((e,i)=>{const s=[],a=t({t:"row"});o.append(a),e.forEach(((t,o)=>{const e=c(i),u=o>0?n[i][o-1]:void 0,l=un(t,e,u?r(u):0);l.addEventListener("click",(()=>{Rn(i,o)})),a.append(l),s.push(l)})),Hn.push(s)})),Sn(o,"h","k",(t=>{const e=Zn(n,t),c=f(G.$,e);Jn(G.$,c),zn(e),document.body.classList.toggle("a",1),$n=void 0,o.classList.add("l");const i=Yn(t);return i.classList.add("m"),i.cloneNode(1)}),((t,e,c)=>{o.classList.remove("l");const i=Zn(n,e),s=Zn(n,t);Yn(t).classList.remove("m"),r(i)||l(G.$,i)?c&&i===s&&t.click():(t.click(),e.click())}),(n=>{o.classList.remove("l");Yn(n).classList.remove("m"),n.click()})),o}function Yn(n){return[...n.children].find((n=>n.classList.contains("D")))}function Zn(n,t){for(const o in Hn){const e=Hn[o].indexOf(t);if(-1!==e)return n[o][e]}}function Jn(n,t){n.forEach((n=>{n.sn.classList.remove("e","d","b")})),t&&(t.sn.classList.add("b"),t.nn.forEach((n=>{n.sn.classList.add("e")})),t.tn.forEach((n=>{n.sn.classList.add("d")})))}var Kn=function(){var n,t,o,e,c,i=function(n){return Math.sin(6.283184*n)},r=function(n){return.003959503758*2**((n-128)/12)},s=function(n,t,o){var e,c,i,s,u,l,f=a[n.pn[0]],d=n.pn[1],h=n.pn[3]/32,m=a[n.pn[4]],v=n.pn[5],b=n.pn[8]/32,p=n.pn[9],g=n.pn[10]*n.pn[10]*4,x=n.pn[11]*n.pn[11]*4,w=n.pn[12]*n.pn[12]*4,C=1/w,M=-n.pn[13]/16,y=n.pn[14],A=o*2**(2-n.pn[15]),k=new Int32Array(g+x+w),F=0,T=0;for(e=0,c=0;e<g+x+w;e++,c++)c>=0&&(c-=A,u=r(t+(15&(y=y>>8|(255&y)<<4))+n.pn[2]-128),l=r(t+(15&y)+n.pn[6]-128)*(1+8e-4*n.pn[7])),i=1,e<g?i=e/g:e>=g+x&&(i=(1-(i=(e-g-x)*C))*3**(M*i)),s=f(F+=u*i**h)*d,s+=m(T+=l*i**b)*v,p&&(s+=(2*Math.random()-1)*p),k[e]=80*s*i|0;return k},a=[i,function(n){return n%1<.5?1:-1},function(n){return n%1*2-1},function(n){var t=n%1*4;return t<2?t-1:3-t}];this.init=function(i){n=i,t=i.gn,o=0,e=i.xn*i.wn*(t+1)*2,c=new Int32Array(e)},this.Cn=function(){var r,u,l,f,d,h,m,v,b,p,g,x,w,C,M=new Int32Array(e),y=n.Mn[o],A=n.xn,k=n.wn,F=0,T=0,S=0,B=[];for(l=0;l<=t;++l)for(m=y.yn[l],f=0;f<k;++f){var I=m?y.c[m-1].f[f]:0;I&&(y.pn[I-1]=y.c[m-1].f[f+k]||0,I<17&&(B=[]));var O=a[y.pn[16]],j=y.pn[17]/512,P=2**(y.pn[18]-9)/A,$=y.pn[19],D=y.pn[20],E=43.23529*y.pn[21]*3.141592/44100,H=1-y.pn[22]/255,_=1e-5*y.pn[23],G=y.pn[24]/32,W=y.pn[25]/512,L=6.283184*2**(y.pn[26]-9)/A,N=y.pn[27]/255,R=y.pn[28]*A&-2;for(g=(l*k+f)*A,d=0;d<4;++d)if(h=m?y.c[m-1].n[f+d*k]:0){B[h]||(B[h]=s(y,h,A));var q=B[h];for(u=0,r=2*g;u<q.length;u++,r+=2)M[r]+=q[u]}for(u=0;u<A;u++)(p=M[v=2*(g+u)])||S?(x=E,$&&(x*=O(P*v)*j+.5),T+=(x=1.5*Math.sin(x))*(w=H*(p-T)-(F+=x*T)),p=3==D?T:1==D?w:F,_&&(p=(p*=_)<1?p>-1?i(.25*p):-1:1,p/=_),S=(p*=G)*p>1e-5,C=p*(1-(b=Math.sin(L*v)*W+.5)),p*=b):C=0,v>=R&&(C+=M[v-R+1]*N,p+=M[v-R]*N),M[v]=0|C,M[v+1]=0|p,c[v]+=0|C,c[v+1]+=0|p}return++o/n.An},this.kn=function(n){for(var t=n.createBuffer(2,e/2,44100),o=0;o<2;o++)for(var i=t.getChannelData(o),r=o;r<e;r+=2)i[r>>1]=c[r]/65536;return t},this.Fn=function(){var n=44+2*e-8,t=n-36,o=new Uint8Array(44+2*e);o.set([82,73,70,70,255&n,n>>8&255,n>>16&255,n>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&t,t>>8&255,t>>16&255,t>>24&255]);for(var i=0,r=44;i<e;++i){var s=c[i];s=s<-32767?-32767:s>32767?32767:s,o[r++]=255&s,o[r++]=s>>8&255}return o},this.getData=function(n,t){for(var o=2*Math.floor(44100*n),e=new Array(t),i=0;i<2*t;i+=1){var r=o+i;e[i]=n>0&&r<c.length?c[r]/32768:0}return e}},Qn={Mn:[{pn:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],yn:[1,1,2,2,2,2,2,2,2],c:[{n:[123,,,,,,,,120,,,,,,,,116,,,,,,,,118],f:[]},{n:[123,,,,,,123,,120,,,,,,120,,116,,,,,,116,,118,,,,,,118],f:[]}]},{pn:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],yn:[,,,1,2,3,2,1],c:[{n:[,,135,139,142,,,,,,132,135,139,,,,,,128,132,135,,,,,,130,134,137],f:[]},{n:[,,135,135,135,,,,,,132,132,132,,,,,,128,128,128,,,,,,130,130,130,,,,,,139,139,139,,,,,,135,135,135,,,,,,132,132,132,,,,,,134,134,134,,,,,,142,142,142,,,,,,139,139,139,,,,,,135,135,135,,,,,,137,137,137],f:[]},{n:[,,,,135,,,,,,,,132,,,,,,,,128,,,,,,,,130,,,,,,,139,,,,,,,,135,,,,,,,,132,,,,,,,,134,,,,,,,142,,,,,,,,139,,,,,,,,135,,,,,,,,137],f:[]}]},{pn:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],yn:[,,1,1,1,2,2,1],c:[{n:[,,,,,,99,,,,,,,,99,,,,,,,,99,,,,,,,,99],f:[]},{n:[,,99,,,,99,,,,99,,,,99,,,,99,,,,99,,,,99,,,,99],f:[]}]},{pn:[0,255,116,79,0,255,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],yn:[1,2,3,2,2,3,2],c:[{n:[111,,,,,,,,111,,,,,,,,111,,,,,,,,111],f:[]},{n:[111,,,,111,,,,111,,,,111,,,,111,,,,111,,,,111,,,,111],f:[]},{n:[111,,111,,111,,111,,111,,111,,111,,111,,111,,111,,111,,111,,111,,111,,111,,111],f:[]}]}],xn:11025,wn:32,gn:8,An:4};let nt,tt,ot=0,et=0;async function ct(n){ot=!n,nt=document.createElement("audio"),nt.loop=1,nt.volume=.5,nt.playbackRate=1;const t=new Kn;t.init(Qn),await function(n){return new Promise((t=>{const o=setInterval((()=>{n.Cn()>=1&&(clearInterval(o),t())}),0)}))}(t);const o=t.Fn();nt.src=URL.createObjectURL(new Blob([o],{type:"audio/wav"})),document.addEventListener("visibilitychange",(()=>{nt.muted=document.hidden})),e.subscribe(3,(()=>{nt.muted=1})),e.subscribe(4,(()=>{nt.muted=0})),document.addEventListener("click",(()=>{if(!et){et=1;const n=!nt.paused&&!nt.ended;ot&&!n&&nt.play()}}))}function it(){ot=!ot;const n=!nt.paused&&!nt.ended;return ot&&!n?nt.play():!ot&&n&&nt.pause(),k("muted",ot?"false":"true"),ot}let rt=0;const st="true"===F("muted");function at(){const n=t({tag:"header"});tt=t({t:"score"}),n.append(tt);const c=t({t:"h-btns"}),i=o({text:st?"üîá":"üîä",o:n=>{const t=it();n.target.textContent=t?"üîä":"üîá"},i:1});c.append(i),n.append(c),c.append(o({text:"‚öôÔ∏è",o:()=>Z(rt,0),i:1})),document.body.append(n),N()?Ln():async function(){document.body.classList.remove("a");const n=pn();In||(In=Xn(n),Wn(5),Nn())}(),e.subscribe(0,(()=>{Ln()})),e.subscribe(2,(({mn:n,vn:t,bn:o})=>{if(N()||!G.an)return void(tt.textContent="");rt=n;const e=`${b(27)}: ${t} | Par: ${o} | ${c=n,(""+(1e4+c)).substring(1)}‚≠êÔ∏è`;var c;tt.textContent=e}))}(async()=>{at(),await ct(st)})()}();
