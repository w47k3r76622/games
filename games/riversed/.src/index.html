<html>
	<head>
	   <title>Riversed - js13k entry by gtanczyk</title>
	   
	   <style>
#game-hud,#game-intro{pointer-events:none;width:100%;height:100%}#game-intro,#game-pause{transition:.5s opacity linear;text-align:center}#game-intro,#game-pause,#race-stats{text-align:center}#game-intro{z-index:5;position:absolute;opacity:0;background:#9cc}#game-intro img{max-height:100%;max-width:100%;min-height:100%}#game-intro.visible{opacity:1}#game-hud{position:fixed;z-index:2;display:none;font-family:monospace}#race-position,#race-time{display:inline-block;text-shadow:0 0 5px #000;padding:5px}#active-bonuses{position:absolute;left:50px;top:50px}#active-bonuses>div{background:rgba(255,255,255,.3);border:1px solid #000;color:#fff;margin:0 0 1px;padding:5px;position:relative;font-size:17px}#active-bonuses>div>img{position:absolute;margin-left:-37px;top:-1px;bottom:0;height:32px}#active-bonuses>div>div{position:absolute;background:rgba(255,0,0,.5);top:0;bottom:0;right:0}#active-bonuses>div.mine>div{background:rgba(0,255,0,.5)}#active-bonuses>div>span{float:right;margin-left:10px;color:#333}#race-stats{color:#fff;left:50%;width:200px;margin-left:-100px;position:absolute;font-weight:700;font-size:20px}#game-hud.hud-touch #hud-touch,#game-pause{width:100%;position:absolute;pointer-events:none}#race-position{color:#fff;font-size:25px;float:right}#game-hud:not(.hud-touch) #hud-touch,#race-standings:empty,body>img{display:none}#race-position>span{font-size:28px}#race-standings{background:rgba(0,0,0,.3);color:#fff;right:0;position:absolute;padding:5px}#race-standings div.me{text-decoration:underline}#race-standings div.pos-0{color:gold;font-weight:700}#race-standings div.pos-1{color:silver;font-weight:700}#race-standings div.pos-2{color:brown;font-weight:700}#game-pause{opacity:0;z-index:5;color:#fff;top:25%;text-transform:upper-case}#game-pause.visible{opacity:1}#game-pause.visible~canvas,body.game-end canvas{filter:blur(10px);-webkit-filter:blur(10px)}body.game-end #race-standings{text-align:center;left:0;right:0;top:10%;font-size:xx-large}#game-hud.hud-touch #hud-touch{height:100%;z-index:3}#game-hud.hud-touch #hud-touch #touch-left{position:absolute;left:0;top:0;bottom:0;width:33%;background:linear-gradient(to right,rgba(255,255,255,.3) 0,rgba(255,255,255,0) 100%)}#game-hud.hud-touch #hud-touch #touch-right{position:absolute;right:0;top:0;bottom:0;width:33%;background:linear-gradient(to right,rgba(255,255,255,0) 0,rgba(255,255,255,.3) 100%)}#game-hud.hud-touch #hud-touch img{position:absolute;left:50%;top:50%;margin-left:-20.5px;margin-top:-25px;opacity:.5}#game-hud.hud-touch #hud-touch #touch-left-arrow{transform:rotate(-90deg)}#game-hud.hud-touch #hud-touch #touch-right-arrow{transform:rotate(90deg)}#game-hud.hud-touch.hud-touch-left #hud-touch #touch-left-arrow,#game-hud.hud-touch.hud-touch-right #hud-touch #touch-right-arrow{opacity:1}body{padding:0;margin:0;background:#000}body>canvas{width:100%;height:100%;position:absolute;pointer-events:none}canvas#layer-default{background:radial-gradient(ellipse at center,#3030C5 0,#3030C5 64%,#13138C 100%);z-index:1}canvas#layer-water{z-index:0}body>img{visibility:hidden}
</style>
	   
	   <script type="text/javascript">
(function(){var f;function g(a){a=a||"layer-default";var b=aa[a];return b?b:aa[a]=new ba(a)}function ba(a){this.a=document.createElement("canvas");this.a.id=a;this.h=this.a.getContext("2d");window.addEventListener("resize",this.K.bind(this));this.K();document.body.appendChild(this.a)}var aa={};f=ba.prototype;f.f=function(){return this.a.width};f.fillStyle=function(a){this.h.fillStyle=a;return this};f.strokeStyle=function(a){this.h.strokeStyle=a;return this};
f.fillRect=function(a,b,c,d){this.h.fillRect(a,b,c,d);return this};f.arc=function(a,b,c){this.h.beginPath();this.h.arc(a,b,c,0,2*Math.PI);this.h.stroke();return this};f.drawImage=function(a,b,c){this.h.drawImage(a,b,c);return this};f.translate=function(a,b){this.h.translate(a,b);return this};f.rotate=function(a){this.h.rotate(a);return this};f.save=function(){this.h.save();return this};f.restore=function(){this.h.restore();return this};f.h=function(){return this.h};
f.K=function(){this.a.width=window.innerWidth;this.a.height=window.innerHeight;this.h=this.a.getContext("2d")};window.addEventListener("keydown",function(a){37==a.keyCode&&h(k);38==a.keyCode&&h(ca);39==a.keyCode&&h(da);40==a.keyCode&&h(ea);27==a.keyCode&&h(l);h(fa,a.keyCode)});window.addEventListener("keyup",function(a){37==a.keyCode&&h(ga);38==a.keyCode&&h(ha);39==a.keyCode&&h(ia);40==a.keyCode&&h(ja);h(ka,a.keyCode)});window.addEventListener("mousedown",function(a){h(la,a);a.preventDefault()});
window.addEventListener("mouseup",function(a){h(ma,a);a.preventDefault()});window.addEventListener("mousemove",function(a){h(na,a);a.preventDefault()});function oa(a){var b=a.touches[0];h(la,{x:b.pageX,y:b.pageY});.33>b.pageX/window.innerWidth?h(k):.66<b.pageX/window.innerWidth&&h(da);.33>b.pageY/window.innerHeight?h(ca):.66<b.pageY/window.innerHeight&&h(ea);a.preventDefault()}window.addEventListener("touchstart",function(a){oa(a);h(pa)});window.addEventListener("touchmove",oa);
window.addEventListener("touchend",function(a){h(ma);h(ga);h(ia);h(ja);a.preventDefault()});var n=0,q=n++,qa=n++,ra=n++,sa=n++,ta=n++,ua=n++,wa=n++,xa=n++;n++;var l=n++,la=n++,ma=n++,na=n++,fa=n++,ka=n++,k=n++,da=n++,ca=n++,ea=n++,ga=n++,ia=n++,ha=n++,ja=n++,pa=n++,ya=(new Date).getTime();function za(){var a=(new Date).getTime();h(ra,a-ya);ya=a;requestAnimationFrame(za)}requestAnimationFrame(za);document.onreadystatechange=function(){h(sa,document.readyState)};
document.addEventListener("visibilitychange",function(){document.hidden?h(ta):h(ua)});window.addEventListener("hashchange",function(){h(q,document.location.hash)});window.addEventListener("resize",function(){h(wa)});function r(a){return a}function Aa(a){timeout=setTimeout(function(){t===a&&(h(qa),timeout=null)},2E3);return a}var t=r(function(a,b){if(a==sa&&"complete"==b)return u()});function h(a,b){var c=t(a,b);c&&c!==t&&(t=c)}function x(a){return document.body.querySelectorAll(a)[0]}
function Ba(a){var b=new Date(a);a=b.getMinutes();var c=b.getSeconds(),b=b.getMilliseconds();return(10>a?"0":"")+a+":"+(10>c?"0":"")+c+"."+(10>b?"00":100>b?"0":"")+b}function Ca(){return"undefined"!=typeof window.ontouchstart||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}var Da=Math.pow(2,-16);function Ea(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function y(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function Fa(a){return z(a,1/Ea(a))}
function A(a,b){return a[0]*b[1]-a[1]*b[0]}function Ga(a,b){return Math.atan2(b[1]-a[1],b[0]-a[0])}function B(a,b){return[a[0]-b[0],a[1]-b[1]]}function C(a,b){return[a[0]+b[0],a[1]+b[1]]}function z(a,b){return[a[0]*b,a[1]*b]}function F(a,b){var c=Ea(a);b=Math.atan2(a[1],a[0])+b;return[Math.cos(b)*c,Math.sin(b)*c]}function Ha(a,b,c){G.call(this,a,b,c)}Ha.prototype=Object.create(G.prototype);
Ha.prototype.update=function(){var a=H(this.race,this.c),b=I(a||this.c),b=J(this.l,K,b[0],b[1],50).filter(function(a){return this.c!==a},this);0<b.length?Ia(this,I(b[0])):G.prototype.update.call(this,a)};function Ja(a,b,c){G.call(this,a,b,c)}Ja.prototype=Object.create(G.prototype);Ja.prototype.update=function(){var a=H(this.race,this.c),b=I(a||this.c),b=J(this.l,L,b[0],b[1],250);0<b.length?Ia(this,I(b[0])):G.prototype.update.call(this,a)};function G(a,b,c){this.l=a;this.race=b;this.c=c}
G.prototype.update=function(a){(a=a||H(this.race,this.c))?Ia(this,I(a)):this.c.b=0};G.prototype.a=function(){this.c.b=0};G.prototype.b=function(){this.c.v()};G.prototype.g=function(){this.c.w()};function Ia(a,b){var c;c=Fa(B(b,I(a.c)));var d=[Math.cos(a.c.a),Math.sin(a.c.a)];c=Math.atan2(A(c,d),c[0]*d[0]+c[1]*d[1]);.05>Math.abs(c)?a.a():0>c?a.g():a.b()}function M(a,b,c){G.call(this,a,b,c)}M.prototype=Object.create(G.prototype);M.prototype.update=function(){G.prototype.update.call(this)};
M.prototype.a=function(){this.c.b=0;Ka(this,N)?this.c.A=-1:this.c.A=1};M.prototype.b=function(){Ka(this,O)?this.c.w():this.c.v()};M.prototype.g=function(){Ka(this,O)?this.c.v():this.c.w()};function Ka(a,b){return a.l.a.some(function(a){return a instanceof b&&a.C()!==this.c},a)}function La(a,b,c){G.call(this,a,b,c)}La.prototype=Object.create(G.prototype);La.prototype.update=function(){G.prototype.update.call(this)};
function Ma(a,b,c){this.race=a;this.l=b;this.c=c;this.a=x("#game-hud");this.m=x("#race-time");this.g=x("#race-position");this.i=x("#race-standings");this.b=x("#active-bonuses");this.a.style.display="block";Ca()&&this.a.classList.add("hud-touch")}function P(a){a.m.innerHTML=Ba(a.race.getTime());var b=Pa(a.race,a.c),c=J(a.race.l,K).length;a.g.innerHTML="<span>"+b+"</span>/"+c;Qa(a);Ra(a)}
function Qa(a){a.i.innerHTML=a.race.i.map(function(a,c){var d=a.C();return'<div class="pos-'+c+" "+(d===this.c&&"me")+'">'+(c+1)+". <span>"+d.getName()+"</span> "+Ba(a.getTime())+"</div>"},a).join(" ")}
function Ra(a){a.b.innerHTML=a.l.a.map(function(a){var c=a.L+7500-this.l.getTime(),d=Math.round(c/7500*100),e=a.C()==this.c?"mine":"",m=x("#asset-bonus-"+a.D()).src;return'<div class="'+e+'"><div style="width: '+d+'%"></div><img src="'+m+'" />'+a.getName()+"<span>"+Ba(c)+"</span></div>"},a).join(" ")}function Sa(a,b,c){a.a.classList.toggle("hud-touch-left",b);a.a.classList.toggle("hud-touch-right",c)}
function Q(a,b,c){var d=g("layer-default");d.h.clearRect(0,0,d.f(),d.a.height);d.save().translate(-c.x,-c.y).translate(d.f()/2,d.a.height/2);Ta(d,a);(b=H(b,c))&&d.save().fillStyle("rgba(255,255,255,0.7)").translate(c.x,c.y).rotate(Ga(I(c),I(b))).translate(c.f()/2,0).drawImage(x("#asset-waypoint-arrow"),0,-16).restore().save().strokeStyle("rgba(255,255,255,0.7)").translate(b.x,b.y).arc(0,0,Math.min(y(I(c),I(b)),100)).restore();J(a).forEach(Ua);d.restore()}
function Ua(a){var b=g();b.save().fillStyle("red").translate(a.x,a.y).rotate(a.a);a.B(b);b.restore()}function Ta(a,b){a=g("layer-default");b.g.forEach(function(b){var d=1-b[2]/16;a.save().strokeStyle("rgba(255,255,255,"+d+")").translate(b[0],b[1]).arc(0,0,b[2]).restore()})}function Va(){this.a=[];this.b=[];this.m=[];this.g=[];this.i=0;R(this,K,this.W.bind(this));R(this,S,this.X.bind(this))}function Wa(a){a.a.forEach(function(a){Xa(a)})}f=Va.prototype;f.getTime=function(){return this.i};
f.H=function(a){this.b.push.apply(this.b,arguments)};function J(a,b,c,d,e){var m=[c,d];return a.b.filter(function(a){if(!(y(m,I(a))>e))return!b||a instanceof b})}f.update=function(a){var b=Math.min(a,100);this.b.forEach(function(a){a.update(b/100)},this);Ya(this,b/100);a-=b;this.i+=b;Za(this);$a(this);return a};
function Za(a){J(a,K).forEach(function(a,c){J(this,T).forEach(function(c){var e;a:{e=ab(c);var m=[a.O,a.P],w=B(bb(c),e),v=B(I(a),m),D=A(v,w);if(0!=D&&(v=A(B(e,m),v)/D,e=A(B(e,m),w)/D,!(0>v||0>e||1<v||1<e))){e=[v,e];break a}e=void 0}e&&U(this,c,a);y(I(a),ab(c))<a.f()/2&&U(this,c.U,a);y(I(a),bb(c))<a.f()/2&&U(this,c.aa,a)},this);J(this,L).forEach(function(c){y(I(a),I(c))<a.f()/2&&U(this,c,a)},this);J(this,K).forEach(function(d,e){c<=e||y(I(a),I(d))<a.f()&&U(this,a,d)},this)},a)}
function U(a,b,c){a.m.forEach(function(a){b instanceof a.left&&c instanceof a.right&&a.M(b,c);c instanceof a.left&&b instanceof a.right&&a.M(c,b)})}function R(a,b,c){a.m.push({left:K,right:b,M:c})}f.W=function(a,b){var c=z(Fa(B(I(a),I(b))),a.f()-y(I(a),I(b)));a.j=C(a.j,c);b.j=C(b.j,z(c,-1))};f.X=function(a,b){a.j=C(a.j,z(Fa(B(I(a),I(b))),(a.f()-y(I(a),I(b)))/10))};function $a(a){a.a=a.a.filter(function(a){if(0<a.L+7500-this.i)return!0;Xa(a);return!1},a)}
function Ya(a,b){a.g=a.g.filter(function(a){return 16>=(a[2]+=b)})}function cb(a){this.l=a;this.a=[];this.b=[];this.g=44E4;this.i=[];R(a,T,this.Z.bind(this));R(a,L,this.Y.bind(this))}f=cb.prototype;f.update=function(){this.getTime()>this.g&&h(xa);this.b.forEach(function(a){a.update()});!this.m&&J(this.l,K).every(function(a){return null==H(this,a)},this)&&(this.g=this.getTime()+1E3,this.m=!0)};f.getTime=function(){return this.l.getTime()};f.$=function(){this.a=Array.prototype.slice.call(arguments)};
f.Z=function(a,b){db(b,a,this.a)&&(b.o(a)||(b.I.push(a),a.o(b)||a.R.push(b)),this.a[this.a.length-1].o(a)&&this.i.push(new eb(a,this.getTime())))};f.Y=function(a,b){var c=this.l;c.a.splice(0,0,new b.T(a,c.i));c.b.splice(c.b.indexOf(b),1)};function H(a,b){var c=a.a.reduce(function(a,c){return c.o(b)?c:!a||a.o(b)?c:a});if(!c.o(b))return c}function V(a,b){a.b.push(b)}
function Pa(a,b){var c=J(a.l,K).length,d=a.a.reduce(function(a,c){return c.o(b)?c:a},null);if(!d)return c;c=a.a.indexOf(d);c=a.a.slice(c+1,c+2).reduce(function(a,b){return b.I},[]);return 1+c.length+fb(d,b,c)}function eb(a,b){this.c=a;this.a=b}eb.prototype.C=function(){return this.c};eb.prototype.getTime=function(){return this.a};
function gb(a,b,c,d){document.body.classList.add("game-end");return r(function(e){Q(a,b,c);P(d);if(e==l||e==q&&""==eventObject)return document.body.classList.remove("game-end"),Wa(a),d.a.display="none",new u})}
function hb(){document.location.hash="play";var a=new Va,b=new K("You",-400,-200,0,a);b.N=!0;for(var c=new K("Sprinter",-400,-150,0,a),d=new K("Bonuser",-350,-200,0,a),e=new K("Immuner",-350,-150,0,a),m=new K("Annoying",-300,-200,0,a),w=new K("Predator",-300,-150,0,a),v=[],D=[],W=0,X=0,E=Math.PI/6,va=0;16>va;va++){v.push(new T(W,X,E+Math.PI/2));var Na=E+Math.PI*Math.random();D.push(new L(W+150*Math.sign(Math.random()-Math.random())*Math.cos(Na),X+150*Math.sign(Math.random()-Math.random())*Math.sin(Na),
0,.5>Math.random()?O:N));W+=300*Math.cos(E);X+=300*Math.sin(E);E+=Math.cos(Math.PI/16*va)+(Math.random()-Math.random())/10}a.H(b,c,d,e,m,w);a.H.apply(a,v);a.H.apply(a,D);var p=new cb(a);p.$.apply(p,v);V(p,new La(a,p,c));V(p,new Ja(a,p,d));V(p,new M(a,p,e));V(p,new Ha(a,p,m));V(p,new G(a,p,w));var Oa=new Ma(p,a,b);return Aa(function(c,d){Q(a,p,b);P(Oa);if(c==qa)return new ib(a,p,b,Oa);if(c==q&&""==d)return new u})}
function jb(a,b,c,d){var e=x("#game-pause");e.classList.add("visible");return r(function(m){Q(a,b,c);P(d);if(m==l||m==pa)return e.classList.remove("visible"),ib(a,b,c,d);if(m==q&&""==eventObject)return e.classList.remove("visible"),Wa(a),d.a.display="none",new u})}
function ib(a,b,c,d){return r(function(e,m){if(e==ra){for(var w=m;0<w;)w=a.update(w),b.update();Q(a,b,c);P(d)}e==k&&(c.v(),Sa(d,!0,!1));e==da&&(c.w(),Sa(d,!1,!0));if(e==ca||e==ja)c.A=1;e==ea&&(c.A=-1);if(e==ga||e==ia)c.b=0,Sa(d);if(e==xa)return new gb(a,b,c,d);if(e==l||e==ta)return new jb(a,b,c,d);if(e==q&&""==m)return Wa(a),d.a.display="none",new u})}
function u(){var a=0,b=x("#game-intro");b.classList.add("visible");return r(function(c){if(c==fa||c==la||c==pa)a++,Ca()&&(c=document.documentElement,c.requestFullscreen?c.requestFullscreen():c.a?c.a():c.webkitRequestFullscreen&&c.webkitRequestFullscreen());if(1<=a)return b.classList.remove("visible"),hb()})}
function O(a,b){Y.call(this,"Reversed steering",a,b);var c=this.s(K.prototype,K.prototype.v,function(){return this===a?c.apply(this,arguments):d.apply(this,arguments)}),d=this.s(K.prototype,K.prototype.w,function(){return this===a?d.apply(this,arguments):c.apply(this,arguments)})}O.prototype=Object.create(Y.prototype);O.prototype.D=function(){return"steering"};
function N(a,b){Y.call(this,"Reversed velocity",a,b);var c=this.s(K.prototype,K.prototype.F,function(){return this===a?c.apply(this,arguments):-1*c.apply(this,arguments)})}N.prototype=Object.create(Y.prototype);N.prototype.D=function(){return"velocity"};function Y(a,b,c){this.name=a;this.c=b;this.L=c;this.a=[]}Y.prototype.D=function(){};Y.prototype.getName=function(){return this.name};Y.prototype.C=function(){return this.c};
Y.prototype.s=function(a,b,c){var d={prototype:a,u:b,S:!1},e;for(e in a)if(a[e]===b){d.name=e;a[e]=c;c.s=d;this.a.push(d);break}return d.u};function Xa(a){a.a.forEach(function(a){var c=a;if(c.u.s)for(;c.u.s.S&&(c=c.u.s,c.u.s););a.prototype[a.name]=c.u;a.S=!0},a)}function Z(a,b,c,d,e){this.x=a;this.y=b;this.O=a;this.P=b;this.a=e;this.ca=c;this.i=d}Z.prototype.F=function(){};Z.prototype.update=function(){};Z.prototype.B=function(a){a.save().translate(-this.f()/2,-this.i/2).fillRect(0,0,this.f(),this.i).restore()};
Z.prototype.f=function(){return this.ca};function I(a){return[a.x,a.y]}function K(a,b,c,d,e){Z.call(this,b,c,32,32,d);this.name=a;this.l=e;this.J=0;this.A=1;this.j=[0,0];this.G=d;this.b=0;this.R=[];this.V=x("#asset-boat");this.ba=x("#asset-boat-arrow");this.m=this.g=0;this.N=!1}K.prototype=Object.create(Z.prototype);f=K.prototype;f.getName=function(){return this.name};
f.B=function(a){a.save().translate(-this.f()/2,-this.i/2).drawImage(this.V,0,0).restore();var b=a.save().rotate(-this.a),c=this.i,d=this.name;b.h.fillStyle="white";b.h.a="11px serif";b.h.fillText(d,0-b.h.measureText(d).width/2,c);b.restore();a.save().translate(0,13).rotate(Math.cos(Math.PI*this.g)).fillRect(0,.3*-this.f(),2,1*this.f()).restore().save().translate(0,-13).rotate(-Math.cos(Math.PI*this.m)).fillRect(0,.3*this.f(),2,-1*this.f()).restore();this.N&&a.save().rotate(Math.PI/2*this.b).translate((8*
Math.abs(Math.cos(Math.PI*(this.g+this.m)/2))+8)*Math.sign(this.F()),-8).drawImage(this.ba,0,0).restore()};f.o=function(a){return-1<this.R.indexOf(a)};f.v=function(){this.b=-1};f.w=function(){this.b=1};f.F=function(){return this.A};
f.update=function(a){this.J=this.F()*a+this.J*(1-a);var b=this.x+this.j[0]*a;this.O=this.x;this.x=b;b=this.y+this.j[1]*a;this.P=this.y;this.y=b;this.G+=a*this.b/10;this.a=Math.atan2(Math.sin(this.a)*(1-a)+Math.sin(this.G)*a,Math.cos(this.a)*(1-a)+Math.cos(this.G)*a);this.j=B(this.j,z(this.j,.1*a));Ea(this.j)<Da&&(this.j=[0,0]);0>=this.b&&(this.g=kb(this,this.g,this.m,a,1));0<=this.b&&(this.m=kb(this,this.m,this.g,a,-1))};
function kb(a,b,c,d,e){var m=a.J;b+=d/100*m*(0==a.b&&.1<b-c?.5:1)*10;1<Math.abs(b)&&(a.j=C(a.j,z([Math.cos(a.a),Math.sin(a.a)],m*d/2)),b%=2,a.l.g.push([a.x,a.y,0]));if(0<Math.sign(m)&&1<Math.abs(b)||0>Math.sign(m)&&1>Math.abs(b))c=F(C([0,13*e],F([0,a.f()*e*.7],Math.cos(Math.PI*b)*e)),a.a),a.l.g.push([a.x+c[0],a.y+c[1],0]);return b}function L(a,b,c,d){Z.call(this,a,b,10,10,c);this.T=d;this.b=x("#asset-bonus-"+d.prototype.D())}L.prototype=Object.create(Z.prototype);
L.prototype.B=function(a){a.save().rotate(Math.cos((new Date).getTime()/1E3)).translate(-this.f()/2,-this.i/2).drawImage(this.b,0,0).restore()};function S(a){this.x=a[0];this.y=a[1]}S.prototype=Object.create(Z.prototype);function T(a,b,c){Z.call(this,a,b,50,0,c);this.U=new S(ab(this));this.aa=new S(bb(this));this.b=x("#asset-waypoint");this.I=[]}T.prototype=Object.create(Z.prototype);function db(a,b,c){return a.o(b)?!1:c.slice(0,c.indexOf(a)).every(function(a){return b.o(a)})}
T.prototype.o=function(a){return-1<fb(this,a)};function fb(a,b,c){a=a.I;c&&(a=a.filter(function(a){return-1==c.indexOf(a)}));return a.indexOf(b)}T.prototype.B=function(a){var b=F([this.f()/2,0],this.a);a.save().rotate(-this.a).drawImage(this.b,b[0]-this.b.width/2,b[1]-23).drawImage(this.b,-b[0]-this.b.width/2,-b[1]-23).restore()};function ab(a){return B(I(a),F([0,a.f()/2],a.a+Math.PI/2))}function bb(a){return B(I(a),F([0,a.f()/2],a.a-Math.PI/2))};}).call(window);

</script>
	</head>
	<body>
	   <!-- assets -->
	   <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QAQgBCAEIwvMlEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wgRDTo2FaKn0gAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAIGSURBVFjDzVexbsIwEH2Hwl8UCfELXUqlZgjfwMjYsUsn+ALYGRkZ+YYwwECX/kIUCf6CwR2cC2fnHJKqKjkpkmOf7727s882oaXM5zB146sVqI09+g3ocjlV9RaLXWsy1BR4uRwDeBGjFxBZQGOmAJ7E2BcWi1MjInQP3AUeADgrBAyAT0XnRiREgurB2TPXqG1fvFkGwKtC9lKmRiNB9eDjovdcAsfxJZiyw8EUwIOCyKAYOQVJ0H3wE+LYXVwf7zqB9caSiGMqCLl2NBJUBXd3GRvzQUdD9z/Lb+3pTJLQdy0RUYUAg08mE1yv+4rHPmhIstwlAQD9flK20zQtCUQauBZqBpeehmQ0BHZbwuFgsNsS1puqjjHGEBH1ZCeDS+9Hwyo492mfnPd9JExnpmJTOtnz886K0vssd8GbpID1ORI+CZbI2Cqihl4Da5KCUDrkmijTkCSJ0bxvuuCailyYckFGvqIf+r8QdoYjIaMd1U1os/XqPGc7WW7ryvFo+5IkQQ8PlijEus2+bxOJuylYb9pXvqaiLULyt+H1uq8Q+G0U5HwfPE1TW4i4JnMHRyEEXFcFQ3XDPxfkgdSzdzkqWTFDWb+1cnzPc9aX4DL0TimWJHxFrQxzn/bJec9v9jDSTkP1PvCI47g7F5KHX8k6cSntxLW8Ew+TTjzNOvE4/Y/n+Q+ha3hrKnJ1LQAAAABJRU5ErkJggg==" id="asset-boat">   
	   <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wkNCTklmpfchAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAACJSURBVEjH7ZOxDoAgDEQ5wnc7+OPPwWAQSVvDoANNWKBcD3IvpcmScUakN1vqbOeyKketAnMC0w4kfexgCSwBq0oLiSQieANXrkt/seKr/Yl23a/9gErf4GLdDciObY9Q8pvpIycrSIZA+7HWJ//kCX1sQyGqSWzBeB0mkIAhTN7km0AQ5zTC+QB6LjqrfXrxDQAAAABJRU5ErkJggg==" id="asset-waypoint">
	   
	   <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wkMESAeGhUJFQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABZSURBVDjLpZJBDsAgDMOcqf9GezlcxoUJQdPcbbVN6dA6NMxohQVvSZAV6TT+SaTb/XciZQ+4iuQ2MEWqVAjwUEzYD/StEC6YnmBXY7jgUXD7yuGCP0EWnBldlhQuwB9wGwAAAABJRU5ErkJggg==" id="asset-boat-arrow">
	   
	   <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wAAAAAzJ3zzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wkMEgA3z2ULggAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAACoSURBVFjDxddJDoAwDAPAGPnfiJeHC72AULck7gc8asmCufvp7qeJDt7hAC4poBqC3vVnQzD6/lkQzH6A0RCsVkAUBLsluAtBVA9YhSC6Cc1CkNUFRyHIbsM9CKrmwB8E1YPoDYFqEjYIlKPYzOww8aFsEXmegKrg8hv4K0OqgtMBo62YquBwwOo4pip4GxC1klEVPA3IWsupCu4Cqn7NqAr+AKqD27kBEd5KfhuOPwEAAAAASUVORK5CYII=" id="asset-waypoint-arrow">
	   
	   <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wkMEiEJgpsDygAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABYSURBVCjPpZFLCgAxCEOT4P2vbHdDqZ+x1JX4ogYFLoMA3H2qJlUBkilSqj6SruEQxR71OBbVqyOyLxveSrd/sImlfb8mlnakClRF9TiOUDMyXWi/pl9jAcNZJCIg3G15AAAAAElFTkSuQmCC" id="asset-bonus-velocity">
	   <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wkMEhYP+/8GywAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABTSURBVCjPlZIxDsAwCANt1P9/2R0qVRFDOLwh+YiBSEtZUhLqtouYznIGkjSGRvpsD2Fs/wY0w9muYJIF0FSXDQ5Ay7pISdcKX6jbRceh+S9c6AVmXi0K2tnEOwAAAABJRU5ErkJggg==" id="asset-bonus-steering">
       <!-- intro -->
       <div id="game-intro">
        <img src="data:image/png;base64,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">
       </div>
       <!-- pause -->
       <div id="game-pause">
        <h1>Paused</h1>
        <h2>Escape or tap to continue</h2>
       </div>
	   <!-- HUD -->
	   <div id="game-hud">
	       <div id="active-bonuses">
	       </div>
	       <div id="race-stats">
	           <div id="race-time"> </div>
	           <div id="race-position"> </div>
	       </div>
	       <div id="race-standings">
	       </div>
	       <div id="hud-touch">
	           <div id="touch-left">
		           <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAyCAYAAADBcfKuAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wgaEwszYixdlAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAC/SURBVGje7ZlBDsUgCESdZu5/Zbvo4m/81iIiJsOyjfLyoAZTFL+ojWfw2JjFk7L+OAG47csF9v69N1NjXl59T/JYNee6ygHBRWXurUFUuYfK7FV2Lrbn8jFhtT0Pqww0aO5TRBu0GOUmg5+MYpfBL0a52eCQUew2OGKUSQx2jSKLwZ5RJjPYNIpsBltGjxjVjoCEtScnRjXT0IuJIyLkyqKeFKQgBSlIQQpSkIIUpCAFKUhBClKQ+cP82y4y5w1KgDpkxEFstQAAAABJRU5ErkJggg==" id="touch-left-arrow">
	           </div>
	           
	           <div id="touch-right"> 
		           <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAyCAYAAADBcfKuAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wgaEwszYixdlAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAC/SURBVGje7ZlBDsUgCESdZu5/Zbvo4m/81iIiJsOyjfLyoAZTFL+ojWfw2JjFk7L+OAG47csF9v69N1NjXl59T/JYNee6ygHBRWXurUFUuYfK7FV2Lrbn8jFhtT0Pqww0aO5TRBu0GOUmg5+MYpfBL0a52eCQUew2OGKUSQx2jSKLwZ5RJjPYNIpsBltGjxjVjoCEtScnRjXT0IuJIyLkyqKeFKQgBSlIQQpSkIIUpCAFKUhBClKQ+cP82y4y5w1KgDpkxEFstQAAAABJRU5ErkJggg==" id="touch-right-arrow">
	           </div>
	       </div>
	   </div>
	</body>
</html>