!function t(e,i,s){function a(o,h){if(!i[o]){if(!e[o]){var n="function"==typeof require&&require;if(!h&&n)return n(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var f=i[o]={exports:{}};e[o][0].call(f.exports,function(t){var i=e[o][1][t];return a(i?i:t)},f,f.exports,t,e,i,s)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)a(s[o]);return a}({1:[function(t){var e=t(4),s=t(5),a=t(9),r=t(2),o=t(3),h=t(8),n=t(7),l=t(6),f=+new Date,d=0,c=0,_=16,p=0,y=0,x=1,m=1,u=1,g=1,k=!1,w=0,b=!1,v=32,L=32,R=s.maps;is_solid=function(t,e,i){var s=i?i:w,r=Math.floor(e/L);if(!R[s][r])return!1;var o=Math.floor(t/v);return R[s][r][o]?0===a[R[s][r][o]].solid?!1:1===a[R[s][r][o]].solid?!0:void 0:!1},findY=function(t,e,i){for(var s=0;!is_solid(t,s,e);)s+=1;return s-(i+v)-15};var M=o.initEnemies(findY),C={left:!1,up:!1,top:!1,attack:!1};onkeydown=onkeypress=function(t){switch(t.keyCode){case 32:C.attack=e.timer_attack<1;break;case 37:C.left=!0;break;case 38:C.up=!0;break;case 39:C.right=!0}},onkeyup=function(t){switch(t.keyCode){case 32:e.timer_attack=0,C.attack=!1;break;case 37:C.left=!1;break;case 38:C.up=!1;break;case 39:C.right=!1}},game=function(){d=+new Date,c=d-f,f=d,p=c/_,y+=1,!k&&b&&e.move(C,p),canvas.width=canvas.width,r.fillStyle="black";for(i in R[w])for(j in R[w][i])r.drawImage(a[R[w][i][j]].sprite,j*v,i*L,v,L);r.save(),r.fillStyle="red",r.fillRect(e.x-20,e.y-25,40,5),r.fillStyle="green",r.fillRect(e.x-20,e.y-25,40*e.current_hp/e.hp,5),r.translate(e.x,e.y),r.save(),e.isTouched()&&(r.globalAlpha=.4),e.isWalkingLeft&&r.scale(-1,1),r.drawImage(hero_sprite,-16,-16,v,L),C.attack?r.drawImage(keyboard_sprite2,5,0,16,16):r.drawImage(keyboard_sprite,5,-6,16,16),r.restore(),M[w].forEach(function(t){o.rotate_enemies(t,0),y%10===0&&o.switchEnemySprite(t),o.move_enemies(t,e,p),r.restore(),o.isMonsterTouched(t)&&(r.globalAlpha=.4),r.drawImage(t.current_sprite,t.x-t.width/2,t.y-t.height/2,t.width,t.height),r.fillStyle="red",r.fillRect(t.x-20,t.y-t.height/2-5,40,5),r.fillStyle="green",r.fillRect(t.x-20,t.y-t.height/2-5,40*t.current_hp/t.hp,5),!e.isTouched()&&o.collision_enemy(t,e)&&(e.current_hp=e.current_hp-1,e.timer_hit=50),C.attack&&o.attack_enemy(t,e)&&!o.isMonsterTouched(t)&&(t.current_hp=t.current_hp-1,t.current_hp<=0?M[w].splice(M[w].indexOf(t),1):t.timer_hit=50),o.update_monster(t)}),e.update(C),r.restore(),h[w].forEach(function(t){r.font="20px Arial",r.fillStyle="black",r.textAlign="center",r.fillText(t,canvas.width/2,50*(h[w].indexOf(t)+1))},h[w]),e.x>24*v&&(9!==w||0===M[w].length)&&(w=s.change_step(!0,w,e,C,p,R)),10===w&&(k=!0),e.x<v&&(w=s.change_step(!1,w,e,C,p,R)),e.current_hp<=0?(r.font="20px Arial",r.fillStyle="red",r.fillText("You are dead! Refresh the page to start again",150,250)):k?(u=0===x||300===x?-u:u,g=0===m||20===m?-g:g,x+=u,m+=g,r.drawImage(nyancat,canvas.width/2-150+x,canvas.height/2-10+m,32,32),requestAnimationFrame(game)):requestAnimationFrame(game)},playSong=function(){l.init(n);var t=0;setInterval(function(){if(!t&&(t=l.generate()>=1)){var e=l.createWave(),i=document.getElementById("audioElement");i.loop=!0,i.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),i.play()}},0)},switchPlay=function(){b=!0},onload=function(){e.rotate(0),playSong(),setTimeout(switchPlay,1e3),game()}},{2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9}],2:[function(t,e){ctx=canvas.getContext("2d"),canvas_rect={},(onresize=function(){canvas.className=16*innerHeight/9>innerWidth?"portrait":"landscape",canvas_rect=canvas.getBoundingClientRect()})(),e.exports=ctx},{}],3:[function(t,e){var i={right:[1,0],bottom:[0,1]},s={},a=function(t,e){t.angle=e*Math.PI/180,s={L1:[-(t.width/2),-(t.height/2)],C1:[0,-(t.height/2)],R1:[t.width/2,-(t.height/2)],L2:[-(t.width/2),0],R2:[t.width/2,0],L3:[-(t.width/2),t.height/4],C3:[0,t.height/2],R3:[t.width/2,t.height/4],L4:[-(t.width/2),t.height/2],R4:[t.width/2,t.height/2],L5:[-(t.width/4),t.height/2],R5:[t.width/4,t.height/2]};for(var a in i)t[a]=[i[a][0]*Math.cos(t.angle)-i[a][1]*Math.sin(t.angle),i[a][0]*Math.sin(t.angle)+i[a][1]*Math.cos(t.angle)];for(var a in s)t[a]=[s[a][0]*t.right[0]+s[a][1]*t.bottom[0],s[a][0]*t.right[1]+s[a][1]*t.bottom[1]]},r=function(t,e,i){t.x>e.x?(t.isWalkingLeft=!0,t.walk_speed-=t.walk_acceleration,t.walk_speed<-t.max_walk_speed&&(t.walk_speed=-t.max_walk_speed)):t.x<e.x?(t.isWalkingLeft=!1,t.walk_speed+=t.walk_acceleration,t.walk_speed>t.max_walk_speed&&(t.walk_speed=t.max_walk_speed)):Math.abs(t.walk_speed)<1?t.walk_speed=0:t.walk_speed>0?t.walk_speed+=t.walk_idle_deceleration:t.walk_speed<0&&(t.walk_speed-=t.walk_idle_deceleration);for(var s=0;s<Math.abs(t.walk_speed)*i;s++)if(t.x+=t.right[0]*Math.sign(t.walk_speed),t.y+=t.right[1]*Math.sign(t.walk_speed),t.walk_speed>0){if(!(is_solid(t.x+t.R1[0]+-3*t.bottom[0],t.y+t.R1[1]+-3*t.bottom[1])||is_solid(t.x+t.C1[0],t.y+t.C1[1])||is_solid(t.x+t.L1[0],t.y+t.L1[1])||is_solid(t.x+t.R2[0],t.y+t.R2[1])||is_solid(t.x+t.R3[0],t.y+t.R3[1])))for(var a=0;4>a;a++)if(is_solid(t.x+t.R4[0]+-a*t.bottom[0],t.y+t.R4[1]+-a*t.bottom[1])){t.x+=4*-t.bottom[0],t.y+=4*-t.bottom[1];break}if(is_solid(t.x+t.R1[0],t.y+t.R1[1])||is_solid(t.x+t.R2[0],t.y+t.R2[1])||is_solid(t.x+t.R3[0],t.y+t.R3[1])){t.walk_speed=0,t.x-=t.right[0],t.y-=t.right[1];break}}else if(t.walk_speed<0){if(!(is_solid(t.x+t.L1[0]+-3*t.bottom[0],t.y+t.L1[1]+-3*t.bottom[1])||is_solid(t.x+t.C1[0],t.y+t.C1[1])||is_solid(t.x+t.R1[0],t.y+t.R1[1])||is_solid(t.x+t.L2[0],t.y+t.L2[1])||is_solid(t.x+t.L3[0],t.y+t.L3[1])))for(var a=0;4>a;a++)if(is_solid(t.x+t.L4[0]+-a*t.bottom[0],t.y+t.L4[1]+-a*t.bottom[1])){t.x+=4*-t.bottom[0],t.y+=4*-t.bottom[1];break}if(is_solid(t.x+t.L1[0],t.y+t.L1[1])||is_solid(t.x+t.L2[0],t.y+t.L2[1])||is_solid(t.x+t.L3[0],t.y+t.L3[1])){t.walk_speed=0,t.x-=-t.right[0],t.y-=-t.right[1];break}}t.fall_speed+=t.gravity,t.fall_speed>t.max_fall_speed&&(t.fall_speed=t.max_fall_speed);t:for(var s=0;s<Math.abs(t.fall_speed)*i;s++)if(t.x+=t.bottom[0]*Math.sign(t.fall_speed),t.y+=t.bottom[1]*Math.sign(t.fall_speed),t.fall_speed>0){for(var a=0;a<t.width;a++)if(is_solid(t.x+t.L4[0]+a*t.right[0],t.y+t.L4[1]+a*t.right[1])){t.fall_speed=0,t.x-=t.bottom[0],t.y-=t.bottom[1],t.freefall=!1;break t}}else if(t.fall_speed<0&&(is_solid(t.x+t.L1[0],t.y+t.L1[1])||is_solid(t.x+t.C1[0],t.y+t.C1[1])||is_solid(t.x+t.R1[0],t.y+t.R1[1]))){t.fall_speed=0,t.x-=-t.bottom[0],t.y-=-t.bottom[1];break}};switchEnemySprite=function(t){t.current_sprite=t.current_sprite===t.sprite?t.alternate_sprite:t.sprite},collision_enemy=function(t,e){var i={r1:{x:e.x+e.R1[0],y:e.y+e.R1[1]},r4:{x:e.x+e.R4[0],y:e.y+e.R4[1]},l1:{x:e.x+e.L1[0],y:e.y+e.L1[1]},l4:{x:e.x+e.L4[0],y:e.y+e.L4[1]}},s={r1:{x:t.x+t.R1[0],y:t.y+t.R1[1]},r4:{x:t.x+t.R4[0],y:t.y+t.R4[1]},l1:{x:t.x+t.L1[0],y:t.y+t.L1[1]},l4:{x:t.x+t.L4[0],y:t.y+t.L4[1]}};return collide(i,s)},attack_enemy=function(t,e){var i={r1:{x:e.x+5+(e.isWalkingLeft?-32:0),y:e.y-6},r4:{x:e.x+5+20+(e.isWalkingLeft?-32:0),y:e.y-6},l1:{x:e.x+5+20+(e.isWalkingLeft?-32:0),y:e.y+16},l4:{x:e.x+5+(e.isWalkingLeft?-32:0),y:e.y+16}},s={r1:{x:t.x+t.R1[0],y:t.y+t.R1[1]},r4:{x:t.x+t.R4[0],y:t.y+t.R4[1]},l1:{x:t.x+t.L1[0],y:t.y+t.L1[1]},l4:{x:t.x+t.L4[0],y:t.y+t.L4[1]}};return collide(i,s)},collide=function(t,e){return t.r1.x>=e.l1.x&&t.r1.x<=e.r1.x&&t.r1.y>=e.l1.y&&t.r1.y<=e.l4.y?!0:t.r4.x>=e.l1.x&&t.r4.x<=e.r1.x&&t.r4.y>=e.l1.y&&t.r4.y<=e.l4.y?!0:t.l1.x>=e.l1.x&&t.l1.x<=e.r1.x&&t.l1.y>=e.l1.y&&t.l1.y<=e.l4.y?!0:t.l4.x>=e.l1.x&&t.l4.x<=e.r1.x&&t.l4.y>=e.l1.y&&t.l4.y<=e.l4.y?!0:!1},update_monster=function(t){t.timer_hit>0&&(t.timer_hit=t.timer_hit-1)},isMonsterTouched=function(t){return t.timer_hit>0},create_enemy=function(t,e,i,s,a){var r="",o="",h=0,n=1,l=Math.floor(3*Math.random()+2),f=Math.floor(4*Math.random()+1)/10,d=s?s:32,c=a?a:32;switch(i){case"basic":r=monster,o=monster2,h=1;break;case"flying":r=flying,o=flying2,h=1,n=0,l/=2,f/=2;break;case"boss":r=boss,o=boss,h=3,l=2}return{x:t,y:e,sprite:r,alternate_sprite:o,current_sprite:r,type:i,angle:0,right:[],bottom:[],width:d,height:c,L1:[],C1:[],R1:[],L2:[],R2:[],L3:[],C3:[],R3:[],L4:[],R4:[],L5:[],R5:[],isWalkingLeft:!1,max_walk_speed:l,walk_acceleration:f,walk_idle_deceleration:-1,jump_speed:-14,gravity:n,walk_speed:0,fall_speed:0,max_fall_speed:6,hp:h,current_hp:h,freefall:"flying"!==i}},initEnemies=function(t){for(var e=[],i=0;11>i;i++)switch(i){case 0:case 10:e[i]=[];break;case 1:e[i]=[create_enemy(650,321,"basic")];break;case 9:e[i]=[create_enemy(650,321,"boss",64,64)];break;default:e[i]=generateEnemies(i,t)}return e},generateEnemies=function(t,e){for(var i=Math.floor(4*Math.random()+1),s="",a=0,r=0,o=[],h=32,n=32,l=0;i>l;l++)s=Math.floor(2*Math.random())?"basic":"flying",a=Math.floor(301*Math.random()+350),r=e(a,t,n),r="flying"===s?r-Math.floor(101*Math.random()):r,o.push(create_enemy(a,r,s,h,n));return o},e.exports={initEnemies:initEnemies,isMonsterTouched:isMonsterTouched,update_monster:update_monster,switchEnemySprite:switchEnemySprite,collision_enemy:collision_enemy,attack_enemy:attack_enemy,rotate_enemies:a,move_enemies:r,update_monster:update_monster}},{}],4:[function(t,e){var i=[1,0],s=[0,1],a=[-11,-14],r=[0,-14],o=[11,-14],h=[-11,0],n=[11,0],l=[-11,8],f=[0,14],d=[11,8],c=[-11,14],_=[11,14],p=[-7,14],y=[7,14];base_vectors={right:i,bottom:s},vectors={L1:a,C1:r,R1:o,L2:h,R2:n,L3:l,C3:f,R3:d,L4:c,R4:_,L5:p,R5:y};var x=function(t){this.angle=t*Math.PI/180;for(var e in base_vectors)this[e]=[base_vectors[e][0]*Math.cos(this.angle)-base_vectors[e][1]*Math.sin(this.angle),base_vectors[e][0]*Math.sin(this.angle)+base_vectors[e][1]*Math.cos(this.angle)];for(var e in vectors)this[e]=[vectors[e][0]*this.right[0]+vectors[e][1]*this.bottom[0],vectors[e][0]*this.right[1]+vectors[e][1]*this.bottom[1]]},m=function(t,e){t.left&&!t.right?(this.isWalkingLeft=!0,this.walk_speed-=this.walk_acceleration,this.walk_speed<-this.max_walk_speed&&(this.walk_speed=-this.max_walk_speed)):t.right&&!t.left?(this.isWalkingLeft=!1,this.walk_speed+=this.walk_acceleration,this.walk_speed>this.max_walk_speed&&(this.walk_speed=this.max_walk_speed)):Math.abs(this.walk_speed)<1?this.walk_speed=0:this.walk_speed>0?this.walk_speed+=this.walk_idle_deceleration:this.walk_speed<0&&(this.walk_speed-=this.walk_idle_deceleration);for(var i=0;i<Math.abs(this.walk_speed)*e;i++)if(this.x+=this.right[0]*Math.sign(this.walk_speed),this.y+=this.right[1]*Math.sign(this.walk_speed),this.walk_speed>0){if(!(is_solid(this.x+this.R1[0]+-3*this.bottom[0],this.y+this.R1[1]+-3*this.bottom[1])||is_solid(this.x+this.C1[0],this.y+this.C1[1])||is_solid(this.x+this.L1[0],this.y+this.L1[1])||is_solid(this.x+this.R2[0],this.y+this.R2[1])||is_solid(this.x+this.R3[0],this.y+this.R3[1])))for(var s=0;4>s;s++)if(is_solid(this.x+this.R4[0]+-s*this.bottom[0],this.y+this.R4[1]+-s*this.bottom[1])){this.x+=4*-this.bottom[0],this.y+=4*-this.bottom[1];break}if(is_solid(this.x+this.R1[0],this.y+this.R1[1])||is_solid(this.x+this.R2[0],this.y+this.R2[1])||is_solid(this.x+this.R3[0],this.y+this.R3[1])){this.walk_speed=0,this.x-=this.right[0],this.y-=this.right[1];break}}else if(this.walk_speed<0){if(!(is_solid(this.x+this.L1[0]+-3*this.bottom[0],this.y+this.L1[1]+-3*this.bottom[1])||is_solid(this.x+this.C1[0],this.y+this.C1[1])||is_solid(this.x+this.R1[0],this.y+this.R1[1])||is_solid(this.x+this.L2[0],this.y+this.L2[1])||is_solid(this.x+this.L3[0],this.y+this.L3[1])))for(var s=0;4>s;s++)if(is_solid(this.x+this.L4[0]+-s*this.bottom[0],this.y+this.L4[1]+-s*this.bottom[1])){this.x+=4*-this.bottom[0],this.y+=4*-this.bottom[1];break}if(is_solid(this.x+this.L1[0],this.y+this.L1[1])||is_solid(this.x+this.L2[0],this.y+this.L2[1])||is_solid(this.x+this.L3[0],this.y+this.L3[1])){this.walk_speed=0,this.x-=-this.right[0],this.y-=-this.right[1];break}}t.up&&!this.freefall&&(this.freefall=!0,this.fall_speed+=this.jump_speed),this.fall_speed+=this.gravity,this.fall_speed>this.max_fall_speed&&(this.fall_speed=this.max_fall_speed);t:for(var i=0;i<Math.abs(this.fall_speed)*e;i++)if(this.x+=this.bottom[0]*Math.sign(this.fall_speed),this.y+=this.bottom[1]*Math.sign(this.fall_speed),this.fall_speed>0){for(var s=0;s<this.width;s++)if(is_solid(this.x+this.L4[0]+s*this.right[0],this.y+this.L4[1]+s*this.right[1])){this.fall_speed=0,this.x-=this.bottom[0],this.y-=this.bottom[1],this.freefall=!1;break t}}else if(this.fall_speed<0&&(is_solid(this.x+this.L1[0],this.y+this.L1[1])||is_solid(this.x+this.C1[0],this.y+this.C1[1])||is_solid(this.x+this.R1[0],this.y+this.R1[1]))){this.fall_speed=0,this.x-=-this.bottom[0],this.y-=-this.bottom[1];break}},u=function(){return this.timer_hit>0},g=function(t){this.timer_hit>0&&(this.timer_hit=this.timer_hit-1),t.attack===!0&&(this.timer_attack=this.timer_attack+1)};e.exports={x:50,y:401,angle:0,right:[],bottom:[],width:22,height:28,L1:[],C1:[],R1:[],L2:[],R2:[],L3:[],C3:[],R3:[],L4:[],R4:[],L5:[],R5:[],isWalkingLeft:!1,max_walk_speed:3,walk_acceleration:.3,walk_idle_deceleration:-1,jump_speed:-14,gravity:1,walk_speed:0,fall_speed:0,max_fall_speed:6,hp:10,current_hp:10,damage:1,timer_attack:0,timer_hit:0,freefall:!0,rotate:x,move:m,isTouched:u,update:g}},{}],5:[function(t,e){change_step=function(t,e,i,s,a){var r=0;switch(e){case 0:t&&(r=e+1,i.x=73,i.y=findY(i.x,r,i.height),i.move(s,a));break;case 1:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 2:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 3:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 4:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 5:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 6:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 7:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 8:r=t?e+1:e-1,i.x=t?73:680,i.y=findY(i.x,r,i.height),i.move(s,a);break;case 9:r=t?e+1:e-1,i.x=t?73:680,i.y=t?401:findY(i.x,r,i.height),i.move(s,a);break;case 10:}return r},initMaps=function(){for(var t=[],e=["0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","0000000000000000000000000","2222222222222222222222222"],i=0;11>i;i++)switch(i){case 0:case 9:case 10:t[i]=e;break;case 1:t[1]=e.slice(),t[1][12]="0000022222000000000000000";break;default:t[i]=generateLevel()}return t},generateLevel=function(){for(var t=Math.floor(3*Math.random()),e=Math.floor(3*Math.random()+1),i=Math.floor(2*Math.random()),s=i.toString().repeat(25),a=2,r=[s,s,s,s,"","","","","","","","","",s.replace(new RegExp(i,"g"),a)],o=0;25>o;o++){o%e===0&&o>0&&(e+=Math.floor(3*Math.random()+1),t=t+Math.floor(5*Math.random())-2);for(var h=4;13>h;h++)r[h]=r[h]+(h<parseInt(13-t,10)?i:a)}return r},e.exports={maps:initMaps(),change_step:change_step}},{}],6:[function(t,e){"use strict";var i=function(){var t,e,i,s,a,r=function(t){return Math.sin(6.283184*t)},o=function(t){return 2*(t%1)-1},h=function(t){return.5>t%1?1:-1},n=function(t){var e=t%1*4;return 2>e?e-1:3-e},l=function(t){return.003959503758*Math.pow(2,(t-128)/12)},f=function(t,e,i){var s,a,r,o,h,n,f,c=d[t.i[0]],_=t.i[1],p=t.i[3],y=d[t.i[4]],x=t.i[5],m=t.i[8],u=t.i[9],g=t.i[10]*t.i[10]*4,k=t.i[11]*t.i[11]*4,w=t.i[12]*t.i[12]*4,b=1/w,v=t.i[13],L=i*Math.pow(2,2-t.i[14]),R=new Int32Array(g+k+w),M=0,C=0;for(s=0,a=0;g+k+w>s;s++,a++)a>=0&&(v=v>>8|(255&v)<<4,a-=L,n=l(e+(15&v)+t.i[2]-128),f=l(e+(15&v)+t.i[6]-128)*(1+8e-4*t.i[7])),r=1,g>s?r=s/g:s>=g+k&&(r-=(s-g-k)*b),o=n,p&&(o*=r*r),M+=o,h=c(M)*_,o=f,m&&(o*=r*r),C+=o,h+=y(C)*x,u&&(h+=(2*Math.random()-1)*u),R[s]=80*h*r|0;return R},d=[r,h,o,n];this.init=function(r){t=r,e=r.endPattern,i=0,s=r.rowLen*r.patternLen*(e+1)*2,a=new Int32Array(s)},this.generate=function(){var o,h,n,l,c,_,p,y,x,m,u,g,k,w,b=new Int32Array(s),v=t.songData[i],L=t.rowLen,R=t.patternLen,M=0,C=0,E=!1,I=[];for(n=0;e>=n;++n)for(p=v.p[n],l=0;R>l;++l){var T=p?v.c[p-1].f[l]:0;T&&(v.i[T-1]=v.c[p-1].f[l+R]||0,16>T&&(I=[]));var Y=d[v.i[15]],S=v.i[16]/512,W=Math.pow(2,v.i[17]-9)/L,A=v.i[18],j=v.i[19],D=43.23529*v.i[20]*3.141592/44100,q=1-v.i[21]/255,O=1e-5*v.i[22],P=v.i[23]/32,U=v.i[24]/512,B=6.283184*Math.pow(2,v.i[25]-9)/L,F=v.i[26]/255,N=v.i[27]*L&-2;for(u=(n*R+l)*L,c=0;4>c;++c)if(_=p?v.c[p-1].n[l+c*R]:0){I[_]||(I[_]=f(v,_,L));var z=I[_];for(h=0,o=2*u;h<z.length;h++,o+=2)b[o]+=z[h]}for(h=0;L>h;h++)y=2*(u+h),m=b[y],m||E?(g=D,A&&(g*=Y(W*y)*S+.5),g=1.5*Math.sin(g),M+=g*C,k=q*(m-C)-M,C+=g*k,m=3==j?C:1==j?k:M,O&&(m*=O,m=1>m?m>-1?r(.25*m):-1:1,m/=O),m*=P,E=m*m>1e-5,x=Math.sin(B*y)*U+.5,w=m*(1-x),m*=x):w=0,y>=N&&(w+=b[y-N+1]*F,m+=b[y-N]*F),b[y]=0|w,b[y+1]=0|m,a[y]+=0|w,a[y+1]+=0|m}return i++,i/t.numChannels},this.createWave=function(){var t=44,e=t+2*s-8,i=e-36,r=new Uint8Array(t+2*s);r.set([82,73,70,70,255&e,e>>8&255,e>>16&255,e>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&i,i>>8&255,i>>16&255,i>>24&255]);for(var o=0,h=t;s>o;++o){var n=a[o];n=-32767>n?-32767:n>32767?32767:n,r[h++]=255&n,r[h++]=n>>8&255}return r},this.getData=function(t,e){for(var i=2*Math.floor(44100*t),s=new Array(e),r=0;2*e>r;r+=1){var o=i+r;s[r]=t>0&&o<a.length?a[o]/32768:0}return s}};e.exports=new i},{}],7:[function(t,e){var i={songData:[{i:[3,192,116,0,3,192,128,0,0,0,7,12,22,0,0,0,0,0,0,2,255,0,0,32,61,3,29,4],p:[1,2,1,2,,,,,1,2,1,2],c:[{n:[147,150,154,147,150,154,147,150,154,147,150,154,142,145,147,154,142,145,149,142,145,149,142,145,149,142,145,149,137,140,142,149,135,,,,147,,,,135,,,,147,,,,130,,,,142,,,,130,,,,142],f:[]},{n:[145,149,152,145,149,152,145,149,152,145,149,152,140,142,145,152,140,144,147,140,144,147,140,144,147,140,144,147,135,140,144,147,133,,,,145,,,,133,,,,145,,,,128,,,,140,,,,128,,,,140],f:[]}]},{i:[2,128,116,0,2,127,116,15,0,0,83,35,129,0,0,3,130,4,1,2,40,167,2,32,89,5,91,7],p:[,,1,2,1,2,1,2,,,1,2,1,2,3],c:[{n:[135,,,,,,,,,,,,,,,,130,,,,,,,,,,,,,,,,123,,,,,,,,,,,,,,,,,118],f:[]},{n:[133,,,,,,,,,,,,,,,,128,,,,,,,,,,,,,,,,121,,,,,,,,,,,,,,,,,116],f:[]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],f:[]}]},{i:[2,96,116,0,2,96,116,13,0,0,97,50,124,0,0,1,138,7,1,3,37,84,2,32,135,4,92,3],p:[,,1,2,1,2,1,2,,,1,2,1,2,3],c:[{n:[154,,,,,,,,,,,,,,,,154,,,,,,,,,,,,,,,,159,,,,,,,,,,,,,,,,157,,,,,,,,,,,,,,,,162,,,,,,,,,,,,,,,,161],f:[]},{n:[152,,,,,,,,,,,,,,,,152,,,,,,,,,,,,,,,,157,,,,,,,,,,,,,,,,156,,,,,,,,,,,,,,,,161,,,,,,,,,,,,,,,,159],f:[]},{n:[154,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,159,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,162],f:[]}]},{i:[3,250,140,0,3,55,128,3,0,17,3,16,41,0,0,0,83,4,1,2,242,164,1,69,77,6,25,6],p:[,,,,1,2,1,2,,,1,2,1,2],c:[{n:[123,,,,130,,,126,,126,125,,123,,126,,118,,,,125,,,121,,121,120,,118,,121],f:[]},{n:[121,,,,128,,,125,,125,123,,121,,125,,116,,,,123,,,120,,120,118,,116,,120],f:[]}]},{i:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,32,0,0,0,0],p:[,,,,1,1,1,1,,2,1,1,1,1],c:[{n:[147,,,,147,,,147,,,147,,147,,,,147,,,,147,,,147,,,147,,147,,,147],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,147,,,,147,,147,147],f:[]}]},{i:[0,0,128,0,0,0,128,0,0,60,4,10,34,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,1,1,1,1,1,1,1,1,1,1],c:[{n:[,147,147,,,147,147,,,147,147,,,147,147,147,,147,147,,,147,147,,,147,147,,,147,147,147],f:[]}]},{i:[2,128,116,0,2,128,128,15,0,0,7,14,39,0,0,0,97,4,1,3,49,154,0,109,107,4,79,4],p:[,,,,,,1,2,1,2,,,1,2],c:[{n:[147,150,154,147,150,154,147,150,154,147,150,154,142,145,147,154,142,145,149,142,145,149,142,145,149,142,145,149,137,140,142,149,135,,,,147,,,,135,,,,147,,,,130,,,,142,,,,130,,,,142],f:[]},{n:[145,149,152,145,149,152,145,149,152,145,149,152,140,142,145,152,140,144,147,140,144,147,140,144,147,140,144,147,135,140,144,147,133,,,,145,,,,133,,,,145,,,,128,,,,140,,,,128,,,,140],f:[]}]}],rowLen:6014,patternLen:32,endPattern:14,numChannels:7};e.exports=i},{}],8:[function(t,e){var i=[];i[0]=["The source of Internet has been stolen ! Everyone is offline !","You have to fix that! Take your keyboard and go !","(use arrows to move, and space to attack)"],i[1]=[],i[2]=[],i[3]=[],i[4]=[],i[5]=[],i[6]=[],i[7]=[],i[8]=[],i[9]=["A boss blocks the entrance of the last room!"],i[10]=["You have freed the source of Internet: the nyancat !","Thanks for playing :)"],e.exports=i},{}],9:[function(t,e){var i={0:{sprite:background_tile1,solid:0},1:{sprite:background_tile2,solid:0},2:{sprite:ground_tile,solid:1}};e.exports=i},{}]},{},[1]);