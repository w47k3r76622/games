var lm,rm,p1=document.querySelector("#left"),p2=document.querySelector("#right"),m1=document.querySelector("#m1"),m2=document.querySelector("#m2"),m3=document.querySelector("#m3"),m4=document.querySelector("#m4"),m5=document.querySelector("#m5"),t1=document.querySelector("#t1"),t2=document.querySelector("#t2"),t=document.querySelector("#tsg"),c=document.querySelector("div"),em=document.querySelector("#em"),s=document.querySelector("#s"),p=document.querySelector("#prompt_2"),mv=document.querySelector("#moves"),mi=document.querySelector("#min"),cl=0,_p=!1,_s=!1,mc=0,md=!1,rv=!1;function l(t){lm=t.m.l,rm=t.m.r,p_1.g.setAttribute("transform",t.p.l.t),p_2.g.setAttribute("transform",t.p.r.t),p_1.x=t.p.l.x,p_1.y=t.p.l.y,p_1.r=t.p.l.r,p_1.c=t.p.l.c,p_2.x=t.p.r.x,p_2.y=t.p.r.y,p_2.r=t.p.r.r,p_2.c=t.p.r.c;try{m1.setAttribute("transform",t.b.m1.t),m1.style.visibility=t.b.m1.v,m1.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m1.c+";stroke-width:0")}catch(t){}try{m2.setAttribute("transform",t.b.m2.t),m2.style.visibility=t.b.m2.v,m2.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m2.c+";stroke-width:0")}catch(t){}try{m3.setAttribute("transform",t.b.m3.t),m3.style.visibility=t.b.m3.v,m3.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m3.c+";stroke-width:0")}catch(t){}try{m4.setAttribute("transform",t.b.m4.t),m4.style.visibility=t.b.m4.v,m4.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m4.c+";stroke-width:0")}catch(t){}try{m5.setAttribute("transform",t.b.m5.t),m5.style.visibility=t.b.m5.v,m5.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m5.c+";stroke-width:0")}catch(t){}try{m6.setAttribute("transform",t.b.m6.t),m6.style.visibility=t.b.m6.v,m6.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m6.c+";stroke-width:0")}catch(t){}try{m7.setAttribute("transform",t.b.m7.t),m7.style.visibility=t.b.m7.v,m7.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m7.c+";stroke-width:0")}catch(t){}try{m8.setAttribute("transform",t.b.m8.t),m8.style.visibility=t.b.m8.v,m8.children[0].children[0].setAttribute("style","stroke:none;fill:"+t.b.m8.c+";stroke-width:0")}catch(t){}t1.setAttribute("transform",t.s.l.t),t2.setAttribute("transform",t.s.r.t),p1.children[5].children[0].setAttribute("style","stroke:none;fill:"+t.h.h1.c+";stroke-width:0"),p2.children[5].children[0].setAttribute("style","stroke:none;fill:"+t.h.h2.c+";stroke-width:0"),as(t)}function as(t){for(var e=t._s.a;s.firstChild;)s.removeChild(s.firstChild);for(var r=0;r<e.length;r++)s.append(e[r].i);s.setAttribute("transform","translate("+t._s.x+", -5)")}function r(){mv.innerHTML="moves: 0",_p=!1,mc=0,l(0==cl?l1:1==cl?l2:l3)}function st(){document.querySelector("#title_screen").setAttribute("visibility","hidden"),t.setAttribute("visibility","hidden"),mv.style.visibility="visible",mi.style.visibility="visible",p.style.visibility="visible",_s=!0,l(l1)}window.addEventListener("keydown",function(t){try{switch(t.keyCode){case 13:_s||st();break;case 82:_s&&(p.innerHTML="restart: (R key)",r());break;case 83:_p&&(r(),p.innerHTML="restart: (R key)",s.style.visibility="visible",rv=!0);break;case 39:1!=lm[p_1.r][p_1.c+1]&&p_1.c+1<6&&(p_1.x+=50,p_1.c++,md=!0);break;case 37:1!=lm[p_1.r][p_1.c-1]&&p_1.c-1>-1&&(p_1.x-=50,p_1.c--,md=!0);break;case 38:t.returnValue=!1,p_1.r-1>-1&&1!=lm[p_1.r-1][p_1.c]&&(p_1.y-=50,p_1.r--,md=!0);break;case 40:t.returnValue=!1,p_1.r+1<8&&1!=lm[p_1.r+1][p_1.c]&&(p_1.y+=50,p_1.r++,md=!0)}switch(t.keyCode){case 39:1!=rm[p_2.r][p_2.c+1]&&p_2.c+1<6&&(p_2.x+=50,p_2.c++,md=!0);break;case 37:1!=rm[p_2.r][p_2.c-1]&&p_2.c-1>-1&&(p_2.x-=50,p_2.c--,md=!0);break;case 38:t.returnValue=!1,p_2.r-1>-1&&1!=rm[p_2.r-1][p_2.c]&&(p_2.y-=50,p_2.r--,md=!0);break;case 40:t.returnValue=!1,p_2.r+1<8&&1!=rm[p_2.r+1][p_2.c]&&(p_2.y+=50,p_2.r++,md=!0)}p_1.g.setAttribute("transform","scale(0.9) translate("+p_1.x+","+p_1.y+")"),p_2.g.setAttribute("transform","scale(0.9) translate("+p_2.x+","+p_2.y+")"),md&&(mc++,mv.innerHTML="moves: "+mc,md=!1),2==lm[p_1.r][p_1.c]&&2==rm[p_2.r][p_2.c]&&(0==cl&&mc>9||1==cl&&mc>15||2==cl&&mc>23?(p.innerHTML=rv?"restart: (R key)":"restart: (R key), solution: (S key)",_p=!0):setTimeout(function(){mv.innerHTML="moves: 0",mc=0,0==cl?(s.style.visibility="hidden",mi.innerHTML="minimal: 15",cl++,l(l2)):1==cl?(s.style.visibility="hidden",mi.innerHTML="minimal: 23",cl++,l(l3)):(c.style.opacity="0",em.style.opacity="1"),rv=!1},250))}catch(t){}});var n=_r.path("M401.788,74.476c-63.492-82.432-188.446-33.792-188.446,49.92c0-83.712-124.962-132.356-188.463-49.92c-65.63,85.222-0.943,234.509,188.459,320.265C402.731,308.985,467.418,159.698,401.788,74.476z",{fillStyle:"solid",strokeWidth:2,roughness:2.9,fill:"#fddb6d"});n.setAttribute("transform","translate(220, 250)"),t.append(n);
