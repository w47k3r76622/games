function mainLoop(){drawEverything(),moveEverything(),animatePlanets(),drawStars(),drawScore(),collisionDetection(),document.addEventListener("mousemove",function(a){var n=a.clientX-canvas.offsetLeft;n>0+winkieWidth/2&&n<canvas.width-winkieWidth/2&&(winkieX=n-winkieWidth/2)}),requestAnimationFrame(mainLoop)}function colorRect(a,n,e,t,i){canvasContext.fillStyle=i,canvasContext.fillRect(a,n,e,t,i)}function colorPlanet(a,n,e,t){canvasContext.fillStyle=t,canvasContext.beginPath(),canvasContext.arc(a,n,e,0,2*Math.PI,!1),canvasContext.fill(),canvasContext.closePath()}function getRandomSpeed(a,n){return Math.floor(Math.random()*(n+a))+a}function drawEverything(){colorRect(0,0,canvas.width,canvas.height,"black"),colorRect(winkieX,winkieY,winkieWidth,winkieHeight,"white")}function collisionDetection(){for(var a=0;a<planets.length;a++){var n=planets[a];n.x>winkieX&&n.x<winkieX+winkieWidth&&n.y>winkieY&&n.y<winkieY+winkieHeight?(alert("Your Highest Score: "+score),document.location.reload()):n.y>=canvas.height-planetRadius&&score++}}function drawScore(){canvasContext.font="16px Arial",canvasContext.fillStyle="#0095DD",canvasContext.fillText("Score: "+score,8,20)}function moveEverything(){planets.forEach(function(a){a.x+=a.SpeedX,a.y+=a.SpeedY,a.x<planetRadius?(a.SpeedX=-a.SpeedX,a.x=planetRadius+(planetRadius-a.x)):a.x>canvas.width-planetRadius?(a.SpeedX=-a.SpeedX,a.x-=a.x-(canvas.width-planetRadius)):a.y>canvas.height-planetRadius&&(a.y-=a.y-(canvas.height-planetRadius),a.SpeedY=-a.SpeedY)})}function spawnPlanets(){var a={x:planetX,y:planetY,SpeedX:getRandomSpeed(1,7),SpeedY:getRandomSpeed(2,8)};planets.push(a)}function animatePlanets(){var a=Date.now();a>lastSpawn+spawnTime&&(lastSpawn=a,spawnPlanets());for(var n=0;n<planets.length;n++){var e=planets[n],t=getRandomNumber(0,255),i=getRandomNumber(0,255),o=getRandomNumber(0,255);canvasContext.beginPath(),canvasContext.arc(e.x,e.y,planetRadius,0,2*Math.PI,!1),canvasContext.fillStyle="rgb("+t+","+i+","+o+")",canvasContext.fill()}}function getRandomNumber(a,n){return Math.floor(Math.random()*(n-a+1))+a}function drawStars(){for(var a=0;a<stars;a++){var n=Math.random()*canvas.offsetWidth;y=Math.random()*canvas.offsetHeight,radius=1.2*Math.random(),hue=colorrange[getRandomNumber(0,colorrange.length-1)],sat=getRandomNumber(50,100),canvasContext.beginPath(),canvasContext.arc(n,y,radius,0,360),canvasContext.fillStyle="hsl("+hue+", "+sat+"%, 88%)",canvasContext.fill()}}var canvas=document.getElementById("gameCanvas"),canvasContext=canvas.getContext("2d"),planetX,planetY=0,planetRadius=20,winkieX=canvas.width/2,winkieY=canvas.height/2,winkieWidth=50,winkieHeight=50,score=0;window.onload=function(){planetX=canvas.width*Math.random(),requestAnimationFrame(mainLoop)};var planets=[],spawnTime=1500,lastSpawn=-1,startTime=Date.now(),stars=20,colorrange=[0,60,240];