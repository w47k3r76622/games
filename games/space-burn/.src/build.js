!function t(e,i,n){function r(o,h){if(!i[o]){if(!e[o]){var s="function"==typeof require&&require;if(!h&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[o]={exports:{}};e[o][0].call(p.exports,function(t){var i=e[o][1][t];return r(i?i:t)},p,p.exports,t,e,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t){var e=t(5);e.done(function(){var e=t(9),i=t(8),n=t(4),r=t(7),a=t(3),o=t(2),h=t(6),s=document.querySelector("#game"),l=s.getContext("2d");window.state="menu",e.start(function(t){"menu"===window.state?h.drawMenu(l):"game"===window.state?(i.gravity(t),n.up()?(i.up(t),r.createParticles(i.x+i.width/2,i.y+i.height,i.angle,Math.PI/10,10,10)):i.move(t),n.right()&&i.right(t),n.left()&&i.left(t),o.check(i,r,a),l.fillStyle="#0f0d20",l.fillRect(0,0,800,600),a.loop(t,l,i.offsetX,i.offsetY),r.draw(t,l,i),i.draw(t,l),h.ingame(l,i.fuel,i.health),i.fuel-=.01,i.score++,(i.health<=0||i.fuel<=0)&&(window.state="end")):"end"===window.state&&h.drawEnd(l,i.score)})}),document.body.addEventListener("click",function(){"menu"===window.state?window.state="game":"end"===window.state&&(window.state="game",player.score=0,player.reset(),enemies.reset())},!1)},{}],2:[function(t,e){var i={x:375,y:270,width:50,height:60},n=function(t,e){var n=!1;return n=r(i,e)},r=function(t,e){return Math.abs(t.x+t.width/2-e.x-e.width/2)>(t.width+e.width)/2||Math.abs(t.y+t.height/2-e.y-e.height/2)>(t.height+e.height)/2?!1:!0},a=function(t,e,i,n){for(var a,o=[],h=0;h<e.length;h++)a=e[h],r(t,a)?(o.push(a),i&&i(a)):n&&n(a);return o},o={x:325,y:225,width:150,height:150},h={x:-400,y:-300,width:1600,height:1200},s=function(t,e,i){var r=e.array,s=i.array,l=a(h,s,void 0,function(t){t.alive=!1});l.length<30&&i.spawn(100*Math.random());for(var p=a(o,s),f=0;f<p.length;f++)n(t,p[f])&&(p[f].alive=!1,"power-icon.png"===p[f].type?t.fuel+=10:t.health-=p[f].width*p[f].height/100);for(var f=0;f<r.length;f++)a(r[f],s,function(e){r[f].alive&&(e.alive=!1,t.score+=e.width*e.height/100)})};e.exports={check:s}},{}],3:[function(t,e){var i=[],n=t(5),r=function(){return Math.random()},a=function(){return arguments[Math.floor(r()*arguments.length)]},o=.3,h=2,s=800,l=600,p=function(t){for(var e,p,f,m=0;t>m;m++)e={x:r()*s,y:r()*l,speed:r()*(h-o)+o,type:a.apply(this,n.get("rock").concat(n.get("power-icon"))),alive:!0},p=r()*s,f=r()*l,e.angle=r()*Math.PI*2,e.width=n.images[e.type].width,e.height=n.images[e.type].height,r()>.5?e.x+=a(-1,1)*(s+e.width):e.y+=a(-1,1)*(l+e.height),i.push(e)},f=function(t,e,r,a){for(var o,h=i.length-1;h>=0;h--)o=i[h],o.alive?(o.x+=Math.cos(o.angle)*o.speed-r,o.y+=Math.sin(o.angle)*o.speed-a,e.fillStyle="red",e.drawImage(n.images[o.type],o.x,o.y)):i.splice(h,1)};e.exports={loop:f,array:i,spawn:p,reset:function(){i=[]}}},{}],4:[function(t,e){var i=t(8),n={};document.body.addEventListener("keydown",function(t){32===t.keyCode&&(i.flip(),t.preventDefault()),n[t.keyCode]=!0}),document.body.addEventListener("keyup",function(t){n[t.keyCode]=!1}),e.exports={left:function(){return n[37]},up:function(){return n[38]},right:function(){return n[39]},down:function(){return n[40]},flip:function(){return n[32]}}},{}],5:[function(t,e){var i=["astro.png","astro-flying.png","health-bar-icon.png","logo.png","power-bar-icon.png","power-icon.png","rock-5.png","rock-alt-5.png","rock-odd-1.png","rock-odd-3.png","text-credits.png","text-play.png"],n={},r=0,a=function(t){for(var e=0;e<i.length;e++)n[i[e]]=new Image,n[i[e]].src="images/"+i[e],n[i[e]].onload=function(){r++,r===i.length&&t()}};e.exports={list:i,images:n,done:a,get:function(t){for(var e=[],n=0;n<i.length;n++)-1!==i[n].indexOf(t)&&e.push(i[n]);return e}}},{}],6:[function(t,e){var i=t(5),n=t(10);e.exports={drawMenu:function(t){t.fillStyle="#0f0d20",t.fillRect(0,0,800,600),t.drawImage(i.images["logo.png"],314,180),t.drawImage(i.images["text-play.png"],333,300),t.drawImage(i.images["text-credits.png"],287,500)},drawEnd:function(t,e){t.fillStyle="#0f0d20",t.fillRect(0,0,800,600),n.write("The end! You scored "+Math.round(e)+" points!","center",300,function(){t.fillStyle="white",t.font="32pt Arial"}),n.write("Click to play again","center",500,function(){t.fillStyle="white",t.font="22pt Arial"})},ingame:function(t,e,n){t.drawImage(i.images["power-bar-icon.png"],30,500),t.fillStyle="orange",t.fillRect(30,490-e,20,e),t.drawImage(i.images["health-bar-icon.png"],70,500),t.fillStyle="red",t.fillRect(70,490-n,20,n)}}},{}],7:[function(t,e){var i=[],n=5,r=5,a=function(t,e,i,a){this.alive=!0,this.x=t,this.y=e,this.width=n,this.height=r,this.angle=i,this.speed=a,this.opacity=1,this.delay=Math.ceil(10*Math.random()),this.loop=function(t){return this.delay>0?(this.delay--,!1):(this.x+=Math.sin(-this.angle)*a,this.y+=Math.cos(-this.angle)*a,this.opacity-=.1,this.opacity<=0&&(this.opacity=0,this.alive=!1),t.save(),t.globalAlpha=this.opacity,t.translate(this.x,this.y),t.fillStyle="red",t.fillRect(0,0,n,r),void t.restore())}},o=0,h=function(t,e,n,r,h,s){for(var l=0;s>l;l++)(i[l]&&!i[l].alive||!i[l])&&(o=n-r+2*Math.random()*r,i[l]=new a(t,e,o,h))},s=function(t,e,n){for(var r=0;r<i.length;r++)i[r].loop(e,n)};e.exports={createParticles:h,draw:s,array:i}},{}],8:[function(t,e){var i=(t(11),document.querySelector("#game"));window.player={},player.idle=new Image,player.idle.src="images/astro.png",player.flying=new Image,player.flying.src="images/astro-flying.png",player.state="idle",player.fuel=100,player.health=100,player.score=0,player.width=52,player.height=60,player.x=(i.width-player.width)/2,player.y=(i.height-player.height)/2,player.angle=0,player.offsetX=player.offsetY=0;var n,r=player.width/2,a=player.height/2,o=0,h=0,s=0,l=7,p=10,f=2.2,m=.08;player.reset=function(){player.angle=player.offsetX=player.offsetY=h=s=o=n=0,player.health=player.fuel=100,player.move()},player.gravity=function(){s-=m},player.move=function(t,e){player.offsetX=h,player.offsetY=-s,h*=.99,s*=.99,e||(player.state="idle")},player.up=function(t){player.fuel-=.1,player.state="flying",o+=l,n=t*o,h+=Math.sin(player.angle)*n,s+=Math.cos(player.angle)*n,player.move(t,!0),o>p?o=p:-p>o&&(o=-p)},player.right=function(t){player.angle+=t*f*Math.PI},player.left=function(t){player.angle-=t*f*Math.PI},player.flip=function(){player.angle+=Math.PI},player.draw=function(t,e){e.save(),e.translate(player.x+r,player.y+a),e.rotate(player.angle),e.drawImage(player[player.state],-r,-a),e.restore()},e.exports=player},{}],9:[function(t,e){function i(t){return window.requestAnimationFrame(function(){var e=Date.now(),i=e-n;i>999?i=1/60:i/=1e3,n=e,t(i)})}var n=0;e.exports={start:function(t){return i(function e(n){t(n),i(e)})},stop:function(t){window.cancelAnimationFrame(t)}}},{}],10:[function(t,e){var i=document.getElementsByTagName("canvas")[0],n=i.getContext("2d");e.exports.write=function(t,e,r,a,o){a&&(n.save(),a(n));var h=e;"center"===e&&(h=(i.width-n.measureText(t).width)/2),o?n.strokeText(t,h,r):n.fillText(t,h,r),a&&n.restore()}},{}],11:[function(t,e){function i(){this.reset()}i.prototype.reset=function(){this.m=[1,0,0,1,0,0]},i.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=r,this.m[4]=a,this.m[5]=o},i.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,n=-this.m[2]*t,r=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=r,this.m[4]=a,this.m[5]=o},i.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.m[0]*e+this.m[2]*i,r=this.m[1]*e+this.m[3]*i,a=this.m[0]*-i+this.m[2]*e,o=this.m[1]*-i+this.m[3]*e;this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=o},i.prototype.translate=function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},i.prototype.scale=function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},i.prototype.transformPoint=function(t,e){var i=t,n=e;return t=i*this.m[0]+n*this.m[2]+this.m[4],e=i*this.m[1]+n*this.m[3]+this.m[5],[t,e]},e.exports=i},{}]},{},[1]);