for(_=`[2]~.forEach(^soundLib\\}function @==$gameCallback(#gridPositionste[1]),playWalkSound())[0].enemies.lengthe.innerHTML="<p>){tion(pause(funcdectionthis.,.endCharacrMove(a&&(randomRange(gameSta=SbjectslayerisPDecdBy	);return.style.display="currentEnergy=DHTMLSpri(SYS_spriParams)var ;break;case "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ffunction SfxrParams(setSettings=funcafor(c=0;24>c;c++)this[String.fromCharCode(97+c)]=a[c]||0;.01>cc=.01a=b+c+e;.18>aa=.18/a,b*=a,c*=a,e*=a)}@SfxrSynth(_params=new SfxrParams;a,c,b,d,f,h,k,m,n,p,q,u;reset=funca=_params;d=100/(a.f*a.f+.001f=100/(a.g*a.g+.001h=1-a.h*a.h*a.h*.01;k=-a.i*a.i*a.i*1E-6;a.a||(q=.5-a.n/2,u=5E-5*-a.om=1+a.l*a.l*(0<a.l?-.9:10n=0;p=1$a.m?0:(1-a.m)*(1-a.m)*2E4+32};totalReset=funcreset(d=_params;a=d.b*d.b*1E5;c=d.c*d.c*1E5;b=d.e*d.e*1E5+12; 3*((a+c+b)/3|0)};synthWave=funcy,ze=_params,N=1!=e.s||e.v,A=e.v*e.v*.1,O=1+3E-4*e.w,v=e.s*e.s*e.s*.1,X=1+1E-4*e.t,Y=1!=e.s,Z=e.x*e.x,aa=e.g,P=e.q||e.r,ba=e.r*e.r*e.r*.2,Q=e.q*e.q*(0>e.q?-1020:1020),R=e.p?((1-e.p)*(1-e.p)*2E4|0)+32:0,ca=e.d,S=e.j/2,da=e.k*e.k*.01,J=e.a,K=a,ea=1/a,fa=1/c,ha=1/b;e=5/(1+e.u*e.u*20)*(.01+v.8<ee=.8e=1-e;for(L=!1,T=0,C=0,D=0,U=0,H=0,E,F=0,r,w=0,x,M=0,g,V=0,B,W=0,I=Array(1024),G=Array(32),t=I;t--;)I[t]=0;for(t=G;t--;)G[t]=2*Math.random()-1;for(t=0;t<z;t++if(L) t;R&&++V>=RV=0,reset()p&&++n>=pp=0,d*=mh+=k;d*=h;d>fd=f,0<aaL=!0)r=d;0<SW+=da,r*=1+Math.sin(W)*Sr|=0;8>rr=8J||(q+=u,0>q?q=0:.5<qq=.5)if(++C>K)switch(C=0,++Tcase 1:K=c2:K=b}switch(Tcase 0:D=C*ea1:D=1+2*(1-C*fa)*ca2:D=1-C*ha3:D=0,L=!0}PQ+=ba,x=Q|0,0>x?x=-x:1023<xx=1023)N&&OA*=O,1E-5>A?A=1E-5:.1<AA=.1)B=0;for(ia=8;ia--;w++;if(w>=rw%=r,3$J))for(E=G;E--;)G[E]=2*Math.random()-1;switch(Jcase 0:g=w/r<q?.5:-.51:g=1-w/r*22:g=w/r;g=6.28318531*(.5<g?g-1:gg=1.27323954*g+.405284735*g*g*(0>g?1:-1g=.225*((0>g?-1:1)*g*g-g)+g3:g=G[Math.abs(32*w/r|0)]}NE=F,v*=X,0>v?v=0:.1<vv=.1),Y?(H+=(g-F)*v,H*=e):(F=g,H=0),F+=H,U+=F-E,g=U*=1-API[M%1024]=g,g+=I[(M-x+1024)%1024],M++B+=g}B*=.125*D*Z;y[t]=1<=B?32767:-1>=B?-32768:32767*B|0} z}}synth=new SfxrSynth;window.jsfxr=funcasynth._params.setSettings(ac=synth.totalReset(a=new Uint8Array(4*((c+1)/2|0)+44c=2*synth.synthWave(new Uint16Array(a.buffer,44),cb=new Uint32Array(a.buffer,0,44b[0]=1179011410;b=c+36;b~=1163280727;b[3]=544501094;b[4]=16;b[5]=65537;b[6]=44100;b[7]=88200;b[8]=1048578;b[9]=1635017060;b[10]=c;c+=44;b=0;for(d="data:audio/wav;base64,";b<c;b+=3f=a[b]<<16|a[b+1]<<8|a[b+2];d+=>>18]+>>12&63]+>>6&63]+&63]} d};function a,c Math.floor(Math.random()*(c-a))+a@pause(a,csetTimeout(a.bind(this),c)@rd(a Math.round(a)@css(a,cfor(b in c)a.style[b]=c[b]@crea(a,cb=document.creaElement(ac&&b.setAttribu("id",c b@remove(aa.parentNode.removeChild(a)@_(a document.getElementById(a)}DHTMLSpri=funcac=a.w,b=a.h,d=a.iW,f=a.t.appendChild(crea("div")),h=f.style,k=Math.floor,m=[],n=[],p=0,q=0,u=0,y=0;css(f,{position:"absolu",left:"-9999px",width:c+"px",height:b+"px",backgroundImage:"url("+a.img+")"}z={diff:funca,bp=a;q=b},aA:funcam=a},dw:funca,bh.left=a+"px";h.top=b+"px"},bI:funcay=a;z.cI(y)},cI:funcaa*=c;e=-k(a/d)*b;h.backgroundPosition=-a%d+"px "+e+"px"},cA:funcam[a]n=m[a])},i:func y},sh:funch.display="block"},hi:funch.display="none"},k:funcremove(f)},mv:funca,baz.cI(y+n[k(u)]),u+=a/1E3*m.v,u>=nu=0))},v:func m.v},dxy:func[p/500,q/500]}}; z},EPEM=0,EEEM=1,STS=2,SP=3,SS=4,SI=5,EPD=6,SG=7,EWD=8,SIM=9,IL=1,storyline="Scavenge for survival;Oops. I am not alone;Obstacles are the key;Some of them are short sighd;I can destroy obstacles too;Brown jackets are trouble;Each move counts;Harder than I thought;I ha Zetas;It's a long way to the top;What's the story, morning glory?;You still there, man?;Is there no end for this?;I don't think I can make it;There is a light that never goes out;I know: big mouth strikes again".split(";"),cagories="Burguer meat;Zombie fodder;Novice;Inexperienced;Second ra;Mediocre;Handy;Skilled;Old timer;Veran;Seasoned pro;Superb;Outstanding;Masr".split(";"),SYS_spriParams={w:32,h:32,iW:256,img:"s3.png",t:_("screen")},columns=8,rows=8,level=2,screen,score,title,oldTime,floorTiles=[31],wallTiles=[25,26,27,28,29,30],ourWallTiles=[21,22,23,24],foodTiles=[18,19],enemyTiles=[6,12],enemyHit=[20,30],enemyAI=[3,4],board=[],o=[],=[],=[],p,,ToMove=[],initialEnergy=25,,maxEnergy,isPMoving=!1,isPTurn=!0,	=null,isEnemyMoving=!1,animating=!1,gameIsOver=!1,IM,FRUIT_ENERGY=12,SODA_ENERGY=20,\\=[],raf=window.requestAnimationFrame,sounds=[[202665034572859995026,,-.0108,-.4073,,,,54371787558,908298091312,-.4545005500254],[31431093947030071,-.199934240685,-.28,0233,-.0799,0104440327022112,-.1832],[3,355325821909,2963,,,,,,,,3,-.0396,1,,,,18],[0,0878,45722507,2093,14373611,,5666,,,,,1,,,,3],[034262423,,1232146624,19299,,,-1,1,-.8,-.0433,-.02,,,-136],[3017190783427412551810587,-.109948403174421,-.4199566104900662124,-.8404,-.19553985,-.0415,0212,-.043932]];function initSound(sounds^funca,cb=jsfxr(a),d=new Audio;d.src=b;\\.push(d)})@init(=[];for(a=1;a<columns-1;a++)for(c=1;c<rows-1;c++)(1!=a&&2!=a||6!=c)1!=a&&2!=a||7!=c)0!=a&&1!=a&&2!=a||5!=c)&&.push([a,c]board=[];=[];object=[];c=_("screen").children;a=0;for(l=c;a<l;a++)c[a]&&c[a].parentNode&&c[a].parentNode.removeChild(c[a]for(a=-1;a<columns+1;a++)for(c=-1;c<rows+1;c++b;b.bI(floorTiles[0,floorTiles)]-1!$a&&a!$columns&&-1!$c&&c!$rows||b.bI(ourWallTiles[0,ourWallTiles)]board.push([b,a,c,"t"])}a;a.bI(20board.push([a,columns-1,0]o=layoutOAtRandom(wallTiles,5,10,"w"o=o.concat(layoutOAtRandom(foodTiles,1,5,"f")a=Math.log2(level)|0;=layoutOAtRandom(enemyTiles,a,a,"e",{i:[0,1,2,3,4,5],a:[28,29],v:4}a;a.cI(0a.aA({i:[0,1,2,3,4,5],a:[32,33],d:[38,39],v:6}a.cA("i"p=[a,0,rows-1,"p"];screen=_("screen"score=crea("div","score"scorenergy: "++"</p>";screen.appendChild(scorescore.upda=funcscorenergy: "++"</p>"}@drawIm(aadw((a+1)*SYS_spriParams.w,(a~+1)*SYS_spriParams.h)@launchDectIcon(a;a.bI(46a.aA({i:[1,0],v:8}a.cA("i"=[a,p+.5,p~-.5,"!"];k(=null},1E3\\play()@layoutOAtRandom(a,c,b,d,fc=c,b+1b=[];for(h=0;h<c;h++k=randomPosi),m,n=0,a),p=a[n];m.bI(pif("e"!$d)n=[m,k[0],k,d,2],"f"$=dn[4]=19$=p?FRUIT_ENERGY:SODA_ENERGY),b.push(nelse{q=Object.assign({},f12$pq.a=[24,25]m.aA(qm.cA("i"k=[m,k[0],k,d];if(6$p||12$p)k[4]=enemyHit[n],k[5]=enemyAI[n];k[3]=d;b.push(k)}} b@atmptMove(a,cb=a;"r"$c&&b++;"l"$c&&b--;d=a~;"u"$c&&d--;"d"$c&&d++;for(f=0;f<;f++)if([f]$b&&[f]~$d&&"f"!$[f][3])"n";for(f=0;f<o;f++)if(o[f]$b&&o[f]~$d) o[f]; p$b&&p~$d?p:"y"@damage(aa[4]--;1$a[4]&&acI(ai()+150>=a[4]a[3]="r",ak(),#EWD))@doAnima(a,canimating=!0;b=atmptMove(a,cif("n"$=b)else if("w"$=b[3]||"p"$=b[3]if("p"$=b[3]bcA("d"#EPD,a[4]d=!0;\\.play()}if("w"$=b[3]f=1,4if(	!=a&&2>f}damage(b\\~.play()}acA("a"acA("i"d&&bcA("i")},500)}else{f=a;h=a~;switch(ccase "l":0<af--,adiff(-1,0"r":a<columns-1f++,adiff(1,0"u":0<a~h--,adiff(0,-1"d":a~<rows-1h++,adiff(0,1},f,h)}@playWalkSound(\\[4].play()@randomPosia=0, .splice(a,1)[0]@decideMovement(ac=["l","r","u","d"],b="";Math.abs(a-p)+Math.abs(a~-p~)<=a[5]?(||	||(	=a,launchDectIcon()),a~>p~?b="u":a~<p~b="d"),""$=ba>p?b="l":a<pb="r"))):(b=c[0,c)],	$a	=null)doAnima(a,b)@checkCurrentTile(o^funca,cif(a$=p&&a~$=p~) +=a[4],\\[3].play(),o.splice(c,1),ak(),!1}if(p$=columns-1&&0$=p~)!0@checkMaxEnergy(maxEnergy<maxEnergy=)@checkGameOver(0>=gameIsOver=!0,G)@gameLoop(a=+new Da,c=a-oldTime;oldTime=a;switch(gameStacase SIM:titlROGUE SCAVENGER 13K</p>";screennone";titleblock";raf(gameLoop;case SI:gameIsOver=!1;	=null;=maxEnergy=initialEnergy;level=IL;init(TSSP:if(isPTurn&&!isPMoving)checkMaxEnergy(),checkGameOver(),handleKeys(else if(!isPTurn&&!isEnemyMovingb=ToMove.pop(b?(decideMovement(b)},250),isEnemyMoving=!0):isPTurn=!0}break;case STS:d=window.speechSynthesis;a=d.getVoices(),b=0;a^funca,c0<=a.lang.indexOf("en")&&"Google UK English Male"$a.nameb=c)}c=new SpeechSynthesisUtrance("Day "+level+". "+(storyline[level-1]||"")c.voice=a[b];c.pitch=.5;c.ra=.8;d.speak(c)},500titlDAY "+level+".</p><p class='small'>"+(storyline[level-1]||"")+"</p>";screennone";titleblock";S;init(screenblock";titlenone";P},2500)SG:a=level>=l?cagories[l-1]:cagories[level]||cagories[0],titlYou DIED</p><p class='small'>of starvation afr "+level+" days.<br/>You managed to have "+maxEnergy+" food.<br/>"+a+" scavenger.<br/><a href='https://twitr.com/innt/tweet?url=http://www.js13kgames.com/rogue-scavenger13k&xt="+("I died of starvation afr "+level+" days of zombie apocalypse. I am a "+a+" scavenger.")+"' target='_blank'>TWEET IT!</a></p>",screennone",titleblock",S}updaLoop(cdrawLoop(raf(gameLoop)@#a,cswitch(acase EPEM:--;checkCurrentTile()?(isPTurn=!0,isPMoving=!1,	=null,\\[5].play(),level++;TS},1E3)):isPMoving=isPTurn=!1;ToMove=.slice(0)},250score.upda()EEEM:isEnemyMoving=!1EPD:-=c;score.upda()EWD:for(b=0;b<o;b++)if("r"$=o[b][3]o.splice(b,1break}}@updaLoop(apmv(aif(animatingc=pdxy(p+=c[0]*a;p~+=c*a}^funcbbmv(aif(animatingc=bdxy(b+=c[0]*a;b~+=c*a}}&&mv(a)@handleKeys(isPMoving=!0;keys[0]?doAnima(p,"l"):keys~?doAnima(p,"r"):keys?doAnima(p,"u"):keys[3]?doAnima(p,"d"):isPMoving=!1@,c,banimating=!1;adiff(0,0ca=cba~=ba=rd(aa~=rd(a~"p"$a[3]?#EPEM):#EEEM)},500)@drawLoop(board^drawImo^drawIm^drawImdrawIm(p&&drawIm()@switchMusic(gainNode.gain.value=-1$gainNode.gain.value?-.84:-1}keys=[0,0,0,0];document.onkeyup=document.onkeydown=funcaa.preventDefault(c=a.keyCode-37;"keyup"$a.type?(keys[c]=0,40$c&&switchMusic()):keys[c]=1;gameIsOver&&pause(I,1E3)};title=_("title"screen=_("screen"initSound(I},500gameLoop(`;G=/[^ -"%-?A-[\]_-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)