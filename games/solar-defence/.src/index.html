<!doctype html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=0,user-scalable=no,minimal-ui,minimum-scale=1,maximum-scale=1"><style>#c,body,html{margin:0;padding:0;border:0;position:absolute}body,html{width:100%;height:100%}@media (min-aspect-ratio:16/9){#c{max-height:100%}}@media (max-aspect-ratio:16/9){#c{max-width:100%}}</style><title>Solar Defense</title><canvas id=c width=1920 height=1080></canvas><script>"use strict";let zzfx,zzfxV,zzfxX;zzfxV=.3,zzfx=(e=1,t=.05,z=220,n=0,f=0,a=.1,r=0,x=1,i=0,o=0,s=0,u=0,c=0,d=0,X=0,b=0,w=0,l=1,m=0,C=0)=>{let V=Math,h=44100,A=2*V.PI,B=i*=500*A/h/h,g=z*=(1-t+2*t*V.random(t=[]))*A/h,k=0,D=0,I=0,M=1,P=0,S=0,j=0,p,q;for(o*=500*A/h**3,X*=A/h,s*=A/h,u*=h,c=h*c|0,q=(n=h*n+9)+(m*=h)+(f*=h)+(a*=h)+(w*=h)|0;I<q;t[I++]=j)++S%(100*b|0)||(j=r?1<r?2<r?3<r?V.sin((k%A)**3):V.max(V.min(V.tan(k),1),-1):1-(2*k/A%2+2)%2:1-4*V.abs(V.round(k/A)-k/A):V.sin(k),j=(c?1-C+C*V.sin(A*I/c):1)*(0<j?1:-1)*V.abs(j)**x*e*zzfxV*(I<n?I/n:I<n+m?1-(I-n)/m*(1-l):I<n+m+f?l:I<q-w?(q-I-w)/a*l:0),j=w?j/2+(w>I?0:(I<q-w?1:(q-I)/w)*t[I-w|0]/2):j),p=(z+=i+=o)*V.cos(X*D++),k+=p-p*d*(1-1e9*(V.sin(I)+1)%2),M&&++M>u&&(z+=s,g+=s,M=0),!c||++P%c||(z=g,i=B,M=M||1);return(e=zzfxX.createBuffer(1,q,h)).getChannelData(0).set(t),(z=zzfxX.createBufferSource()).buffer=e,z.connect(zzfxX.destination),z.start(),z},zzfxX=new(window.AudioContext||webkitAudioContext)</script><script>!function(n){"use strict";function h(t,i,h,s){this.p=t,this.ce=window.document.createElement("canvas"),this.ce.width=512,this.ce.height=512;var e=this.ce.getContext("2d",null),a=Math.floor(512/i);e.fillStyle="#FFF";for(var n=0,l=i;n<l;)for(var r=a*n++,o=0,c=i;o<c;){var f=a*o++,u=h+Math.random()*s,d=u+Math.random()*(a-2*u),p=u+Math.random()*(a-2*u);e.beginPath(),e.arc(d+f,p+r,u,0,2*Math.PI),e.fill()}}h.prototype={update:function(t,i,h){var s=Math.ceil(t.canvas.width/512)+1,e=Math.ceil(t.canvas.height/512)+1,a=-i*this.p;a-=512*Math.ceil(a/512);var n=-h*this.p;n-=512*Math.ceil(n/512);for(var l=0,r=e;l<r;)for(var o=512*l++,c=0,f=s;c<f;){var u=c++;t.drawImage(this.ce,a+512*u,n+o)}}};function d(t,i,h,s){this.x=t,this.y=i,this.xs=h,this.ys=s,this.ttl=5,this.aabb=new f(t,i,10,10)}d.prototype={update:function(t,i){if(this.ttl-=i,this.ttl<0)return!1;this.x+=this.xs*i,this.y+=this.ys*i,this.aabb.x=this.x-5,this.aabb.y=this.y-5;for(var h=0,s=b.pl;h<s.length;){var e=s[h];if(++h,e.aabb.check(this.aabb)&&Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))<e.r+5){this.ttl=0;break}}for(h=0,s=b.eSwm;h<s.length;){var a=s[h];if(++h,a.checkHit(this)){this.ttl=0;break}}return t.fillStyle="#F00",t.beginPath(),t.arc(this.x,this.y,5,0,2*Math.PI),t.fill(),!0}};function g(){}g.init=function(t,i){g.keys=new o,t.onkeydown=g.onKeyDown,t.onkeyup=g.onKeyUp,i.onmousemove=g.onMouseMove,t.onmousedown=g.onMouseDown,t.onmouseup=g.onMouseUp,t.ontouchstart=g.onTouchStart,t.ontouchmove=g.onTouchMove,t.ontouchend=g.onTouchEnd,t.ontouchcancel=g.onTouchEnd,g.c=i},g.onKeyDown=function(t){g.keys.h[t.code]=!0,g.updateKeys()},g.onKeyUp=function(t){g.keys.h[t.code]=!1,g.updateKeys()},g.onMouseMove=function(t){g.mx=t.offsetX/g.c.clientWidth*g.c.width,g.my=t.offsetY/g.c.clientHeight*g.c.height},g.onMouseDown=function(t){g.trg=!0},g.onMouseUp=function(t){g.trg=!1,g.justReleased=!0},g.onTouchStart=function(t){for(var i=0,h=t.changedTouches;i<h.length;){var s=h[i];++i;var e=(s.clientX-g.c.offsetLeft)/g.c.clientWidth*g.c.width,a=(s.clientY-g.c.offsetTop)/g.c.clientHeight*g.c.height;e<g.c.width/2?null==g.leftTouch&&(g.leftTouch={id:s.identifier,sx:e,sy:a,cx:e,cy:a}):null==g.rightTouch&&(g.rightTouch={id:s.identifier,sx:e,sy:a,cx:e,cy:a})}},g.onTouchMove=function(t){for(var i=0,h=t.changedTouches;i<h.length;){var s,e=h[i];if(++i,null!=g.leftTouch&&g.leftTouch.id==e.identifier)s=g.leftTouch;else{if(null==g.rightTouch||g.rightTouch.id!=e.identifier)continue;s=g.rightTouch}s.cx=(e.clientX-g.c.offsetLeft)/g.c.clientWidth*g.c.width,s.cy=(e.clientY-g.c.offsetTop)/g.c.clientHeight*g.c.height,g.mx=s.cx,g.my=s.cy,g.mTouch=e.identifier}},g.onTouchEnd=function(t){for(var i=0,h=t.changedTouches;i<h.length;){var s=h[i];++i,null!=g.leftTouch&&g.leftTouch.id==s.identifier&&(g.leftTouch=null,g.acc=0),null!=g.rightTouch&&g.rightTouch.id==s.identifier&&(g.rightTouch=null,g.trg=!1),s.identifier==g.mTouch&&(g.justReleased=!0)}},g.updateKeys=function(){var t=0,i=0;(g.keys.h.KeyW||g.keys.h.ArrowUp)&&--i,(g.keys.h.KeyS||g.keys.h.ArrowDown)&&++i,(g.keys.h.KeyA||g.keys.h.ArrowLeft)&&--t,(g.keys.h.KeyD||g.keys.h.ArrowRight)&&++t,g.acc=0!=t||0!=i?1:0,g.dir=Math.atan2(i,t)},g.update=function(){var t,i;null==g.rightTouch?(t=(b.p.x-b.v.x)*b.zoom,i=(b.p.y-b.v.y)*b.zoom,g.aim=Math.atan2(g.my-i,g.mx-t)):(g.aim=Math.atan2(g.rightTouch.cy-g.rightTouch.sy,g.rightTouch.cx-g.rightTouch.sx),g.trg=Math.sqrt(Math.pow(g.rightTouch.cx-g.rightTouch.sx,2)+Math.pow(g.rightTouch.cy-g.rightTouch.sy,2))>g.deadZone),null!=g.leftTouch&&(Math.sqrt(Math.pow(g.leftTouch.cx-g.leftTouch.sx,2)+Math.pow(g.leftTouch.cy-g.leftTouch.sy,2))>g.deadZone?g.acc=1:g.acc=0,g.dir=Math.atan2(g.leftTouch.cy-g.leftTouch.sy,g.leftTouch.cx-g.leftTouch.sx))},g.reset=function(){g.justReleased=!1};function t(){this.done=!0,this.cb=null,this.i=!0,this.t=1,this.d=1}t.prototype={update:function(t,i){this.t+=t,this.t>this.d&&!this.done&&(this.done=!0,null!=this.cb&&this.cb()),this.t>this.d&&(this.t=this.d);t=this.t/this.d;0<(t=this.i?1-t:t)&&(i.fillStyle="#000",i.globalAlpha=t,i.fillRect(0,0,i.canvas.width,i.canvas.height),i.globalAlpha=1)},start:function(t,i,h){this.d=t,this.i=i,this.cb=h,this.t=0,this.done=!1}};var b=function(){};b.i=function(t,i){b.c=t,b.img=i,b.restartRegion=new f(.33*t.canvas.width,.69*t.canvas.height,.34*t.canvas.width,.12*t.canvas.height)},b.r=function(){b.p=new l,b.pBlt=[],b.eSwm=[],b.pl=[];var t=new y(0,0,1e3,7e5,"#FEE",0);b.pl.push(t);var i=new y(1500,-1500,300,5e4,"#888",3);i.orbit(t,.010466666666666668),b.pl.push(i);i=new y(3e3,3e3,600,2e5,"#0F8",5);i.orbit(t,-.005233333333333334),b.pl.push(i);i=new y(-4500,4500,900,3e5,"#F88",8);i.orbit(t,.00314),b.pl.push(i);i=new y(-4500,-4500,500,3e4,"#FF8",4);i.orbit(t,.00314),b.pl.push(i);i=new y(7e3,-7e3,900,3e5,"#08F",10);i.orbit(t,.0008722222222222223),b.pl.push(i);t=new y(6e3,-6e3,200,1e4,"#808",2);t.orbit(i,.017444444444444446),b.pl.push(t),b.v=new f(0,0,b.c.canvas.width,b.c.canvas.height);i=b.pl[Math.ceil(Math.random()*(b.pl.length-1))],t=Math.random()*(2*Math.PI);b.p.x=i.x+Math.cos(t)*i.r,b.p.y=i.y+Math.sin(t)*i.r;i=b.c.canvas.height/6;b.minimap=new e(b.c.canvas.width-i,i,i,13e3),b.bg=[new h(.01,10,1,1),new h(.02,5,1,2)],b.tut=[new a(["Move:","W,A,S,D / ←,→,↑,↓","or","👆 (left side)"],0,0,b.c.canvas.width/2,b.c.canvas.height),new a(["Shoot:","🖰","or","👆 (right side)"],b.c.canvas.width/2,0,b.c.canvas.width/2,b.c.canvas.height)],k.reset(),b.statsText=null,b.gameOver=!1,b.msk.start(.5,!0),b.restartTimer=0,b.spawnTimer=0,b.spawnSize=1},b.u=function(t){if(b.spawnTimer-=t,b.spawnTimer<0){for(var i=[],h=0,s=b.pl;h<s.length;){var e=s[h];++h,0<e.alive&&!b.ist(e)&&i.push(e)}L.shuffle(i);for(h=0;h<i.length;){var a=i[h];++h;var n=Math.atan2(a.y,a.x),l=13e3*Math.cos(n),r=13e3*Math.sin(n),n=60*Math.sqrt(b.spawnSize);if(null!=(w=new S(Math.floor(b.spawnSize),l,r,n,n))){w.infTarget=a,b.eSwm.push(w);break}}b.spawnTimer=10+10*Math.random(),b.spawnSize=Math.min(b.spawnSize+.3,10)}k.time+=t,b.c.fillStyle="#000",b.c.fillRect(0,0,b.c.canvas.width,b.c.canvas.height),b.bg[0].update(b.c,b.v.cX(),b.v.cY()),b.bg[1].update(b.c,b.v.cX(),b.v.cY()),b.v.w=b.c.canvas.width/b.zoom,b.v.h=b.c.canvas.height/b.zoom;var o=b.v.x+b.v.w/2,c=b.v.y+b.v.h/2,f=Math.sqrt(Math.pow(b.p.x-o,2)+Math.pow(b.p.y-c,2)),u=100/b.zoom;u<f&&(y=Math.atan2(b.p.y-c,b.p.x-o),x=f-u,b.v.x+=Math.cos(y)*x,b.v.y+=Math.sin(y)*x),b.zoom!=b.zt&&(M=.25*t,Math.abs(b.zoom-b.zt)<M?b.zoom=b.zt:b.zoom+=b.zoom>b.zt?-M:M),b.c.save(),b.c.scale(b.zoom,b.zoom),b.c.translate(-b.v.x,-b.v.y);for(h=0,s=b.pl;h<s.length;){e=s[h];++h,e.update(t,b.c)}for(var d=null,h=0,s=b.pBlt;h<s.length;){e=s[h];++h,e.update(b.c,t)||(d=e)}T.remove(b.pBlt,d),b.p.update(t,b.c);for(d=null,h=0,s=b.eSwm;h<s.length;){var p=s[h];++h,p.update(t,b.c)||(d=p)}null!=d&&(k.swarmsKilled++,T.remove(b.eSwm,d));for(d=null,h=0,s=b.ptcl;h<s.length;){e=s[h];++h,e.update(t,b.c)||(d=e)}if(null!=d&&T.remove(b.ptcl,d),b.c.restore(),b.minimap.update(b.c),b.msk.update(t,b.c),b.gameOver){b.c.font="48px sans-serif",b.c.fillStyle="#FFF";b.c.fillText("Game Over",b.c.canvas.width/2-b.c.measureText("Game Over").width/2,94),b.c.font="32px sans-serif";for(var v=-1,y=48*b.statsText.length,h=0,s=b.statsText;h<s.length;){var w=s[h];++h,v=Math.max(v,b.c.measureText(w).width)}for(var M,x,m=b.c.canvas.height/2-y/2,h=0,s=b.statsText;h<s.length;){w=s[h];++h,b.c.fillText(w,b.c.canvas.width/2-v/2,m),m+=48}1<b.restartTimer?(x=b.restartRegion,M=g.my,x=!((y=g.mx)<x.x||y>x.x+x.w||M<x.y||M>x.y+x.h),b.c.font="48px sans-serif",b.c.fillStyle="#FFF",b.c.fillText(u=x?"-RESTART-":"RESTART",b.c.canvas.width/2-b.c.measureText(u).width/2,.75*b.c.canvas.height),g.justReleased&&x&&z.restart()):b.restartTimer+=t}b.tutStage<2&&((0==b.tutStage&&0<g.acc||1==b.tutStage&&g.trg)&&(b.tutProg+=t),b.tut[b.tutStage].update(t,b.c),1<b.tutProg&&(b.tutProg=0,b.tutStage++))},b.ist=function(t,i){null==i&&(i=!0);for(var h=0,s=b.eSwm;h<s.length;){var e=s[h];if(++h,e.inf==t||e.infTarget==t&&i)return!0}return!1},b.respawn=function(){b.msk.start(.5,!1,function(){for(var t,i,h=[],s=0,e=b.pl;s<e.length;){var a=e[s];++s,0<a.alive&&!b.ist(a,!1)&&h.push(a)}0<h.length?(b.p=new l,L.shuffle(h),t=h[0],i=Math.random()*(2*Math.PI),b.p.x=t.x+Math.cos(i)*t.r,b.p.y=t.y+Math.sin(i)*t.r,b.msk.start(.5,!0)):(b.gameOver=!0,null==b.statsText&&(b.statsText=k.makeText()))})};var T=function(){};T.remove=function(t,i){i=t.indexOf(i);return-1!=i&&(t.splice(i,1),!0)},T.now=function(){return Date.now()};var z=function(){};z.main=function(){z.e=window.document.getElementById("c"),z.c=z.e.getContext("2d",null),window.document.body.onresize=z.onResize,z.onResize(),z.restart(),window.onfocus=function(t){z.f=!0},new m(z.r.img,z.init),window.requestAnimationFrame(z.update)},z.init=function(t){b.i(z.c,t),s.loaded=!0},z.onResize=function(){var t=Math.floor((window.document.body.clientWidth-z.e.clientWidth)/2),i=Math.floor((window.document.body.clientHeight-z.e.clientHeight)/2);z.e.style.left=t+"px",z.e.style.top=i+"px"},z.update=function(t){z.f&&(z.l=t-1,z.f=!1),z.playing?(g.update(),b.u((t-z.l)/1e3),g.reset()):s.u((t-z.l)/1e3,z.c),z.l=t,window.requestAnimationFrame(z.update)},z.restart=function(){z.playing=!1,s.i(z.e),s.startCallback=function(){s.startCallback=null,g.init(window,z.e),z.playing=!0,b.r()}};var s=function(){};s.i=function(t){s.c=t,s.bg=[new h(.01,10,1,1),new h(.02,5,1,2)],s.playRegion=new f(.37*t.width,.6*t.height,.26*t.width,.1*t.height),s.fullRegion=new f(.37*t.width,.77*t.height,.26*t.width,.1*t.height),t.onmousemove=s.onMouseMove,t.onclick=s.onClick,s.msk.start(.5,!0,function(){s.active=!0})},s.u=function(t,i){i.fillStyle="#000",i.fillRect(0,0,i.canvas.width,i.canvas.height),s.bg[0].update(i,0,0),s.bg[1].update(i,0,0),i.font="bold 128px sans-serif",i.fillStyle="#F00";var h="SOLAR DEFENCE";i.fillText(h,i.canvas.width/2-i.measureText(h).width/2,.25*i.canvas.height+128),i.font="bold 48px sans-serif",i.fillStyle="#F00",h=s.playOver?"-PLAY-":"PLAY",s.loaded||(h="Loading..."),i.fillText(h,i.canvas.width/2-i.measureText(h).width/2,.67*i.canvas.height),i.font="bold 48px sans-serif",i.fillStyle="#F00",h=s.fullOver?"-FULL SCREEN-":"FULL SCREEN",i.fillText(h,i.canvas.width/2-i.measureText(h).width/2,.84*i.canvas.height),s.msk.update(t,i)},s.onMouseMove=function(t){var i,h;s.active&&(i=t.offsetX/s.c.clientWidth*s.c.width,h=t.offsetY/s.c.clientHeight*s.c.height,t=s.playRegion,s.playOver=!(i<t.x||i>t.x+t.w||h<t.y||h>t.y+t.h),t=s.fullRegion,s.fullOver=!(i<t.x||i>t.x+t.w||h<t.y||h>t.y+t.h))},s.onClick=function(t){var i,h;s.active&&(i=t.offsetX/s.c.clientWidth*s.c.width,h=t.offsetY/s.c.clientHeight*s.c.height,i<(t=s.fullRegion).x||i>t.x+t.w||h<t.y||h>t.y+t.h?i<(t=s.playRegion).x||i>t.x+t.w||h<t.y||h>t.y+t.h||!s.loaded||(s.active=!1,s.msk.start(.5,!1,s.startCallback)):window.document.body.requestFullscreen())};var e=function(t,i,h,s){this.x=t,this.y=i,this.r=h,this.ratio=h/s,this.iconSize=Math.round(.15*h)};e.prototype={update:function(t){t.fillStyle="#AAA",t.beginPath(),t.arc(this.x,this.y,this.r+16,0,2*Math.PI),t.fill(),t.fillStyle="#000",t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.fill();for(var i=0,h=b.pl;i<h.length;){var s=h[i];++i;var e=Math.max(s.r*this.ratio,5);t.fillStyle=s.c,t.beginPath(),t.arc(this.x+s.x*this.ratio,this.y+s.y*this.ratio,e,0,2*Math.PI),t.fill(),s.alive<=0&&s.hasDomes()&&(t.fillStyle="#FFF",t.font="bold "+this.iconSize+"px sans-serif",a=t.measureText("☠").width/2,t.fillText("☠",this.x+s.x*this.ratio-a,this.y+s.y*this.ratio+a))}this.drawTriangle(t,this.x+b.p.x*this.ratio,this.y+b.p.y*this.ratio,8,"#0F0"),t.fillStyle="#F00",t.font="bold "+this.iconSize+"px sans-serif";for(var a=t.measureText("⚔").width/2,i=0,h=b.eSwm;i<h.length;){var n=h[i];++i,null!=n.inf?t.fillText("⚔",this.x+n.aabb.cX()*this.ratio-a,this.y+n.aabb.cY()*this.ratio+a):this.drawTriangle(t,this.x+n.aabb.cX()*this.ratio,this.y+n.aabb.cY()*this.ratio,8,"#F00")}},drawTriangle:function(t,i,h,s,e){t.fillStyle=e,t.beginPath(),t.moveTo(i,h-s),t.lineTo(i+s,h+s),t.lineTo(i-s,h+s),t.lineTo(i,h-s),t.fill()}};var l=function(){this.deadTime=0,this.hitCli=new c,this.alive=!0,this.scd=0,this.ys=0,this.xs=0,this.y=0,this.x=0,this.spr=b.img.h.player,this.gunSpr=b.img.h.gun};l.prototype={update:function(t,i){if(!this.alive)return this.deadTime+=t,void(3<this.deadTime&&this.deadTime<100&&(b.respawn(),this.deadTime=100));var h=0,s=0,e=null,a=.7;this.pNear=null;for(var n=0,l=b.pl;n<l.length;){var r=l[n];++n;var o=r.x-this.x,c=r.y-this.y,f=Math.atan2(c,o),o=Math.sqrt(Math.pow(o,2)+Math.pow(c,2)),c=1e3*r.m/Math.pow(o,2);h+=Math.cos(f)*c,s+=Math.sin(f)*c;c=o-r.r;c<=0&&(e=r),o-r.r<900&&(a=1),(null==this.pNear||c<this.pNearDist)&&(this.pNearDist=c,this.pNear=r)}this.xs+=h*t,this.ys+=s*t,b.zt=a;var r=e,f=Math.atan2(this.ys,this.xs),u=Math.sqrt(Math.pow(this.xs,2)+Math.pow(this.ys,2)),u=Math.min(u,600);this.xs=Math.cos(f)*u,this.ys=Math.sin(f)*u,null!=r&&(u=Math.atan2(this.y-r.y,this.x-r.x),this.x=r.x+Math.cos(u)*r.r,this.y=r.y+Math.sin(u)*r.r,this.xs=r.xs,this.ys=r.ys,699999<r.m&&this.die()),0<g.acc&&(h=Math.cos(g.dir)*g.acc*800,s=Math.sin(g.dir)*g.acc*800,this.xs+=h*t,this.ys+=s*t),this.x+=this.xs*t,this.y+=this.ys*t,this.hitCli.circle.set(this.x,this.y,12),this.scd=0<this.scd?this.scd-t:0,g.trg&&this.scd<=0&&(this.scd=.15,zzfx(1.02,.05,399,.01,0,.02,1,1.98,0,.3,0,0,0,0,7,0,0,.71,.02,0),t=g.aim-.098125+.19625*Math.random(),t=new d(this.x,this.y,600*Math.cos(t),600*Math.sin(t)),b.pBlt.push(t),k.shotsFired++),this.pNearDist<50&&(f=Math.atan2(this.y-this.pNear.y,this.x-this.pNear.x)),i.save(),i.translate(this.x,this.y),i.rotate(f+Math.PI/2),i.drawImage(this.spr,-20,-20,40,40),i.rotate(g.aim+Math.PI/2-(f+Math.PI/2)),i.drawImage(this.gunSpr,-20,-20,40,40),i.restore()},checkHit:function(t){this.alive&&(this.hitCli.line.copy(t),this.hitCli.update()&&this.die())},die:function(){this.alive=!1,zzfx(1.28,.05,606,0,.39,.96,3,2.6,0,0,0,0,0,.7,0,.8,.18,.89,0,.06);var t=new w(this.x,this.y);b.ptcl.push(t),k.timesKilled++}};var k=function(){};k.reset=function(){k.time=0,k.swarmsKilled=0,k.enemiesKilled=0,k.timesKilled=0,k.shotsFired=0},k.makeText=function(){var t=Math.floor(k.time/60);return["Time Survived: "+t+":"+Math.floor(k.time-60*t),"Swarms Defeated: "+k.swarmsKilled,"Total Enemies Killed: "+k.enemiesKilled,"Times Killed: "+k.timesKilled,"Shots Fired: "+k.shotsFired]};var a=function(t,i,h,s,e){this.th=-1,this.tw=-1,this.time=0,this.text=t,this.d=new f(i,h,s,e)};a.prototype={update:function(t,i){if(this.time+=t,i.globalAlpha=Math.min(1,this.time/.5),i.font="42px sans-serif",i.fillStyle="#FFF",-1==this.tw){for(var h=0,s=this.text;h<s.length;){var e=s[h];++h,this.tw=Math.max(this.tw,i.measureText(e).width)}this.th=48*this.text.length}for(var a=this.d.y+this.d.h/2-this.th/2,h=0,s=this.text;h<s.length;){e=s[h];++h,i.fillText(e,this.d.x+this.d.w/2-this.tw/2,a),a+=48}i.globalAlpha=1}};function r(t,i,h,s){this.dir=0,this.fireSnd=!0,this.laserLine=new u,this.fireDist=1e3,this.fireDir=0,this.fire=0,this.fcd=2,this.engaged=!1,this.ya=0,this.xa=0,this.ys=0,this.xs=0,this.x=t,this.y=i,this.health=h,this.swrm=s,this.aabb=new f(t,i,40,40),this.spr=b.img.h.enemy}r.prototype={update:function(t,i){if(this.health<=0)return!1;var h,s,e,a,n,l,r,o,c;this.xs*=.9,this.ys*=.9,this.engaged?(s=Math.sqrt(Math.pow(b.p.x-this.x,2)+Math.pow(b.p.y-this.y,2)),this.dir=Math.atan2(b.p.y-this.y,b.p.x-this.x),400<s?(this.xa=2e3*Math.cos(this.dir),this.ya=2e3*Math.sin(this.dir)):(this.xa=0,this.ya=0),s<600&&(this.shoot(b.p.x+.75*b.p.xs,b.p.y+.75*b.p.ys,t),this.fireDist=600),b.p.alive||(this.engaged=!1)):null!=this.swrm.inf?(e=(s=Math.sqrt(Math.pow(this.swrm.inf.x-this.x,2)+Math.pow(this.swrm.inf.y-this.y,2))-this.swrm.inf.r)-(200+this.swrm.inf.r),h=this.swrm.inf.getClosestDome(this.x,this.y),400<e||null==h?(this.dir=Math.atan2(this.swrm.inf.y-this.y,this.swrm.inf.x-this.x),this.xa=2e3*Math.cos(this.dir),this.ya=2e3*Math.sin(this.dir)):(s=Math.sqrt(Math.pow(h.ex-this.x,2)+Math.pow(h.ey-this.y,2)),a=Math.atan2(h.ey-this.y,h.ex-this.x),n=this.x,l=this.y,e=h.aabb.cX(),this.dir=Math.atan2(h.aabb.cY()-l,e-n),20<s?(this.xa=2e3*Math.cos(a),this.ya=2e3*Math.sin(a)):(this.xa=0,this.ya=0,this.xs=this.swrm.inf.xs,this.ys=this.swrm.inf.ys,n=this.x,l=this.y,e=h.aabb.cX(),a=h.aabb.cY(),this.fireDist=Math.sqrt(Math.pow(e-n,2)+Math.pow(a-l,2)),this.shoot(h.aabb.cX(),h.aabb.cY(),t),0<this.fire&&this.fire<.5&&(a=0<h.h,h.h-=2*t,!a||0<h.h||(n=h.aabb.cX(),l=h.aabb.cY(),o=Math.sqrt(Math.pow(b.p.x-n,2)+Math.pow(b.p.y-l,2)),null==(c=L.cap(400/o))&&(c=1),zzfx(1.28*c,.05,606,0,.39,.96,3,2.6,0,0,0,0,0,.7,0,.8,.18,.89,0,.06),r=new w(h.aabb.cX(),h.aabb.cY()),b.ptcl.push(r)))))):(this.dir=Math.atan2(this.swrm.infTarget.y-this.y,this.swrm.infTarget.x-this.x),this.xa=2e3*Math.cos(this.dir),this.ya=2e3*Math.sin(this.dir),Math.sqrt(Math.pow(this.swrm.infTarget.x-this.x,2)+Math.pow(this.swrm.infTarget.y-this.y,2))<100+this.swrm.infTarget.r&&((r=this.swrm).inf=this.swrm.infTarget,r.infTarget=null)),0<this.fire&&(this.fire-=t,this.laserLine.a.set(this.x,this.y),this.laserLine.b.set(this.x+Math.cos(this.fireDir)*this.fireDist,this.y+Math.sin(this.fireDir)*this.fireDist),.5<this.fire?(i.strokeStyle="#F00",i.lineWidth=1,this.fireSnd=!0):(i.strokeStyle="#F00",i.lineWidth=3,b.p.checkHit(this.laserLine),this.fireSnd&&(o=Math.sqrt(Math.pow(b.p.x-this.x,2)+Math.pow(b.p.y-this.y,2)),null==(c=L.cap(400/o))&&(c=1),zzfx(1.99*c,.05,152,0,.19,.05,3,.62,52,0,0,0,0,0,215,0,.23,1,0,.05),this.fireSnd=!1)),this.dir=this.fireDir,i.beginPath(),i.moveTo(this.x,this.y),i.lineTo(this.laserLine.b.x,this.laserLine.b.y),i.stroke());for(var f=null,u=0,d=b.pl;u<d.length;){var p=d[u];++u,Math.sqrt(Math.pow(p.x-this.x,2)+Math.pow(p.y-this.y,2))<100+p.r&&(f=p)}null!=f&&(v=Math.atan2(this.y-f.y,this.x-f.x),this.xa=2e3*Math.cos(v),this.ya=2e3*Math.sin(v));for(u=this.swrm.member.indexOf(this)+1,d=this.swrm.member.length;u<d;){var v,y=u++,y=this.swrm.member[y];Math.sqrt(Math.pow(this.x-y.x,2)+Math.pow(this.y-y.y,2))<120&&(v=Math.atan2(this.y-y.y,this.x-y.x),this.xa+=2e3*Math.cos(v),this.ya+=2e3*Math.sin(v))}return this.xs+=this.xa*t,this.ys+=this.ya*t,this.x+=this.xs*t,this.y+=this.ys*t,this.aabb.x=this.x-20,this.aabb.y=this.y-20,b.v.check(this.aabb)&&(i.save(),i.translate(this.x,this.y),i.rotate(this.dir+Math.PI/2),i.drawImage(this.spr,-20,-20,this.aabb.w,this.aabb.h),i.restore()),!0},shoot:function(t,i,h){this.fcd-=h,this.fcd<0&&(this.fire=1,this.fireDir=Math.atan2(i-this.y,t-this.x),this.fcd=2*Math.random()+2)},check:function(t){return!!(0<this.health&&this.aabb.check(t.aabb)&&Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))<25)&&(this.health--,this.health<=0?(zzfx(1,.05,188,0,.12,.21,4,2.23,0,.3,0,0,0,1,0,.7,0,.9,.08,.03),t=new w(this.x,this.y),b.ptcl.push(t),k.enemiesKilled++):zzfx(1.15,.05,628,0,.01,.17,4,1.57,0,-47,402,.02,0,0,72,.5,0,.04,.01,0),this.engaged||this.swrm.engage(),!0)}};var S=function(t,i,h,s,e){this.inView=!1,this.oov=6,this.alive=0,this.infTarget=null,this.inf=null,this.member=[],this.aabb=new f(i,h,100,100);for(var a=0,n=t;a<n;){a++;var l=new r(i+Math.random()*s,h+Math.random()*e,3,this);this.member.push(l)}this.alive=t};S.prototype={update:function(t,i){if(0==this.alive)return!1;if(5<this.oov){var h,s;this.inView&&null==this.inf&&(this.aabb.w=60*Math.sqrt(this.member.length),this.aabb.h=this.aabb.w),null!=this.inf&&(this.aabb.x=this.inf.x-(this.inf.r+200),this.aabb.y=this.inf.y-(this.inf.r+200),this.aabb.w=2*this.inf.r+400,this.aabb.h=this.aabb.w),null!=this.infTarget&&(s=this.aabb.cX(),h=this.aabb.cY(),s=Math.atan2(this.infTarget.y-h,this.infTarget.x-s),this.aabb.x+=400*Math.cos(s)*t,this.aabb.y+=400*Math.sin(s)*t,this.aabb.check(this.infTarget.aabb)&&(this.inf=this.infTarget,this.infTarget=null)),this.inView=!1}else{if(!this.inView){if(null==this.inf)for(var e=Math.floor(Math.sqrt(this.member.length)),a=0,n=0,l=0,r=this.member;l<r.length;){var o=r[l];++l,o.x=this.aabb.x+60*a,o.y=this.aabb.y+60*n,e<++a&&(++n,a=0)}else for(var c=2*Math.PI/this.alive,f=0,l=0,r=this.member;l<r.length;){o=r[l];++l,o.x=this.inf.x+Math.cos(f)*(this.inf.r+200),o.y=this.inf.y+Math.sin(f)*(this.inf.r+200),f+=c}this.inView=!0}for(l=this.alive=0,r=this.member;l<r.length;){o=r[l];++l,o.update(t,i)&&(this.alive++,1==this.alive?this.aabb.copy(o.aabb):this.aabb.add(o.aabb))}}return this.oov=b.v.check(this.aabb)?0:this.oov+t,0<this.alive},checkHit:function(t){if(this.aabb.check(t.aabb))for(var i=0,h=this.member;i<h.length;){var s=h[i];if(++i,s.check(t))return!0}return!1},engage:function(){for(var t=0,i=this.member;t<i.length;){var h=i[t];++t,h.engaged=!0}}};var o=function(){this.h=Object.create(null)},f=function(t,i,h,s){null==s&&(s=0),null==h&&(h=0),null==i&&(i=0),this.x=t=null==t?0:t,this.y=i,this.w=h,this.h=s};f.prototype={check:function(t){return!(this.x>t.x+t.w||t.x>this.x+this.w||this.y>t.y+t.h||t.y>this.y+this.h)},copy:function(t){this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h},add:function(t){this.addR(t.x,t.y,t.w,t.h)},addC:function(t,i,h){this.addR(t-h,i-h,2*h,2*h)},addR:function(t,i,h,s){var e=Math.min(this.x,t),a=Math.min(this.y,i);this.w=Math.max(this.x+this.w,t+h)-e,this.h=Math.max(this.y+this.h,i+s)-a,this.x=e,this.y=a},cX:function(){return this.x+this.w/2},cY:function(){return this.y+this.h/2}};function i(t,i,h){null==h&&(h=0),this.c=new p(t=null==t?0:t,i=null==i?0:i),this.r=h}i.prototype={set:function(t,i,h){null==h&&(h=0),this.c.set(t=null==t?0:t,i=null==i?0:i),this.r=h}};var c=function(){this.circle=new i,this.line=new u,this.first=new p,this.second=new p};c.prototype={update:function(){this.firstIntersect=!1,this.secondIntersect=!1;var t,i=0,h=0,s=0,e=0,a=this.circle.c.x,n=this.circle.c.y,l=this.circle.r,r=this.line.a.x-a,o=this.line.a.y-n,c=this.line.b.x-this.line.a.x,f=this.line.b.y-this.line.a.y,u=c*c+f*f,d=2*(r*c+o*f),l=d*d-4*u*(r*r+o*o-l*l);return 0==l?0<=(t=-d/(2*u))&&t<=1&&(i=a+r+c*t,h=n+o+f*t,this.firstIntersect=!0):0<l&&(a+=r,n+=o,(o=0<=(t=(-d+(l=Math.sqrt(l)))/(2*u))&&t<=1)&&(i=a+c*t,h=n+f*t,this.firstIntersect=!0),0<=(t=(-d-l)/(2*u))&&t<=1&&(o?(s=a+c*t,e=n+f*t,this.secondIntersect=!0):(i=a+c*t,h=n+f*t,this.firstIntersect=!0))),this.first.x=i,this.first.y=h,this.second.x=s,this.second.y=e,this.hasIntersect()},hasIntersect:function(){return!!this.firstIntersect||this.secondIntersect}};var L=function(){};L.shuffle=function(t){for(var i=t.length;0!=i;){var h=Math.floor(Math.random()*i),s=t[--i],e=t[h];t[i]=e,t[h]=s}},L.cap=function(t,i,h){return null==h&&(h=1),t<(i=null==i?0:i)?i:h<t?h:t};var u=function(t,i,h,s){null==s&&(s=0),null==h&&(h=0),this.a=new p(t=null==t?0:t,i=null==i?0:i),this.b=new p(h,s)};u.prototype={copy:function(t){this.a.copy(t.a),this.b.copy(t.b)}};var p=function(t,i){null==i&&(i=0),this.x=t=null==t?0:t,this.y=i};p.prototype={set:function(t,i){this.x=t,this.y=i},copy:function(t){this.x=t.x,this.y=t.y}};function v(t,i){this.ey=0,this.ex=0,this.h=5,this.p=t,this.d=i,this.aabb=new f(0,0,100,100),this.spr=b.img.h.dome}v.prototype={update:function(t,i){var h=this.p.x+Math.cos(this.d)*this.p.r,s=this.p.y+Math.sin(this.d)*this.p.r;this.aabb.x=h-50,this.aabb.y=s-50,this.ex=this.p.x+Math.cos(this.d)*(this.p.r+200),this.ey=this.p.y+Math.sin(this.d)*(this.p.r+200),b.v.check(this.aabb)&&0<this.h&&i.drawImage(this.spr,h-50,s-50,100,100)}};var y=function(t,i,h,s,e,a){null==a&&(a=3),this.alive=0,this.domes=[],this.x=t,this.y=i,this.r=h,this.m=s,this.c=e,this.aabb=new f(t-h-50,i-h-50,2*h+100,2*h+100),this.xs=0,this.ys=0;for(var n=2*Math.PI/a,l=.5*n,r=0,o=a;r<o;){var c=n*r+++Math.random()*l;this.domes.push(new v(this,c))}this.alive=a};y.prototype={update:function(t,i){null!=this.ot&&(this.oa+=this.ov*t,this.xs=this.x,this.ys=this.y,this.x=this.ot.x+Math.cos(this.oa)*this.od,this.y=this.ot.y+Math.sin(this.oa)*this.od,this.xs=(this.x-this.xs)/t,this.ys=(this.y-this.ys)/t,this.aabb.x=this.x-this.r-50,this.aabb.y=this.y-this.r-50);for(var h=this.alive=0,s=this.domes;h<s.length;){var e=s[h];++h,e.update(t,i),0<e.h&&this.alive++}b.v.check(this.aabb)&&(i.fillStyle=this.c,i.beginPath(),i.arc(this.x,this.y,this.r,0,2*Math.PI),i.fill())},orbit:function(t,i){this.ot=t,this.ov=i,this.oa=Math.atan2(this.y-t.y,this.x-t.x),this.od=Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},getClosestDome:function(t,i){for(var h=-1,s=null,e=0,a=this.domes;e<a.length;){var n,l,r=a[e];++e,0<r.h&&(n=r.aabb.cX(),l=r.aabb.cY(),((l=Math.sqrt(Math.pow(n-t,2)+Math.pow(l-i,2)))<h||h<0)&&(h=l,s=r))}return s},hasDomes:function(){return 0<this.domes.length}};var w=function(t,i){this.smoke=new M(t,i,F(this,this.smokeFactory),15,10),this.fire=new M(t,i,F(this,this.fireFactory),20,10)};w.prototype={update:function(t,i){var h=this.smoke.update(t,i)?1:0;return 0<(h+=this.fire.update(t,i)?1:0)},smokeFactory:function(){var t=Math.floor(100+100*Math.random());return new x(5,50,100,"rgb(255, "+t+", 0)",1)},fireFactory:function(){var t=Math.floor(100+50*Math.random());return new x(5,100,250,"rgb("+t+", "+t+", "+t+")",2)}};var M=function(t,i,h,s,e){this.ptcl=[],this.aabb=new f;for(var a=0,n=s;a<n;){a++;var l=h();l.getPosition().set(t-e+Math.random()*(2*e),i-e+Math.random()*(2*e)),this.ptcl.push(l)}};M.prototype={update:function(t,i){for(var h=!1,s=0,e=this.ptcl;s<e.length;){var a,n,l=e[s];++s,l.isAlive()&&(l.update(t),h?this.aabb.addC(l.getPosition().x,l.getPosition().y,l.getRadius()):(a=l.getPosition().x,n=l.getRadius(),this.aabb.x=a-n,a=l.getPosition().y,n=l.getRadius(),this.aabb.y=a-n,n=l.getRadius(),this.aabb.w=2*n,n=l.getRadius(),this.aabb.h=2*n),h=!0)}if(h&&b.v.check(this.aabb)){for(s=0,e=this.ptcl;s<e.length;){l=e[s];++s,l.isAlive()&&l.draw(i)}i.globalAlpha=1}return h}};var x=function(t,i,h,s,e){this.vel=new p,this.pos=new p,this.radius=t,this.colour=s,this.time=e,this.timeTotal=e;e=Math.random()*(2*Math.PI),i+=Math.random()*(h-i);this.vel.set(Math.cos(e)*i,Math.sin(e)*i)};x.prototype={update:function(t){this.pos.x+=this.vel.x*t,this.pos.y+=this.vel.y*t,this.time-=t},draw:function(t){t.fillStyle=this.colour,t.globalAlpha=this.time/this.timeTotal,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),t.fill()},getPosition:function(){return this.pos},getRadius:function(){return this.radius},isAlive:function(){return 0<this.time}};var m=function(t,i){this.img=new o,this.lc=t.length,this.lcb=i;for(var h=0;h<t.length;){var s=t[h];++h;var e="data:image/svg+xml;base64,"+window.btoa(s.d),a=[s.n],s=window.document.createElement("img");s.onload=F(this,this.cb),s.onerror=function(t){return function(){n.console.error("Failed to load image resource: "+t[0])}}(a),s.setAttribute("src",e),this.img.h[a[0]]=s}};function F(t,i){return null==i?null:(null==i.__id__&&(i.__id__=n.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:h=t.hx__closures__[i.__id__],null==h&&(h=i.bind(t),t.hx__closures__[i.__id__]=h),h);var h}m.prototype={cb:function(){this.lc--,0==this.lc&&this.lcb(this.img)}},n.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(T.now=performance.now.bind(performance)),g.mx=0,g.my=0,g.mTouch=-1,g.justReleased=!1,g.deadZone=100,b.zoom=2,b.zt=b.zoom,b.spawnTimer=0,b.spawnSize=1,b.msk=new t,b.gameOver=!1,b.ptcl=[],b.tut=[],b.tutStage=0,b.tutProg=0,b.restartTimer=0,z.r=new function(){this.img=[{n:"dome",d:'<svg width="256" height="256" viewBox="0 0 67.7 67.7" xmlns="http://www.w3.org/2000/svg"><path d="M2.1 33.9v10.5l4.2 2.2 14.9 14.8M61.4 19l4.2 14.8m2.1 0h-2M33.8 67.7v-2m-12.7-4.3l12.7 4.2m0-65.6v2.1H23.3l-2.1 4.2-10.6 4.3L8.5 19 2 23.3v10.6L8.5 19l2 14.8H2.2l4.2 12.7L10.6 57l10.6 4.3 2 4.2H34v-8.5l-12.7 4.3V46.6H6.3l4.3-12.7 10.6 12.7 2-12.7H10.7L21.2 19H8.5L21.2 6.3v12.8l12.7-8.5-12.7-4.3 12.7-4.2v21.2L21.2 19l2 14.9L34 23.3v10.6H23.3l10.6 10.5-12.7 2.2L33.9 57l12.7 4.3-12.7 4.2h10.5l2.2-4.2V46.6L33.9 57V44.4l12.7 2.2h14.8L46.6 61.4 57 57l4.3-10.5 4.2-2.2V34l-4.2 12.7L57 33.9 46.6 46.6l-2.2-12.7L34 44.4V34h31.7V23.3L61.4 19 57 34 46.6 19l-2.2 14.8L34 23.3 46.6 19l-12.7-8.4 12.7-4.3-12.7-4.2h10.5l2.2 4.2L57 10.6l4.3 8.5H46.6V6.3l14.8 12.8M33.9 0L23.3 2.1l-12.7 8.5L2 23.3 0 33.9l2.1 10.5 8.5 12.7 12.7 8.5 10.6 2.1 10.5-2L57.1 57l8.5-12.7L67.7 34l-2-10.6L57 10.6 44.4 2z" fill="none" stroke="#000" stroke-width=".3" transform="translate(.1 .1) scale(.99603)"/><path d="M34 17v-6c.2 0 12 8 12 8a268.7 268.7 0 01-11.8 4c-.1 0-.2-1.2-.2-6z" fill="#21cfcf" fill-rule="evenodd"/><path d="M29.5 1.2l4-.8.1.8V2h-8z" fill="#cbcbcb" fill-rule="evenodd"/><path d="M22.6 4.2l.9-1.8h9.2l-5.4 1.8-5.6 1.9.9-1.9z" fill="#bebebe" fill-rule="evenodd"/><path d="M27.6 8.4c-3.2-1-5.7-2-5.6-2a1358.6 1358.6 0 0111.5-3.8l.1 3.8-.1 4-6-2z" fill="#b3b3b3" fill-rule="evenodd"/><path d="M34 1.2l.1-.8 4 .8 4 .8h-8zM51.4 8.2l-4.1-1.6-.7-.3-.8-1.7L45 3 55 9.5c.2.2-.1 0-3.5-1.3zM62.6 20.2a26 26 0 01-3.5-6 65.2 65.2 0 014.8 7.2l-1.3-1.2zM65.7 29.6v-4l.8 3.9.8 4c0 .2-.2.2-.8.2h-.8zM65.7 38.1v-4h.8l.8.1-.8 4.1-.8 4zM58.2 54.7l3.2-7.9 3.3-1.7a420.8 420.8 0 01-6.5 9.6zM45 64.8l.9-1.8.8-1.6 4-1.6 4.2-1.6a118 118 0 01-9.9 6.6zM34 66.5v-.9h8.5l-3.8.8-4.3 1H34zM29.4 66.5l-4.2-.8h8.4V67.3l-4.2-.9zM17.7 61.5l-4.8-3.3 4.1 1.6 4 1.6.9 1.6.7 1.7-5-3.2zM6.2 50L3 45l1.7.9 1.6.8 1.6 4 1.6 4.1L6.2 50zM1.2 38l-.9-4.2.9-4.3.9-4.2v17L1 38zM3.2 22.3a287.2 287.2 0 017-10.4l-1.8 7a220.2 220.2 0 01-5.2 3.4zM12.9 9.5c.2-.3 9.7-6.5 9.7-6.4L22 4.7 21 6.3 17 8c-4.7 1.9-4.4 1.8-4.2 1.6z" fill="#cbcbcb" fill-rule="evenodd"/><path d="M40.4 4.2l-5.3-1.8h9.2l1 1.8L46 6l-5.6-1.8zM54.1 12.7l-6.3-5.5L52.4 9l4.5 1.8 1.8 3.6 1.8 3.7-6.4-5.4zM63.5 26.2a152 152 0 01-1.7-6.2l1.8 1.7 1.7 1.7v8.9zM61.7 45.8l1.8-5.4 1.8-5.3v9.2l-1.8.9-1.8.9v-.3zM54 54a360 360 0 016.6-6.5l-1.8 4.7-1.9 4.7-4.6 1.8-4.7 1.9L54 54zM40.6 63.5c3-1 5.3-1.8 5.4-1.7l-.8 1.7-.9 1.7h-9zM22.5 63.5l-.8-1.8 5.4 1.7 5.3 1.8h-9zM15.4 58.7L10.8 57 9 52.3l-1.8-4.7a439 439 0 0112.9 13l-4.7-1.9zM4.2 45.2l-1.7-.9v-4.5-4.3L6 46l-1.8-1zM2.5 28v-4.6l2.7-1.8c1.5-1 2.7-1.8 2.8-1.7L2.5 32.7V28zM9 18.1l1-3.8.9-3.5 4.6-1.9 4.7-1.8A322.4 322.4 0 019 18.1z" fill="#bebebe" fill-rule="evenodd"/><path d="M34 6.4V2.5l11.6 3.9-11.5 4v-4zM40.3 14.7l-5.8-4 6-2 5.9-2v6l-.1 6-6-4zM46.8 13V7l.7.6a3065.1 3065.1 0 0013.1 11.3H46.7zM51.9 26.3l-5-7h7c5.7 0 7.1 0 7 .2a953.8 953.8 0 00-4 13.7l-5-6.9zM57.4 33.6l3.9-13.5 3.9 13.5a42 42 0 01-7.8 0zM59.3 40l-2-5.8 4-.1 3.9.1a1795.9 1795.9 0 00-4 11.5L59.4 40zM47 46.2l10-11.8 2 6 2 6h-7c-4.3 0-7-.1-7-.2zM46.8 53.7v-7h14l-7 7-7 7v-7zM40.2 59l-6-2 5.9-4.9 6-5c.3-.2.3 0 .3 6.8 0 5.6 0 7-.2 7l-6-2zM34 61.3v-4l6 2c3.2 1 5.8 2 5.7 2l-6 2-5.7 2zM27.7 63.2L22 61.3s2.5-1 5.8-2l5.8-2v4c0 3.6 0 3.8-.2 3.8l-5.7-1.9zM21.4 54v-7l.4.2 6 5 5.7 4.8-6 2-6 2-.1-7zM14 53.7l-7-7h14v14l-7-7zM6.8 46.2a1916.7 1916.7 0 004-11.9L20.5 46l.3.4h-7l-7-.1zM4.5 40l-2-5.8 4-.1h3.9l-2 5.8-2 5.9L4.6 40zM2.6 33.5l3-7 2.9-6.7 1 6.9 1 6.9a41.1 41.1 0 01-7.9-.1zM12.4 15.5l6-6L21 7v12H9zM21.4 12.7v-6l5.8 2 6 2a374.9 374.9 0 01-11.8 8v-6zM10.7 33c-.1-1-2-13.6-1.9-13.7h12l-5 7-5 7v-.4z" fill="#b3b3b3" fill-rule="evenodd"/><path d="M23.8 33.7l5-5 4.8-5v10h-9.9zM27.6 21l-5.8-2 11.5-7.7.3-.2v6l-.1 5.9-5.9-2zM22.5 26.5l-1-7s2.8.8 6 2l6 2-5 5-5 5zM11.3 33.3a1684 1684 0 009.8-13.4l1 7 1 6.8h-12zM16.1 40l-5-5.9h12l-2 12-5-6zM22.4 40.4l1-6a104.2 104.2 0 019.7 10 634.3 634.3 0 01-11.4 1.9c-.3 0-.2-.2.7-5.9zM28.7 39L24 34h9.8v5l-.1 4.8-4.9-4.9zM27.6 51.6l-6-5 6-1 6-.9v11.9zM34 50.7c0-5.3 0-6 .2-6s11.5 1.8 11.7 2l-5.6 4.7c-3.1 2.7-5.8 5-6 5l-.3.3zM34 39v-5h10l-5 5-5 5v-5zM40.4 45.3l-6-1 4.8-5 5-5 2 12-5.8-1zM46.6 45.7l-2-11.6h12L51.8 40a707 707 0 01-5 5.9c-.1.2-.2.1-.2-.1zM44.7 33.4A603.8 603.8 0 0046.6 20a576.7 576.7 0 0110 13.6l-6 .1h-6zM39.2 28.4l-5-5 6-2 6-2-2 14-5-5zM34 28.7v-5l5 5 4.9 5H34z" fill="#21cfcf" fill-rule="evenodd"/></svg>'},{n:"enemy",d:'<svg width="64" height="64" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000"><path d="M38.5 16.2a6.6 6.6 0 010 .2A6.6 6.6 0 0132 23a6.6 6.6 0 01-6.6-6.6 18.9 18.9 0 00-12 17.6A18.9 18.9 0 0032 53a18.9 18.9 0 0019-19 18.9 18.9 0 00-12.6-17.8z" fill="#31967e" stroke-width=".6"/><path d="M15.4 4.7A32 32 0 000 32a32 32 0 0032 32 32 32 0 0032-32A32 32 0 0049 4.9a18.9 18.9 0 012 8.5 18.9 18.9 0 01-18.9 19 18.9 18.9 0 01-18.9-19 18.9 18.9 0 012.2-8.7z" fill="#d74e9a" stroke-width=".5"/></g></svg>'},{n:"gun",d:'<svg width="64" height="64" viewBox="0 0 16.9 16.9" xmlns="http://www.w3.org/2000/svg"><path d="M7.7 2.6v4a2 2 0 00-1.2 1.9 2 2 0 002 2 2 2 0 002-2 2 2 0 00-1.2-1.9v-4z" fill="#9b9b9b" stroke="#000" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"/></svg>'},{n:"player",d:'<svg width="64" height="64" viewBox="0 0 16.9 16.9" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 2.3c0 3.3.5 4 1.2 4.3.6-.2 1.1-1 1.1-4.3L8.5.3zm1.2-2C7.7 1.5 7 2.8 6.7 4.1c-.4 1.2-.8 2.5-1 3.7-.9-1.6-1.2-3.1-1.2-4.6-2.3 3.8-3 7.6-2.3 11.4h.6v2.3H5v-2.3H12v2.3h2.3v-2.3h.5c.8-3.7 0-7.6-2.2-11.4 0 1.5-.4 3-1.2 4.6l-1-3.8c-.5-1.2-1-2.5-1.8-3.7z" fill="#b3cfff" stroke="#000" stroke-width=".2"/><path d="M8.3 6.5L8 6c-.3-.6-.4-1.5-.5-3v-.6l.1-.2 1-1.7 1 1.8V3.2l-.2 2.1c-.2.6-.4 1-.6 1.1l-.2.1h-.2z" fill="#b3cfff"/><path d="M2.3 14.5a18 18 0 01-.2-4 15.9 15.9 0 012.1-6.7l.2-.3v.3A10.1 10.1 0 005.6 8l.3-.7L7 3.4l.2-.5v.3c0 1.1.1 1.5.2 2 .2.8.5 1.3 1 1.5h.2c.2-.1.5-.4.6-.7.2-.3.3-.8.4-1.4l.1-1.4V3l.2.5A44 44 0 0111.3 8l.5-1c.4-1 .6-2 .7-3v-.5l.3.4c1.2 2.2 1.9 4.4 2 6.6.2 1.2.1 2.6-.1 3.8v.2H2.3z" fill="#156bff"/><path d="M2.8 15.6v-1H5v2.2H3zM12 15.6v-1h2v2.2h-2z" fill="#9b9b9b"/></svg>'}]},z.l=0,z.f=!1,z.playing=!1,s.msk=new t,s.playOver=!1,s.fullOver=!1,s.active=!1,s.loaded=!1,k.time=0,k.swarmsKilled=0,k.enemiesKilled=0,k.timesKilled=0,k.shotsFired=0,z.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)</script>