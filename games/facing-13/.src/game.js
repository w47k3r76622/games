(()=>{"use strict";class t{constructor(t,e,s,i){this.name=t,this.type=e,this.x=s,this.y=i}isEqual(t){return this.type.color===t.type.color}}class e{static get t(){return 30}static get i(){return{o:{color:"#6BCEFF",name:"Deep Breathing",h:"Helps slow down the mind and body, reducing anxiety.",l:'₹<path d="M460-160q-50 0-85-35t-35-85h80q0 17 11.5 28.5T460-240q17 0 28.5-11.5T500-280q0-17-11.5-28.5T460-320H80v-80h380q50 0 85 35t35 85q0 50-35 85t-85 35ZM80-560v-80h540q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43h-80q0-59 40.5-99.5T620-840q59 0 99.5 40.5T760-700q0 59-40.5 99.5T620-560H80Zm660 320v-80q26 0 43-17t17-43q0-26-17-43t-43-17H80v-80h660q59 0 99.5 40.5T880-380q0 59-40.5 99.5T740-240Z"/>^',q:"Helps Tessa calm down and regain control when facing her fear.",m:"air"},u:{color:"#FF6B6B",name:"Cognitive Restructuring",h:"Challenging irrational thoughts related to fear.",l:'₹<path d="M440-360h80l6-50q8-3 14.5-7t11.5-9l46 20 40-68-40-30q2-8 2-16t-2-16l40-30-40-68-46 20q-5-5-11.5-9t-14.5-7l-6-50h-80l-6 50q-8 3-14.5 7t-11.5 9l-46-20-40 68 40 30q-2 8-2 16t2 16l-40 30 40 68 46-20q5 5 11.5 9t14.5 7l6 50Zm40-100q-25 0-42.5-17.5T420-520q0-25 17.5-42.5T480-580q25 0 42.5 17.5T540-520q0 25-17.5 42.5T480-460ZM240-80v-172q-57-52-88.5-121.5T120-520q0-150 105-255t255-105q125 0 221.5 73.5T827-615l64 255H760v200H600v80h-80v-160h160v-200h108l-38-155q-23-91-98-148t-172-57q-116 0-198 81t-82 197q0 60 24.5 114t69.5 96l26 24v208h-80Zm254-360Z"/>^',q:"Helps Tessa challenge and reframe her fearful thoughts about the number 13.",m:"psychology"},v:{color:"#FFD93D",name:"Progressive Muscle Relaxation",h:"Reduces physical tension in the body.",l:'₹<path d="M272-160q-30 0-51-21t-21-51q0-21 12-39.5t32-26.5l156-62v-90q-54 63-125.5 96.5T120-320v-80q68 0 123.5-28T344-508l54-64q12-14 28-21t34-7h40q18 0 34 7t28 21l54 64q45 52 100.5 80T840-400v80q-83 0-154.5-33.5T560-450v90l156 62q20 8 32 26.5t12 39.5q0 30-21 51t-51 21H400v-20q0-26 17-43t43-17h120q9 0 14.5-5.5T600-260q0-9-5.5-14.5T580-280H460q-42 0-71 29t-29 71v20h-88Zm208-480q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z"/>^',q:"Helps Tessa relax her body, easing the tension caused by the fear of 13.",m:"self_improvement"},T:{color:"#A1FF6B",name:"Mindfulness",h:"Staying present in the moment to reduce anxious thoughts.",l:'₹<path d="M240-80v-172q-57-52-88.5-121.5T120-520q0-150 105-255t255-105q125 0 221.5 73.5T827-615l65 255H760v200H600v80h-80v-160h160v-200h108l-38-155q-23-91-98-148t-172-57q-116 0-198 81t-82 197q0 60 24.5 114t69.5 96l26 24v208h-80Zm254-360Zm-54 40h80v-280h-80v280Zm120-60h80v-180h-80v180Zm-240-20h80v-160h-80v160Z"/>^',q:"Helps Tessa focus on the present and stay grounded.",m:"spa"},p:{color:"#FFAA6B",name:"Exposure Therapy",h:"Facing fears gradually to reduce avoidance behavior.",l:'₹<path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"/>^',q:"Tessa confronts the number 13 repeatedly, becoming less afraid of it over time.",m:"visibility"},Z:{color:"#FF6BBF",name:"Positive Affirmations",h:"Replacing negative thoughts with positive statements.",l:'₹<path d="M280-120v-520l280-280 74 74-52 206h338v176L774-120H280Zm80-80h360l120-280v-80H480l54-220-174 174v406Zm0-406v406-406ZM80-120v-520h200v80H160v360h120v80H80Z"/>^',q:"Tessa repeats affirmations to build confidence in overcoming her fear.",m:"thumb_up"},F:{color:"#6BFF94",name:"Journaling",h:"Writing down thoughts to process emotions.",l:'₹<path d="M160-400v-80h280v80H160Zm0-160v-80h440v80H160Zm0-160v-80h440v80H160Zm360 560v-123l263-262 123 122-263 263H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z"/>^',q:"Tessa writes down her fears and tracks her progress as she faces them.",m:"edit_note"},M:{color:"#FF6BDE",name:"Distraction",h:"Engaging in other activities to temporarily shift focus away from fear.",l:'₹<path d="M189-160q-60 0-102.5-43T42-307q0-9 1-18t3-18l84-336q14-54 57-87.5t98-33.5h390q55 0 98 33.5t57 87.5l84 336q2 9 3.5 18.5T919-306q0 61-43.5 103.5T771-160q-42 0-78-22t-54-60l-28-58q-5-10-15-15t-21-5H385q-11 0-21 5t-15 15l-28 58q-18 38-54 60t-78 22Zm3-80q19 0 34.5-10t23.5-27l28-57q15-31 44-48.5t63-17.5h190q34 0 63 18t45 48l28 57q8 17 23.5 27t34.5 10q28 0 48-18.5t21-46.5q0 1-2-19l-84-335q-7-27-28-44t-49-17H285q-28 0-49.5 17T208-659l-84 335q-2 6-2 18 0 28 20.5 47t49.5 19Zm348-280q17 0 28.5-11.5T580-560q0-17-11.5-28.5T540-600q-17 0-28.5 11.5T500-560q0 17 11.5 28.5T540-520Zm80-80q17 0 28.5-11.5T660-640q0-17-11.5-28.5T620-680q-17 0-28.5 11.5T580-640q0 17 11.5 28.5T620-600Zm0 160q17 0 28.5-11.5T660-480q0-17-11.5-28.5T620-520q-17 0-28.5 11.5T580-480q0 17 11.5 28.5T620-440Zm80-80q17 0 28.5-11.5T740-560q0-17-11.5-28.5T700-600q-17 0-28.5 11.5T660-560q0 17 11.5 28.5T700-520Zm-360 60q13 0 21.5-8.5T370-490v-40h40q13 0 21.5-8.5T440-560q0-13-8.5-21.5T410-590h-40v-40q0-13-8.5-21.5T340-660q-13 0-21.5 8.5T310-630v40h-40q-13 0-21.5 8.5T240-560q0 13 8.5 21.5T270-530h40v40q0 13 8.5 21.5T340-460Zm140-20Z"/>^',q:"Tessa uses distraction to take her mind off the number 13 during overwhelming moments.",m:"controller"},k:{color:"#6BFFC8",name:"Support Network",h:"Seeking support from friends or loved ones.",l:'₹<path d="M0-240v-63q0-43 44-70t116-27q13 0 25 .5t23 2.5q-14 21-21 44t-7 48v65H0Zm240 0v-65q0-32 17.5-58.5T307-410q32-20 76.5-30t96.5-10q53 0 97.5 10t76.5 30q32 20 49 46.5t17 58.5v65H240Zm540 0v-65q0-26-6.5-49T754-397q11-2 22.5-2.5t23.5-.5q72 0 116 26.5t44 70.5v63H780Zm-455-80h311q-10-20-55.5-35T480-370q-55 0-100.5 15T325-320ZM160-440q-33 0-56.5-23.5T80-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T160-440Zm640 0q-33 0-56.5-23.5T720-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T800-440Zm-320-40q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm0-80q17 0 28.5-11.5T520-600q0-17-11.5-28.5T480-640q-17 0-28.5 11.5T440-600q0 17 11.5 28.5T480-560Zm1 240Zm-1-280Z"/>^',q:"Tessa relies on support to gain strength and confront her fear of 13.",m:"groups"},H:{color:"#6BB1FF",name:"Relaxation Response",h:"Triggering relaxation when stress occurs.",l:'₹<path d="M479-82 163-400h113l204 204 274-275q23-23 35-54.5t12-64.5q-2-69-46-118.5T645-758q-31 0-59.5 12T536-711l-56 61-57-61q-21-23-49-36t-60-13q-54 0-93.5 34.5T167-640H85q17-85 79.5-142.5T314-840q48 0 90.5 19t75.5 53q32-34 74.5-53t90.5-19q100 0 167.5 74T880-590q0 49-17 94t-51 80L479-82Zm-4-398H80v-80h555q17 0 28.5-11.5T675-600q0-17-11.5-28.5T635-640q-14 0-25 7.5T596-611l-77-21q11-39 43-63.5t73-24.5q50 0 85 35t35 85q0 50-35 85t-85 35h-47q3 10 5 19.5t2 20.5q0 50-35 85t-85 35q-41 0-73-24.5T359-408l77-21q3 14 14 21.5t25 7.5q17 0 28.5-11.5T515-440q0-17-11.5-28.5T475-480Zm6 2Z"/>^',q:"Tessa learns to immediately calm herself in the presence of 13.",m:"bedtime"},B:{color:"#FF6B83",name:"Focused Attention",h:"Concentrating on a specific task to reduce anxious thoughts.",l:'₹<path d="M120-120v-240h80v160h160v80H120Zm480 0v-80h160v-160h80v240H600ZM120-600v-240h240v80H200v160h-80Zm640 0v-160H600v-80h240v240h-80ZM480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280Zm0-80q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0-120Z"/>^',q:"Tessa focuses her attention on neutral tasks to lessen anxiety.",m:"center_focus_strong"},I:{color:"#FF6BE2",name:"Emotional Support Animal",h:"Using a support animal to reduce anxiety.",l:'₹<path d="M180-475q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29Zm180-160q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29Zm240 0q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29Zm180 160q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM266-75q-45 0-75.5-34.5T160-191q0-52 35.5-91t70.5-77q29-31 50-67.5t50-68.5q22-26 51-43t63-17q34 0 63 16t51 42q28 32 49.5 69t50.5 69q35 38 70.5 77t35.5 91q0 47-30.5 81.5T694-75q-54 0-107-9t-107-9q-54 0-107 9t-107 9Z"/>^',q:"Tessa finds comfort in the presence of an emotional support animal during moments of fear.",m:"pets"},_:{color:"#6BFFB1",name:"Habit Reversal",h:"Reversing negative habits that reinforce fear.",l:'₹<path d="M160-160v-80h110l-16-14q-52-46-73-105t-21-119q0-111 66.5-197.5T400-790v84q-72 26-116 88.5T240-478q0 45 17 87.5t53 78.5l10 10v-98h80v240H160Zm400-10v-84q72-26 116-88.5T720-482q0-45-17-87.5T650-648l-10-10v98h-80v-240h240v80H690l16 14q49 49 71.5 106.5T800-482q0 111-66.5 197.5T560-170Z"/>^',q:"Tessa learns to break patterns that contribute to her fear of the number 13.",m:"sync"}}}static get S(){return{A:13e3,R:13,C:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"> <path fill="red" stroke="#000" stroke-width="11" d="M128 11c9 6 1 11-19 12-2 0-4 3-4 5 1 3-3 6-8 7-14 2-43 29-34 33 7 3 7 3 0 3-4 0-6 2-5 4s0 4-3 4c-4 0-8 3-9 6-1 4-5 6-7 6-10 0-25 27-26 44 0 2-4 5-7 5-6 0-6 0 1 6 4 3 5 5 3 4-3-1-5 4-6 17-3 27 0 49 7 49 3 0 5 2 3 4-1 2 2 5 7 7 8 2 8 2 2 4-16 6 13 19 40 18 14 0 25 1 25 3s2 3 3 3c11-1 15 1 10 5-7 7-6 28 1 28 4 0 6 2 6 6s-2 6-6 4c-6-2-6 0-5 15 1 11 1 18-1 16-5-2-4 3 0 11 2 3 3 7 1 9-4 7-3 26 2 24 2-1 4 1 4 5s-1 6-3 6c-4 0 1 33 5 36 3 2 3 5 2 7-2 3 0 10 3 16 3 7 5 13 4 14-5 5 24 23 36 23 32 0 63-77 46-113-2-4-2-9-1-12 2-3 3-14 2-26s1-22 4-23 4-10 3-18c-1-34 1-62 5-54 2 5 3-4 3-28 0-64 5-76 22-57 9 9 12 10 19 7 4-3 10-3 13-2 2 2 8 4 12 4 12 1 13 2 7 6-5 3-4 3 5 4 6 0 10 1 9 4s0 4 3 4 7 1 7 3c0 3-3 3-6 2s-10 1-15 4c-5 4-7 7-5 7 5 0-3 17-15 35-7 9-7 10-1 15 6 4 6 5 1 7-10 3 9 38 28 50 20 12 55 19 67 13 8-4 10-3 12 3l5 13c2 4 2 10-2 16-3 5-5 14-6 20v10l-4-10-4-9-9 11c-10 10-11 10-19 4-10-6-45-9-42-3 3 5-23 25-28 22l2 3c4 6 4 7-1 9-7 3-5 11 7 28 4 6 6 12 5 14-1 3 1 5 5 6 6 2 6 2-1 2-13 1 17 21 31 21 9 0 11 1 7 3-8 6 24 10 44 7 12-2 15-4 11-7s-3-3 3-2c5 1 17-3 28-10 15-8 18-11 11-11-5 0-9-2-9-5 0-2 4-3 10-2 5 1 11 0 12-2 2-2 5-3 8-2s5 0 4-2c-1-3 3-8 10-12s11-9 10-11 2-6 7-10c5-3 6-6 4-6-3 0-5-4-5-8 0-7 2-8 7-6 6 2 9-1 12-16 6-22 6-84 1-81-2 2-4-4-5-12-1-10-3-15-6-14-4 0-5-1-3-4s0-7-4-10c-6-4-6-5-2-6 3 0 2-2-3-4-6-2-9-5-7-8 3-5-6-16-11-13-2 1-3 1-2-1 0-2-5-9-11-15-10-10-11-12-5-15 4-2 5-6 4-9-1-4 2-7 8-9 7-1 11-5 11-9 0-9 10-18 16-14 3 2 4 1 2-1-1-3 1-5 5-6 6-2 13-13 25-40 7-16-1-43-16-57-7-7-8-7-8-1 0 3-2 6-4 6s-4-3-4-8c0-8 0-8-49-9-15 0-27-1-27-3 0-1-6-2-13-1-50 5-65 5-72 1-6-3-9-3-11 0-2 2-9 3-16 3s-13 0-15 2c-1 2-5 3-9 1-4-1-12 2-17 6s-11 7-13 6-2-1-2 2-4 4-8 4-8-1-8-4-4-4-7-4c-4 0-10-3-12-8a19 19 0 0 0-16-8c-6 0-10-1-9-2 7-6-11-18-26-18-12 1-15 2-11 4zm37 39c20 12 22 66 8 204a1002 1002 0 0 1-10 88 156 156 0 0 0-2 44c9 12 6 55-6 59-7 3-12 3-14 1-9-9-20-112-13-116 5-3 5-70 0-76-2-3-4-28-6-57s-4-53-6-53c-6 0-27 25-27 33-1 28-36 46-55 28-8-8-5-31 7-56l7-20c0-6 18-20 24-18 2 1 4-1 4-3s-1-5-4-5-4-1-4-3 4-3 8-2c6 2 8 0 8-4 0-3 4-7 8-8s12-9 18-18c7-11 14-17 21-19a489 489 0 0 0 21-5l13 6zm100 11c0 6 148 6 185 0 40-6 23 56-21 73-9 4-68 69-68 76 0 3 4 6 11 6 28 0 73 34 79 60 1 7 5 17 9 21 23 26-24 123-60 123-4 0-7 2-7 4 0 25-61 28-88 5-21-19-23-33-3-33 9 0 17 3 26 12 9 8 14 11 21 9 18-6 43-26 48-38l15-27c18-24 12-64-9-64-5 0-14-4-20-9-7-6-12-7-16-4-3 3-11 2-26-2l-29-5c-24 0-26-42-2-47 7-2 13-7 17-14 8-16 24-40 32-48 3-3 6-8 6-11s4-6 9-9c11-6 27-23 25-28-2-3-12-1-44 11-29 10-64 12-80 4-7-3-17-5-22-4-12 2-28-21-28-38 0-13 8-10 8 2 0 10 1 11 3 2 1-4 6-12 10-17 3-4 7-9 7-12s2-4 6-4c3 0 6 3 6 6z" paint-order="stroke"/></svg>'}}static P(t){return this.i[t].l.replace("₹",`<svg viewBox="0 -960 960 960" fill="${this.i[t].color}">`).replace("^","</svg>")}}class s{constructor(t,s,i,n){this.rows=t,this.columns=s,this.container=i,this.D=[],this.N=n,this.L=[],this.O=Object.keys(e.i),this.G=[],this.K(),this.U()}K(){for(let t=0;t<25;t++)t<13?this.G.push(this.O[t]):this.G.push(this.O[Math.floor(13*Math.random())]);for(let t=this.G.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[this.G[t],this.G[e]]=[this.G[e],this.G[t]]}}U(){const s=document.createElement("table");s.classList.add("board-table"),this.container.appendChild(s);for(let s=0;s<this.rows;s++){this.D[s]=[];for(let i=0;i<this.columns;i++){const n=this.G[s*this.columns+i],o=e.i[n],h=new t(n,o,s,i);this.D[s][i]=h}}this.V(),s.addEventListener("touchstart",(t=>this.W(t,"touch"))),s.addEventListener("touchmove",(t=>this.j(t,"touch"))),s.addEventListener("touchend",(t=>this.J(t,"touch"))),s.addEventListener("mousedown",(t=>this.W(t,"mouse"))),s.addEventListener("mousemove",(t=>this.j(t,"mouse"))),s.addEventListener("mouseup",(t=>this.J(t,"mouse")))}W(t,e){"touch"==e&&(this.$=null);let s="touch"==e?t.touches[0]:t;this.Y={x:s.clientX,y:s.clientY},this.X=t.target.closest("td")}j(t,e){let s="touch"==e?t.touches[0]:t;this.$={x:s.clientX,y:s.clientY}}J(t,e){window.getSelection().removeAllRanges();const s=this.$&&this.tt();if(s){if(null===this.X||null===s)return;this.et(this.X.x,this.X.y,s),this.st()}}tt(){const t=this.$.x-this.Y.x,e=this.$.y-this.Y.y,s=Math.abs(t),i=Math.abs(e);return s<3&&i<3||0===t&&0===e?null:s>i?t>0?"right":t<0?"left":null:e>0?"down":e<0?"up":null}et(t,e,s){let i=e,n=t;if("down"===s)n=t+1;else if("up"===s)n=t-1;else if("right"===s)i=e+1;else{if("left"!==s)return;i=e-1}if(!(n>=this.rows||n<0||i>=this.columns||i<0)&&i>=0&&i<this.columns){const s=this.D[t][e];this.D[t][e]=this.D[n][i],this.D[n][i]=s,this.N.it(1,.05,284,.01,.02,.03,0,3.2,92,-15,0,0,0,0,0,0,0,.79,.02,.26,0),this.N.nt.innerHTML=+this.N.nt.innerText+1,this.V()}}V(){const t=this.container.querySelector(".board-table");t.innerHTML="";for(let s=0;s<this.rows;s++){const i=document.createElement("tr");t.appendChild(i);for(let t=0;t<this.columns;t++){const n=this.D[s][t],o=document.createElement("td");o.classList.add("td-block"),o.innerHTML=e.P(n.name),o.x=s,o.y=t,i.appendChild(o)}}}st(){const t=this.N.ot[0].split(",");for(let e=0;e<this.rows;e++)for(let s=0;s<this.columns;s++){const i=[];for(let n=-1;n<=1;n++)for(let o=-1;o<=1;o++){const h=e+n,a=s+o,c=t[3*(n+1)+(o+1)];i.push(h>=0&&h<this.rows&&a>=0&&a<this.columns&&c?this.D[h][a].type.color:null)}if(i.join(",")===t.join(","))return this.N.ht(),0===this.N.ot.length&&this.N.ct(),this.N.it(1.04,0,740,.03,.01,.41,2,.2,0,0,0,0,0,1.9,0,.8,0,.39,.11,0,0),void(this.N.rem.innerText=+this.N.rem.innerText-1)}}}class i{constructor(t){this.container=t,this.ot=[],this.lt=new s(5,5,this.container,this),this.rt=document.querySelector(".modal"),this.qt=document.querySelector(".thirteen-blocks-and-patterns-container"),this.gt=document.querySelector(".fear-meter"),this.nt=document.querySelector(".moves"),this.rem=document.querySelector(".rem"),this.dt=document.querySelector("#on-off"),this.ut=document.querySelector("#dl"),this.vt=localStorage.getItem("facing-13-theme"),this.Tt=["000111000","010010010","100010001","001010100","100111000","001111000","010011000","011010000","001011000","010010111","011010010","110010010","010010110"],this.ft=.3,this.it=this.Zt(),this.Ft(),this.wt(),this.Mt(),this.bt(),this.kt(),window.onresize=this.Ft.bind(this)}start(){this.Ht=0,this.ct(),this.Bt()}Bt(){this.xt=setInterval((()=>{this.ct()}),e.S.A)}ct(){if(this.Ht>=e.S.R)return this.yt(),void(0===this.ot.length&&this.It());const s=document.createElement("div");s.classList.add("thirteen-block-and-pattern");const i=document.createElement("div");i.classList.add("thirteen-block"),i.innerHTML=e.S.C;const n=document.createElement("table"),o=Math.floor(Math.random()*this.Tt.length),h=[],a=[];for(let t=0;t<this.lt.G.length;t++)a.push(this.lt.G[t]);for(let s=0;s<3;s++){const i=n.insertRow();for(let n=0;n<3;n++){const c=i.insertCell();if(c.classList.add("td-pattern-block"),"1"===this.Tt[o][3*s+n]){const i=Math.floor(Math.random()*a.length),o=a[i];let l=e.i[o];a.splice(i,1);const r=new t(o,l,s,n);c.innerHTML=e.P(r.name),h.push(l.color)}else h.push(null)}}n.classList.add("pattern"),s.appendChild(i),s.appendChild(n),this.qt.appendChild(s),this.ot.push(h.join(",")),this.Ht++,this._t(10),parseInt(this.gt.value)>=100&&this.St()}yt(){clearInterval(this.xt),this.At=setInterval((()=>{this._t(5),this.gt.value>=100&&this.St()}),13e3)}ht(){this.qt.removeChild(this.qt.firstChild),this.ot=this.ot.slice(1),this.Rt(10)}_t(t){this.gt.value=parseInt(this.gt.value)+t}Rt(t){this.gt.value=parseInt(this.gt.value)-t}St(){this.container.hidden=!0,this.yt(),this.Et(document.querySelector(".fail"))}It(){this.container.hidden=!0,this.yt(),document.querySelector("#final-moves-count").innerText=this.nt.innerText,this.Et(document.querySelector(".finish"))}Et(t){this.rt.style.display="block";this.rt.querySelector(".modal-content-text").innerHTML=t.innerHTML;const e=this.rt.querySelector("#restart-game"),s=this.rt.querySelector(".close"),i=this.rt.querySelector("#start-game");return null!==i?(s.hidden=!0,void(i.onclick=()=>{this.rt.style.display="none",this.start()})):null!==e?(s.hidden=!0,void(e.onclick=()=>{this.rt.style.display="none",window.location.reload()})):(s.onclick=()=>{this.rt.style.display="none",this.container.hidden=!1},void(window.onclick=t=>{t.target==this.rt&&(this.rt.style.display="none",this.container.hidden=!1)}))}Ft(){const t=document.querySelector(".iicon"),e=window.matchMedia("(max-width: 768px)").matches,s=document.querySelector(".game-description");e?(t.hidden=!1,s.hidden=!0,t.addEventListener("click",(()=>{this.Et(s);const t=document.querySelector(".modal-content").querySelector("ul");this.Ct(t)}))):(t.hidden=!0,s.hidden=!1)}wt(){const t=document.querySelector(".blocks-information"),s=Object.keys(e.i),i=document.createElement("ul");i.style.listStyleType="none";for(let t=0;t<s.length;t++){const n=s[t],o=e.i[n],h=document.createElement("li");h.setAttribute("blockName",n),h.innerHTML=e.P(n).replace("<svg","<svg height='2rem' width='2rem'");const a=document.createTextNode(" -- "+o.h);h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="left",h.appendChild(a),i.appendChild(h)}t.appendChild(i),this.Ct(i)}Ct(t){const s=t.querySelectorAll("li");for(let t=0;t<s.length;t++){const i=s[t],n=e.i[i.getAttribute("blockName")];i.onclick=()=>{const t=document.createElement("div");t.classList.add("snackbar"),t.style.top=i.offsetTop-20+"px",t.style.left=`${i.offsetLeft}px`,t.innerHTML=n.name+"---"+n.q,document.body.appendChild(t),setTimeout((()=>{t.remove()}),3e3)}}}kt(){const t=document.createElement("link");t.rel="icon",t.type="image/svg+xml",t.href=URL.createObjectURL(new Blob([e.S.C],{type:"image/svg+xml"})),document.getElementsByTagName("head")[0].appendChild(t)}Mt(){let t=this.dt.querySelectorAll("svg"),e=localStorage.getItem("facing-13-audio");this.Pt(t,null===e||"true"===e),this.dt.addEventListener("click",(()=>this.Pt(t,"true"!==localStorage.getItem("facing-13-audio"))))}Pt(t,e){e?(t[0].style.display="inline",t[1].style.display="none",this.Dt=!0,localStorage.setItem("facing-13-audio",!0),this.ft=1):(t[0].style.display="none",t[1].style.display="inline",this.Dt=!1,localStorage.setItem("facing-13-audio",!1),this.ft=0)}bt(){let t=this.ut.querySelectorAll("svg"),e=localStorage.getItem("facing-13-theme");this.Nt(t,e),this.ut.addEventListener("click",(()=>this.Nt(t,"light"===localStorage.getItem("facing-13-theme")?"dark":"light")))}Nt(t,e){"light"===e?(document.documentElement.setAttribute("data-theme","light"),t[0].style.display="none",t[1].style.display="inline",this.vt="light",localStorage.setItem("facing-13-theme","light")):(document.documentElement.setAttribute("data-theme","dark"),t[0].style.display="inline",t[1].style.display="none",this.vt="dark",localStorage.setItem("facing-13-theme","dark"))}Zt(){let t=new AudioContext;return(e=1,s=.05,i=220,n=0,o=0,h=.1,a=0,c=1,l=0,r=0,q=0,m=0,g=0,d=0,u=0,v=0,T=0,f=1,p=0,Z=0,F=0)=>{let w=Math,M=2*w.PI,b=44100,k=l*=500*M/b/b,H=i*=(1-s+2*s*w.random(s=[]))*M/b,B=0,x=0,y=0,I=1,_=0,S=0,A=0,R=F<0?-1:1,E=M*R*F*2/b,C=w.cos(E),P=w.sin,D=P(E)/4,N=1+D,L=-2*C/N,O=(1-D)/N,z=(1+R*C)/2/N,G=-(R+C)/N,K=z,U=0,V=0,W=0,j=0;for(n=b*n+9,p*=b,o*=b,h*=b,T*=b,r*=500*M/b**3,u*=M/b,q*=M/b,m*=b,g=b*g|0,e*=this.ft,R=n+p+o+h+T|0;y<R;s[y++]=A*e)++S%(100*v|0)||(A=a?1<a?2<a?3<a?P(B**3):w.max(w.min(w.tan(B),1),-1):1-(2*B/M%2+2)%2:1-4*w.abs(w.round(B/M)-B/M):P(B),A=(g?1-Z+Z*P(M*y/g):1)*(A<0?-1:1)*w.abs(A)**c*(y<n?y/n:y<n+p?1-(y-n)/p*(1-f):y<n+p+o?f:y<R-T?(R-y-T)/h*f:0),A=T?A/2+(T>y?0:(y<R-T?1:(R-y)/T)*s[y-T|0]/2/e):A,F&&(A=j=K*U+G*(U=V)+z*(V=A)-O*W-L*(W=j))),E=(i+=l+=r)*w.cos(u*x++),B+=E+E*d*P(y**5),I&&++I>m&&(i+=q,H+=q,I=0),!g||++_%g||(i=H,l=k,I=I||1);(e=t.createBuffer(1,R,b)).getChannelData(0).set(s),(i=t.createBufferSource()).buffer=e,i.connect(t.destination),i.start()}}}const n=document.getElementById("start-game"),o=document.getElementById("game-container");document.getElementById("menu");function h(){const t=document.querySelector("#info");o.hidden=!1;new i(o).Et(t)}n.addEventListener("click",h),h()})();