!function(){"use strict";var n=[],e=[];function t(t,i){if(t&&"undefined"!=typeof document){var s,r=1==i.prepend?"prepend":"append",o=1==i.singleTag,a="string"==typeof i.container?document.querySelector(i.container):document.getElementsByTagName("head")[0];if(o){var l=n.indexOf(a);-1===l&&(l=n.push(a)-1,e[l]={}),s=e[l]&&e[l][r]?e[l][r]:e[l][r]=c()}else s=c();65279===t.charCodeAt(0)&&(t=t.substring(1)),s.styleSheet?s.styleSheet.cssText+=t:s.appendChild(document.createTextNode(t))}function c(){var n=document.createElement("style");if(n.setAttribute("type","text/css"),i.attributes)for(var e=Object.keys(i.attributes),t=0;t<e.length;t++)n.setAttribute(e[t],i.attributes[e[t]]);var s="prepend"===r?"afterbegin":"beforeend";return a.insertAdjacentElement(s,n),n}}function i({tag:n,cssClass:e,text:t,onClick:i}){const s=document.createElement(n||"div");if(e&&s.classList.add(...e.split(" ")),t){const n=document.createTextNode(t);s.appendChild(n)}return i&&s.addEventListener("click",i),s}function s({text:n,onClick:e,iconBtn:t,rbc:s}){const r=i({tag:"button",cssClass:t?"icon-btn":"",onClick:e});return n&&(s?function(n,e){n.appendChild(i({tag:"span",text:e,cssClass:"rbc"}))}(r,n):r.innerHTML=n),r}t("html,\nbody {\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n}\n\nhtml {\n  font-size: 12px;\n}\n@media (min-width: 375px) {\n  html {\n    font-size: 16px;\n  }\n}\n@media (min-width: 480px) {\n  html {\n    font-size: 20px;\n  }\n}\n@media (min-width: 600px) {\n  html {\n    font-size: 24px;\n  }\n}\n\nbody {\n  background: #09162a;\n  color: white;\n  font-family: sans-serif;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  hyphens: auto;\n  overflow: hidden;\n}\n\n.main-container {\n  text-align: center;\n  display: grid;\n  gap: 1.5rem;\n  grid-auto-rows: min-content;\n  justify-items: center;\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n}\n\nheader {\n  display: grid;\n  box-sizing: border-box;\n  padding: 0.5rem 1rem;\n  grid-template-columns: auto 1fr auto;\n  align-items: center;\n  gap: 0.1rem 1.5rem;\n  width: 100%;\n  font-family: cursive;\n}\nheader h1 {\n  font-size: 1.3rem;\n  margin: 0;\n}\n\n.btn-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap-reverse;\n  gap: 0 1rem;\n  padding: 0 1rem;\n  margin: -0.5rem 0;\n}\n.btn-container .btn-container {\n  padding: 0;\n}\n.btn-container .possible-number-container {\n  display: flex;\n  gap: 1rem;\n  font-style: italic;\n  font-size: 0.9em;\n  align-items: center;\n}\n\n.number-input,\n.submit-btn,\n.guess-list {\n  width: 90vw;\n  max-width: 500px;\n}\n\n.guess-list {\n  max-width: 600px;\n}\n\n.submit-btn {\n  font-size: 0.8em;\n}\n\n.cheat-sheet-btn {\n  padding: 0.25rem 0.5rem;\n  margin: 0.5rem;\n}\n\n.cheat-sheet-btn .cheat-lock,\n.filter-btn .cheat-lock {\n  margin-left: 0.5rem;\n  display: inline-block;\n  color: red;\n}\n.cheat-sheet-btn.unlocked .cheat-lock,\n.filter-btn.unlocked .cheat-lock {\n  display: none;\n}\n\ninput {\n  box-sizing: border-box;\n  font-size: 2rem;\n  width: 100%;\n  background: #152134;\n  border: 1px solid #213345;\n  color: white;\n  text-align: center;\n  border-radius: 4px;\n}\ninput::placeholder {\n  font-size: 0.7em;\n  color: #96a6b6;\n  font-style: italic;\n}\ninput:focus-within {\n  outline: none;\n  border-color: cyan;\n}\n\nbutton,\nlabel {\n  font-family: sans-serif;\n  cursor: pointer;\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  background-color: rgba(255, 255, 255, 0.06);\n  padding: 1rem 2rem;\n  border-radius: 0.4rem;\n}\n@media (hover: hover) and (pointer: fine) {\n  button:hover,\n  label:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n}\nbutton.touching,\nlabel.touching {\n  background-color: rgba(255, 255, 255, 0.1);\n}\nbutton.primary-btn,\nlabel.primary-btn {\n  border: 1px solid #5599ff;\n  background-color: rgba(85, 153, 255, 0.1);\n}\n@media (hover: hover) and (pointer: fine) {\n  button.primary-btn:hover,\n  label.primary-btn:hover {\n    background-color: rgba(85, 153, 255, 0.2);\n  }\n}\nbutton.primary-btn.touching,\nlabel.primary-btn.touching {\n  background-color: rgba(85, 153, 255, 0.2);\n}\nbutton[disabled],\nlabel[disabled] {\n  opacity: 0.3;\n  pointer-events: none;\n}\n\nbutton.icon-btn {\n  background: none;\n  border: none;\n}\n@media (hover: hover) and (pointer: fine) {\n  button.icon-btn:hover {\n    background: none;\n  }\n}\nbutton.touching.icon-btn {\n  background: none;\n}\n\nbutton.icon-btn {\n  padding: 0.5rem;\n  font-size: 0.9em;\n  color: #ccc;\n  transform: scale(1);\n  transition: transform 0.3s;\n}\n@media (hover: hover) and (pointer: fine) {\n  button.icon-btn:hover {\n    transform: scale(1.2);\n  }\n}\nbutton.icon-btn.touching {\n  transform: scale(1.2);\n}\n\n.config-container {\n  display: grid;\n  grid-auto-rows: 1fr;\n  gap: 1.5rem;\n  padding: 2rem;\n}\n.config-container button {\n  font-size: 1.5em;\n}\n\n.revealed-properties {\n  margin-bottom: 2rem;\n}\n\n.rules-text {\n  max-width: 650px;\n  margin: 1rem auto;\n  padding: 0 1rem;\n  text-align: left;\n}\n.rules-text strong {\n  color: cyan;\n}",{});const r=1201,o=1300,a={language:"en",minNum:r,maxNum:o,tries:0,x:void 0,xProperties:void 0,checkForPrimes:0},l={};function c(){Object.assign(l,a),l.maxNum=Math.max(d("max",o),9),l.minNum=Math.max(Math.min(d("min",r),l.maxNum),1)}function d(n,e){const t=window.location.search,i=new URLSearchParams(t).get(n);let s=i?Number(i):e;return s=isNaN(s)?e:s,s}function u(n){return n.filter(((e,t)=>n.indexOf(e)===t))}function p(n,e){return n.length===e.length&&n.sort().every(((n,t)=>n===e.sort()[t]))}function m(n,e){return n.filter((n=>e.includes(n)))}c();t(".stars {\n  display: flex;\n  justify-content: center;\n  transition: transform 0.3s, color 0.3s;\n}\n.stars.zero {\n  opacity: 0.2;\n}\n.stars.new-star {\n  transform: scale(3);\n  color: lime;\n}\n.stars.lost-star {\n  transform: scale(3);\n  color: red;\n}\n\nbody.win .stars {\n  color: gold;\n}\n\n.global-stars {\n  transition: transform 1s, color 1s;\n}\n.global-stars.new-star {\n  transform: scale(2);\n  color: gold;\n}\n\n.star-container {\n  margin-bottom: 1rem;\n}\n.star-container .stars {\n  color: gold;\n}",{});const g={NEW_GAME:0,GAME_OVER:1,STARS_CHANGED:2};const h=new class{constructor(){this._subscriptions={}}subscribe(n,e){this._subscriptions[n]||(this._subscriptions[n]=[]),this._subscriptions[n].push(e)}unsubscribe(n,e){this._subscriptions[n]&&(this._subscriptions[n]=this._subscriptions[n].filter((n=>n!==e)))}publish(n,e){this._subscriptions[n]&&this._subscriptions[n].forEach((n=>n(e)))}},f="mxlle-13th",b={STAR_MAP:"starMap"};function x(n,e){0!=e?localStorage.setItem(f+"."+n,e):function(n){localStorage.removeItem(f+"."+n)}(n)}const E="☆",C="★",v="zero",T=5;let y,S=T,w=0;function I(n){const e=i({cssClass:"stars"});for(let n=0;n<T;n++)e.appendChild(i({}));return N(e,n),e}function N(n,e){n.classList.toggle(v,0===e);for(let t=0;t<T;t++)n.children[t].textContent=e>t?C:E}function k(){const n=i({cssClass:"star-chart"}),e=[],t=L();for(let s=l.minNum;s<=l.maxNum;s++){const r=t[s],o=i({cssClass:"star-container"});o.appendChild(i({text:s,cssClass:"number"})),o.appendChild(I(r??0)),void 0===r?e.push(o):n.appendChild(o)}for(const t of e)n.appendChild(t);return n}function O(){return`${b.STAR_MAP}-${l.minNum}-${l.maxNum}`}function L(){const n=(e=O(),localStorage.getItem(f+"."+e));var e;return n?JSON.parse(n):{}}function R(){const n=L();let e=0;for(let t=l.minNum;t<=l.maxNum;t++)e+=n[t]??0;w=e,function(){const n=(l.maxNum-l.minNum+1)*T;y.innerHTML=`⭐️ ${w}/${n} 🏆`}(),document.body.classList.toggle("has-stars",w>0)}const D=15,P=[7,13,30,42],A=[13,42];function M(){l.x=function(){const n=L(),e=[];for(let t=l.minNum;t<=l.maxNum;t++){const i=n[t]??0;let s=Math.max(1,T-i);s=Math.round(.5*s);for(let n=0;n<s;n++)e.push(t)}return e[(t=0,i=e.length-1,Math.floor(Math.random()*(i-t+1)+t))];var t,i}(),l.xProperties=F(l.x)}function _(n,e){if(l.tries++,n===l.x)return 1;return function(n,e){const t={};for(const i in n)(n[i]===e[i]||Array.isArray(n[i])&&p(n[i],e[i]))&&(t[i]=n[i]);if(l.tries>D){const i=m(u(n.digits),u(e.digits));i.length>0&&(t.commonDigits=i)}const i=m(n.factors,e.factors);i.length>0&&(t.greatestCommonDivisor=Math.max(...i));return t}(e,l.xProperties)}function F(n){const e=function(n){const e=[];for(let t=2;t<=n;t++)n%t==0&&e.push(t);return e}(n),t=z(n),i=[...new Set(t)],s=t.length,r=1===t.length,o=n%2==0,a=n.toString().split("").map((n=>parseInt(n))),l=a.reduce(((n,e)=>n+e),0);return{value:n,factors:e,primeFactorization:t,primeFactorizationCount:s,uniquePrimeFactors:i,isPrime:r,isEven:o,digits:a,sumOfDigits:l}}function z(n){const e=[];let t=n;for(let i=2;i<=n;i++)t%i==0&&(e.push(i),t/=i,i--);return e}function H({value:n,min:e,max:t,placeholder:r,onChange:o,onBlur:a,hideButtons:l}){const c=i({cssClass:"number-input"}),d=i({tag:"input"});if(d.type="number",d.value=n,r&&d.setAttribute("placeholder",r),e&&(d.min=e),t&&(d.max=t),o&&d.addEventListener("change",o),a&&d.addEventListener("blur",a),l)c.appendChild(d);else{const u=s({iconBtn:1,text:"▽️",rbc:1}),p=s({iconBtn:1,text:"△️",rbc:1});function m(){u.disabled=e&&d.value<=e,p.disabled=t&&d.value>=t}m(),u.addEventListener("click",(()=>{(!e||d.value>e)&&(d.value--,o&&o()),m()})),p.addEventListener("click",(()=>{(!t||d.value<t)&&(d.value++,o&&o()),m()})),c.appendChild(u),c.appendChild(d),c.appendChild(p)}return{container:c,input:d,validate:()=>function(n,e){const t=Number(n.value),i=Number(n.min),s=Number(n.max);i&&t<i&&(n.value=i);s&&t>s&&(n.value=s);e&&e()}(d,checkDisabledStates)}}t(".number-input button {\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n.number-input input::-webkit-outer-spin-button,\n.number-input input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.number-input input[type=number] {\n  -moz-appearance: textfield; /* Firefox */\n}",{});t('.guess-list {\n  display: grid;\n  grid-template-columns: repeat(2, min-content) 1fr;\n  grid-auto-rows: min-content;\n  gap: 2rem;\n  align-items: center;\n}\n.guess-list .guess-list-entry {\n  display: contents;\n}\n.guess-list .guess-list-entry > div:first-child {\n  white-space: nowrap;\n  color: #aaa;\n}\n.guess-list .guess-list-entry > div:nth-child(2) {\n  white-space: nowrap;\n  font-weight: bold;\n  font-size: 1.5em;\n}\n.guess-list .guess-list-entry > div:last-child {\n  text-align: left;\n}\n.guess-list .digit-hint {\n  grid-column: 1/4;\n  font-style: italic;\n  color: #aaa;\n  max-width: 80vw;\n}\n.guess-list .guess-list-entry > div,\n.guess-list .digit-hint {\n  max-height: 8rem;\n  opacity: 1;\n  transition: max-height 0.5s ease-in, opacity 0.5s ease-in;\n  text-align: left;\n  align-self: center;\n}\n.guess-list .guess-list-entry > div:nth-child(n+2),\n.guess-list .digit-hint:nth-child(n+2) {\n  transition-delay: 0s, 0.5s;\n}\n.guess-list .guess-list-entry.hidden > div,\n.guess-list .digit-hint.hidden {\n  max-height: 0;\n  opacity: 0;\n}\n.guess-list .guess-prime-factors > * {\n  display: inline-block;\n}\n.guess-list .guess-prime-factors > *:not(:last-child):after {\n  content: ", ";\n}\n.guess-list .correct-result {\n  animation: scaleJump 1s;\n  animation-delay: 0.5s;\n  font-weight: bold;\n  font-size: 1.5em;\n  color: lime;\n}\n\n@keyframes scaleJump {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.5);\n  }\n  100% {\n    transform: scale(1);\n  }\n}',{});const G={PROMPT:0,BETWEEN:1,AND:2,PLACEHOLDER:3,SUBMIT:4,PLAY_AGAIN:5,DIFFICULTY:6,CENTURY:7,BEGINNER:8,EASY:9,MEDIUM:10,HARD:11,CORRECT:12,ODD:13,EVEN:14,PRIME:15,DIGITS:16,COMMON_DIGITS:17,COMMON_DIGITS_HINT:18,SUM_OF_DIGITS:19,PRIME_FACTORIZATION:20,GREATEST_COMMON_DIVISOR:21,CHEAT_SHEET:22,POSSIBILITIES:23,POSSIBILITIES_OF:24,NUMBER:25,SECRET:26,EVEN_ODD:27,SECRET_PROPERTIES:28,RULES:29,RULES_TEXT:30,STAR_CHART:31,FILTER_ON:32,FILTER_OFF:33},B={[G.PROMPT]:{en:"Find X",de:"Bestimme X"},[G.BETWEEN]:{en:"between",de:"zwischen"},[G.AND]:{en:"and",de:"und"},[G.PLACEHOLDER]:{en:"enter guess",de:"Nummer eingeben"},[G.SUBMIT]:{en:"Submit",de:"Absenden"},[G.PLAY_AGAIN]:{en:"Play again",de:"Nochmal spielen"},[G.DIFFICULTY]:{en:"Difficulty",de:"Schwierigkeit"},[G.CENTURY]:{en:"13th century",de:"13. Jahrhundert"},[G.BEGINNER]:{en:"Beginner",de:"Anfänger"},[G.EASY]:{en:"Easy",de:"Leicht"},[G.MEDIUM]:{en:"Medium",de:"Mittel"},[G.HARD]:{en:"Hard",de:"Schwer"},[G.CORRECT]:{en:"Correct!",de:"Richtig!"},[G.ODD]:{en:"odd",de:"ungerade"},[G.EVEN]:{en:"even",de:"gerade"},[G.PRIME]:{en:"Prime",de:"Primzahl"},[G.DIGITS]:{en:"Same digits",de:"Gleiche Ziffern"},[G.COMMON_DIGITS]:{en:"Common digits",de:"Gemeinsame Ziffern"},[G.COMMON_DIGITS_HINT]:{en:"Still guessing? Activated additional hint for common digits.",de:"Immer noch nicht? Hinweis für gemeinsame Ziffern aktiviert."},[G.SUM_OF_DIGITS]:{en:"Sum of digits",de:"Quersumme"},[G.PRIME_FACTORIZATION]:{en:"Prime factors",de:"Primfaktoren"},[G.GREATEST_COMMON_DIVISOR]:{en:"GCD",de:"ggT"},[G.CHEAT_SHEET]:{en:"Cheat sheet",de:"Spickzettel"},[G.POSSIBILITIES]:{en:"Possibilities",de:"Möglichkeiten"},[G.POSSIBILITIES_OF]:{en:"of {0}",de:"von {0}"},[G.NUMBER]:{en:"Number",de:"Zahl"},[G.SECRET]:{en:"Secret",de:"Geheimzahl"},[G.EVEN_ODD]:{en:"Even/Odd",de:"(Un-)Gerade"},[G.SECRET_PROPERTIES]:{en:"Properties of the secret",de:"Eigenschaften der Geheimzahl"},[G.RULES]:{en:"Rules",de:"Regeln"},[G.RULES_TEXT]:{en:'\n<p>The game is about finding a <strong>secret number</strong>. </p>\n\n<p>The <strong>range</strong> is displayed in the title and depends on the selected difficulty. <br/>\nEnter a guess in the input field and submit it by pressing the "Submit" button or the "Enter" key. </p>\n\n<p>The game will then tell you if your guess is correct or not. <br/>\nIf your guess is not correct, the game will tell you <strong>some properties of the secret number that match the current guess. </strong><br/>\nYou can use these properties to find the secret number.  </p>\n\n<p>There is also a <strong>cheat sheet</strong> that shows you all numbers that are still possible. </p>\n\n<p>In each game you can score <strong>up to 5 stars</strong>. Stars get lost if you need too many guesses or use the cheat sheet filter. <br/>\nFun fact: If you need exactly 13 guesses you will win one star back. </p>\n\n<p>The game ends when you have found the secret number. <br/>\nYou can then play again with a new random number.  </p>\n\n<p><strong>Have fun!</strong> </p>\n    ',de:'\n<p>Im Spiel geht es darum, eine <strong>geheime Zahl</strong> zu finden.</p>\n\n<p>Der <strong>Zahlenbereich</strong> wird im Titel angezeigt und hängt von der ausgewählten Schwierigkeit ab.<br/>\nGib einen Rateversuch in das Eingabefeld ein und bestätige ihn durch Drücken der Schaltfläche "Absenden" oder der Eingabetaste. </p>\n\n<p>Das Spiel sagt dir dann, ob dein Versuch richtig ist oder nicht.<br/>\nWenn dein Versuch nicht richtig ist, werden <strong>einige Eigenschaften der Geheimzahl angezeigt, die mit dem aktuellen Versuch übereinstimmen.</strong><br/>\nDu kannst diese Eigenschaften verwenden, um die geheime Zahl zu finden. </p>\n\n<p>Es gibt auch einen <strong>Spickzettel</strong>, der dir alle Zahlen anzeigt, die noch möglich sind. </p>\n\n<p>In jedem Spiel kannst du <strong>bis zu 5 Sterne</strong> sammeln. Sterne gehen verloren, wenn du zu viele Versuche brauchst oder den Spickzettel-Filter benutzt. <br/>\nFun fact: Wenn du genau 13 Versuche brauchst, erhälst du einen Stern zurück</p>\n\n<p>Das Spiel endet, wenn du die geheime Zahl gefunden hast.<br/>\nDu kannst dann erneut spielen mit einer neuen zufälligen Zahl. </p>\n\n<p><strong>Viel Spaß!</strong> </p>\n    '},[G.STAR_CHART]:{en:"🏆 Your results ⭐️",de:"🏆 Deine Ergebnisse ⭐️"},[G.FILTER_ON]:{en:"Only show possible values ({0})",de:"Nur mögliche Werte anzeigen ({0})"},[G.FILTER_OFF]:{en:"Show all values ({0})",de:"Alle Werte anzeigen ({0})"}};function U(n,...e){let t=(i=navigator.language,i?.slice(0,2));var i;return t=t in B[n]?t:"en",document.documentElement.setAttribute("lang",t),e.length>0?B[n][t].replace("{0}",e[0]):B[n][t]}let Y;function $(){return Y=i({cssClass:"guess-list"}),Y}function V(n,e,t){const s=i({cssClass:"guess-list-entry"});if(s.append(i({text:l.tries+".)"})),s.append(i({text:n.value+" ?"})),1==e){const n=i({cssClass:"correct-result",text:U(G.CORRECT)});s.append(n)}else{const r=i({text:n.isEven?U(G.EVEN):U(G.ODD),cssClass:void 0!==e.isEven?"matching":"not-matching"}),o=i({text:n.isPrime?"prime":"not prime",cssClass:1==e.isPrime||t&&!n.isPrime?"matching":t?"not-matching":"match-unknown"}),a=z(e.greatestCommonDivisor),c=i({cssClass:"guess-prime-factors"});for(let e of n.primeFactorization){const n=a.includes(e);n&&a.splice(a.indexOf(e),1);const t=i({text:e,cssClass:n?"matching":"not-matching"});c.append(t)}const d=i({text:n.sumOfDigits,cssClass:void 0!==e.sumOfDigits?"matching":"not-matching"});s.append(r),l.checkForPrimes&&s.append(o),s.append(c),s.append(d)}var r;(r=s).classList.add("hidden"),Y.prepend(r),setTimeout((()=>{r.classList.remove("hidden")}))}t(".dialog {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background: black;\n  color: white;\n  display: grid;\n  grid-template-rows: 1fr min-content;\n  text-align: center;\n  transform: translateY(0);\n  opacity: 1;\n  transition: transform 0.5s, opacity 0.5s;\n}\n.dialog:not(.open) {\n  transform: translateY(100%);\n  opacity: 0;\n  pointer-events: none;\n}\n.dialog.has-header {\n  grid-template-rows: min-content 1fr min-content;\n}\n.dialog .content {\n  display: grid;\n  margin-bottom: 1.5rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.dialog .content.is-overflowing {\n  align-content: start;\n}\n.dialog .icon-btn {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n}\n\n.btns {\n  background: black;\n  display: grid;\n  gap: 1rem;\n  margin: 1rem;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  align-items: center;\n  justify-content: center;\n  max-width: 800px;\n  width: calc(100% - 2rem);\n  justify-self: center;\n}\n.btns button {\n  white-space: nowrap;\n}",{});let Z=0;function j(n,e,t){const r=i({cssClass:"dialog",onClick:n=>n.stopPropagation()});let o;t&&(o=i({tag:"h2",text:t}),r.appendChild(o),r.classList.add("has-header"));const a=i({cssClass:"content"});function l(){Z--,r.classList.remove("open")}let c,d,u;return a.appendChild(n),r.appendChild(a),void 0!==e&&(c=i({cssClass:"btns"}),d=s({text:"Cancel",onClick:l}),c.appendChild(d),u=s({text:e,onClick:l}),u.classList.add("primary-btn"),c.appendChild(u),r.appendChild(c)),r.appendChild(s({text:"X",onClick:l,iconBtn:1})),document.body.appendChild(r),{open:n=>(Z++,r.style.zIndex=Z.toString(),n?r.classList.add("open"):setTimeout((()=>r.classList.add("open")),0),a.classList.toggle("is-overflowing",a.scrollHeight>a.clientHeight),a.scrollTop=0,new Promise(((n,e)=>{d?.addEventListener("click",(()=>n(0))),u?.addEventListener("click",(()=>n(1)))}))),close:()=>l(),changeHeader:n=>{o&&(o.innerText=n)},toggleSubmitDisabled:n=>{u&&(u.disabled=n)},recreateDialogContent:n=>{a.innerHTML="",a.appendChild(n)}}}t(".cheat-sheet {\n  display: grid;\n  grid-template-columns: repeat(3, min-content);\n  gap: 1rem;\n  grid-auto-rows: min-content;\n  margin: 1rem auto;\n}\n.cheat-sheet .filter-btn {\n  grid-column: 1/-1;\n}\n.cheat-sheet .cheat-sheet-entry {\n  display: contents;\n}\n.cheat-sheet .cheat-sheet-entry div {\n  white-space: nowrap;\n  text-align: left;\n}\n\n.filter-off-text {\n  display: none;\n}\n\nbody.filter-on .cheat-sheet-entry.not-possible {\n  display: none;\n}\nbody.filter-on .filter-on-text {\n  display: none;\n}\nbody.filter-on .filter-off-text {\n  display: inline-block;\n}",{});let W,X,K,J,q,Q,nn,en,tn,sn,rn;t(".revealed-properties {\n  display: grid;\n  grid-template-columns: repeat(5, auto);\n  gap: 1rem;\n  grid-auto-rows: min-content;\n  margin: 0 auto;\n}\n.revealed-properties.has-prime {\n  grid-template-columns: repeat(6, auto);\n}\n.revealed-properties .guess-list {\n  display: contents;\n}\n.revealed-properties h2 {\n  grid-column: 1/-1;\n  text-align: center;\n  font-family: cursive;\n  font-size: 1.3rem;\n  margin: 0;\n}\n.revealed-properties .correct-result {\n  grid-column: 3/-1;\n}\n.revealed-properties .matching {\n  color: lime;\n  font-weight: bold;\n}\n.revealed-properties .not-matching {\n  color: red;\n  text-decoration: line-through;\n}\n.revealed-properties .match-unknown {\n  color: #aaa;\n}\n.revealed-properties .table-row {\n  display: contents;\n}\n.revealed-properties .table-row > div {\n  text-align: left;\n  max-width: 240px;\n}\n.revealed-properties .table-row > div:first-child {\n  padding-left: 1rem;\n}\n.revealed-properties .table-row > div:last-child {\n  padding-right: 1rem;\n}\n.revealed-properties .table-row > div.secret {\n  font-weight: bold;\n  color: cyan;\n  padding-right: 1rem;\n}\n.revealed-properties .not-matching-subtle {\n  color: #aaa;\n  text-decoration: line-through;\n}\n\nbody.win .table-row > div.secret {\n  color: lime;\n  animation: scaleJump 1s;\n  animation-delay: 0.5s;\n}",{});let on,an=[],ln=[],cn=0,dn=0,un=0;function pn(){return{currentGreatestKnownDivisorProperties:on,isEvenKnown:un,isPrimeKnown:dn,isSumOfDigitsMatched:cn,knownExcludedPrimeFactors:an,knownExcludedSumOfDigits:ln}}function mn(n){X||(X=n,W.append(n))}function gn(n,e){var t;1===l.tries&&(t=l.xProperties.isEven,un=1,J.innerText=U(t?G.EVEN:G.ODD),J.classList.add("matching")),1==n?(K.innerText=l.x,on=l.xProperties,bn(l.xProperties.primeFactorization,1),xn(l.xProperties.sumOfDigits),hn(l.xProperties.isPrime)):(l.checkForPrimes&&(e.isPrime||n.isEven&&l.minNum>2)&&hn(n.isPrime),n.greatestCommonDivisor&&function(n){if(n!==on?.value){const e=F(n);if(on){const n=function(n,e){const t=m(n.factors,e.factors),i=t.length>0?Math.max(...t):1;return n.value*e.value/i}(e,on);n!==on.value&&(on=F(n),bn(on.primeFactorization))}else on=e,bn(e.primeFactorization)}}(n.greatestCommonDivisor),n.sumOfDigits?xn(n.sumOfDigits):1!=n&&function(n){if(cn)return;ln.includes(n)||ln.push(n);sn.innerText="X: "+ln.sort(((n,e)=>n-e)).join(", ")}(e.sumOfDigits),function(n){if(!on)return void fn(n.primeFactorization);const e=[...on.primeFactorization],t=n.primeFactorization;fn(t.filter((n=>e.includes(n)?(e.splice(e.indexOf(n),1),0):1)))}(e))}function hn(n){dn||(dn=1,q.innerText=n?"✅":"❌")}function fn(n){for(const e of n)an.includes(e)||an.push(e);const e=an.sort(((n,e)=>n-e)).map((n=>on?.primeFactorization.includes(n)?n+"+":n));tn.innerText="X: "+e.join(", ")}function bn(n,e){const t=e?"✅: ":"✔: ",i=e?"":", ... ?",s=n.sort(((n,e)=>n-e)).join(", ")||"?";en.innerText=t+s+i}function xn(n){cn||(cn=1,rn.innerText="✅: "+n)}let En,Cn,vn,Tn,yn,Sn,wn,In,Nn=[],kn=[],On=[],Ln=[],Rn=0,Dn=0;function Pn(n){if(!Nn?.length){const n=l.minNum,e=l.maxNum;Nn=new Array(e-n+1).fill(1).map(((e,t)=>t+n)),kn=[...Nn],On=Nn.map((n=>F(n))),Ln=[...On]}const{currentGreatestKnownDivisorProperties:e,isEvenKnown:t,isPrimeKnown:i,isSumOfDigitsMatched:s,knownExcludedPrimeFactors:r,knownExcludedSumOfDigits:o}=pn();if(t){const n=e?.value;On=On.filter((t=>{if(n){if(!(t.value%n==0))return 0}if(s){if(!(t.sumOfDigits===l.xProperties.sumOfDigits))return 0}if(i){if(!(t.isPrime===l.xProperties.isPrime))return 0}if(!!o.includes(t.sumOfDigits))return 0;if(r?.length>0){const n=e?.primeFactorization?[...e.primeFactorization]:[];for(let e=0;e<t.primeFactorization.length;e++){const i=t.primeFactorization[e];if(r.includes(i)&&!n.includes(i))return 0;n.includes(i)&&n.splice(n.indexOf(i),1)}}return l.xProperties.isEven===t.isEven?1:0})),On.length!==Nn.length&&(Nn=On.map((n=>n.value)))}if(n){const e=Nn.length,t=kn.length,i=e===t?"":` (${U(G.POSSIBILITIES_OF,t)})`;n.innerHTML=`${U(G.POSSIBILITIES)}: ${e}${i}`}}function An(n){const e=i({cssClass:"cheat-sheet"});Nn.length<kn.length&&(En=s({text:"",onClick:()=>{Rn||(Rn=1,En.classList.add("unlocked"),h.publish(g.STARS_CHANGED,-1)),Dn=!Dn,document.body.classList.toggle("filter-on",Dn)}}),En.classList.add("filter-btn"),Rn&&En.classList.add("unlocked"),En.appendChild(i({text:U(G.FILTER_ON,Nn.length),cssClass:"filter-on-text",tag:"span"})),En.appendChild(i({text:U(G.FILTER_OFF,kn.length),cssClass:"filter-off-text",tag:"span"})),En.appendChild(i({text:`🔓 -${C}`,cssClass:"cheat-lock",tag:"span"})),e.append(En));const t=i({cssClass:"cheat-sheet-entry"});t.append(i({text:U(G.NUMBER)})),t.append(i({text:U(G.PRIME_FACTORIZATION)})),t.append(i({text:U(G.SUM_OF_DIGITS)})),e.append(t);const r=[...Ln];n&&r.sort(((n,e)=>e.primeFactorizationCount-n.primeFactorizationCount));for(let n=0;n<r.length;n++){const t=r[n],s=i({cssClass:"cheat-sheet-entry"});s.append(i({text:t.value})),s.append(i({text:t.primeFactorization.join(", ")})),s.append(i({text:t.sumOfDigits})),e.append(s),Nn.includes(t.value)||s.classList.add("not-possible")}return e}function Mn(){c(),M(),Y.innerHTML="",J.innerText="?",J.classList.remove("matching"),q.innerText="?",K.innerText="?",on=void 0,an=[],ln=[],cn=0,un=0,dn=0,en.innerText="☑️: ?",sn.innerText="",rn.innerText="☑️: ?",tn.innerText="",Nn=[],kn=[],On=[],Ln=[],Rn=0,Dn=0,document.body.classList.remove("filter-on"),En?.classList.remove("unlocked"),Pn(wn),Tn&&Tn.recreateDialogContent(An()),h.publish(g.NEW_GAME),document.body.classList.remove("win"),Cn.innerHTML=U(G.SUBMIT)}function _n(){vn||(vn=j(function(){const n=i({cssClass:"config-container"});function e(n,e){vn.close(),setTimeout((()=>{const t=new URLSearchParams;t.set("min",n),t.set("max",e),window.location.search=t.toString()}),300)}return n.append(s({text:U(G.CENTURY)+" (1201-1300)",onClick:()=>{e(1201,1300)}})),n.append(s({text:U(G.BEGINNER)+" (1-9)",onClick:()=>{e(1,9)}})),n.append(s({text:U(G.EASY)+" (10-99)",onClick:()=>{e(10,99)}})),n.append(s({text:U(G.MEDIUM)+" (100-999)",onClick:()=>{e(100,999)}})),n.append(s({text:U(G.HARD)+" (1000-9999)",onClick:()=>{e(1e3,9999)}})),n}(),void 0,U(G.DIFFICULTY))),vn.open()}async function Fn(){Tn||(Tn=j(An(),void 0,U(G.CHEAT_SHEET))),Tn.open()}function zn(){Sn||(Sn=j(k(),void 0,U(G.STAR_CHART))),Sn.open()}!function(){M();const n=i({tag:"header"});n.append(s({text:"🔄",onClick:Mn,iconBtn:1})),n.append(i({tag:"h1",text:`${U(G.PROMPT)} ${U(G.BETWEEN)} ${l.minNum} ${U(G.AND)} ${l.maxNum}`})),n.append(s({text:"⚙️",onClick:_n,iconBtn:1}));const e=$(),t=H({min:l.minNum,max:l.maxNum,hideButtons:1,placeholder:U(G.PLACEHOLDER)});function r(){if(Cn.innerHTML===U(G.PLAY_AGAIN))return void Mn();const n=parseInt(t.input.value);if(isNaN(n))return;const i=F(n),s=_(n,i);gn(s,i);V(i,s,pn().isPrimeKnown),Pn(wn),Tn&&Tn.recreateDialogContent(An()),mn(e),t.input.value="",1==s?(Cn.innerHTML=U(G.PLAY_AGAIN),document.body.classList.add("win"),A.includes(l.tries)&&h.publish(g.STARS_CHANGED,1),function(){const n=L(),e=n[l.x]??0;S>e&&(n[l.x]=Math.min(S,T),x(O(),JSON.stringify(n)),R(),y.classList.toggle("new-star",1),setTimeout((()=>y.classList.toggle("new-star",0)),1e3))}(),Sn?.recreateDialogContent(k())):(Cn.disabled=1,P.includes(l.tries)&&h.publish(g.STARS_CHANGED,-1))}t.input.addEventListener("keyup",(n=>{const e=!t.input.validity.rangeOverflow&&!t.input.validity.rangeUnderflow;Cn.disabled=!e,e&&"Enter"===n.key&&r()})),Cn=s({text:U(G.SUBMIT),onClick:()=>{r()}}),Cn.classList.add("submit-btn"),Cn.disabled=1;const o=function(){W=i({cssClass:"revealed-properties"});const n=i({text:U(G.SECRET_PROPERTIES),tag:"h2"});W.append(n);const e=i({cssClass:"table-row header-row"});e.append(i({text:""})),e.append(i({text:U(G.SECRET),cssClass:"secret"})),e.append(i({text:U(G.EVEN_ODD)})),l.checkForPrimes&&(e.append(i({text:U(G.PRIME)})),W.classList.add("has-prime")),e.append(i({text:U(G.PRIME_FACTORIZATION)})),e.append(i({text:U(G.SUM_OF_DIGITS)})),W.append(e),K=i({text:"?",cssClass:"secret"}),J=i({text:"?"}),q=i({text:"?"}),Q=i({cssClass:"prime-factors"}),en=i({text:"✔: ?"}),Q.appendChild(en),tn=i({text:"",cssClass:"not-matching-subtle"}),Q.appendChild(tn),nn=i({cssClass:"sum-of-digits"}),rn=i({text:"✔: ?"}),nn.appendChild(rn),sn=i({text:"",cssClass:"not-matching-subtle"}),nn.appendChild(sn);const t=i({cssClass:"table-row"});return t.append(i({text:""})),t.append(K),t.append(J),l.checkForPrimes&&t.append(q),t.append(Q),t.append(nn),W.append(t),W}(),a=i({cssClass:"possible-number-container"});wn=i({cssClass:"possible-numbers"}),a.append(wn),In=s({text:`👀 ${U(G.CHEAT_SHEET)}`,onClick:Fn,iconBtn:1}),In.classList.add("cheat-sheet-btn"),In.appendChild(i({text:`🔓 -${C}`,cssClass:"cheat-lock",tag:"span"})),In.classList.add("unlocked"),a.append(In),Pn(wn);const c=s({onClick:zn,iconBtn:1});c.classList.add("results-btn"),c.append((y||(y=i({cssClass:"global-stars"}),R()),y));const d=s({text:"❓ "+U(G.RULES),onClick:()=>{!function(){if(!yn){const n=i({cssClass:"rules-text"});n.innerHTML=U(G.RULES_TEXT),yn=j(n,void 0,U(G.RULES))}yn.open()}()},iconBtn:1});d.classList.add("rules-btn");const u=i({cssClass:"btn-container"});u.append(a);const p=i({cssClass:"btn-container"});p.append(c),p.append(d),u.append(p);const m=i({cssClass:"main-container"});document.body.appendChild(m),m.appendChild(n),m.appendChild(u),m.appendChild(function(){const n=I(T);return h.subscribe(g.STARS_CHANGED,(e=>{S=Math.max(Math.min(S+e,T),0),N(n,S);const t=e>0?"new-star":"lost-star";n.classList.toggle(t,1),setTimeout((()=>n.classList.toggle(t,0)),300)})),h.subscribe(g.NEW_GAME,(()=>{S=T,N(n,S)})),n}()),m.appendChild(t.container),m.appendChild(Cn),m.appendChild(o),mn(e)}()}();
