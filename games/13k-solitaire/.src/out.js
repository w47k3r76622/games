var aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={va:!0},ea={};try{ea.__proto__=da;ca=ea.va;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=ba;
function d(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,c);e&&Object.defineProperty(a,c,e)}else a[c]=b[c];a.xa=b.prototype}var la="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},f="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ma(a,b){if(b){var c=f;a=a.split(".");for(var e=0;e<a.length-1;e++){var g=a[e];g in c||(c[g]={});c=c[g]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&la(c,a,{configurable:!0,writable:!0,value:b})}}ma("Array.prototype.fill",function(a){return a?a:function(a,c,e){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==e||e>b)e=b;e=Number(e);0>e&&(e=Math.max(0,b+e));for(c=Number(c||0);c<e;c++)this[c]=a;return this}});function na(){na=function(){};f.Symbol||(f.Symbol=oa)}
var oa=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function pa(){na();var a=f.Symbol.iterator;a||(a=f.Symbol.iterator=f.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&la(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return qa(this)}});pa=function(){}}function qa(a){var b=0;return ra(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ra(a){pa();a={next:a};a[f.Symbol.iterator]=function(){return this};return a}
function sa(a){pa();var b=a[Symbol.iterator];return b?b.call(a):qa(a)}
ma("Promise",function(a){function b(a){this.H=0;this.O=void 0;this.B=[];var b=this.K();try{a(b.resolve,b.reject)}catch(G){b.reject(G)}}function c(){this.B=null}function e(a){return a instanceof b?a:new b(function(b){b(a)})}if(a)return a;c.prototype.H=function(a){null==this.B&&(this.B=[],this.L());this.B.push(a)};c.prototype.L=function(){var a=this;this.K(function(){a.S()})};var g=f.setTimeout;c.prototype.K=function(a){g(a,0)};c.prototype.S=function(){for(;this.B&&this.B.length;){var a=this.B;this.B=
[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(B){this.O(B)}}}this.B=null};c.prototype.O=function(a){this.K(function(){throw a;})};b.prototype.K=function(){function a(a){return function(e){c||(c=!0,a.call(b,e))}}var b=this,c=!1;return{resolve:a(this.ra),reject:a(this.L)}};b.prototype.ra=function(a){if(a===this)this.L(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.sa(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=
!0;break a;default:c=!1}c?this.qa(a):this.S(a)}};b.prototype.qa=function(a){var b=void 0;try{b=a.then}catch(G){this.L(G);return}"function"==typeof b?this.ta(b,a):this.S(a)};b.prototype.L=function(a){this.ka(2,a)};b.prototype.S=function(a){this.ka(1,a)};b.prototype.ka=function(a,b){if(0!=this.H)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.H);this.H=a;this.O=b;this.pa()};b.prototype.pa=function(){if(null!=this.B){for(var a=0;a<this.B.length;++a)m.H(this.B[a]);this.B=
null}};var m=new c;b.prototype.sa=function(a){var b=this.K();a.$(b.resolve,b.reject)};b.prototype.ta=function(a,b){var c=this.K();try{a.call(b,c.resolve,c.reject)}catch(B){c.reject(B)}};b.prototype.then=function(a,c){function e(a,b){return"function"==typeof a?function(b){try{g(a(b))}catch(W){l(W)}}:b}var g,l,m=new b(function(a,b){g=a;l=b});this.$(e(a,g),e(c,l));return m};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.$=function(a,b){function c(){switch(e.H){case 1:a(e.O);break;
case 2:b(e.O);break;default:throw Error("Unexpected state: "+e.H);}}var e=this;null==this.B?m.H(c):this.B.push(c)};b.resolve=e;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,c){for(var g=sa(a),l=g.next();!l.done;l=g.next())e(l.value).$(b,c)})};b.all=function(a){var c=sa(a),g=c.next();return g.done?e([]):new b(function(a,b){function l(b){return function(c){H[b]=c;m--;0==m&&a(H)}}var H=[],m=0;do H.push(void 0),m++,e(g.value).$(l(H.length-1),b),g=c.next();
while(!g.done)})};return b});function ta(){this.B=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+b)]=a[b]||0;.01>this.c&&(this.c=.01);a=this.b+this.c+this.e;.18>a&&(a=.18/a,this.b*=a,this.c*=a,this.e*=a)}}
var ua=new function(){this.B=new ta;var a,b,c,e,g,m,l,A,G,B,C,Da;this.H=function(){var a=this.B;e=100/(a.f*a.f+.001);g=100/(a.g*a.g+.001);m=1-a.h*a.h*a.h*.01;l=-a.i*a.i*a.i*1E-6;a.a||(C=.5-a.n/2,Da=5E-5*-a.o);A=1+a.l*a.l*(0<a.l?-.9:10);G=0;B=1==a.m?0:(1-a.m)*(1-a.m)*2E4+32};this.L=function(){this.H();var e=this.B;a=e.b*e.b*1E5;b=e.c*e.c*1E5;c=e.e*e.e*1E5+12;return 3*((a+b+c)/3|0)};this.K=function(H,Ca){var k=this.B,W=1!=k.s||k.v,I=k.v*k.v*.1,Ea=1+3E-4*k.w,D=k.s*k.s*k.s*.1,cb=1+1E-4*k.t,db=1!=k.s,
eb=k.x*k.x,fb=k.g,Fa=k.q||k.r,gb=k.r*k.r*k.r*.2,Ga=k.q*k.q*(0>k.q?-1020:1020),Ha=k.p?((1-k.p)*(1-k.p)*2E4|0)+32:0,hb=k.d,Ia=k.j/2,ib=k.k*k.k*.01,ha=k.a,ia=a,jb=1/a,kb=1/b,lb=1/c;k=5/(1+k.u*k.u*20)*(.01+D);.8<k&&(k=.8);k=1-k;for(var ja=!1,Ja=0,N=0,O=0,Ka=0,X=0,P,Q=0,t,E=0,F,ka=0,n,La=0,J,Ma=0,Y=Array(1024),R=Array(32),v=Y.length;v--;)Y[v]=0;for(v=R.length;v--;)R[v]=2*Math.random()-1;for(v=0;v<Ca;v++){if(ja)return v;Ha&&++La>=Ha&&(La=0,this.H());B&&++G>=B&&(B=0,e*=A);m+=l;e*=m;e>g&&(e=g,0<fb&&(ja=!0));
t=e;0<Ia&&(Ma+=ib,t*=1+Math.sin(Ma)*Ia);t|=0;8>t&&(t=8);ha||(C+=Da,0>C?C=0:.5<C&&(C=.5));if(++N>ia)switch(N=0,++Ja){case 1:ia=b;break;case 2:ia=c}switch(Ja){case 0:O=N*jb;break;case 1:O=1+2*(1-N*kb)*hb;break;case 2:O=1-N*lb;break;case 3:O=0,ja=!0}Fa&&(Ga+=gb,F=Ga|0,0>F?F=-F:1023<F&&(F=1023));W&&Ea&&(I*=Ea,1E-5>I?I=1E-5:.1<I&&(I=.1));J=0;for(var mb=8;mb--;){E++;if(E>=t&&(E%=t,3==ha))for(P=R.length;P--;)R[P]=2*Math.random()-1;switch(ha){case 0:n=E/t<C?.5:-.5;break;case 1:n=1-E/t*2;break;case 2:n=E/
t;n=6.28318531*(.5<n?n-1:n);n=1.27323954*n+.405284735*n*n*(0>n?1:-1);n=.225*((0>n?-1:1)*n*n-n)+n;break;case 3:n=R[Math.abs(32*E/t|0)]}W&&(P=Q,D*=cb,0>D?D=0:.1<D&&(D=.1),db?(X+=(n-Q)*D,X*=k):(Q=n,X=0),Q+=X,Ka+=Q-P,n=Ka*=1-I);Fa&&(Y[ka%1024]=n,n+=Y[(ka-F+1024)%1024],ka++);J+=n}J*=.125*O*eb;H[v]=1<=J?32767:-1>=J?-32768:32767*J|0}return Ca}};
window.jsfxr=function(a){ua.B.B(a);var b=ua.L();a=new Uint8Array(4*((b+1)/2|0)+44);b=2*ua.K(new Uint16Array(a.buffer,44),b);var c=new Uint32Array(a.buffer,0,44);c[0]=1179011410;c[1]=b+36;c[2]=1163280727;c[3]=544501094;c[4]=16;c[5]=65537;c[6]=44100;c[7]=88200;c[8]=1048578;c[9]=1635017060;c[10]=b;b+=44;c=0;for(var e="data:audio/wav;base64,";c<b;c+=3){var g=a[c]<<16|a[c+1]<<8|a[c+2];e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>
12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g&63]}return e};function h(){}h.prototype.ca=function(){};h.prototype.da=function(){};h.prototype.update=function(){};h.prototype.G=function(){};function p(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height?!0:!1}function va(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}
function wa(){q.now=va();for(q.Y+=Math.min(1,(q.now-q.na)/1E3);q.Y>q.step;)q.Y=q.Y-q.step,q.update();q.C.clearRect(0,0,r,u);q.G();q.na=q.now;requestAnimationFrame(wa,q.canvas)}var q=null,r=400,u=600,xa=window.jsfxr,ya=xa([1,,.1401,,.1168,.2534,,,,,,,,,,,,,1,,,.1,,.5]),za=new Audio;za.src=ya;var Aa=xa([0,.0122,.4,.0661,.9703,.5013,,.4752,.0459,,,-.9875,.4313,.6926,.087,.624,-.6693,.24,.2382,.5391,.9463,4E-4,.108,.5]),Ba=new Audio;Ba.src=Aa;
var Na=xa([1,.4278,.7032,.2042,.5064,.5826,,,-.1107,,,-.9291,.7922,.163,-.1465,.2398,.4789,.8507,.9037,-.0365,-.2982,.0124,-.0241,.5]),Oa=new Audio;Oa.src=Na;var w=null,x=null;function Pa(){this.ua=10;this.M=28;this.aa=this.C=this.canvas=null;this.la=[];this.ha=[];this.J=this.T=null;this.U=!1;this.V=[];this.V[0]=new y;this.V[2]=new z;this.V[1]=new K;this.V[3]=new L;this.V[4]=new Qa}Pa.prototype={update:function(){this.T&&this.T.update()},G:function(){this.T&&this.T.G()}};
function M(a){var b=q;b.T&&b.T.da();b.V[a].ca();b.T=b.V[a]}function z(){}d(z,h);z.prototype.ca=function(){0==q.J?q.I=new Ra:1==q.J?q.I=new Sa:2==q.J?q.I=new Ta:3==q.J?q.I=new Ua:4==q.J&&(q.I=new Va);Wa();document.addEventListener("click",Xa);q.U=!0};z.prototype.da=function(){document.removeEventListener("click",Xa)};z.prototype.update=function(){Ya()};
z.prototype.G=function(){if(q.I)for(var a=0;a<q.M;a++)q.I.A[a].N&&q.I.A[a].N.G();q.P&&(q.P.G(),q.C.fillText(q.P.D+" left",51*3.2,555));q.R&&q.R.G();w&&w.G();x&&x.G()};
function Wa(){q.U=!1;q.aa=new Za;for(var a=0;a<q.ua;a++){var b,c=q.aa;for(b=c.F.length-1;0<b;b--){var e=Math.floor(Math.random()*(b+1));var g=c.F[b];c.F[b]=c.F[e];c.F[e]=g}}0==q.J?q.I=new Ra:1==q.J?q.I=new Sa:2==q.J?q.I=new Ta:3==q.J?q.I=new Ua:4==q.J&&(q.I=new Va);q.M=q.I.M;for(a=0;a<q.M;a++)b=q.I.A[a],g=q.aa.X(),b.N=g,b.N.x=b.x,b.N.y=b.y;q.P=new $a({ba:!0});for(a=q.M;52>a;a++)q.P.push(q.aa.X());ab(q.P,102);q.R=new $a;a=q.R;a.F.push(new bb(-1));a.D=0;ab(q.R,51);a=q.P.X();q.R.push(a);w=new nb("reset",
255);x=new nb("menu",316.2);q.U=!0}function Ya(){if(q.U){q.U=!1;for(var a=!0,b=!1,c=q.R.top(),e=0;e<q.M;e++){var g=q.I.A[e];g.N&&(a=!1,-1==g.ea&&-1==g.fa&&ob(c,g.N)&&(b=!0))}a?(Ba.play(),setTimeout(function(){M(3)},2E3)):b||0!=q.P.D||(Oa.play(),setTimeout(function(){M(4)},2E3))}}
function Xa(a){a.stopPropagation();var b=a.clientX-q.canvas.offsetLeft;a=a.clientY-q.canvas.offsetTop;if(w&&p(w,b,a))Wa();else if(x&&p(x,b,a))M(1);else if(!q.P.empty()&&p(q.P.top(),b,a))b=q.P.X(),q.R.push(b),q.U=!0;else for(var c=0;c<q.M;c++){var e=q.I.A[c];if(e.N&&p(e.N,b,a)&&-1==e.ea&&-1==e.fa&&ob(q.R.top(),e.N)){q.R.push(e.N);e.N=null;e=c;for(var g=q.I,m=0;m<g.A.length;m++){var l=g.A[m];l.ea==e&&(l.ea=-1);l.fa==e&&(l.fa=-1)}za.play();q.U=!0}}}
window.onload=function(){q=new Pa;pb().then(function(a){q.la=a;qb().then(function(){q.wa=60;q.step=1/q.wa;q.Y=0;q.now=0;q.na=va();q.canvas=document.getElementById("c");q.C=q.canvas.getContext("2d");r=q.canvas.width;u=q.canvas.height;console.log("tinyGameInit:",r,u);console.log("tinyGameInit:canvas",q.canvas);wa();M(0)})},function(a){console.log(a)})};
var rb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KICAgICAgICA8c3ZnIHZlcnN\npb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zy\nIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iM\nHB4IiB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4IgogICAgICAgIHZpZXdCb3g9IjAgMCA4LjYg\nMTAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDguNiAxMDsiIHhtbDpzcGFjZT0\nicHJlc2VydmUiPgogICAgICAgIDxnPgogICAgICAgIDxwb2x5Z29uIHBvaW50cz0iNCw1LjEgMi\nwzLjkgMCw1LjEgMCw3LjQgMiw4LjYgNCw3LjQgCSIvPgogICAgICAgIDxwb2x5Z29uIHBvaW50c\nz0iNi41LDMuOSA0LjUsNS4xIDQuNSw3LjQgNi41LDguNiA4LjYsNy40IDguNiw1LjEgCSIvPgog\nICAgICAgIDxwb2x5Z29uIHBvaW50cz0iNi4zLDMuNSA2LjMsMS4yIDQuMywwIDIuMywxLjIgMi4\nzLDMuNSA0LjMsNC43IAkiLz4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjIuOSwxMCA1LjcsMT\nAgNC4zLDcuNiAJIi8+CiAgICAgICAgPC9nPgogICAgICAgIDwvc3ZnPg==",sb=
"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjE\niIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOn\nhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkd\nGg9IjMycHgiIGhlaWdodD0iMzJweCIKdmlld0JveD0iMCAwIDguNyAxMCIgc3R5bGU9ImVuYWJs\nZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOC43IDEwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgo\n8cG9seWdvbiBwb2ludHM9IjQuMywwIDAsNC4zIDAsNi45IDIuMiw4LjEgNC4zLDYuOSA2LjUsOC\n4xIDguNyw2LjkgOC43LDQuMyAJIi8+Cjxwb2x5Z29uIHBvaW50cz0iMi45LDEwIDUuOCwxMCA0L\njMsNy42IAkiLz4KPC9nPgo8L3N2Zz4=",
tb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjE\niIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIAp4bWxucz\np4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZ\nHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiCnZpZXdCb3g9IjAgMCA5LjEgMTAiIHN0eWxlPSJlbmFi\nbGUtYmFja2dyb3VuZDpuZXcgMCAwIDkuMSAxMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cG9\nseWdvbiBmaWxsPSJyZWQiIHBvaW50cz0iOS4xLDUgNC41LDEwIDAsNSA0LjUsMCAiLz48L3N2Zz\n4=",ub="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjE\niIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOn\nhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkd\nGg9IjMycHgiIGhlaWdodD0iMzJweCIKdmlld0JveD0iMCAwIDEwIDkuMyIgc3R5bGU9ImVuYWJs\nZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgOS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXR\noIGZpbGw9InJlZCIgZD0iTTUsOS4zbDUtNVYxLjRMNy41LDBMNSwxLjRMMi41LDBMMCwxLjR2Mi\n45TDUsOS4zeiIvPgo8L3N2Zz4=";
function S(a,b,c,e,g,m,l){var A;"undefined"==typeof A&&(A=!0);"undefined"===typeof m&&(m=5);a.beginPath();a.moveTo(b+m,c);a.lineTo(b+e-m,c);a.quadraticCurveTo(b+e,c,b+e,c+m);a.lineTo(b+e,c+g-m);a.quadraticCurveTo(b+e,c+g,b+e-m,c+g);a.lineTo(b+m,c+g);a.quadraticCurveTo(b,c+g,b,c+g-m);a.lineTo(b,c+m);a.quadraticCurveTo(b,c,b+m,c);a.closePath();A&&a.stroke();l&&a.fill()}
function pb(){var a=[];a.push(new Promise(function(a,c){var b=document.createElement("img");b.src=rb;b.onload=function(){a({t:"clubs",W:b})};b.onerror=function(a){c("could not load img clubs"+a)}}));a.push(new Promise(function(a,c){var b=document.createElement("img");b.src=sb;b.onload=function(){a({t:"spades",W:b})};b.onerror=function(){c("could not load img clubs")}}));a.push(new Promise(function(a,c){var b=document.createElement("img");b.src=tb;b.onload=function(){a({t:"diamonds",W:b})};b.onerror=
function(){c("could not load img clubs")}}));a.push(new Promise(function(a,c){var b=document.createElement("img");b.src=ub;b.onload=function(){a({t:"hearts",W:b})};b.onerror=function(){c("could not load img clubs")}}));return Promise.all(a)}
function vb(a,b,c){var e=document.createElement("canvas"),g=e.width,m=e.height,l=e.getContext("2d");l.clearRect(0,0,g,m);l.font="20px Georgia";0==c|1==c?(l.fill="black",S(l,0,0,50,70)):2==c||3==c?(l.fillStyle="red",S(l,0,0,50,70)):-1==c&&(l.fillStyle="blue",S(l,0,0,50,70,5,"blue"));-1!=b&&l.fillText(b,5,55);-1!=c&&l.drawImage(q.la[c].W,10,10);var A=e.toDataURL();return new Promise(function(b,c){var e=document.createElement("img");e.src=A;e.onload=function(){q.ha[a]=e;b(e)};e.onerror=function(){c("unable to load image")}})}
function qb(){document.createElement("canvas").getContext("2d");for(var a="A23456789TJQK".split(""),b=[],c=0,e=0;4>e;e++)for(var g=0;g<a.length;g++)b.push(vb(c,a[g],e)),c++;b.push(vb(c,-1,-1));return Promise.all(b)}
function bb(a){this.y=this.x=0;this.width=51;this.height=74;-1==a?(this.Z=this.ia=this.ja=-1,this.color=3):(this.ja=a,this.ia=Math.floor(a/13),this.Z=Math.floor(a%13),this.color=0==this.ia||1==this.ia?0:1);this.canvas=document.createElement("canvas");this.canvas.width=51;this.canvas.height=74;this.canvas.setAttribute("style","background: green; margin : 0; padding: 0; color:red; border: 1px solid blue;");this.context=this.canvas.getContext("2d");this.context.font="800% serif";1==this.color?this.context.fillStyle=
"red":0==this.color?this.context.fillStyle="black":3==this.color&&(this.context.fillStyle="blue");this.W=document.createElement("img");this.W.src=this.canvas.toDataURL()}function wb(a){a%=13;return 0<=a?a:a+13}bb.prototype={G:function(){-1==this.ja?q.C.drawImage(q.ha[52],this.x,this.y):q.C.drawImage(q.ha[this.ja],this.x,this.y)}};function ob(a,b){var c=wb(b.Z-1);return wb(b.Z+1)==a.Z||c==a.Z}function Za(){this.F=[];for(var a=this.D=0;52>a;a++){var b=new bb(a);this.F.push(b)}this.D=51}
Za.prototype.top=function(){return this.F[this.D]};Za.prototype.X=function(){var a=this.F[this.D];this.D--;return a};function $a(a){this.F=[];this.D=-1;this.y=this.x=0;this.width=51;this.height=74;this.ba=!1;a&&a.ba&&(this.ba=!0,this.ga=new bb(-1))}
$a.prototype={G:function(){if(this.ba)this.ga.x=this.x,this.ga.y=this.y,this.ga.G();else if(0<=this.D){var a=this.F[this.D];a.x=this.x;a.y=this.y;a.G()}},X:function(){if(0<this.D){var a=this.F[this.D];this.D--;this.F[this.D].x=this.x;this.F[this.D].y=this.y;return a}},empty:function(){return 0==this.D},top:function(){return 0<this.D?this.F[this.D]:null},push:function(a){a.x=this.x;a.y=this.y;this.F.push(a);this.D++}};function ab(a,b){0<=a.D&&(a.x=b,a.y=518,a.F[a.D].x=b,a.F[a.D].y=518)}
function nb(a,b){this.B=a;this.x=b;this.y=555;this.width=50;this.height=10}nb.prototype.update=function(){};nb.prototype.G=function(){q.C.fill="black";S(q.C,this.x,this.y,50,20);q.C.font="18px serif";q.C.fillText(this.B,this.x+8,this.y+13)};function Qa(){this.B=0}d(Qa,h);Qa.prototype.update=function(){this.B++;200<this.B&&(Wa(),M(2),this.B=0)};Qa.prototype.G=function(){q.C.font="28px serif";q.C.fillText("GAME OVER!",r/2,u/2)};
function K(){var a=this;this.H={x:r/4,y:u/4,width:120,height:20};this.K={x:r/4,y:u/4+28,width:120,height:20};this.B={x:r/4,y:u/4+56,width:120,height:20};this.O={x:r/4,y:u/4+84,width:120,height:20};this.L={x:r/4,y:u/4+112,width:120,height:20};this.S=function(b){console.log("GameMenu click handler fired!");var c=b.clientX-q.canvas.offsetLeft;b=b.clientY-q.canvas.offsetTop;p(a.H,c,b)?(console.log("easy"),q.J=0,M(2)):p(a.K,c,b)?(console.log("hard"),q.J=1,M(2)):p(a.B,c,b)?(console.log("blob1"),q.J=2,M(2)):
p(a.O,c,b)?(console.log("slider1"),q.J=3,M(2)):p(a.L,c,b)&&(console.log("lattice1"),q.J=4,M(2))}}d(K,h);K.prototype.ca=function(){console.log("GameMenu enter");document.addEventListener("click",this.S)};K.prototype.da=function(){console.log("GameMenu exit");var a=document.removeEventListener("click",this.S);console.log("res from remove event listener",a)};K.prototype.update=function(){};
K.prototype.G=function(){q.C.font="18px serif";q.fillStyle="red";q.C.fill="black";var a=r/4,b=u/4;S(q.C,this.H.x,this.H.y,this.H.width,this.H.height);q.C.fillText("easy pyramid",a+4,b+14);S(q.C,this.K.x,this.K.y,this.K.width,this.K.height);q.C.fillText("hard pyramid",a+4,b+42);S(q.C,this.B.x,this.B.y,this.B.width,this.B.height);q.C.fillText("blob1",a+4,b+70);S(q.C,this.O.x,this.O.y,this.O.width,this.O.height);q.C.fillText("slider1",a+4,b+98);S(q.C,this.L.x,this.L.y,this.L.width,this.L.height);q.C.fillText("lattice1",
a+4,b+126)};function y(){this.B=0}d(y,h);y.prototype.ca=function(){console.log("GameLoading enter called")};y.prototype.da=function(){console.log("GameLoading exit called")};y.prototype.update=function(){this.B++;200<this.B&&M(1)};y.prototype.G=function(){q.C.font="18px serif";q.C.fillStyle="red";q.C.fillText("13k solitaire",r/2,u/2);q.C.fillText("tony colston",r/2,u/2+40)};function L(){this.B=0}d(L,h);L.prototype.update=function(){this.B++;200<this.B&&(M(1),this.B=0)};
L.prototype.G=function(){q.C.font="28px serif";q.C.fillText("YOU WIN!!!",r/2,u/2)};function T(a,b,c,e){this.oa=c;this.ma=e;this.ea=a;this.fa=b;this.N=null;this.y=74*this.oa;this.x=51*this.ma+(r/2-51)-25.5*(c-1)}function U(){this.A=[]}function V(a,b,c,e,g){a.A.push(new T(b,c,e,g))}function Z(a){for(var b=0;b<a.A.length;b++){var c=a.A[b];c.y=74*c.oa;c.x=51*c.ma/2}}
function Ra(){this.A=[];this.M=21;V(this,1,2,0,6);V(this,3,4,1,5);V(this,4,5,1,7);V(this,6,7,2,4);V(this,7,8,2,6);V(this,8,9,2,8);V(this,10,11,3,3);V(this,11,12,3,5);V(this,12,13,3,7);V(this,13,14,3,9);V(this,15,16,4,2);V(this,16,17,4,4);V(this,17,18,4,6);V(this,18,19,4,8);V(this,19,20,4,10);V(this,-1,-1,5,1);V(this,-1,-1,5,3);V(this,-1,-1,5,5);V(this,-1,-1,5,7);V(this,-1,-1,5,9);V(this,-1,-1,5,11);Z(this)}d(Ra,U);
function Sa(){this.A=[];this.M=28;this.A.push(new T(1,2,0,6));this.A.push(new T(3,4,1,5));this.A.push(new T(4,5,1,7));this.A.push(new T(6,7,2,4));this.A.push(new T(7,8,2,6));this.A.push(new T(8,9,2,8));this.A.push(new T(10,11,3,3));this.A.push(new T(11,12,3,5));this.A.push(new T(12,13,3,7));this.A.push(new T(13,14,3,9));this.A.push(new T(15,16,4,2));this.A.push(new T(16,17,4,4));this.A.push(new T(17,18,4,6));this.A.push(new T(18,19,4,8));this.A.push(new T(19,20,4,10));this.A.push(new T(21,22,5,1));
this.A.push(new T(22,23,5,3));this.A.push(new T(23,24,5,5));this.A.push(new T(24,25,5,7));this.A.push(new T(25,26,5,9));this.A.push(new T(26,27,5,11));this.A.push(new T(-1,-1,6,0));this.A.push(new T(-1,-1,6,2));this.A.push(new T(-1,-1,6,4));this.A.push(new T(-1,-1,6,6));this.A.push(new T(-1,-1,6,8));this.A.push(new T(-1,-1,6,10));this.A.push(new T(-1,-1,6,12));Z(this)}d(Sa,U);
function Ta(){this.A=[];this.M=22;this.A.push(new T(2,3,0,4));this.A.push(new T(4,5,0,8));this.A.push(new T(6,7,1,3));this.A.push(new T(7,8,1,5));this.A.push(new T(8,9,1,7));this.A.push(new T(9,10,1,9));this.A.push(new T(-1,11,2,2));this.A.push(new T(11,12,2,4));this.A.push(new T(12,13,2,6));this.A.push(new T(13,14,2,8));this.A.push(new T(14,-1,2,10));this.A.push(new T(-1,15,3,3));this.A.push(new T(15,16,3,5));this.A.push(new T(16,17,3,7));this.A.push(new T(17,-1,3,9));this.A.push(new T(18,19,4,4));
this.A.push(new T(19,20,4,6));this.A.push(new T(20,21,4,8));this.A.push(new T(-1,-1,5,3));this.A.push(new T(-1,-1,5,5));this.A.push(new T(-1,-1,5,7));this.A.push(new T(-1,-1,5,9));Z(this)}d(Ta,U);
function Ua(){this.A=[];this.M=21;V(this,5,6,0,4);V(this,6,7,0,6);V(this,7,8,0,8);V(this,8,9,0,10);V(this,9,-1,0,12);V(this,10,11,1,3);V(this,11,12,1,5);V(this,12,14,1,7);V(this,13,-1,1,9);V(this,-1,-1,1,11);V(this,14,15,2,2);V(this,15,16,2,4);V(this,16,17,2,6);V(this,17,-1,2,8);V(this,18,19,3,1);V(this,19,20,3,3);V(this,20,-1,3,5);V(this,-1,-1,3,7);V(this,-1,-1,4,0);V(this,-1,-1,4,2);V(this,-1,-1,4,4);Z(this)}d(Ua,U);
function Va(){this.A=[];this.M=21;V(this,-1,3,0,1);V(this,3,4,0,3);V(this,4,5,0,5);V(this,6,7,1,2);V(this,7,8,1,4);V(this,8,-1,1,6);V(this,-1,9,2,1);V(this,9,10,2,3);V(this,10,11,2,5);V(this,12,13,3,2);V(this,13,14,3,4);V(this,14,-1,3,6);V(this,-1,15,4,1);V(this,15,16,4,3);V(this,16,17,4,5);V(this,18,19,5,2);V(this,19,20,5,4);V(this,20,-1,5,6);V(this,-1,-1,6,1);V(this,-1,-1,6,3);V(this,-1,-1,6,5);Z(this)}d(Va,U);
