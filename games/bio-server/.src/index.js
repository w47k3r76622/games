!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(t){var r=this;this.id=e.sequence++,this.dom=n.sd(t),this.children=[],this.parent=null,window.addEventListener("Updated",(function(e){r.onUpdate(e.detail)}))}return e.prototype.onUpdate=function(e){},e.prototype.add=function(e){this.dom.apd(e.dom),this.children.push(e),e.parent=this},e.prototype.remove=function(){var e=this;if(this.children.forEach((function(e){return e.remove()})),this.parent){this.dom.rmv();var t=this.parent.children.findIndex((function(t){return t.id===e.id}));t>=0&&this.parent.children.splice(t,1),this.parent=null}},e.sequence=1,e}();t.default=o},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,o++)n[o]=s[a];return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.showTurnResult=t.getLikeDom=t.calcTurnLikes=t.getDealCardById=t.getResClass=t.getResLikes=t.getResText=t.randPoolItem=t.isChanged=void 0;var a=r(2),i=s(r(4)),u=r(3),d=s(r(9));t.isChanged=function(e,t){return!e.oldState||JSON.stringify(e.oldState[t])!==JSON.stringify(e.newState[t])},t.randPoolItem=function(e){return n({},e[Math.floor(Math.random()*e.length)])},t.getResText=function(e,t){var r;return t===a.ID_NONE?"-":t===a.ID_404?"404":(null===(r=e.find((function(e){return e.id===t})))||void 0===r?void 0:r.name)||""},t.getResLikes=function(e,r,n,o){var s="",i=e.find((function(e){return e.id===n}));return s=n===a.ID_NONE?o?": -5":" × 1":n===a.ID_404?o?": -1":" × 1":r!==n?o?": -5":" × 1":o?": "+(null==i?void 0:i.value):" × "+(null==i?void 0:i.value),t.getLikeDom(s)},t.getResClass=function(e,t){return t===a.ID_NONE?"res blank":t===a.ID_404?"res not-found":t===e?"res correct":"res wrong"},t.getDealCardById=function(e){if(e===a.ID_NONE)return u.sd("div").cls("class blank");if(e===a.ID_404)return new i.default({id:a.ID_404,name:"404",value:1,type:"CREATURE",bundle:a.BUNDLE_INDEX.WILD_ANIMALS}).dom;var t=o(a.CREATURES,a.COLORS,a.CLASSES).find((function(t){return t.id===e}));return t?new i.default(t).dom:null},t.calcTurnLikes=function(e){if(e.reqCreatureId!==e.resCreatureId)return e.resCreatureId===a.ID_404?-1:-5;var t=a.CREATURES.find((function(t){return t.id===e.resCreatureId})).value;return e.reqClassId!==a.ID_NONE&&e.reqClassId===e.resClassId&&(t*=a.CLASSES.find((function(t){return t.id===e.resClassId})).value),e.reqColorId!==a.ID_NONE&&e.reqColorId===e.resColorId&&(t*=a.COLORS.find((function(t){return t.id===e.resColorId})).value),t},t.getLikeDom=function(e,t,r){var n=u.sd("div").cls("like"),o=document.createElement("img");o.src=d.default,t&&(o.style.width=t+"rem");var s=document.createElement("span");return s.innerText=e,r?(n.getDom().appendChild(s),n.getDom().appendChild(o)):(n.getDom().appendChild(o),n.getDom().appendChild(s)),n},t.showTurnResult=function(e){var r,n=u.sd("div");r=0!==e?t.getLikeDom(" "+(e>0?"+":"")+e):u.sd("span").tt("Pass"),n.apd(r);var o=["turn-result"];e<-1?o.push("fail"):-1===e?o.push("not-found"):e<30?o.push("success"):o.push("big-success"),n.cls(o.join(" ")),setTimeout((function(){n.cls(o.join(" ")+" animate")}),a.TURN_DELAY);var s=n.getDom();document.body.appendChild(s)};var c=document.createEvent("CustomEvent"),l=function(){function e(){}return e.setState=function(t){c.initCustomEvent("Updated",!0,!1,{oldState:e.state,newState:t}),e.state=n(n({},t),{inventory:o(t.inventory)}),window.dispatchEvent(c)},e.add=function(e){document.body.appendChild(e.dom.getDom()),this.children.push(e)},e.togglePause=function(){e.setState(n(n({},e.state),{paused:!e.state.paused}))},e.generateRequest=function(t,r){void 0===r&&(r=a.DEFAULT_TIMEOUT);var n=a.CREATURES.filter((function(e){return t.includes(e.bundle)})).map((function(e){return e.id})),o=n[Math.floor(Math.random()*n.length)],s=a.ID_NONE,i=a.ID_NONE;return t.includes(a.BUNDLE_INDEX.CLASSES)&&(s=a.CLASSES.map((function(e){return e.id}))[Math.floor(Math.random()*a.CLASSES.length)]),t.includes(a.BUNDLE_INDEX.COLORS)&&(i=a.COLORS.map((function(e){return e.id}))[Math.floor(Math.random()*a.COLORS.length)]),{id:e.requestSequence++,reqCreatureId:o,resCreatureId:a.ID_NONE,reqClassId:s,resClassId:a.ID_NONE,reqColorId:i,resColorId:a.ID_NONE,timeout:r}},e.start=function(){window.addEventListener("keyup",(function(t){" "===t.key&&e.togglePause()}));var t=[a.BUNDLE_INDEX.WILD_ANIMALS],r=e.generateRequest(t),n=e.generateRequest(t);e.setState({paused:!1,likes:0,turnCount:1,successCount:0,failCount:0,inventory:t,lastRequest:void 0,currentRequest:r,nextRequest:n,lastDealedCardId:a.ID_NONE,refreshLeft:5,likesRequiredForBonusRefresh:3,systemRefreshToken:0})},e.nextTurn=function(){var r=t.calcTurnLikes(e.state.currentRequest);t.showTurnResult(r);var o=a.DEFAULT_TIMEOUT;e.state.inventory.includes(a.BUNDLE_INDEX.CLASSES)&&(o+=4e3),e.state.inventory.includes(a.BUNDLE_INDEX.COLORS)&&(o+=4e3),setTimeout((function(){e.setState(n(n({},e.state),{likes:e.state.likes+r>0?e.state.likes+r:0,turnCount:e.state.turnCount+1,successCount:e.state.successCount+(r>=-1?1:0),failCount:e.state.failCount+(r>=-1?0:1),lastRequest:n({},e.state.currentRequest),currentRequest:n({},e.state.nextRequest),nextRequest:e.generateRequest(e.state.inventory,o),refreshLeft:r>=e.state.likesRequiredForBonusRefresh?e.state.refreshLeft+1:e.state.refreshLeft}))}),a.TURN_DELAY)},e.dealCard=function(t){if(!e.state.paused){var r=JSON.parse(JSON.stringify(e.state)),n=t.product;n.id===a.ID_404?(r.currentRequest.resCreatureId=a.ID_404,r.lastDealedCardId=a.ID_404):(r.lastDealedCardId=t.id,"CREATURE"===n.type?r.currentRequest.resCreatureId=n.id:"COLOR"===n.type?r.currentRequest.resColorId=n.id:"CLASS"===n.type&&(r.currentRequest.resClassId=n.id)),e.setState(r),r.currentRequest.resCreatureId!==a.ID_NONE&&e.nextTurn()}},e.buyBundle=function(t){var r=a.PRODUCT_BUNDLES.find((function(e){return e.id===t}));if(e.state.likes<r.price)throw new Error("Insufficient Likes");var s=o(e.state.inventory);if(t===a.BUNDLE_INDEX.LEGENDARY_CREATURES){var i=s.findIndex((function(e){return e===a.BUNDLE_INDEX.WILD_ANIMALS}));s.splice(i,1,a.BUNDLE_INDEX.LEGENDARY_CREATURES),e.setState(n(n({},e.state),{likes:e.state.likes-r.price,currentRequest:n(n({},e.state.currentRequest),{reqCreatureId:9}),nextRequest:n(n({},e.state.nextRequest),{reqCreatureId:10}),inventory:s,systemRefreshToken:e.state.systemRefreshToken+1}))}else s.push(t),e.setState(n(n({},e.state),{likes:e.state.likes-r.price,inventory:s}))},e.refresh=function(){e.setState(n(n({},e.state),{refreshLeft:e.state.refreshLeft>0?e.state.refreshLeft-1:0,likesRequiredForBonusRefresh:e.state.likesRequiredForBonusRefresh<50?e.state.likesRequiredForBonusRefresh+2:50}))},e.win=function(){document.getElementById("win-req-count").innerText=String(e.state.currentRequest.id-1),document.getElementById("win-splash").style.display="block"},e.requestSequence=1,e.state=null,e.children=[],e}();t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,o++)n[o]=s[a];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_PRODUCTS=t.CLASSES=t.COLORS=t.CREATURES=t.PRODUCT_BUNDLES=t.BUNDLE_INDEX=t.DEFAULT_TIMEOUT=t.TURN_DELAY=t.ID_404=t.ID_NONE=t.LIKES_NEEDED=void 0,t.LIKES_NEEDED=1e3,t.ID_NONE=-1,t.ID_404=0,t.TURN_DELAY=300,t.DEFAULT_TIMEOUT=8e3,function(e){e[e.WILD_ANIMALS=1]="WILD_ANIMALS",e[e.LEGENDARY_CREATURES=2]="LEGENDARY_CREATURES",e[e.UNICORM=3]="UNICORM",e[e.DRAGON=4]="DRAGON",e[e.COLORS=5]="COLORS",e[e.CLASSES=6]="CLASSES",e[e.CREATURE_STORAGE=7]="CREATURE_STORAGE",e[e.COLOR_STORAGE=8]="COLOR_STORAGE",e[e.CLASS_STORAGE=9]="CLASS_STORAGE"}(n=t.BUNDLE_INDEX||(t.BUNDLE_INDEX={})),t.PRODUCT_BUNDLES=[{id:n.WILD_ANIMALS,name:"Wild Animals",price:10,desc:"Basic deck with ordinary animals",type:"CARD_PACK"},{id:n.LEGENDARY_CREATURES,name:"Legendary Creatures",price:50,desc:"Advanced deck with legendary creatures !",type:"CARD_PACK"},{id:n.UNICORM,name:"Unicorn",price:100,desc:"Premium Unicorn card !",type:"CARD_PACK"},{id:n.DRAGON,name:"Dragon",price:200,desc:"Supreme Dragon card !!",type:"CARD_PACK"},{id:n.COLORS,name:"Colors",price:30,desc:"Color cards to decorate a creature and multiply the Likes of the creature",type:"MULTIPLIER"},{id:n.CLASSES,name:"Classes",price:80,desc:"Class cards to decorate a creature and multiply the Likes of the creature",type:"MULTIPLIER"}],t.CREATURES=[{id:1,name:"Chicken",value:1,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:2,name:"Rabbit",value:2,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:3,name:"Lizard",value:3,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:4,name:"Wolf",value:4,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:5,name:"Bear",value:5,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:6,name:"Goblin",value:3,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,227,79,1) 100%)"},{id:7,name:"Orc",value:4,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,227,79,1) 100%)"},{id:8,name:"Fairy",value:5,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,227,79,1) 100%)"},{id:9,name:"Wyvern",value:6,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,227,79,1) 100%)"},{id:10,name:"Griffin",value:7,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,227,79,1) 100%)"},{id:11,name:"Unicorn",value:10,type:"CREATURE",bundle:n.UNICORM,color:"linear-gradient(135deg, rgba(255,61,61,1) 0%, rgba(248,138,51,1) 16%, rgba(240,236,41,1) 32%, rgba(57,255,48,1) 48%, rgba(54,255,214,1) 64%, rgba(46,80,255,1) 83%, rgba(210,51,255,1) 100%)"},{id:12,name:"Dragon",value:30,type:"CREATURE",bundle:n.DRAGON,color:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(228,210,24,1) 54%, rgba(255,61,61,1) 100%)"}],t.COLORS=[{id:13,name:"Gray",value:2,type:"COLOR",bundle:n.COLORS,color:"#c7c7c7"},{id:14,name:"White",value:3,type:"COLOR",bundle:n.COLORS,color:"#ffffff"},{id:15,name:"Bronze",value:4,type:"COLOR",bundle:n.COLORS,color:"linear-gradient(135deg, rgba(189,122,0,1) 0%, rgba(251,251,251,1) 70%, rgba(189,122,0,1) 100%)"},{id:16,name:"Silver",value:5,type:"COLOR",bundle:n.COLORS,color:"linear-gradient(135deg, rgba(213,213,213,1) 0%, rgba(251,251,251,1) 70%, rgba(213,213,213,1) 100%)"},{id:17,name:"Golden",value:6,type:"COLOR",bundle:n.COLORS,color:"linear-gradient(135deg, rgba(255,215,0,1) 0%, rgba(251,251,251,1) 70%, rgba(255,215,0,1) 100%)"}],t.CLASSES=[{id:18,name:"Common",value:2,type:"CLASS",bundle:n.CLASSES,color:"#000000"},{id:19,name:"Uncommon",value:3,type:"CLASS",bundle:n.CLASSES,color:"#00d358"},{id:20,name:"Rare",value:4,type:"CLASS",bundle:n.CLASSES,color:"#0084ff"},{id:21,name:"Epic",value:5,type:"CLASS",bundle:n.CLASSES,color:"#aa00e9"},{id:22,name:"Legendary",value:6,type:"CLASS",bundle:n.CLASSES,color:"#ffa000"}],t.ALL_PRODUCTS=o(t.CREATURES,t.COLORS,t.CLASSES)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sd=void 0;var n=function(){function e(e){return this.dom="string"==typeof e?document.createElement(e):e,this}return e.prototype.id=function(e){return this.dom.id=e,this},e.prototype.cls=function(e){return this.dom.className=e,this},e.prototype.tt=function(e){return this.dom.innerText=e,this},e.prototype.apd=function(e){return this.dom.appendChild(e.dom),this},e.prototype.ppd=function(e){return this.dom.prepend(e.dom),this},e.prototype.attr=function(e,t){return this.dom.setAttribute(e,t),this},e.prototype.rmv=function(){this.dom.remove()},e.prototype.getDom=function(){return this.dom},e}();t.default=n,t.sd=function(e){return new n(e)}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(r(0)),c=r(2),l=i(r(1));r(8);var f=r(3),p=function(e){function t(t){var r=e.call(this,"div")||this;r.onClick=function(e){l.default.state.paused||(r.dom.cls("card deal"),l.default.dealCard(r),r.product.id===c.ID_404&&setTimeout((function(){r.dom.cls("card")}),c.TURN_DELAY))},r.product=t,r.dom.cls("card init"),setTimeout((function(){r.dom.cls("card")}),c.TURN_DELAY),t.bundle===c.BUNDLE_INDEX.COLORS&&(r.dom.getDom().style.background=t.color||"#ffffff"),[c.BUNDLE_INDEX.WILD_ANIMALS,c.BUNDLE_INDEX.LEGENDARY_CREATURES,c.BUNDLE_INDEX.UNICORM,c.BUNDLE_INDEX.DRAGON].includes(t.bundle)&&(r.dom.getDom().style.background=t.color||"#ffffff"),r.dom.getDom().addEventListener("click",(function(e){r.onClick(e)}));var n=f.sd("div").tt(t.name).cls("name");if(t.bundle===c.BUNDLE_INDEX.CLASSES){var o=n.getDom();o.style.color=t.color||"#000000",o.style.textShadow="1px 1px #aaaaaa"}r.dom.apd(n);var s=c.PRODUCT_BUNDLES.find((function(e){return e.id===t.bundle})),a=s?"CARD_PACK"===s.type?" : ":" × ":"";return r.dom.apd(l.getLikeDom(""+a+t.value,1)),r}return o(t,e),t}(d.default);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeReqCreatureDom=t.makeReqColorDom=t.makeReqClassDom=void 0;var n=r(2),o=r(1),s=r(3);t.makeReqClassDom=function(e){var t=s.sd("span").tt(o.getResText(n.CLASSES,e.reqClassId)).cls("req"),r=n.CLASSES.find((function(t){return t.id===e.reqClassId})),a=t.getDom();return a.style.color=r.color||"#000000",a.style.textShadow="1px 1px #aaaaaa",t},t.makeReqColorDom=function(e){var t=s.sd("span").tt(o.getResText(n.COLORS,e.reqColorId)).cls("req"),r=n.COLORS.find((function(t){return t.id===e.reqColorId}));return t.getDom().style.background=r.color||"#ffffff",t},t.makeReqCreatureDom=function(e){var t=s.sd("span").tt(o.getResText(n.CREATURES,e.reqCreatureId)).cls("req"),r=n.CREATURES.find((function(t){return t.id===e.reqCreatureId}));return t.getDom().style.background=r.color||"#ffffff",t}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(7);var o=n(r(1)),s=n(r(10)),a=n(r(12)),i=n(r(14)),u=n(r(20)),d=n(r(21)),c=n(r(23)),l=n(r(25)),f=n(r(31)),p=r(2),h=n(r(33));window.addEventListener("keypress",(function(e){"Enter"===e.key&&(o.default.state&&o.default.state.likes>=p.LIKES_NEEDED?window.location.reload():(document.getElementById("start-splash").style.display="none",document.getElementById("win-splash").style.display="none",o.default.add(new s.default),o.default.add(new c.default),o.default.add(new i.default),o.default.add(new c.default),o.default.add(new u.default),o.default.add(new d.default("CLASS",4)),o.default.add(new d.default("COLOR",4)),o.default.add(new d.default("CREATURE",5)),o.default.add(new a.default),o.default.add(new f.default),o.default.add(new l.default),o.default.add(new h.default),o.default.start()))}))},function(e,t,r){},function(e,t,r){},function(e,t){e.exports="data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 489.2 489.2' style='enable-background:new 0 0 489.2 489.2;' xml:space='preserve'%3E %3Cg%3E %3Cg%3E %3Cpath id='XMLID_353_' style='fill:%233C92CA;' d='M143.05,474.4h-70.2c-2.1,0-3.9-1.8-3.9-3.9V286.8c0-2.1,1.8-3.9,3.9-3.9h70.1 c2.1,0,3.9,1.8,3.9,3.9v183.7C146.95,472.6,145.15,474.4,143.05,474.4z'/%3E %3Cpath d='M264.85,88.2V9.1c0-5-4.1-9.1-9.1-9.1s-9.1,4.1-9.1,9.1v79.1c0,5,4.1,9.1,9.1,9.1C260.75,97.2,264.85,93.2,264.85,88.2z' /%3E %3Cpath d='M420.15,177.8h-79.1c-5,0-9.1,4.1-9.1,9.1s4.1,9.1,9.1,9.1h79.1c5,0,9.1-4.1,9.1-9.1 C429.15,181.8,425.15,177.8,420.15,177.8z'/%3E %3Cpath d='M82.35,186.8c0,5,4.1,9.1,9.1,9.1h79.1c5,0,9.1-4.1,9.1-9.1s-4.1-9.1-9.1-9.1h-79.1C86.45,177.8,82.35,181.8,82.35,186.8z '/%3E %3Cpath d='M131.55,60.9c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4s-4-2.6-6.4-2.6c-2.4,0-4.7,0.9-6.4,2.6c-1.7,1.7-2.7,4-2.7,6.4 s1,4.7,2.7,6.4s4,2.7,6.4,2.7C127.45,63.6,129.85,62.6,131.55,60.9z'/%3E %3Cpath d='M168.75,98.2c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8c1.8,1.8,4.1,2.7,6.4,2.7 C164.65,100.8,167.05,100,168.75,98.2z'/%3E %3Cpath d='M150.15,79.6c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8c1.8,1.8,4.1,2.7,6.4,2.7 C146.05,82.2,148.35,81.3,150.15,79.6z'/%3E %3Cpath d='M187.45,116.8c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4c-1.7-1.7-4-2.6-6.4-2.6s-4.7,1-6.4,2.6c-1.7,1.7-2.7,4-2.7,6.4 s1,4.7,2.7,6.4c1.7,1.7,4,2.7,6.4,2.7C183.35,119.5,185.75,118.5,187.45,116.8z'/%3E %3Cpath d='M384.45,66.6c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4s-4-2.7-6.4-2.7s-4.7,1-6.4,2.7c-1.7,1.7-2.7,4-2.7,6.4s1,4.7,2.7,6.4 c1.7,1.7,4,2.7,6.4,2.7S382.75,68.3,384.45,66.6z'/%3E %3Cpath d='M340.75,106.6c2.3,0,4.6-0.9,6.4-2.7c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8 C336.15,105.7,338.45,106.6,340.75,106.6z'/%3E %3Cpath d='M365.75,85.3c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8c1.8,1.8,4.1,2.7,6.4,2.7S364.05,87,365.75,85.3z'/%3E %3Cpath d='M328.55,122.5c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4c-1.7-1.7-4-2.7-6.4-2.7s-4.7,1-6.4,2.7c-1.7,1.7-2.6,4-2.6,6.4 s1,4.7,2.7,6.4s4,2.7,6.4,2.7C324.55,125.2,326.85,124.2,328.55,122.5z'/%3E %3Cpath d='M406.35,439.3l21.1-134.1c0.1-0.5,0.1-0.9,0.1-1.4c0-28.2-22.9-51.1-51.1-51.1h-79.3v-57.1c0-24.1-7-41.4-20.9-51.6 c-22-16.1-52.2-6.9-53.5-6.5c-3.8,1.2-6.3,4.7-6.3,8.6v64.1c0,50.6-58.6,67.8-61.1,68.5c-1.2,0.3-2.2,0.9-3.1,1.6 c-3.1-3.9-7.9-6.4-13.2-6.4h-62.2c-9.3,0-16.9,7.6-16.9,16.9v175.8c0,9.3,7.6,16.9,16.9,16.9h62.2c6.2,0,11.7-3.4,14.6-8.4 c9.2,8.8,21.6,14.1,35.2,14.1h156.8C380.35,489.1,402.45,471,406.35,439.3z M137.85,465.3h-59.8V291.9h59.8V465.3z M155.95,438.1 V296.2c1.4,0.3,2.8,0.3,4.3-0.1c3-0.8,74.3-21.5,74.3-85.9v-56.8c7.8-1.2,21.3-1.9,31,5.2c9,6.6,13.5,19,13.5,37v66.3 c0,5,4.1,9.1,9.1,9.1h88.4c17.9,0,32.6,14.4,32.9,32.3l-21,133.5c0,0.1,0,0.2,0,0.3c-2.8,22.6-17.1,34-42.7,34h-156.8 C170.75,471,155.95,456.2,155.95,438.1z'/%3E %3C/g%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3C/svg%3E"},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(0)),i=r(3);r(11);var u=r(2),d=r(1),c=function(e){function t(){var t=e.call(this,"header")||this;t.dom.cls("header"),t.likes=i.sd("div").cls("likes"),t.title=i.sd("div").cls("title").tt("Bio-Server");var r=i.sd("div").cls("statistics");return t.successCount=i.sd("div"),t.failCount=i.sd("div"),r.apd(t.successCount).apd(t.failCount),t.dom.apd(t.likes).apd(t.title).apd(r),t}return o(t,e),t.prototype.onUpdate=function(e){var t;d.isChanged(e,"likes")&&(this.likes.getDom().children.length&&(null===(t=this.likes.getDom().children.item(0))||void 0===t||t.remove()),this.likes.apd(d.getLikeDom(": "+e.newState.likes+"/"+u.LIKES_NEEDED))),d.isChanged(e,"successCount")&&this.successCount.tt("success: "+e.newState.successCount),d.isChanged(e,"failCount")&&this.failCount.tt("fail: "+e.newState.failCount)},t}(a.default);t.default=c},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(13);var a=s(r(0)),i=r(1),u=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.cls("pause-info"),t}return o(t,e),t.prototype.onUpdate=function(e){i.isChanged(e,"paused")&&this.dom.tt(e.newState.paused?"Press [Space] to continue the game.":"Press [Space] to pause and purchase Upgrades.")},t}(a.default);t.default=u},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(r(0));r(15);var c=u(r(16)),l=u(r(17)),f=u(r(19)),p=i(r(1)),h=r(3),_=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.cls("request-queue"),t}return o(t,e),t.prototype.onUpdate=function(e){var t;if(p.isChanged(e,"turnCount")&&(p.isChanged(e,"nextRequest")&&(this.nextRequest&&this.nextRequest.remove(),this.nextRequest=new f.default(p.default.state.nextRequest),this.add(this.nextRequest)),p.isChanged(e,"currentRequest")&&(this.currentRequest&&this.currentRequest.remove(),this.currentRequest=new l.default(p.default.state.currentRequest),this.add(this.currentRequest)),p.isChanged(e,"lastRequest")))if(p.default.state.lastRequest)null===(t=document.getElementById("last-req-placeholder"))||void 0===t||t.remove(),this.lastRequest&&this.lastRequest.remove(),this.lastRequest=new c.default(p.default.state.lastRequest),this.add(this.lastRequest);else{var r=h.sd("div").id("last-req-placeholder").cls("request-card last");this.dom.apd(r)}},t}(d.default);t.default=_},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(0)),i=r(1),u=r(3),d=r(2),c=r(5),l=function(e){function t(t){var r=e.call(this,"div")||this;r.dom.cls("request-card last");var n=u.sd("div").tt("Last Request").cls("state");r.dom.apd(n),r.header=u.sd("div").cls("header");var o=u.sd("span").tt("Request No."+t.id),s=u.sd("span"),a=r.getReqStatusAndClass(t.reqCreatureId,t.resCreatureId);s.tt(a.status).cls(a.class),r.header.apd(o),r.header.apd(s),r.dom.apd(r.header);var l=u.sd("div").cls("content");if(r.dom.apd(l),t.reqClassId!==d.ID_NONE){var f=u.sd("div").cls("col");r.reqClass=c.makeReqClassDom(t),r.resClass=u.sd("div").apd(i.getResLikes(d.CLASSES,t.reqClassId,t.resClassId,!1)).cls(t.reqClassId===t.resClassId?"res correct":"res wrong"),f.apd(r.reqClass),f.apd(r.resClass),l.apd(f)}if(t.reqColorId!==d.ID_NONE){var p=u.sd("div").cls("col");r.reqColor=c.makeReqColorDom(t),r.resColor=u.sd("span").apd(i.getResLikes(d.COLORS,t.reqColorId,t.resColorId,!1)).cls(t.reqColorId===t.resColorId?"res correct":"res wrong"),p.apd(r.reqColor),p.apd(r.resColor),l.apd(p)}var h=u.sd("div").cls("col");return r.reqCreature=c.makeReqCreatureDom(t),r.resCreature=u.sd("span").apd(i.getResLikes(d.CREATURES,t.reqCreatureId,t.resCreatureId,!0)).cls(t.reqCreatureId===t.resCreatureId?"res correct":t.resCreatureId===d.ID_404?"res not-found":"res wrong"),h.apd(r.reqCreature),h.apd(r.resCreature),l.apd(h),r}return o(t,e),t.prototype.getReqStatusAndClass=function(e,t){return t===d.ID_NONE?{status:"Timeout",class:"error"}:t===d.ID_404?{status:"Not Found",class:"not-found"}:t===e?{status:"Success",class:"success"}:{status:"Error",class:"error"}},t}(a.default);t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(r(0)),c=i(r(1)),l=r(3),f=u(r(18)),p=r(2),h=r(5),_=function(e){function t(t){var r=e.call(this,"div")||this;r.dom.cls("request-card current");var n=l.sd("div").tt("Current Request").cls("state");r.dom.apd(n),r.header=l.sd("div").cls("header");var o=l.sd("span").tt("Request No."+t.id),s=l.sd("span").tt("Loading").cls("loading");r.header.apd(o),r.header.apd(s),r.dom.apd(r.header);var a=l.sd("div").cls("content");if(r.dom.apd(a),t.reqClassId!==p.ID_NONE){var i=l.sd("div").cls("col");r.reqClass=h.makeReqClassDom(t),r.resClass=l.sd("div").tt(c.getResText(p.CLASSES,t.resClassId)).cls("res blank"),i.apd(r.reqClass),i.apd(r.resClass),a.apd(i)}if(t.reqColorId!==p.ID_NONE){var u=l.sd("div").cls("col");r.reqColor=h.makeReqColorDom(t),r.resColor=l.sd("span").tt(c.getResText(p.COLORS,t.resColorId)).cls("res blank"),u.apd(r.reqColor),u.apd(r.resColor),a.apd(u)}var d=l.sd("div").cls("col");return r.reqCreature=h.makeReqCreatureDom(t),r.resCreature=l.sd("span").tt(c.getResText(p.CREATURES,t.resCreatureId)).cls("res blank creature"),d.apd(r.reqCreature),d.apd(r.resCreature),a.apd(d),t.id>10&&t.timeout>0&&c.default.state.likes<p.LIKES_NEEDED&&r.add(new f.default(t.timeout)),r}return o(t,e),t.prototype.onUpdate=function(e){if(c.isChanged(e,"currentRequest")){if(!e.oldState)return;var t=e.oldState.currentRequest,r=e.newState.currentRequest;if(r.resClassId!==t.resClassId){if(this.resClass&&this.resClass.tt(c.getResText(p.CLASSES,r.resClassId)).cls(c.getResClass(r.reqClassId,r.resClassId)),r.resClassId!==p.ID_404&&r.resClassId!==p.ID_NONE){var n=p.CLASSES.find((function(e){return e.id===r.resClassId}));if(this.resClass){var o=this.resClass.getDom();o.style.color=n.color||"#000000",o.style.textShadow="1px 1px #aaaaaa"}}}else if(r.resColorId!==t.resColorId){if(this.resColor&&this.resColor.tt(c.getResText(p.COLORS,r.resColorId)).cls(c.getResClass(r.reqColorId,r.resColorId)),r.resColorId!==p.ID_NONE&&r.resColorId!==p.ID_404){var s=p.COLORS.find((function(e){return e.id===r.resColorId}));this.resColor&&(this.resColor.getDom().style.background=s.color||"#ffffff")}}else if(r.resCreatureId!==t.resCreatureId&&(this.resCreature.tt(c.getResText(p.CREATURES,r.resCreatureId)).cls(c.getResClass(r.reqCreatureId,r.resCreatureId)),r.resCreatureId!==p.ID_NONE&&r.resCreatureId!==p.ID_404)){var a=p.CREATURES.find((function(e){return e.id===r.resCreatureId}));this.resCreature&&(this.resCreature.getDom().style.background=a.color||"#ffffff")}}if(c.isChanged(e,"systemRefreshToken")){this.reqCreature.tt(c.getResText(p.CREATURES,e.newState.currentRequest.reqCreatureId));a=p.CREATURES.find((function(t){return t.id===e.newState.currentRequest.reqCreatureId}));this.reqCreature.getDom().style.background=a.color||"#ffffff"}},t}(d.default);t.default=_},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(r(0)),c=i(r(1)),l=r(2),f=function(e){function t(r){var n=e.call(this,"div")||this;return n.changeColor=function(e){e<.33?n.dom.cls("current-timer green"):e>=.33&&e<.67?n.dom.cls("current-timer yellow"):n.dom.cls("current-timer red")},n.countLoop=function(e){var r=t.lastTime?e-t.lastTime:0;if(t.lastTime=e,n.counting){if(!n.paused){n.elapsedTime+=r;var o=n.elapsedTime/n.timeout;n.dom.getDom().style.width=100*o+"%",n.changeColor(o),n.elapsedTime>=n.timeout&&(n.animId&&cancelAnimationFrame(n.animId),n.counting=!1,c.default.nextTurn())}n.animId=requestAnimationFrame(n.countLoop)}},n.dom.cls("current-timer"),n.timeout=r,n.counting=!0,n.elapsedTime=0,n.paused=!1,n.animId=requestAnimationFrame(n.countLoop),n}return o(t,e),t.prototype.onUpdate=function(e){c.isChanged(e,"paused")&&(this.paused=c.default.state.paused),c.isChanged(e,"currentRequest")&&e.newState.currentRequest.resCreatureId!==l.ID_NONE&&(this.paused=!0),c.isChanged(e,"turnCount")&&(this.paused=!1),c.isChanged(e,"likes")&&e.newState.likes>=l.LIKES_NEEDED&&(this.paused=!0,this.counting=!1)},t.prototype.remove=function(){this.counting=!1,e.prototype.remove.call(this)},t.lastTime=0,t}(d.default);t.default=f},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(0)),i=r(1),u=r(3),d=r(2),c=r(5),l=function(e){function t(t){var r=e.call(this,"div")||this;r.dom.cls("request-card next");var n=u.sd("div").tt("Next Request").cls("state");r.dom.apd(n),r.header=u.sd("div").cls("header");var o=u.sd("span").tt("Request No."+t.id),s=u.sd("span").tt("Pending").cls("pending");r.header.apd(o),r.header.apd(s),r.dom.apd(r.header);var a=u.sd("div").cls("content");if(r.dom.apd(a),t.reqClassId!==d.ID_NONE){var l=u.sd("div").cls("col");r.reqClass=c.makeReqClassDom(t),r.resClass=u.sd("div").tt(i.getResText(d.CLASSES,t.resClassId)).cls("res blank"),l.apd(r.reqClass),l.apd(r.resClass),a.apd(l)}if(t.reqColorId!==d.ID_NONE){var f=u.sd("div").cls("col");r.reqColor=c.makeReqColorDom(t),r.resColor=u.sd("span").tt(i.getResText(d.COLORS,t.resColorId)).cls("res blank"),f.apd(r.reqColor),f.apd(r.resColor),a.apd(f)}var p=u.sd("div").cls("col");return r.reqCreature=c.makeReqCreatureDom(t),r.resCreature=u.sd("span").tt(i.getResText(d.CREATURES,t.resCreatureId)).cls("res blank creature"),p.apd(r.reqCreature),p.apd(r.resCreature),a.apd(p),r}return o(t,e),t.prototype.onUpdate=function(e){if(i.isChanged(e,"systemRefreshToken")){this.reqCreature.tt(i.getResText(d.CREATURES,e.newState.nextRequest.reqCreatureId));var t=d.CREATURES.find((function(t){return t.id===e.newState.currentRequest.reqCreatureId}));this.reqCreature.getDom().style.background=t.color||"#ffffff"}},t}(a.default);t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(0)),i=s(r(4)),u=r(2),d=function(e){function t(){var t=e.call(this,"section")||this;return t.dom.cls("card-404"),t.add(new i.default({id:u.ID_404,name:"404",value:-1,type:"CREATURE",bundle:u.BUNDLE_INDEX.WILD_ANIMALS})),t}return o(t,e),t}(a.default);t.default=d},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(r(0)),c=r(3);r(22);var l=r(2),f=i(r(1)),p=u(r(4)),h=function(e){function t(t,r){void 0===r&&(r=4);var n=e.call(this,"div")||this;n.pool=[],n.cards=[],n.dom.cls("conveyor hidden"),n.type=t,n.capacity=r;var o=c.sd("div").cls("conveyor-content"),s=c.sd("div").cls("conveyor-title").tt("CREATURE"===t?"Creatures":"COLOR"===t?"Colors":"CLASS"===t?"Classes":"");o.apd(s),n.container=o,n.dom.apd(o);var a=c.sd("div").cls("conveyor-refresh");return a.apd(c.sd("div").tt("Refresh")),n.refreshCount=c.sd("div").tt("").cls("refresh"),a.apd(n.refreshCount),a.getDom().addEventListener("click",(function(){f.default.state.refreshLeft>0&&(n.refreshCards(),f.default.refresh())})),n.dom.apd(a),n}return o(t,e),t.prototype.onUpdate=function(e){var t=this;if(f.isChanged(e,"refreshLeft")&&(this.refreshCount.tt(String(f.default.state.refreshLeft)).cls("refresh"),f.default.state.refreshLeft<=0&&this.refreshCount.cls("refresh zero")),f.isChanged(e,"inventory")){var r=f.default.state.inventory,n=l.ALL_PRODUCTS.filter((function(e){return e.type===t.type&&r.includes(e.bundle)}));if(0===this.pool.length&&n.length>0){for(var o=0;o<this.capacity;o++){var s=new p.default(f.randPoolItem(n));this.cards.push(s),this.container.apd(s.dom)}this.dom.cls("conveyor")}this.pool=n}if(f.isChanged(e,"systemRefreshToken")&&"CREATURE"===this.type&&this.refreshCards(),f.isChanged(e,"currentRequest")){if(!e.oldState)return;var a=e.oldState.currentRequest,i=e.newState.currentRequest;if(a.id!==i.id)return;var u=l.ID_NONE,d=l.ID_NONE;if("CREATURE"===this.type?(u=a.resCreatureId,d=i.resCreatureId):"COLOR"===this.type?(u=a.resColorId,d=i.resColorId):"CLASS"===this.type&&(u=a.resClassId,d=i.resClassId),u!==d&&d!==l.ID_404){var c=this.cards.findIndex((function(e){return e.id===f.default.state.lastDealedCardId}));c>=0&&setTimeout((function(){t.cards.splice(c,1)[0].dom.getDom().remove();var e=new p.default(f.randPoolItem(t.pool));t.cards.unshift(e),t.container.ppd(e.dom)}),l.TURN_DELAY)}}},t.prototype.refreshCards=function(){this.cards.forEach((function(e){return e.dom.getDom().remove()})),this.cards=[];for(var e=0;e<this.capacity;e++){var t=new p.default(f.randPoolItem(this.pool));this.cards.push(t),this.container.apd(t.dom)}},t}(d.default);t.default=h},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(0));r(24);var i=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.cls("divider"),t}return o(t,e),t}(a.default);t.default=i},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StoreRow=void 0;var d=u(r(0)),c=i(r(1));r(26);var l=r(3),f=r(2),p=u(r(27)),h=function(e){function t(){var t=e.call(this,"div")||this;t.dom.cls("store");var r=l.sd("div").cls("header").tt("Expansion Packs & Multipliers for Sale !");t.likeCount=l.sd("span").tt("Likes: 0").cls("like-count"),r.apd(t.likeCount),t.dom.apd(r);var n=new _,o=l.sd("div").cls("row-header"),s=l.sd("div").tt("Expansion Packs:").cls("row-name"),a=l.sd("div").tt('"more creature cards with higher value of Likes"').cls("row-desc");o.apd(s).apd(a),n.dom.apd(o),f.PRODUCT_BUNDLES.filter((function(e){return"CARD_PACK"===e.type})).forEach((function(e){n.add(new p.default(e))})),t.add(n);var i=new _,u=l.sd("div").cls("row-header"),d=l.sd("div").tt("Multipliers:").cls("row-name"),c=l.sd("div").tt('"card decorations to multiply card\'s value of Likes"').cls("row-desc");return u.apd(d).apd(c),i.dom.apd(u),f.PRODUCT_BUNDLES.filter((function(e){return"MULTIPLIER"===e.type})).forEach((function(e){i.add(new p.default(e))})),t.add(i),t}return o(t,e),t.prototype.onUpdate=function(e){if(c.isChanged(e,"paused")){var t=c.default.state.paused;this.dom.cls(t?"store":"store hide")}c.isChanged(e,"likes")&&this.likeCount.tt("Likes: "+e.newState.likes)},t}(d.default);t.default=h;var _=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.cls("store-row"),t}return o(t,e),t}(d.default);t.StoreRow=_},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(r(0)),c=r(2),l=r(3),f=i(r(1));r(28);var p=u(r(29)),h=function(e){function t(t){var r=e.call(this,"div")||this;r.sold=!1,r.dom.cls("store-product-bundle"),r.bundle=t;var n=l.sd("div").cls("title").tt(t.name);r.dom.apd(n);var o=l.sd("div").cls("desc").tt(t.desc);r.dom.apd(o);var s=l.sd("div").cls("cost").tt("Cost: ");return s.apd(f.getLikeDom(String(t.price),1,!0)),r.dom.apd(s),r.add(new p.default(t)),r.dom.getDom().addEventListener("click",(function(){if(r.bundle.id!==c.BUNDLE_INDEX.WILD_ANIMALS){if(!r.sold)try{f.default.buyBundle(t.id)}catch(e){s.cls("cost red"),clearTimeout(-1),setTimeout((function(){return s.cls("cost")}),500)}}})),r.dom.getDom().addEventListener("mouseenter",(function(){r.children.forEach((function(e){return e.dom.cls("bundle-detail show")}))})),r.dom.getDom().addEventListener("mouseleave",(function(){r.children.forEach((function(e){return e.dom.cls("bundle-detail")}))})),r}return o(t,e),t.prototype.onUpdate=function(e){f.isChanged(e,"paused")&&e.newState.paused&&this.updateClass(),f.isChanged(e,"inventory")&&this.updateClass()},t.prototype.updateClass=function(){this.bundle.id===c.BUNDLE_INDEX.WILD_ANIMALS||f.default.state.inventory.includes(this.bundle.id)?(this.dom.cls("store-product-bundle sold"),this.sold=!0):(this.dom.cls("store-product-bundle"),this.sold=!1)},t}(d.default);t.default=h},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(0)),i=r(2),u=s(r(4));r(30);var d=function(e){function t(t){var r=e.call(this,"div")||this;return r.dom.cls("bundle-detail"),"CARD_PACK"===t.type?i.CREATURES.filter((function(e){return e.bundle===t.id})).forEach((function(e){r.add(new u.default(e))})):"MULTIPLIER"===t.type&&(t.id===i.BUNDLE_INDEX.COLORS?i.COLORS.forEach((function(e){r.add(new u.default(e))})):t.id===i.BUNDLE_INDEX.CLASSES&&i.CLASSES.forEach((function(e){r.add(new u.default(e))}))),r}return o(t,e),t}(a.default);t.default=d},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(32);var a=s(r(0)),i=r(1),u=r(3),d=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.cls("refresh-bonus-notion"),t}return o(t,e),t.prototype.onUpdate=function(e){i.isChanged(e,"likesRequiredForBonusRefresh")&&(this.text1&&this.text1.getDom().remove(),this.text2&&this.text2.getDom().remove(),this.likeDom&&this.likeDom.getDom().remove(),this.text1=u.sd("span").tt("Get "),this.dom.apd(this.text1),this.likeDom=i.getLikeDom(String(e.newState.likesRequiredForBonusRefresh),1.5,!0),this.likeDom.getDom().style.fontSize="2rem",this.likeDom.getDom().style.fontWeight="bold",this.dom.apd(this.likeDom),this.text2=u.sd("span").tt(" in one request to earn a bonus refresh!"),this.dom.apd(this.text2))},t}(a.default);t.default=d},function(e,t,r){},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(2),c=i(r(1)),l=function(e){function t(){return e.call(this,"div")||this}return o(t,e),t.prototype.onUpdate=function(e){c.isChanged(e,"likes")&&e.newState.likes>=d.LIKES_NEEDED&&c.default.win()},t}(u(r(0)).default);t.default=l}]);