<!doctype html><html lang=en><head><meta charset=UTF-8><title>desreveR</title></head><body style="text-align:center; background: #2e3719"><canvas id=view style="background:#2e3719; margin-top:100px"></canvas><script>!function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return r(n?n:e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function SfxrParams(){this.setSettings=function(e){for(var t=0;24>t;t++)this[String.fromCharCode(97+t)]=e[t]||0;this.c<.01&&(this.c=.01);var n=this.b+this.c+this.e;if(.18>n){var o=.18/n;this.b*=o,this.c*=o,this.e*=o}}}function SfxrSynth(){this._params=new SfxrParams;var e,t,n,o,r,a,i,s,u,c,l,f;this.reset=function(){var e=this._params;o=100/(e.f*e.f+.001),r=100/(e.g*e.g+.001),a=1-e.h*e.h*e.h*.01,i=-e.i*e.i*e.i*1e-6,e.a||(l=.5-e.n/2,f=5e-5*-e.o),s=1+e.l*e.l*(e.l>0?-.9:10),u=0,c=1==e.m?0:(1-e.m)*(1-e.m)*2e4+32},this.totalReset=function(){this.reset();var o=this._params;return e=o.b*o.b*1e5,t=o.c*o.c*1e5,n=o.e*o.e*1e5+12,3*((e+t+n)/3|0)},this.synthWave=function(p,d){var m=this._params,h=1!=m.s||m.v,A=m.v*m.v*.1,y=1+3e-4*m.w,j=m.s*m.s*m.s*.1,b=1+1e-4*m.t,v=1!=m.s,w=m.x*m.x,g=m.g,S=m.q||m.r,O=m.r*m.r*m.r*.2,C=m.q*m.q*(m.q<0?-1020:1020),x=m.p?((1-m.p)*(1-m.p)*2e4|0)+32:0,P=m.d,M=m.j/2,T=m.k*m.k*.01,R=m.a,D=e,_=1/e,E=1/t,I=1/n,z=5/(1+m.u*m.u*20)*(.01+j);z>.8&&(z=.8),z=1-z;for(var G,J,B,F,U,k,Q=!1,N=0,V=0,q=0,Y=0,K=0,W=0,X=0,L=0,H=0,Z=0,$=new Array(1024),ee=new Array(32),te=$.length;te--;)$[te]=0;for(var te=ee.length;te--;)ee[te]=2*Math.random()-1;for(var te=0;d>te;te++){if(Q)return te;if(x&&++H>=x&&(H=0,this.reset()),c&&++u>=c&&(c=0,o*=s),a+=i,o*=a,o>r&&(o=r,g>0&&(Q=!0)),J=o,M>0&&(Z+=T,J*=1+Math.sin(Z)*M),J|=0,8>J&&(J=8),R||(l+=f,0>l?l=0:l>.5&&(l=.5)),++V>D)switch(V=0,++N){case 1:D=t;break;case 2:D=n}switch(N){case 0:q=V*_;break;case 1:q=1+2*(1-V*E)*P;break;case 2:q=1-V*I;break;case 3:q=0,Q=!0}S&&(C+=O,B=0|C,0>B?B=-B:B>1023&&(B=1023)),h&&y&&(A*=y,1e-5>A?A=1e-5:A>.1&&(A=.1)),k=0;for(var ne=8;ne--;){if(X++,X>=J&&(X%=J,3==R))for(var oe=ee.length;oe--;)ee[oe]=2*Math.random()-1;switch(R){case 0:U=l>X/J?.5:-.5;break;case 1:U=1-X/J*2;break;case 2:F=X/J,F=6.28318531*(F>.5?F-1:F),U=1.27323954*F+.405284735*F*F*(0>F?1:-1),U=.225*((0>U?-1:1)*U*U-U)+U;break;case 3:U=ee[Math.abs(32*X/J|0)]}h&&(G=W,j*=b,0>j?j=0:j>.1&&(j=.1),v?(K+=(U-W)*j,K*=z):(W=U,K=0),W+=K,Y+=W-G,Y*=1-A,U=Y),S&&($[L%1024]=U,U+=$[(L-B+1024)%1024],L++),k+=U}k*=.125*q*w,p[te]=k>=1?32767:-1>=k?-32768:32767*k|0}return d}}var _classColliderJs=require("./class/Collider.js"),_classColliderJs2=_interopRequireDefault(_classColliderJs),_classComponentJs=require("./class/Component.js"),_classComponentJs2=_interopRequireDefault(_classComponentJs),_classGameJs=require("./class/Game.js"),_classGameJs2=_interopRequireDefault(_classGameJs),_classGameObjectJs=require("./class/GameObject.js"),_classGameObjectJs2=_interopRequireDefault(_classGameObjectJs),_classInputJs=require("./class/Input.js"),_classInputJs2=_interopRequireDefault(_classInputJs),_classJumpJs=require("./class/Jump.js"),_classJumpJs2=_interopRequireDefault(_classJumpJs),_classPhysicsBodyJs=require("./class/PhysicsBody.js"),_classPhysicsBodyJs2=_interopRequireDefault(_classPhysicsBodyJs),_classRectJs=require("./class/Rect.js"),_classRectJs2=_interopRequireDefault(_classRectJs),_classRectRendererJs=require("./class/RectRenderer.js"),_classRectRendererJs2=_interopRequireDefault(_classRectRendererJs),_classScoreDisplayJs=require("./class/ScoreDisplay.js"),_classScoreDisplayJs2=_interopRequireDefault(_classScoreDisplayJs),_classScrollingTerrainJs=require("./class/ScrollingTerrain.js"),_classScrollingTerrainJs2=_interopRequireDefault(_classScrollingTerrainJs),_classSpriteRendererJs=require("./class/SpriteRenderer.js"),_classSpriteRendererJs2=_interopRequireDefault(_classSpriteRendererJs),_classTransformJs=require("./class/Transform.js"),_classTransformJs2=_interopRequireDefault(_classTransformJs),_classVector2Js=require("./class/Vector2.js"),_classVector2Js2=_interopRequireDefault(_classVector2Js),synth=new SfxrSynth;window.jsfxr=function(e){synth._params.setSettings(e);var t=synth.totalReset(),n=new Uint8Array(4*((t+1)/2|0)+44),o=2*synth.synthWave(new Uint16Array(n.buffer,44),t),r=new Uint32Array(n.buffer,0,44);r[0]=1179011410,r[1]=o+36,r[2]=1163280727,r[3]=544501094,r[4]=16,r[5]=65537,r[6]=44100,r[7]=88200,r[8]=1048578,r[9]=1635017060,r[10]=o,o+=44;for(var a=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="data:audio/wav;base64,";o>a;a+=3){var u=n[a]<<16|n[a+1]<<8|n[a+2];s+=i[u>>18]+i[u>>12&63]+i[u>>6&63]+i[63&u]}return s};var canvas=document.getElementById("view"),_input=_classInputJs2["default"].instance,options={canvas:canvas},_game=_classGameJs2["default"].instance;_game.SetCanvas(options),_game.init(),_input.Attach(),_game.Loop();var clock=new _classGameObjectJs2["default"];clock.AddComponent(new _classScoreDisplayJs2["default"]),clock.name="Clock",_game.objs.push(clock);var musicFormula="((t*5&t>>7)|(t*3&t>>10))&255",softSynth=function softSynth(f){return eval("for(var t=0,S='RIFF_oO_WAVEfmt "+atob("EAAAAAEAAQBAHwAAQB8AAAEACAA")+"data';++t<3e5;)S+=String.fromCharCode("+f+")")},a=new Audio("data:audio/wav;base64,"+btoa(softSynth(musicFormula)));a.volume=.04,a.play(),setInterval(function(){a.pause(),a.currentTime=0,a.play()},37500)},{"./class/Collider.js":2,"./class/Component.js":3,"./class/Game.js":5,"./class/GameObject.js":6,"./class/Input.js":8,"./class/Jump.js":9,"./class/PhysicsBody.js":12,"./class/Rect.js":14,"./class/RectRenderer.js":15,"./class/ScoreDisplay.js":16,"./class/ScrollingTerrain.js":17,"./class/SpriteRenderer.js":18,"./class/Transform.js":20,"./class/Vector2.js":21}],2:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=function(e){function t(e){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="Collider"}return a(t,e),t}(u["default"]);n["default"]=c,t.exports=n["default"]},{"./Component.js":3}],3:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function a(e){o(this,a),this.Update=function(){},this.Draw=function(){}};n["default"]=r,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Input.js"),l=o(c),f=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.Update=function(){l["default"].instance.isSpaceDown&&n.gameObject.Destroy()}}return a(t,e),t}(u["default"]);n["default"]=f,t.exports=n["default"]},{"./Component.js":3,"./Input.js":8}],5:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e("./Collider.js"),s=o(i),u=e("./Component.js"),c=(o(u),e("./DestroyOnSpace.js")),l=o(c),f=e("./GameObject.js"),p=o(f),d=e("./ImageRenderer.js"),m=o(d),h=e("./Input.js"),A=o(h),y=e("./Jump.js"),j=o(y),b=e("./Particle.js"),v=(o(b),e("./Parallax.js")),w=o(v),g=e("./PhysicsBody.js"),S=o(g),O=e("./Player.js"),C=o(O),x=e("./Rect.js"),P=(o(x),e("./RectRenderer.js")),M=o(P),T=e("./ScoreDisplay.js"),R=o(T),D=e("./ScrollingTerrain.js"),_=o(D),E=e("./SpriteRenderer.js"),I=o(E),z=e("./TextRenderer.js"),G=(o(z),e("./Transform.js")),J=o(G),B=e("./Vector2.js"),F=o(B),U=Symbol(),k=Symbol(),Q=function(){function e(t){var n=this;r(this,e),this.shakeFrames=0,this.hasStarted=!1,this.paused=!1,this.startTime=new Date,this.currentScore=0,this.color={black:"rgba(0,0,0,0)",dark:"rgba(0,0,0,0.5)",light:"rgba(255,255,255,0.5)",white:"rgba(255,255,255,1)",transparent:"rgba(255,255,255,0)"};this.platformCount=0,this.objs=[],this.speed=2,this.logo=new Image,this.logo.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAAA3BAMAAADQ9pRxAAAAD1BMVEUAAAAtNhlScyPA3YuTuWMW5n24AAAAAXRSTlMAQObYZgAABClJREFUSMfclIGRayEIRXc7WNAGMGmAYANG+q/p34tvkuxsB5+ZyFPhcFEnX/+dyct+vs74Yd/Cn1yRP58bsNf3H/tEvPE1uRZehX+pMA7vhCsX7gPMnSvg+40udosIk6BzCRgSuIgd0cPuh/vXiiGyN9N60LyAzCbSAyO/wSD3t9jmHC9GTIT3XcnaMhMojTKV3LdbaK821Lw7ycxmBDBshQJygpGwLdqX9H3kgKpGJBheDA2pUpPiaBdjxqkMs+aoOKyDMROsw+hgBPfhMGdV1wYSGVcrS2T6GMOEDB2jIyRliIQKDYxNPwqlWJDRFpRfjLan2GGIbVfBRwPDdFjbqkST4cVwzLmOT97Wxeh7KZQjxNR4mCwPxgIzqrralp5kGMXByFA3ZVodhy9VI4MH6dacRwWpiF1k+BCIyCAsEQPf3CFJ3oxYohILv7jVG4OqhTyWDQxEPyz3ESR3LLFID9HeD6NTPxvSgHmrEeGdDHZYC9Z3XAzWmYJGHWnFUDIGGX3PJGNmouRNEnMvMbnRT7IuJN93BnjDMNy3fDCeS00SwSgBM+EsJwTJYUAIGAEGogJ+dG7U38WbgbQOhvenEYOQmNSbS9IVUqMYsnKBIYMlL4ZcjHOpK+gBsY1yGQ49KhsMyYsBO2I3axTD98UQUTKUHjbzxi0DuTOENwMvyjc24dnLi8GHO+sZKnXQmraZhkoQAEjdCUjwgA1tnOdTmp9erLHp+RDMwWiEeV+3SS2HaGRACC+dRgZ6W9IuHaOHe5/1MB6xegS22jMm8NSqd7E6Q5zqPoxBRlt1T2QItpCd3oO2aja1M7seJwT5YUiS0dABlNth+GEgMhyMnJuMSeKDSouhOdskSxkIMIIylkiQwTdWDE0YGDkzVZIe6XIY41/tZYCjQAxC0XgDIXsB2Kvs/c+0fL6FEmsmmcSvjg6lDzqCHaMKwiS5mGD85s8dGlkW44Fy0BiQJfwmWraLRo2AAWgEdvbhD+JFRcLSDBdIPWSsDRXPI/IouLrFQdkKUSO4tn+5N3CyhQGKUaJgobvTkIsBg34KNmJw+2MmHEvPPEW587wZhkMqT3Tbo0xaJOKNnyi+Y4aYmZvRE+xPW7YyD7ikGI6MXWawQ3LUc7IZjKhp3xN5jJkY5Jx2bRQ3cI5TNL5cxt3GilHBeOzz5+GGplI+CsFL06mWUDoj5CCC5FpcwllM/a6sEhEIRee0sSwupTYYbDGLlwMgRWiWz87L4n9j4KVg1NhqCgaNh4fU0o8+Nq6HMxftcSj8zclYk9LDi9HfC5tHNZ/b9ciY1YbFcGnGbBeLMRWbeTA+KUaDTcZeOfrqdczaGdqXFQbka95xqrZJUObqOhlVCTmeuRI3q53rJQPLbYa4F8MXI0Xo4Z/BxxpTH7ZT08kNETF1G3CtmvFl/QOLpEU6gnTAeQAAAABJRU5ErkJggg==",this.Update=function(){!n.hasStarted&&A["default"].instance.isSpaceDown&&(n.StartGame(),n.hasStarted=!0),n.paused||n.objs.forEach(function(e){e.Update()})},this.Draw=function(){n.shakeFrames>0&&(n.CTX.save(),n.CTX.translate(3*Math.random()-1.5,3*Math.random()-1.5)),n.CTX.mozImageSmoothingEnabled=!1,n.CTX.webkitImageSmoothingEnabled=!1,n.CTX.msImageSmoothingEnabled=!1,n.CTX.imageSmoothingEnabled=!1,n.CTX.clearRect(0,0,n.canvas.width,n.canvas.height),n.objs.forEach(function(e){e.Draw(n.CTX)}),n.shakeFrames>0&&(n.CTX.restore(),n.shakeFrames--)},this.Loop=function(){n.Update(),n.Draw(),requestAnimationFrame(n.Loop)},this.ResizeCanvas=function(e,t){n.canvas.width=e,n.canvas.height=t},this.reset=function(e){n.hasStarted=!1,"NonPlayer"===e?n.objs.forEach(function(e){"Player"!==e.name&&"Clock"!==e.name&&e.Destroy()}):n.objs.forEach(function(e){"Clock"!==e.name&&e.Destroy()})},this.init=function(){n.reset(),n.scale=3,n.resolution=new F["default"](320,188),n.CTX=n.canvas.getContext("2d"),n.objs=[],n.ResizeCanvas(n.resolution.x*n.scale,n.resolution.y*n.scale),n.CTX.scale(n.scale,n.scale),n.SpawnParallax(),n.SpawnStartMenu();var e=new p["default"];e.AddComponent(new R["default"]),e.name="Clock",n.objs.push(e)},this.StartGame=function(){e.instance.SetScrollingTerrainSpeed(2.5),n.SpawnPlayer(new F["default"](250,130),new F["default"](18,18)),n.SpawnPlatform(new F["default"](0,150),new F["default"](500,200)),n.SpawnCatch(),n.startTime=new Date,n.currentScore=0},this.SetCanvas=function(e){n.canvas=e.canvas},this.SpawnPlatform=function(e,t){var o=new p["default"];o.transform=new J["default"]({position:e,size:t}),o.AddComponent(new s["default"]),o.AddComponent(new _["default"]({speed:n.speed})),o.AddComponent(new I["default"]({animated:!1,tiled:!0,tiledIndex:7})),o.name="Platform";var r=new p["default"];return r.transform=new J["default"]({position:new F["default"](e.x+t.x,e.y+5),size:new F["default"](2,t.y-10)}),r.AddComponent(new s["default"]),r.AddComponent(new _["default"]({speed:n.speed})),r.AddComponent(new M["default"]),r.color="rgba(255,0,0,0)",r.name="CollisionDeath",n.objs.push(o),n.objs.push(r),o},this.SpawnPlayer=function(e,t){var o=new p["default"];o.transform=new J["default"]({position:e,size:t}),o.AddComponent(new s["default"]),o.AddComponent(new C["default"]),o.AddComponent(new S["default"]({kinematic:!1})),o.AddComponent(new j["default"]({input:A["default"].instance})),o.AddComponent(new I["default"]({animated:!0,animations:[{name:"Walk",frames:[0,1,2,1]},{name:"Jump",frames:[3]}]})),o.color=n.color.transparent,o.name="Player",n.objs.push(o)},this.SpawnCatch=function(){var e=new p["default"];e.transform=new J["default"]({position:new F["default"](0,220),size:new F["default"](320,10)}),e.AddComponent(new s["default"]),e.AddComponent(new M["default"]),e.color="rgba(255,0,0,1)",e.name="CollisionDeath",n.objs.push(e)},this.SetScrollingTerrainSpeed=function(e){n.speed=e,n.objs.forEach(function(t){var n=t.GetComponent("ScrollingTerrain");n&&n.speed&&(n.speed=e)})},this.SpawnStartMenu=function(){var e=new p["default"],t=new F["default"](166,59);e.transform=new J["default"]({size:t,position:new F["default"](n.resolution.x/2-t.x/2,n.resolution.y/2-t.y/2-50)}),e.AddComponent(new m["default"]({})),e.name="Logo",e.AddComponent(new l["default"]),n.objs.push(e)},this.SpawnParallax=function(){var e=new p["default"];e.transform=new J["default"]({position:F["default"].zero(),size:n.resolution}),e.AddComponent(new w["default"]({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAiAgMAAABEnu15AAAADFBMVEUAAABSdCSTuWPA3YsKQP1cAAAAAXRSTlMAQObYZgAAAEtJREFUKM9jGCDAiMRWgFBMqCpEMPQ0QJXjkhAg2zUOFCt2oDxIeHBJHMAl8YBEGxoocJ0CphCRoc5CesJA2Ep5LFIOmB0IxwgCAABPXAXsrhitAAAAAABJRU5ErkJggg==",size:new F["default"](95,34),tickFrames:120,repeat:!0})),e.name="Stars",n.objs.push(e);var t=new p["default"];t.transform=new J["default"]({position:new F["default"](20,15),size:new F["default"](42,40)}),t.AddComponent(new w["default"]({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUBAMAAACQZWsAAAAAD1BMVEUAAACTuWPA3YtSdCQtNhlaMa0FAAAAAXRSTlMAQObYZgAAAH9JREFUCNddztENAkEIBFA9KxjmGmBuC5DFAkzW/msSTv1xEsILfMDlPw78CBfzOw0AfJ4umXw0r4y0Kax2BozTWQYzmKZoo72c9zYC82HlDSCMx4yysA/HK9hWHOYj+7I8KRk/9pQOZ1uaVdHe1HGcz82mr1ItTI690LlFovsbJFMTBF1I6sMAAAAASUVORK5CYII=",size:new F["default"](21,20),tickFrames:45,repeat:!1,scale:2})),t.name="Moon",n.objs.push(t);var o=new p["default"];o.transform=new J["default"]({position:new F["default"](0,94),size:n.resolution}),o.color="#2e3719",o.AddComponent(new M["default"]),n.objs.push(o);var r=new p["default"];r.transform=new J["default"]({position:new F["default"](0,44),size:new F["default"](n.resolution.x,81)}),r.AddComponent(new w["default"]({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAbAgMAAACfC0DrAAAACVBMVEUAAAAuNxlScyNJmFCcAAAAAXRSTlMAQObYZgAAAQBJREFUKM99zkFOxDAMBVAGCRbsB4krcIo5wiz4lpy9KyWnQNzBEcmKBY5wTsmUtrTqIL53T9a3b/7Nw9cf+Nb7x/Umd+9X+hR7ra97FYvUPnd48AGQuFu+t3jRQU9bfM4elZT6+1Zrs2qZ4X7eaCKHd2MtuuKtNleKLOhlc0vJlALE4esbjwo3qt4C4vrz0SAKZGYAy72DKUsWEjIFXpaCJIWbhEZRAJmVI9GQdBwAw2kqkKLSIblaFHCYKu6QNHQJqSMAyJg1FE5BagEphKYvjojIyXxsjRgzNgOCqKExY87YjEu4ojBs4UmDGSeHLHr+USIVUhCWnC46XxH85vwNOQCNbZlGlfEAAAAASUVORK5CYII=",size:new F["default"](84,27),tickFrames:22,scale:3,repeat:!0})),r.name="BackMountain",n.objs.push(r);var a=new p["default"];a.transform=new J["default"]({position:new F["default"](0,100),size:new F["default"](n.resolution.x,57)}),a.AddComponent(new w["default"]({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAATAgMAAAB6s2L8AAAADFBMVEUAAAAuNxmTuWNSdCS1ShlGAAAAAXRSTlMAQObYZgAAALhJREFUGNNjIAcwBmARXLZsKYbYwmUrZ6Gr1YoMmxY1AUWIY9m6WbOWRi1bgSzIuWzlq1krV61MQxZctTvtd/2qV8uyHBCOWVn+7+Xcv+GvS5H0S6Z+rUy/ez00/easpQIwhavSr4ZNzQ1dGhqfOS0EKshaGXt31dTQ0LCroWFrp0EF7e9WXg0FgqzQ0PitYQsggn+BQktDoSBsCViMPxQJTA2dCXZVeCgqCABZgyaWGgp0TygGCAAAjbBYWvu9u1wAAAAASUVORK5CYII=",size:new F["default"](80,19),tickFrames:5,scale:3,translation:55,repeat:!0})),a.name="FrontMountain",n.objs.push(a);var i=new p["default"];i.transform=new J["default"]({position:new F["default"](0,0),size:n.resolution}),i.color="rgba(0,0,0,0.45)",i.AddComponent(new M["default"]),n.objs.push(i)}}return a(e,null,[{key:"instance",get:function(){return this[U]||(this[U]=new e(k)),this[U]}}]),e}();n["default"]=Q,t.exports=n["default"]},{"./Collider.js":2,"./Component.js":3,"./DestroyOnSpace.js":4,"./GameObject.js":6,"./ImageRenderer.js":7,"./Input.js":8,"./Jump.js":9,"./Parallax.js":10,"./Particle.js":11,"./PhysicsBody.js":12,"./Player.js":13,"./Rect.js":14,"./RectRenderer.js":15,"./ScoreDisplay.js":16,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./TextRenderer.js":19,"./Transform.js":20,"./Vector2.js":21}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Transform.js"),i=o(a),s=e("./Vector2.js"),u=o(s),c=e("./Game.js"),l=o(c),f=function p(){var e=this;r(this,p),this.name="GO",this.transform=new i["default"]({position:new u["default"](10,10),size:new u["default"](10,10)}),this.collider=!0,this.components=[],this.Update=function(){e.components.forEach(function(e){e.Update()})},this.Draw=function(t){e.components.forEach(function(e){e.Draw(t)})},this.GetComponent=function(t){var n=null;return e.components.forEach(function(e){e.componentName===t&&(n=e)}),n},this.AddComponent=function(t){e.components.push(t),t.gameObject=e},this.Destroy=function(){var t=l["default"].instance.objs.indexOf(e);t>-1&&(l["default"].instance.objs[t]=null,l["default"].instance.objs.splice(t,1))},this.isOnScreen=function(){var t=e.transform,n=!1;return t.position.x<l["default"].instance.resolution.x&&t.position.y+t.size.y>0&&t.position.y<l["default"].instance.resolution.y&&(n=!0),n}};n["default"]=f,t.exports=n["default"]},{"./Game.js":5,"./Transform.js":20,"./Vector2.js":21}],7:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Vector2.js"),l=(o(c),e("./Game.js")),f=(o(l),function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="ImageRenderer",this.image=new Image,this.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAAA3BAMAAADQ9pRxAAAAD1BMVEUAAAAtNhlScyPA3YuTuWMW5n24AAAAAXRSTlMAQObYZgAABClJREFUSMfclIGRayEIRXc7WNAGMGmAYANG+q/p34tvkuxsB5+ZyFPhcFEnX/+dyct+vs74Yd/Cn1yRP58bsNf3H/tEvPE1uRZehX+pMA7vhCsX7gPMnSvg+40udosIk6BzCRgSuIgd0cPuh/vXiiGyN9N60LyAzCbSAyO/wSD3t9jmHC9GTIT3XcnaMhMojTKV3LdbaK821Lw7ycxmBDBshQJygpGwLdqX9H3kgKpGJBheDA2pUpPiaBdjxqkMs+aoOKyDMROsw+hgBPfhMGdV1wYSGVcrS2T6GMOEDB2jIyRliIQKDYxNPwqlWJDRFpRfjLan2GGIbVfBRwPDdFjbqkST4cVwzLmOT97Wxeh7KZQjxNR4mCwPxgIzqrralp5kGMXByFA3ZVodhy9VI4MH6dacRwWpiF1k+BCIyCAsEQPf3CFJ3oxYohILv7jVG4OqhTyWDQxEPyz3ESR3LLFID9HeD6NTPxvSgHmrEeGdDHZYC9Z3XAzWmYJGHWnFUDIGGX3PJGNmouRNEnMvMbnRT7IuJN93BnjDMNy3fDCeS00SwSgBM+EsJwTJYUAIGAEGogJ+dG7U38WbgbQOhvenEYOQmNSbS9IVUqMYsnKBIYMlL4ZcjHOpK+gBsY1yGQ49KhsMyYsBO2I3axTD98UQUTKUHjbzxi0DuTOENwMvyjc24dnLi8GHO+sZKnXQmraZhkoQAEjdCUjwgA1tnOdTmp9erLHp+RDMwWiEeV+3SS2HaGRACC+dRgZ6W9IuHaOHe5/1MB6xegS22jMm8NSqd7E6Q5zqPoxBRlt1T2QItpCd3oO2aja1M7seJwT5YUiS0dABlNth+GEgMhyMnJuMSeKDSouhOdskSxkIMIIylkiQwTdWDE0YGDkzVZIe6XIY41/tZYCjQAxC0XgDIXsB2Kvs/c+0fL6FEmsmmcSvjg6lDzqCHaMKwiS5mGD85s8dGlkW44Fy0BiQJfwmWraLRo2AAWgEdvbhD+JFRcLSDBdIPWSsDRXPI/IouLrFQdkKUSO4tn+5N3CyhQGKUaJgobvTkIsBg34KNmJw+2MmHEvPPEW587wZhkMqT3Tbo0xaJOKNnyi+Y4aYmZvRE+xPW7YyD7ikGI6MXWawQ3LUc7IZjKhp3xN5jJkY5Jx2bRQ3cI5TNL5cxt3GilHBeOzz5+GGplI+CsFL06mWUDoj5CCC5FpcwllM/a6sEhEIRee0sSwupTYYbDGLlwMgRWiWz87L4n9j4KVg1NhqCgaNh4fU0o8+Nq6HMxftcSj8zclYk9LDi9HfC5tHNZ/b9ciY1YbFcGnGbBeLMRWbeTA+KUaDTcZeOfrqdczaGdqXFQbka95xqrZJUObqOhlVCTmeuRI3q53rJQPLbYa4F8MXI0Xo4Z/BxxpTH7ZT08kNETF1G3CtmvFl/QOLpEU6gnTAeQAAAABJRU5ErkJggg==",this.alpha=1,this.Draw=function(e){e.globalAlpha=n.alpha;var t=n.gameObject.transform;e.drawImage(n.image,t.position.x,t.position.y,t.size.x,t.size.y),e.globalAlpha=1}}return a(t,e),t}(u["default"]));n["default"]=f,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],8:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=32,i=Symbol(),s=Symbol(),u=function(){function e(t){var n=this;o(this,e),this.isSpaceDown=!1,this.KeyDown=function(e){switch(e.keyCode){case a:n.isSpaceDown=!0}},this.KeyUp=function(e){switch(e.keyCode){case a:n.isSpaceDown=!1}},this.Attach=function(){window.addEventListener("keydown",n.KeyDown),window.addEventListener("keyup",n.KeyUp)}}return r(e,null,[{key:"instance",get:function(){return this[i]||(this[i]=new e(s)),this[i]}}]),e}();n["default"]=u,t.exports=n["default"]},{}],9:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Game.js"),l=o(c),f=e("./GameObject.js"),p=o(f),d=e("./Transform.js"),m=o(d),h=e("./Vector2.js"),A=o(h),y=e("./ScrollingTerrain.js"),j=o(y),b=e("./SpriteRenderer.js"),v=o(b),w=e("./Particle.js"),g=o(w),S=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.input=e.input,this.SpriteRenderer=null,this.jumpOne=!1,this.doubleJump=!1,this.jumpForce=-9.5,this.lastJumpTime=-9999,this.jumpCD=300,this.soundSource=jsfxr([0,,.3667,,.2549,.3988,,.1116,,,,,,.5939,,,,,.9699,,,.117,,.5]),this.jumpSound=new Audio(this.soundSource),this.soundPitchMin=.9,this.soundPitchMax=3,this.Update=function(){if(n.gameObject&&(n.pb=n.gameObject.GetComponent("PhysicsBody"),n.SpriteRenderer=n.gameObject.GetComponent("SpriteRenderer")),n.input.isSpaceDown&&n.pb){if(n.jumpOne&&!n.doubleJump&&n.lastJumpTime+n.jumpCD<=Date.now()){var e=n.jumpForce;n.pb.velocity.y>1.9&&(e=1.1*n.jumpForce),n.Jump(e),n.doubleJump=!0}!n.jumpOne&&n.pb.grounded&&n.lastJumpTime+n.jumpCD<=Date.now()&&(n.Jump(n.jumpForce),n.pb.grounded=!1,n.jumpOne=!0)}n.pb&&n.pb.grounded&&(n.jumpOne=!1,n.doubleJump=!1),n.SpriteRenderer&&(n.pb&&n.pb.grounded?n.SpriteRenderer.currentAnimation=0:n.SpriteRenderer.currentAnimation=1)},this.Jump=function(e){if(n.lastJumpTime+n.jumpCD<=Date.now()){n.lastJumpTime=Date.now(),n.jumpSound.pause(),n.jumpSound.currentTime=0,n.jumpSound.playbackRate=Math.random()*(n.soundPitchMax-n.soundPitchMin)+n.soundPitchMin,n.jumpSound.play();var t=new p["default"];t.name="JumpUpParticle",t.transform=new m["default"]({position:new A["default"](n.gameObject.transform.position.x,n.gameObject.transform.position.y+.25*n.gameObject.transform.size.y),size:new A["default"](.75*n.gameObject.transform.size.x,.75*n.gameObject.transform.size.y)}),t.AddComponent(new v["default"]({animated:!0,animations:[{name:"Jump",frames:[8,8,8]}],playOnce:!0})),t.AddComponent(new g["default"]({})),t.AddComponent(new j["default"]({speed:l["default"].instance.speed})),t.GetComponent("SpriteRenderer").ticksPerFrame=8,l["default"].instance.objs.push(t),n.gameObject&&(n.pb=n.gameObject.GetComponent("PhysicsBody")),n.pb&&(n.pb.velocity.y=e)}}}return a(t,e),t}(u["default"]);n["default"]=S,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5,"./GameObject.js":6,"./Particle.js":11,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./Transform.js":20,"./Vector2.js":21}],10:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Game.js"),l=o(c),f=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.size=e.size,this.DrawPatternContext=function(){n.patternContext.drawImage(n.sprite,0,0,n.size.x*n.scale,n.size.y*n.scale)},this.scale=e.scale||1,this.sprite=new Image,this.sprite.src=e.sprite,this.patternCanvas=document.createElement("canvas"),this.patternCanvas.width=e.size.x*this.scale,this.patternCanvas.height=e.size.y*this.scale,this.patternContext=this.patternCanvas.getContext("2d"),this.patternContext.mozImageSmoothingEnabled=!1,this.patternContext.webkitImageSmoothingEnabled=!1,this.patternContext.msImageSmoothingEnabled=!1,this.patternContext.imageSmoothingEnabled=!1,this.repeat=e.repeat,this.DrawPatternContext(),this.tickFrames=e.tickFrames||60,this.tickPixels=1,this.currentFrame=0,this.translation=e.translation||0,this.Update=function(){n.currentFrame++,n.translation+=n.tickPixels/n.tickFrames,n.DrawPatternContext()},this.Draw=function(e){var t=n.gameObject.transform;if(e.fillStyle=e.createPattern(n.patternCanvas,"repeat"),n.repeat)e.save(),e.translate(t.position.x+n.translation,t.position.y),e.fillRect(t.position.x-n.translation,0,t.size.x+n.translation,t.size.y),e.restore();else{e.save();var o=n.translation%l["default"].instance.resolution.x,r=Math.sin(o);e.translate(o,r),e.fillRect(t.position.x+22,t.position.y-13,t.size.x,t.size.y),e.restore()}}}return a(t,e),t}(u["default"]);n["default"]=f,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5}],11:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.lifeTime=e.lifeTime||500,this.startTime=Date.now(),this.Update=function(){!n.spriteRender&&n.gameObject&&(n.spriteRenderer=n.gameObject.GetComponent("SpriteRenderer")),Date.now()>=n.startTime+n.lifeTime?n.gameObject.Destroy():n.spriteRenderer&&(n.spriteRenderer.alpha=1-(Date.now()-n.startTime)/n.lifeTime)}}return a(t,e),t}(u["default"]);n["default"]=c,t.exports=n["default"]},{"./Component.js":3}],12:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Vector2.js"),l=o(c),f=e("./Game.js"),p=o(f),d=e("./GameObject.js"),m=o(d),h=e("./Rect.js"),A=o(h),y=e("./SpriteRenderer.js"),j=o(y),b=e("./Particle.js"),v=o(b),w=e("./Transform.js"),g=o(w),S=e("./ScrollingTerrain.js"),O=o(S),C=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="PhysicsBody",this.gravity=new l["default"](0,.3),this.velocity=l["default"].zero(),this.acceleration=l["default"].zero(),this.collider=null,this.isKinematic=e&&e.kinematic||!1,this.game=p["default"].instance,this.grounded=!1,
this.lastGrounded=!1,this.hitSoundSource=jsfxr([3,,.0507,,.2369,.7984,,-.6757,,,,,,,,,,,1,,,.1483,,.5]),this.hitSound=new Audio(this.hitSoundSource),this.Update=function(){n.gameObject&&!n.collider&&(n.collider=n.gameObject.GetComponent("Collider")),n.isKinematic||n.Step()},this.Step=function(){n.velocity.x+=n.acceleration.x+n.gravity.x,n.velocity.y+=n.acceleration.y+n.gravity.y,n.velocity.x*=.9,n.velocity.y*=.9;var e=!1,t=!1,o=n.gameObject.transform,r=new A["default"];r.init(o.position.x+n.velocity.x,o.position.y,o.size.x,o.size.y);var a=new A["default"];a.init(o.position.x,o.position.y+n.velocity.y,o.size.x,o.size.y);var i=0;if(null!==!n.collider&&n.game.objs.forEach(function(o){var s=o.GetComponent("Collider");if(null!==s&&o!==n.gameObject){var u=o.transform,c=new A["default"];c.init(u.position.x,u.position.y,u.size.x,u.size.y),n.AABB(r,c)&&(e=!0),n.AABB(a,c)&&(t=!0,i=u.position.y-n.gameObject.transform.size.y,"CollisionDeath"===o.name&&"Player"===n.gameObject.name&&n.gameObject.GetComponent("Player").Die())}}),e||(n.gameObject.transform.position.x+=n.velocity.x),t){if(n.gameObject.transform.position.y=i,"Player"===n.gameObject.name&&n.lastGrounded!==n.grounded){n.hitSound.pause(),n.hitSound.currentTime=0,n.hitSound.playbackRate=1.75*Math.random()+.75,n.hitSound.play(),p["default"].instance.shakeFrames=5;var s=new m["default"];s.name="JumpParticle",s.transform=new g["default"]({position:new l["default"](n.gameObject.transform.position.x,n.gameObject.transform.position.y),size:new l["default"](n.gameObject.transform.size.x,n.gameObject.transform.size.y)}),s.AddComponent(new j["default"]({animated:!0,animations:[{name:"puff",frames:[4,5,6]}],playOnce:!0})),s.AddComponent(new v["default"]({})),s.AddComponent(new O["default"]({speed:p["default"].instance.speed})),s.GetComponent("SpriteRenderer").ticksPerFrame=7,p["default"].instance.objs.push(s)}n.lastGrounded=n.grounded,n.grounded=!0}else n.gameObject.transform.position.y+=n.velocity.y,n.lastGrounded=n.grounded,n.grounded=!1},this.AABB=function(e,t){var n=!1;return e.position.x<t.position.x+t.size.x&&e.position.x+e.size.x>t.position.x&&e.position.y<t.position.y+t.size.y&&e.size.y+e.position.y>t.position.y&&(n=!0),n}}return a(t,e),t}(u["default"]);n["default"]=C,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5,"./GameObject.js":6,"./Particle.js":11,"./Rect.js":14,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./Transform.js":20,"./Vector2.js":21}],13:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Game.js"),l=o(c),f=e("./GameObject.js"),p=o(f),d=e("./Transform.js"),m=o(d),h=e("./Vector2.js"),A=o(h),y=e("./ScrollingTerrain.js"),j=o(y),b=e("./SpriteRenderer.js"),v=o(b),w=e("./Particle.js"),g=o(w),S=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="Player",this.lastBump=Date.now(),this.timeStep=1e4,this.speedStep=.25,this.deathSoundSource=jsfxr([0,,.05,.18,.85,.42,.08,.1259,-.3,.05,.25,.5133,.5094,,-.193,.29,.04,-.06,.9786,.0143,.9207,,-.1832,.5]),this.deathSound=new Audio(this.deathSoundSource),this.soundSource=jsfxr([2,.0659,.2122,.4074,.5489,.5002,,-.29,.1331,,.9816,-.0915,.2788,-.2408,.0016,.583,-.0046,-.9982,.1595,8e-4,.2498,.0502,,.5]),this.speedSound=new Audio(this.soundSource),this.speedSound.pause(),0!=this.speedSound.currentTime&&(this.speedSound.currentTime=0),this.speedSound.play(),l["default"].instance.startTime=Date.now(),l["default"].instance.currentScore=0,this.Update=function(){n.lastBump+n.timeStep<=Date.now()&&(n.lastBump=Date.now(),l["default"].instance.speed+=n.speedStep,l["default"].instance.SetScrollingTerrainSpeed(l["default"].instance.speed),n.speedSound.pause(),n.speedSound.currentTime=0,n.speedSound.play(),l["default"].instance.shakeFrames=5),l["default"].instance.currentScore=(Date.now()-l["default"].instance.startTime)/1e3},this.Die=function(){for(var e=0;50>e;e++){var t=n.gameObject.transform.size.x,o=(2*Math.random()-1)*t,r=(2*Math.random()-1)*t,a=.75*Math.random()+.1,i=new p["default"];i.name="DeathParticle",i.transform=new m["default"]({position:new A["default"](n.gameObject.transform.position.x+o,n.gameObject.transform.position.y+r),size:new A["default"](n.gameObject.transform.size.x*a,n.gameObject.transform.size.y*a)}),i.AddComponent(new v["default"]({animated:!0,animations:[{name:"Death",frames:[9]}],playOnce:!1})),i.AddComponent(new g["default"]({lifeTime:2e3})),i.AddComponent(new j["default"]({speed:l["default"].instance.speed})),i.GetComponent("SpriteRenderer").ticksPerFrame=8,l["default"].instance.objs.push(i)}l["default"].instance.SetScrollingTerrainSpeed(.25),n.gameObject.Destroy(),n.deathSound.pause(),n.deathSound.currentTime=0,n.deathSound.play(),l["default"].instance.shakeFrames=120,setTimeout(function(){l["default"].instance.reset("All"),l["default"].instance.init()},3e3)}}return a(t,e),t}(u["default"]);n["default"]=S,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5,"./GameObject.js":6,"./Particle.js":11,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./Transform.js":20,"./Vector2.js":21}],14:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Vector2.js"),i=o(a),s=function u(e){var t=this;r(this,u),e&&(e.hasOwnProperty("size")&&e.hasOwnProperty("position")&&(this.size=e.size,this.position=e.position),e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&(this.position=new i["default"](x,y)),e.hasOwnProperty("width")&&e.hasOwnProperty("height")&&(this.size=new i["default"](width,height))),this.init=function(e,n,o,r){t.position=new i["default"](e,n),t.size=new i["default"](o,r)}};n["default"]=s,t.exports=n["default"]},{"./Vector2.js":21}],15:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.Draw=function(e){var t=n.gameObject.transform,o=[t.position.x,t.position.y,t.size.x,t.size.y];e.fillStyle=n.gameObject.color,e.fillRect.apply(e,o)}}return a(t,e),t}(u["default"]);n["default"]=c,t.exports=n["default"]},{"./Component.js":3}],16:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Vector2.js"),l=o(c),f=e("./Game.js"),p=o(f),d=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.tensMinutes=0,this.minutes=0,this.tensSeconds=0,this.seconds=0,this.numberSprite=new Image,this.numberSprite.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAAAQAgMAAACq3T9hAAAACVBMVEUAAAAAAADA3YtcMJ56AAAAAXRSTlMAQObYZgAAASdJREFUKM89kUuKwzAQREsL5wYWaE5j30AL10Dv1QPOabxwAtnPZnTKqZZJTNOoy4+iP0hcMEdWbKmSVQ+SlwJ9U6+wyIqWjns/9Lj3v0sBgcwz7ZEVIpw18yBN5fi1wFafXpHL2gax2FqBKCWm5wKfLRscNmMQvQpCagVNYhDNSjE0lMQgfngKQjoLW4i7CC9zwSa8n87HvjZBSEdWCQMRHijA5PLQCIQLwnTIw7ADInwQ3yfg5AOwHY5btWh2EJfHtFfAZA6UMM+LcuYLfHvkh+AiQg01SFmUp27RqW8mxSrm4dHg4THmT9S0Y2MiXA50EZ5aKD42OTYW+55tczI/Y0gby0YL/Ta2Hjf76r+aU82ONVQpIj6Xi7vP3EiOok7X0Td8rv8PJl+BaBKlx8oAAAAASUVORK5CYII=",this.frameSize=new l["default"](12,16),this.outputSize=new l["default"](6,8),this.Update=function(){var e=p["default"].instance,t=e.currentScore,o=t/60|0,r=t-60*o|0,a=""+(10>o?"0"+o:o)+":"+(10>r?"0"+r:r);n.tensMinutes=a.charAt(0),n.minutes=a.charAt(1),n.tensSeconds=a.charAt(3),n.seconds=a.charAt(4)},this.Draw=function(e){e.drawImage(n.numberSprite,n.tensMinutes*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,n.minutes*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+1*n.outputSize.x,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,10*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+2*n.outputSize.x,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,n.tensSeconds*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+3*n.outputSize.x,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,n.seconds*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+4*n.outputSize.x,3,n.outputSize.x,n.outputSize.y)}}return a(t,e),t}(u["default"]);n["default"]=d,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],17:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Game.js"),l=o(c),f=e("./Vector2.js"),p=o(f),d=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="ScrollingTerrain",this.speed=e.speed||2.5,this.link=null,this.Update=function(){if(null===n.link&&"Platform"===n.gameObject.name&&n.gameObject.transform.position.x>-50){var e=new p["default"](n.RandomRangePlatformSize(64,384,64),200),t=n.gameObject.transform.position.x-e.x-n.RandomRange(150,50),o=n.gameObject.transform.position.y+n.RandomRange(30,-30);if(o>n.gameObject.transform.position.y){var r=.5*(o-n.gameObject.transform.position.y);t-=r}o=Math.min(Math.max(o,50),150),n.link=l["default"].instance.SpawnPlatform(new p["default"](t,o),e)}n.gameObject.transform.position.x+=n.speed,n.gameObject.isOnScreen()||n.gameObject.Destroy()},this.RandomRange=function(e,t){return Math.floor(Math.random()*(e-t))+t},this.RandomRangePlatformSize=function(e,t,n){var o=Math.floor(Math.random()*(e-t))+t;return o-o%n}}return a(t,e),t}(u["default"]);n["default"]=d,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],18:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=e("./Vector2.js"),l=o(c),f=e("./Game.js"),p=(o(f),function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="SpriteRenderer",this.animations=e.animations||[],this.animated=e.animated||!1,this.tiled=e.tiled||!1,this.tiledIndex=e.tiledIndex||null,this.lastAnimation=0,this.currentAnimation=0,this.sprite=new Image,this.sprite.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAgBAMAAACRPbx3AAAAFVBMVEUAAABScyP///8uNxmTuWMtNhnA3YtYE71vAAAAAXRSTlMAQObYZgAABHxJREFUWMPNl0+P0zAQxUOycGa0Ts/BSHsueJUzVt2eiVRzpgTl+38E3njqjGkLFAsQs3+Siavk1/c89qT55xFCICIcPVEIzX8XD96Q8Z6Yj0z40Pyd+FD93QMxGFGPA1jTbdrmOlprbVMX3RZ8sIfPagBNiJDvSBQnOgPeQLF8eagCHGeRIeCsArDfxxgnczQRQUZghis4OakScFm2PvmEs9+X0PfA62MfwwQJ/QaXgNeWhEgy8VAFOD+TAI51gD0RKM2Ew9GcMWwJ2KzAts7ir7ShE81jjcUeuk3UUzQREh4pAdmhvXLY2gHHmiqFs+8X+0QzHK4AjLGHxz5CyQlzMQEOttRqENOB/SNAqdKfSPh+dBaAc9UyA/UIbCZSzIBQSwlboWMpV8CHh+9XTPAp4dV45xhwcTUCNj5NQAbEIU6bs4IweSimICOmQ36+J1MSSpXm7GrcjU/2aXGuqQhD7C0B0PdE0wGXwAbFysIYmM0WgABSAuSkgOW4Sji7ZXbbqq2ujxIUDofFbxJga1tdatIZiFsBVKACUKr0AriU0LmxTsDmFX9XLhGiF31DCxMBJCm2AgIRP81aOv4SQKpUHb8BOFcCvjgYIkrzj9hjJrKIla9lkwUOQmaA04Y2hWVSpcjLcaTqMQJ5TWyWr/7A210IIR4iiEQ2BeQkSbgCdk9f7GmDR5aAUgQ6/qcAm+RxP+0BCE4B1BVFqoX9Zacz4Nv5/RsArqZKlQqCjm9LvnpAD0Dz+iPx8QMDpj0DUOUUxO8K3TkGeJqdbq0dktmtEsq4Ij0HjjrAz9IHfiUOTy/42hlJAaVk8qVxcV++2IUBVcJlcQWgjOfhjn4L0NoyO/eBJvBN0lacV+QS0NqUD2eY7egcgDoFZLqiV5HxvPd2ZH4HkCe7RuA+sCfjH/ZxiuTzZ2z2GMZenIzp2XMCVIuVB6mMjysgOXcvoAihWvoQKfZ+46VhpWJxtrrMILRVAJfj2DVaFcw8FoanosiA7+gR8/B+wGFYtUQfYkA1HY1PS+GUAdXj854ihVM+P+w6fSRwl8LhJOCuc1nAR1DeD2hXQPx4w1txP10CWm5p9G1EmkHVq0Nh7t496m2fn0VABQw7R9vsMACR3AHHfzkYAQpOPeLoDfV9LKrEFh5fttOwFoCOaFsA7jjRdQ8fgLVneZnyNuBl864NvGXrWMEpoo6Nf9VTH0kBVbJBX00UAQI+E6mEkDQZWq58voDq9LO3AO05BrHP8oH/CSD3gfSJYPUKaNO0EyS1WuMd+AKVHr9jGsWBwcE/3gUoQCoC8lZfNYLZM+DBvyRIaIJajBjyLa7eleFeFx5zFWspaIJZQPD2GlAFy2IAhVPQ2dwXcy4eEoXDHn2gfwCnJ7PeoSRaWXWS4Xkrnl7K4bgkOsVTwMKgZlBazmW3QgwyLoJ64tfiaTkRUIm8It30Q/1U99RipVE5bwOKYiuu5FmHNuU5M4Tynbw5eSLaUHNXaHNSXirU1Kyo/JKwNGXgHJS3h3mbNIfXL5YlmK/hl2jfAI6jDMvS6W0wAAAAAElFTkSuQmCC",this.frameSize=new l["default"](32,32),this.totalFrames=4,this.frameIndex=0,this.tickCount=0,this.ticksPerFrame=12,this.patternCanvas=document.createElement("canvas"),this.patternCanvas.width=2*this.frameSize.x,this.patternCanvas.height=2*this.frameSize.y,this.patternContext=this.patternCanvas.getContext("2d"),this.patternContext.mozImageSmoothingEnabled=!1,this.patternContext.webkitImageSmoothingEnabled=!1,this.patternContext.msImageSmoothingEnabled=!1,this.patternContext.imageSmoothingEnabled=!1,this.patternContext.drawImage(this.sprite,this.frameSize.x*this.tiledIndex,0,this.frameSize.x,this.frameSize.y,0,0,2*this.frameSize.x,2*this.frameSize.y),this.alpha=1,this.playOnce=e.playOnce,this.Update=function(){n.animated&&(n.animations.forEach(function(e,t){t===n.currentAnimation&&(n.totalFrames=e.frames.length,n.lastAnimation!=n.currentAnimation&&(n.frameIndex=0,n.tickCount=0,n.lastAnimation=n.currentAnimation))}),n.tickCount++,n.tickCount>n.ticksPerFrame&&(n.tickCount=0,n.frameIndex<n.totalFrames-1?n.frameIndex++:n.frameIndex=0),n.playOnce&&n.frameIndex===n.totalFrames-1&&n.tickCount===n.ticksPerFrame&&n.gameObject.Destroy())},this.Draw=function(e){e.globalAlpha=n.alpha;var t=n.gameObject.transform;if(n.animated&&e.drawImage(n.sprite,n.animations[n.currentAnimation].frames[n.frameIndex]*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,t.position.x,t.position.y,t.size.x,t.size.y),n.tiled){e.save(),e.translate(t.position.x,t.position.y);var o=e.createPattern(n.patternCanvas,"repeat");e.fillStyle=o,e.fillRect(0,0,t.size.x,t.size.y),e.restore()}e.globalAlpha=1}}return a(t,e),t}(u["default"]));n["default"]=p,t.exports=n["default"]},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],19:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=function(e){function t(e){var n=this;r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.text=e.text||"TEST",this.font=e.font||"10px sans-serif",this.fontWeight=e.fontWeight||"normal",this.textAlign=e.textAlign||"start",this.fillStyle=e.fillStyle||"black",this.Draw=function(e){e.font=n.font,e.fontWeight=n.fontWeight,e.textAlign=n.textAlign,e.fillStyle=n.fillStyle,e.fillText(n.text,n.gameObject.transform.position.x,n.gameObject.transform.position.y)}}return a(t,e),t}(u["default"]);n["default"]=c,t.exports=n["default"]},{"./Component.js":3}],20:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;s=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=a,n=i,o=!0}},s=e("./Component.js"),u=o(s),c=function(e){function t(e){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.position=e.position,this.size=e.size}return a(t,e),t}(u["default"]);n["default"]=c,t.exports=n["default"]},{"./Component.js":3}],21:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(t,n){o(this,e),this.x=t,this.y=n}return r(e,null,[{key:"zero",value:function(){return new e(0,0)}}]),e}();n["default"]=a,t.exports=n["default"]},{}]},{},[1]);</script></body></html>