!function e(o,t,l){function y(r,d){if(!t[r]){if(!o[r]){var i="function"==typeof require&&require;if(!d&&i)return i(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var n=t[r]={exports:{}};o[r][0].call(n.exports,function(e){var t=o[r][1][e];return y(t?t:e)},n,n.exports,e,o,t,l)}return t[r].exports}for(var a="function"==typeof require&&require,r=0;r<l.length;r++)y(l[r]);return y}({1:[function(e){function o(){for(var e=[],o=0;50>o;)e.push(t()),o++;return e}function t(){return{x:Math.round(Math.random()*d.width),y:Math.round(500*Math.random()),color:"#99d7e2"}}function l(){var e=k+s;e>0?u.innerHTML="<h3>"+Math.round(k/e*100)+"% accuracy</h3>":u.innterHTML=""}var y=e(2),a=e(3),r={a:document.getElementById("a"),A:document.getElementById("A"),s:document.getElementById("s"),S:document.getElementById("S"),d:document.getElementById("d"),D:document.getElementById("D"),f:document.getElementById("f"),F:document.getElementById("F")},d=document.querySelector("#game"),i=d.getContext("2d"),c={HOME:0,SONG1:1,SONG2:2,SONG3:3,COMPOSE:4,CUSTOM:5},n=c.HOME,m=a.SONG1,f=[],p=0,x=!1,N=null,u=document.getElementById("chance"),k=0,s=0,h={a:100,s:300,d:500,f:700};setInterval(function(){p+=1},1),window.onkeypress=function(e){if((x||n===c.COMPOSE)&&(N=e.key),n===c.COMPOSE&&a.CUSTOM.length<1&&(p=800),n===c.COMPOSE&&h[N.toLowerCase()]){var o=N.toLowerCase();a.CUSTOM.push({realNote:N,key:o,x:h[o],y:-10,time:p,color:"#4180ad",played:!1}),r[N].pause(),r[N].currentTime=0,r[N].play()}null!=N&&setTimeout(function(){N=null},100)};var g=document.querySelectorAll("button");g.forEach(function(e){e.addEventListener("click",function(e){s=0,k=0;var t=e.srcElement.id;if(p=0,c[t])n=c[t],n===c.COMPOSE&&(a.CUSTOM=[]),m=a[t]&&JSON.parse(JSON.stringify(a[t].slice(0))),f=o(),a.CUSTOM.length>0,u.innerHTML="";else if("howto"===t){n=c.HOME;var l=document.getElementById("instructions"),y=document.getElementById("game-buttons");l.style.display="block",y.style.display="none"}else if("back"===t){n=c.HOME;var l=document.getElementById("instructions"),y=document.getElementById("game-buttons");l.style.display="none",y.style.display="block"}})}),f=o(),y.start(function(){i.clearRect(0,0,d.width,d.height),f.forEach(function(e){e.y+=5,e.y>=d.height&&(e.y=Math.round(100*Math.random())),i.beginPath(),i.moveTo(e.x-2,e.y),i.lineTo(e.x,e.y-4),i.lineTo(e.x+2,e.y),i.arc(e.x,e.y,2,0,Math.PI),i.closePath(),i.fillStyle=e.color,i.fill()});var e={a:"0.5",s:"0.5",d:"0.5",f:"0.5"};if(n===c.COMPOSE){var o=N&&N.toLowerCase();e[o]="1"}i.fillStyle="rgba(220, 146, 146,"+e.a+")",i.fillRect(0,d.height-90,200,50),i.fillStyle="rgba(221, 220, 147,"+e.s+")",i.fillRect(200,d.height-90,200,50),i.fillStyle="rgba(183, 221, 147,"+e.d+")",i.fillRect(400,d.height-90,200,50),i.fillStyle="rgba(164, 147, 221,"+e.f+")",i.fillRect(600,d.height-90,200,50),n!==c.COMPOSE&&n!==c.HOME&&n&&m&&m.forEach(function(e){if(e.time<=p&&(e.y+=5),i.beginPath(),i.moveTo(e.x-10,e.y),i.lineTo(e.x,e.y-17),i.lineTo(e.x+10,e.y),i.arc(e.x,e.y,10,0,Math.PI),i.closePath(),e.y>=d.height-110&&e.y<=d.height-30)x=!0,!N||N!==e.key&&N.toLowerCase()!==e.key||(e.color="#93bedd",N=null,e.played||(r[e.realNote].pause(),r[e.realNote].currentTime=0,r[e.realNote].play(),k++,l()),e.played=!0);else if(e.y>d.height-50&&!e.played){if(e.color="#FF0000",x=!1,!e.dead&&f.length<=500){for(var o=0;20>o;)f.push(t()),o++;s++,l()}e.dead=!0}i.fillStyle=e.color,i.fill()})})},{2:2,3:3}],2:[function(e,o){function t(e){return window.requestAnimationFrame(function(){var o=Date.now(),t=o-l;t>999?t=1/60:t/=1e3,l=o,e(t)})}var l=0;o.exports={start:function(e){return t(function o(l){e(l),t(o)})},stop:function(e){window.cancelAnimationFrame(e)}}},{}],3:[function(e,o){var t=100,l=500,y=700,a="#4180ad";o.exports={SONG1:[{realNote:"a",key:"a",x:t,y:-10,time:250,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:434,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:610,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:733,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:913,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:1105,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:1239,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:1419,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:1620,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:1759,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:1943,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:2127,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:2248,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:2435,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:2615,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:2756,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:2940,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:3125,color:a,played:!1},{realNote:"A",key:"a",x:t,y:-10,time:3247,color:a,played:!1},{realNote:"A",key:"a",x:t,y:-10,time:3429,color:a,played:!1},{realNote:"A",key:"a",x:t,y:-10,time:3604,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:3735,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:3931,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:4100,color:a,played:!1}],SONG2:[{realNote:"a",key:"a",x:t,y:-10,time:37,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:215,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:371,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:492,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:659,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:981,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:1160,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:1309,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:1430,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:1612,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:1913,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:2079,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:2237,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:2362,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:2537,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:2725,color:a,played:!1},{realNote:"A",key:"a",x:t,y:-10,time:2839,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:3019,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:3201,color:a,played:!1},{realNote:"D",key:"d",x:l,y:-10,time:3331,color:a,played:!1}],SONG3:[{realNote:"a",key:"a",x:t,y:-10,time:181,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:312,color:a,played:!1},{realNote:"A",key:"a",x:t,y:-10,time:387,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:600,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:741,color:a,played:!1},{realNote:"D",key:"d",x:l,y:-10,time:817,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:1019,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:1139,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:1216,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:1412,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:1542,color:a,played:!1},{realNote:"D",key:"d",x:l,y:-10,time:1618,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:1794,color:a,played:!1},{realNote:"a",key:"a",x:t,y:-10,time:1907,color:a,played:!1},{realNote:"A",key:"a",x:t,y:-10,time:1990,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:2186,color:a,played:!1},{realNote:"d",key:"d",x:l,y:-10,time:2319,color:a,played:!1},{realNote:"D",key:"d",x:l,y:-10,time:2392,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:2579,color:a,played:!1},{realNote:"f",key:"f",x:y,y:-10,time:2702,color:a,played:!1},{realNote:"F",key:"f",x:y,y:-10,time:2778,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:2974,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:3114,color:a,played:!1},{realNote:"s",key:"s",x:300,y:-10,time:3188,color:a,played:!1}],CUSTOM:[]}},{}]},{},[1]);