!function(a,b){function c(a){for(var b=0,c=0,e=0;Eb*Fb>b;b++)Ob[c][Gb*e++].changeType(a,!0,!0),(b+1)%Eb===0&&(c++,e=0);Ic.drawTextures(),Ic.draw(!0),d(),W()}function d(){for(var a=0,b=0,c=Sb.length;c>b;b++){var d=Sb[b],e=Xb[d],f=Yb[d],g=Zb[d],h=e-f,i=ub.min(e,f)*g;i+=(h>0?h:0)*g*.3,a+=i}var j=a/$b*100|0;ab=j>0?j:0,Qb.push(new z("",Kb,Lb))}function e(){return a.performance&&a.performance.now?a.performance.now():(new Date).getTime()}function f(a){return a*Cb}function g(a,b,c,d){var e=f(d);return{x:a+c*xb(e),y:b+c*wb(e)}}function h(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)}function i(a,b,c,d){return a/=d,-c*a*(a-2)+b}function j(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b}function k(a){for(var b=a;0>=b;)b+=Db;for(;b>Db;)b-=Db;return b%Db}function l(a,b){return zb()*(b-a)+a}function m(a){for(var b,c=0;Fb>c;c++)if(b=Pb[c],a<=b.rTop&&a>b.rBottom)return c}function n(a,b){return Math.floor(zb()*(b-a+1)+a)}function o(a,b){return Math.sqrt(a*a+b*b)}function p(a){for(var b=0;a--;)b+=n(1,6);return b}function q(a,b){var c,d;for(c=b,d=a.length-1;d>c;c++)a[c]=a[c+1];a.length=d}function r(a){return a.charAt(0).toUpperCase()+a.slice(1)}function s(a){a.style.display="none"}function u(a){a.style.display="block"}function v(a){return parseInt(a/6e4%60)}function w(a){var b=parseInt(a/1e3%60),c=v(a);return c=10>c?"0"+c:c,b=10>b?"0"+b:b,c+":"+b}function x(a,b,c,e){var f=this;f.animations=[],f.x=a,f.y=b,f.angle=c,f.level=e,f.type="planet",f.particles=[],f.textures=[],f.outline=function(a){a.translate(Kb,Lb),a.rotate(f.angle*Cb),a.translate(-Kb,-Lb),a.beginPath(),a.moveTo(f.x,f.y),a.lineTo(f.x-f.points[f.level][0].x,f.y-f.points[f.level][0].y),a.arc(Kb,Lb,Pb[f.level].rBottom,0,Hb),a.moveTo(f.x-f.points[f.level][1].x,f.y-f.points[f.level][1].y),a.lineTo(f.x-f.points[f.level][2].x,f.y-f.points[f.level][2].y),a.arc(Kb,Lb,Pb[f.level].rTop,Hb,0,!0),a.moveTo(f.x,f.y),a.closePath()},f.drawOffscreen=function(){uc.save(),f.outline(uc),uc.stroke(),uc.restore()},f.draw=function(){f.color&&(wc.save(),f.outline(wc),wc.fillStyle=f.color,wc.fill(),wc.restore())},f.drawTextures=function(){for(var a=0,b=f.textures.length;b>a;a++)f.textures[a].draw()},f.changeType=function(a,b,c){f.animations.length=0;var e,g;switch(a){case"water":e="#43A4BD",g="#084D79";break;case"earth":e="#88A964",g="#678834";break;case"air":e="#EEA22A",g="#9B4600";break;case"fire":e="#FCFC15",g="#EB7723";break;case"planet":e="#BE866B",g="#764C33"}Xb[f.type]--,Xb[a]++,f.type=a,f.color=Tb[a];for(var h=0,i=f.textures.length;i>h;h++){var j=f.textures[h];j.color="light"===j.shade?e:g}f.draw(),c||(Ic.drawTextures(),Ic.draw(!0)),b||(d(),X(a),W())}}function y(a,b,c,d,e,f,g,h,i){var j=this;j.x=a,j.y=b,j.width=c,j.height=d,j.type=e,j.color=f,j.alpha=g,j.ctx=h,j.draw=function(){var a=j.ctx;if(a.save(),i&&(a.translate(j.x,j.y),a.rotate(i*Cb),a.translate(-j.x,-j.y)),a.fillStyle=j.color,a.globalAlpha=j.alpha,a.fillRect(j.x,j.y,j.width,j.height),"star"===j.type){var b=a.createRadialGradient(j.x,j.y,0,j.x,j.y,5*zb());b.addColorStop(0,"rgba(3,26,57,"+j.alpha+")"),b.addColorStop(1,"rgba(3,26,57,0)"),a.fillStyle=b,a.fillRect(0,0,canvas.width,canvas.height)}a.restore()}}function z(a,b,c,d,e,f,g,h){var j=this;j.str=a,j.x=b,j.y=c,j.dx=d||0,j.dy=e||0,j.color=f||"#FFF",j.timeToLive=h||60,j.lifeLeft=j.timeToLive;for(var k=[],l=pc.measureText(a).width/2|0,m=(pc.measureText(a).height/2|0,0);10>m;m++){var n=5*zb(),o=5*zb(),p=zb(),q=360*zb(),d=-1+2*zb(),e=-1+2*zb(),r=new y(b+l,c,n,o,"text",f,p,pc,q);r.dx=d,r.dy=e,k.push(r)}j.update=function(){j.x=i(j.timeToLive-j.lifeLeft,j.x,j.dx,j.timeToLive),j.y=i(j.timeToLive-j.lifeLeft,j.y,j.dy,j.timeToLive);for(var a=0,b=k.length;b>a;a++){var c=k[a];c.x+=c.dx,c.y+=c.dy}j.lifeLeft--},j.draw=function(){pc.save(),pc.fillStyle=j.color,pc.globalAlpha=j.lifeLeft/j.timeToLive,g&&(pc.font=g+"px Arial Black"),pc.fillText(j.str,j.x,j.y),pc.restore();for(var a=0,b=k.length;b>a;a++)k[a].draw()}}function A(){for(var a=0;a<Qb.length;)Qb[a].update(),Qb[a].lifeLeft<=0?q(Qb,a):a++}function B(){pc.strokeStyle="white";for(var a=0,b=Qb.length;b>a;a++)Qb[a].draw()}function C(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.x=a,l.y=b,l.originalX=c,l.originalY=d,l.dx=e,l.rotation=k,l.ctx=g,l.color=f,l.timeToLive=40,l.lifeLeft=h||l.timeToLive,l.width=i||3+3*zb(),l.height=j||2*zb()}function D(a,b,c,d){var e=this;e.particles=[],e.x=a,e.y=b,e.dx=c||0;for(var f=0,g=0,h=!1,i=0;30>i;i++){var j=40*zb(),k=a+j,l=b-15+30*zb();e.particles.push(new C(k,l,a+40,b,1,"#1879BD",d,j)),e.particles.push(new C(k,l,a+40,b,1,"#43A4BD",d,j))}for(var i=0;60>i;i++){var k=a+40+5*zb(),l=b-20+40*zb(),m=4+6*zb(),n=4+6*zb(),o=(zb(),360*zb());e.particles.push(new C(k,l,a+40,b,0,"rgb(127,129,141)",d,40+40*zb(),m,n,o))}e.update=function(){h&&(g=f,h=!1),f+=e.dx;for(var a=0;a<e.particles.length;a++){var b=e.particles[a];b.update(),b.lifeLeft<=0&&b.reset()}},e.draw=function(){d.save(),d.translate(f,0);for(var a=0;a<e.particles.length;a++)e.particles[a].draw();h=!0,d.restore()}}function E(a,b,c,d,e,g,h,i){var j=this,k=f(c),l=Math.abs(c-180);j.centerX=a,j.centerY=b,j.x=d*Math.cos(k)*10+(20>l?10-l/2:0),j.y=Math.sin(k)*Math.pow(Math.sin(.5*k),e)*10,j.ctx=h,j.color=g,j.size=i||5,j.rotation=0}function F(a,b,c,d){var e=this;e.particles=[],e.x=a,e.y=b,e.dx=c||0;var f=0,g=0,h=0,i=!1,j=0;e.rotation=0;for(var k=0;90>k;k+=6)e.particles.push(new E(a,b,180+2*k,1,1.5,"#093905",d,4)),e.particles.push(new E(a,b,180-2*k,1,1.5,"#23531F",d,4));for(var k=0;90>k;k+=5)e.particles.push(new E(a,b,180+2*k,1,6,"#093905",d,4)),e.particles.push(new E(a,b,180-2*k,1,6,"#23531F",d,4));for(var k=0;40>k;k+=5)e.particles.push(new E(a-10,b+1,215+2*k,-1,9,"#3C6C38",d,1.5)),e.particles.push(new E(a-10,b+1,145-2*k,-1,9,"#3C6C38",d,1.5));for(var k=0;30>k;k+=5)e.particles.push(new E(a-5,b+1,210+2*k,-1,15,"#3C6C38",d,1)),e.particles.push(new E(a-5,b+1,150-2*k,-1,15,"#3C6C38",d,1));for(var k=0;25>k;k+=5)e.particles.push(new E(a,b+1,215+2*k,-1,20,"#3C6C38",d,1)),e.particles.push(new E(a,b+1,145-2*k,-1,20,"#3C6C38",d,1));e.update=function(){i&&(h=f,i=!1),f+=e.dx,g=15*wb(.5*j*vb/40),e.rotation=45*wb(.5*j++*vb/40)},e.draw=function(){d.save(),d.translate(f,g),d.translate(e.x,e.y),d.rotate((e.rotation+90)*Cb),d.translate(-e.x,-e.y);for(var a=0;a<e.particles.length;a++)e.particles[a].draw();i=!0,d.restore()}}function G(a,b,c,d,e,f,g,h,i){var j=this;j.x=a,j.y=b,j.ctx=h,j.ttlBase=40,j.dir=e,j.rotation=f,j.rotationSpeed=g,j.width=n(1,5),j.height=j.width,j.originalX=c,j.originalY=d,j.timeToLive=j.ttlBase+20*zb()|0,j.lifeLeft=i||j.timeToLive}function H(a,b,c,d){var e=this;e.particles=[],e.x=a,e.y=b,e.dx=c||0;for(var g=0,h=0,i=!1,j=0;50>j;j++){var k=j%40,l=40-k,m=f(11*l),n=ub.pow(Ab,Jc*m),a=e.x+n*xb(m),b=e.y+n*wb(m);e.particles.push(new G(a,b,e.x,e.y,1,0,5,d,l)),e.particles.push(new G(a,b,e.x,e.y,-1,0,5,d,l))}e.update=function(){i&&(h=g,i=!1),g+=e.dx;for(var a=0;a<e.particles.length;a++){var b=e.particles[a];b.update(),b.lifeLeft<=0&&b.reset()}},e.draw=function(){d.save(),d.translate(g,0);for(var a=0;a<e.particles.length;a++)e.particles[a].draw();i=!0,d.restore()}}function I(a,b,c,d,e){var f=this;f.x=a,f.dy=0,f.ctx=d,f.ttlBase=40,f.y=b+p(2)-7,f.dx=1,f.width=n(1,5),f.radius=10,f.height=f.width,f.originalX=c,f.originalY=f.y,f.timeToLive=e||f.ttlBase,f.lifeLeft=f.timeToLive}function J(a,b,c,d){var e=this;e.particles=[];var f=150;e.x=a,e.y=b,e.dx=c||0,e.timeToLive=100;for(var g=0,h=0,i=!1,j=0;f>j;j++){var k=j%40,a=e.x*k,l=40-k;e.particles.push(new I(a,e.y,e.x,d,l))}e.update=function(){i&&(h=g,i=!1),g+=e.dx;for(var a=0;a<e.particles.length;a++){var b=e.particles[a];b.update(),b.lifeLeft<=0&&b.reset()}},e.draw=function(){d.save(),d.translate(g,0);for(var a=0;a<e.particles.length;a++)e.particles[a].draw();i=!0,d.restore()}}function K(a,b,c){var d=this,e=yb(l(0,3));d.distance=a,d.angle=b,d.type=c||Sb[e],d.color=Tb[d.type],d.dx="easy"===bb?-1:-1.25;var f=g(Kb,Lb,d.distance,0);switch(d.type){case"water":d.effect=new D(f.x,f.y,d.dx,sc);break;case"earth":d.effect=new F(f.x,f.y,d.dx,sc);break;case"air":d.effect=new H(f.x,f.y,d.dx,sc);break;case"fire":d.effect=new J(f.x,f.y,d.dx,sc)}d.update=function(){d.distance+=d.dx,d.effect&&d.effect.update()},d.draw=function(){sc.save(),sc.translate(Kb,Lb),sc.rotate((d.angle+Gb/2)*Cb),sc.translate(-Kb,-Lb),d.effect.draw(),sc.restore()}}function L(){for(var a=0;a<Rb.length;){var b=Rb[a],c=b.distance;if(b.update(),Mb>=c){var d=b.angle,e=k(d-Ic.angle);e=yb(e/Gb)*Gb%Db;var f=m(c);if(0>c&&q(Rb,a),void 0===f)continue;var h=Ob[f][e],i=h.type;if("planet"===i)h.changeType(b.type);else{{var j=Wb[b.type][i];g(Kb,Lb,c,d)}switch(j){case"destroy":h.changeType("planet");break;case"enhance":Rb.push(new K(Ic.radius,k(b.angle+Gb),i)),Rb.push(new K(Ic.radius,k(b.angle-Gb),i)),Rb.push(new K(Pb[f].rBottom,k(b.angle),i));break;case"push":Rb.push(new K(Pb[f].rBottom,k(b.angle),i))}}q(Rb,a)}else a++}}function M(){for(Ac=0;Ac<Rb.length;Ac++)Rb[Ac].draw()}function N(){for(var a,b=320,c=Gb*n(0,Eb-1),d=zb(),e=0;4>e;e++)if(d<=Vb[e]){a=Sb[e];break}O(a,b,c),Rb.push(new K(b,c,a))}function O(a,b,c){var d=g(Kb,Lb,b-Nb,c+Gb/2);Qb.push(new z(a,d.x,d.y,0,-2,Ub[a]))}function P(a,b){for(var c=44100*a/pb.rowLen,d=0|c,e=d/32|0,f=d%32,g=0;32>g;++g){for(var h=e,i=f-g;0>i;){if(--h,0>h)return-1;i+=32}var j=pb.songData[b].p[h]-1;if(j>=0&&pb.songData[b].c[j].n[i]>0)return(g+(c-d))*pb.rowLen}return-1}function R(){fc&&ac&&!qb&&(hc=ec.currentTime,hc>=77.4&&(ec.currentTime=1,ic=0,gc=!0))}function S(){if(0!==hc)for(var a=1;2>a;a++)if(pb.songData[a]){var b=pb.songData[a].env_attack,c=pb.songData[a].env_sustain+pb.songData[a].env_release,d=b+c;1e4>d&&(d=1e4,c=d-b);var e=P(hc,a);e>=0&&d>e&&(dc=b>e?e/b:1-(e-b)/c,dc>.8&&gc&&hc-ic>jc?(ic=hc,gc=!1,fc&&ac&&!qb&&N()):gc=!0)}}function T(a,b){Oc=a,Nc=b}function U(){for(_=requestAnimationFrame(U),Z=e(),$=Z-(rb||Z),rb=Z,sb+=$,ac&&!bc&&(cc+=$);sb>=tb;)Ic.update(),L(),A(),R(),sb-=tb;sc.clearRect(0,0,600,600),Y(),Ic.draw(),M(),pc.clearRect(0,0,600,600),pc.drawImage(rc,0,0),pc.fillText(ab+"%",Kb-10,Lb+8),B(),S()}function V(){b.hidden?(cancelAnimationFrame(_),_=null,rb=0,qb=!0,ec&&ec.pause()):qb&&(qb=!1,ac&&!bc&&(_=requestAnimationFrame(U),ec.play()))}function W(){var a=0;nc.clearRect(85,0,25,100),nc.save();for(var b=20,c=0,d=Sb.length;d>c;c++){var e=Sb[c],f=Ub[e];nc.fillStyle=f,nc.fillText(Xb[e],90,b),b+=20,a+=Xb[e]}nc.restore(),a===Eb*Fb&&zc.end()}function X(a){var b,c=r(a),d=8;switch(a){case"water":b=22;break;case"earth":b=42;break;case"air":b=62;break;case"fire":b=82}Qb.push(new z(c,d,b,0,0,Ub[a],25))}function Y(){lc.clearRect(0,0,600,600);var a=lc.createRadialGradient(Kb,Lb,Mb,Kb,Lb,Mb+15+20*dc);a.addColorStop(0,"rgba(25,159,229,0.8)"),a.addColorStop(1,"rgba(25,159,229,0)"),lc.fillStyle=a,lc.fillRect(0,0,canvas.width,canvas.height)}var Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb=!1,rb=0,sb=0,tb=1e3/60,ub=Math,vb=ub.PI,wb=ub.sin,xb=ub.cos,yb=ub.round,zb=ub.random,Ab=(ub.abs,ub.E),Bb=(1+ub.sqrt(5))/2,Cb=vb/180,Db=360,Eb=14,Fb=3,Gb=Db/Eb,Hb=f(Gb),Ib=canvas.width,Jb=canvas.height,Kb=Ib/2|0,Lb=Jb/2|0,Mb=150,Nb=Mb/Fb|0,Ob=[],Pb=[],Qb=[],Rb=[],Sb=["water","earth","air","fire"],Tb={water:"#1879BD",earth:"#093905",air:"#B5630F",fire:"#A80000",planet:"#19100B"},Ub={water:Tb.water,earth:"#3C6C38",air:Tb.air,fire:Tb.fire},Vb=[.45,.71,.87,1],Wb={water:{water:"push",earth:"enhance",air:"",fire:"destroy"},earth:{water:"",earth:"push",air:"destroy",fire:"enhance"},air:{water:"destroy",earth:"",air:"push",fire:"enhance"},fire:{water:"",earth:"destroy",air:"",fire:"push"}},Xb={water:0,earth:0,air:0,fire:0},Yb={water:21,earth:13,air:8,fire:0},Zb={water:3,earth:2,air:1,fire:-2},$b=Yb.water*Zb.water+Yb.earth*Zb.earth+Yb.air*Zb.air+Yb.fire*Zb.fire,_b=!0,ac=!1,bc=!1,cc=0,dc=0,ec=null,fc=!1,gc=!0,hc=0,ic=0,jc=1,kc=space.getContext("2d"),lc=atmo.getContext("2d"),mc=planetBg.getContext("2d"),nc=canvas.getContext("2d"),oc=gradient.getContext("2d"),pc=effects.getContext("2d"),qc=score.getContext("2d"),rc=b.createElement("canvas"),sc=rc.getContext("2d");rc.width=Ib,rc.height=Jb;var tc=b.createElement("canvas"),uc=tc.getContext("2d");tc.width=Ib,tc.height=Jb;var vc=b.createElement("canvas"),wc=vc.getContext("2d");vc.width=Ib,vc.height=Jb;var xc=b.createElement("canvas"),yc=xc.getContext("2d");xc.width=Ib,xc.height=Jb,pc.fillRect(0,0,600,600);var zc={};zc.audioLoaded=function(){clearInterval(cb),s(loadingText),u(menu),Lc=null,_b=!1,pc.clearRect(0,0,600,600)},zc.setDifficulty=function(a){s(title),s(menu),s(by),s(overlay),u(intro),u(restart),nc.clearRect(0,0,600,600),kc.clearRect(0,0,600,600),oc.clearRect(0,0,600,600),bb=a,jc="easy"===a?2:"medium"===a?1:.5,Hc.draw(),Ic.draw(!0),_=requestAnimationFrame(U),nc.font="20px Arial Black",pc.fillStyle="#FFF",nc.save();for(var b=20,c=0,d=Sb.length;d>c;c++){var e=Sb[c],f=Ub[e];nc.fillStyle=f,nc.fillText(r(e)+": ",10,b),b+=20}nc.restore(),W(),ab=0,intro.style.opacity=1;var g=0,h=!1,i=!1;db=setInterval(function(){g+=tb,g>=8e3?(s(intro),ac=!0,clearInterval(db),Ic.draw(!0),qb||(ec.currentTime=zb()*ec.duration||0,ec.play(),Qb.push(new z("Go!",Kb-78,Lb+30,0,0,"#FFF",80)))):g>=7e3&&!i?(Qb.push(new z("Set",Kb-78,Lb+30,0,0,"#FFF",80)),i=!0):g>=6e3&&(intro.style.opacity-=.008,h||(Qb.push(new z("Ready",Kb-135,Lb+30,0,0,"#FFF",80)),h=!0))},tb)},zc.end=function(){bc=!0,cancelAnimationFrame(_),ec.pause(),u(overlay),u(score),jb=!1,kb=!1,lb=!1,mb=!1,nb=!1,ob=0,ib=0,qc.clearRect(0,0,Ib,Jb),fb=1e3*(5-v(cc)),fb=fb>0?fb:0,gb="medium"===bb?2500:"hard"===bb?5e3:0,hb=(fb+gb)*ab/100,qc.font="2.5em Arial Black",qc.fillStyle="#FFF",qc.fillText("Planet Fully Terraformed!",40,50),qc.font="20px Arial Black",qc.fillText("Time: ",100,150),qc.fillText("Habitability: ",100,200),qc.fillText("Difficulty: ",100,250),qc.fillText("Final Score: ",100,300),qc.fillRect(450,270,75,2),t=0,eb=setInterval(function(){t+=tb,t>=1e3&&!jb?(jb=!0,qc.fillText(w(cc),300,150)):t>=2e3&&!kb?(kb=!0,qc.fillText(fb,450,150)):t>=3e3&&!lb?(lb=!0,qc.fillText("x"+ab/100,450,200)):t>=4e3&&!mb?(mb=!0,qc.fillText(r(bb),300,250)):t>=5e3&&!nb?(nb=!0,qc.fillText(gb,450,250)):t>=6e3&&(qc.clearRect(410,280,200,100),50>ob?(ib=0|j(ob++,0,hb,50),qc.fillText(ib,450,300)):(qc.fillText(hb,450,300),clearInterval(eb)))},tb)},zc.restart=function(){cancelAnimationFrame(_),clearInterval(db),clearInterval(eb),ec.pause(),ic=0,gc=!0,c("planet"),u(overlay),s(intro),s(score),Rb.length=0,Qb.length=0,zc.audioLoaded()};for(var Ac=0;Fb>Ac;Ac++){var Bc=Pb[Ac-1],Cc=Bc?Bc.rBottom:Mb,Dc=g(Kb,Lb,Mb,0),Ec=g(Kb,Lb,Mb,Gb);Pb[Ac]={rTop:Cc,rBottom:Cc-Nb,width:o(Ec.x-Dc.x,Ec.y-Dc.y)}}var Fc={},Gc={37:"left",39:"right"};b.onkeydown=function(a){var b=a.keyCode?a.keyCode:a.charCode;Fc[Gc[b]]=!0},b.onkeyup=function(a){var b=a.keyCode?a.keyCode:a.charCode;Fc[Gc[b]]=!1},a.game=zc,x.prototype.points=[],pc.font="20px Impact, Charcoal",pc.lineWidth=.2;var Hc=function(){var a={};a.stars=[],a.nebula=[];for(var b=0;4>b;b++)a.nebula[b]=[];for(var b=0;200>b;b++){var c=zb()*canvas.width,d=zb()*canvas.height,e=2*zb(),f=2*zb(),h=zb();a.stars.push(new y(c,d,e,f,"star","white",h,kc))}for(var c=0,d=0,i=0;c<canvas.width;){d=50*wb(.5*i*vb/30)+canvas.height/4+c/2;for(var j=d,k=0,b=0;b<n(10,15);b++){var e=20*zb(),f=20*zb();k+=f,d+=20*zb(),a.nebula[1].push(new y(c,d,e,f,"nebula","rgb(38,13,83)",h,kc))}a.nebula[0].push(new y(c,j-40,20,k+100,"nebula","rgb(38,13,83)",.15,kc)),d=j+40;for(var b=0;b<n(5,10);b++){var e=20*zb(),f=20*zb(),h=zb();d+=20*zb(),a.nebula[2].push(new y(c,d,e,f,"nebula","rgb(57,0,78)",h,kc))}d=(j+d)/2;for(var b=0;b<n(2,5);b++){var e=10*zb(),f=10*zb(),h=zb();d+=10*zb(),a.nebula[3].push(new y(c,d,e,f,"nebula","rgb(192,106,219)",h,kc))}c+=10*zb(),i++}return a.draw=function(){for(var b=0;b<a.stars.length;b++)a.stars[b].draw();for(var b=0;b<a.nebula.length;b++)for(var c=0;c<a.nebula[b].length;c++)a.nebula[b][c].draw();a.drawPlanet()},a.drawPlanet=function(){Y(),mc.fillStyle="rgb(25,16,11)",mc.beginPath(),mc.moveTo(Kb,Lb),mc.arc(Kb,Lb,Mb,0,2*vb),mc.fill();var a=g(Kb,Lb,Mb-1,225),b=nc.createRadialGradient(a.x,a.y,0,Kb,Lb,Mb);b.addColorStop(0,"rgb(221,181,155)"),b.addColorStop(1,"rgb(22,13,8)"),oc.fillStyle=b,oc.globalAlpha=.5,oc.beginPath(),oc.moveTo(Kb,Lb),oc.arc(Kb,Lb,Mb,0,2*vb),oc.fill()},a}();Hc.drawPlanet();var Ic=function(){var a={};a.x=Kb,a.y=Lb,a.radius=Mb,a.angle=0,a.speed=4,a.isMoving=!1,a.dir=0,a.tiles=[];for(var b,c,d=0,e=0,f=0;Eb*Fb>d;d++){var i=a.angle+Gb*d;if(Ob[e]=Ob[e]||{},b||(b=g(Kb,Lb,Pb[e].rTop,a.angle)),c=new x(b.x,b.y,i,e),a.tiles[d]=c,Ob[e][Gb*f++]=c,a.tiles.length%Eb===0){var j=g(Kb,Lb,Pb[e].rBottom,a.angle),l=g(Kb,Lb,Pb[e].rTop,a.angle+Gb),m=g(Kb,Lb,Pb[e].rBottom,a.angle+Gb),n=[{x:b.x-j.x,y:b.y-j.y},{x:b.x-m.x,y:b.y-m.y},{x:b.x-l.x,y:b.y-l.y}];x.prototype.points[e]=n,b=null,e++,f=0}}for(var o=Mb,i=135;o>0;){var b=g(Kb,Lb,o,i);if(Nb>o)var p=12*zb(),q=12*zb();else var p=20*zb(),q=20*zb();var r=360*zb(),s=zb(),t=new y(b.x,b.y,p,q,"texture","rgb(190,134,107)",s,yc,r);t.shade="light";var u=k((i/Gb|0)*Gb),v=3-Math.ceil(o/Nb);Ob[v][u].textures.push(t),i+=Nb>o?10+10*zb():10*zb(),i>=315&&(i=135,o-=35*zb())}for(o=150,i=315;o>0;){var b=g(Kb,Lb,o,i);if(Nb>o)var p=12*zb(),q=12*zb();else var p=20*zb(),q=20*zb();var r=360*zb(),s=zb(),t=new y(b.x,b.y,p,q,"texture","rgb(118,76,51)",s,yc,r);t.shade="dark";var u=k((i/Gb|0)*Gb),v=3-Math.ceil(o/Nb);Ob[v][u].textures.push(t),i=k(Nb>o?i+10+10*zb():i+10*zb()),i>=135&&315>i&&(i=315,o-=35*zb())}var w=[.6,.4,.3];uc.strokeStyle="gray";for(var d=0,z=a.tiles.length;z>d;d++){var s=d/Eb|0,c=a.tiles[d];c.drawOffscreen(w[s]),c.draw(),c.drawTextures()}var A=0,B=0,C=8;return a.update=function(){Fc.right&&!a.isMoving?(a.isMoving=!0,a.dir=1,A=a.angle+Gb,B=0):Fc.left&&!a.isMoving&&(a.isMoving=!0,a.dir=-1,A=a.angle-Gb,B=0),a.isMoving&&(a.angle=h(B,a.angle,a.speed*a.dir,C),B++,B===C&&(a.isMoving=!1,a.angle=A),a.draw(!0))},a.draw=function(b){(a.isMoving||b)&&(nc.clearRect(150,150,300,300),nc.save(),nc.translate(Kb,Lb),nc.rotate(a.angle*Cb),nc.translate(-Kb,-Lb),nc.beginPath(),nc.arc(Kb,Lb,Mb,0,2*vb),nc.clip(),nc.drawImage(vc,150,150,300,300,150,150,300,300),nc.drawImage(xc,150,150,300,300,150,150,300,300),ac&&nc.drawImage(tc,150,150,300,300,150,150,300,300),nc.restore())},a.drawTextures=function(){yc.clearRect(150,150,300,300);for(var b=0,c=a.tiles.length;c>b;b++)a.tiles[b].drawTextures()},a}();Ic.draw(!0),C.prototype.update=function(){var a=this;a.x-=a.dx,a.lifeLeft--},C.prototype.draw=function(){var a=this;a.ctx.save(),a.rotation&&(a.ctx.translate(a.x,a.y),a.ctx.rotate(a.rotation*Cb),a.ctx.translate(-a.x,-a.y)),a.ctx.globalAlpha=a.lifeLeft/a.timeToLive,a.ctx.fillStyle=a.color,a.ctx.fillRect(a.x,a.y,a.width,a.height),a.ctx.restore()},C.prototype.reset=function(){var a=this;a.x=a.originalX,a.y=a.originalY-15+30*zb(),a.lifeLeft=a.timeToLive},E.prototype.draw=function(){var a=this;a.ctx.save(),a.ctx.translate(a.centerX,a.centerY),a.ctx.fillStyle=a.color,a.ctx.fillRect(a.x,a.y,a.size,a.size),a.ctx.restore()};var Jc=ub.log(Bb)/(vb/2);G.prototype.update=function(){var a=this,b=f(11*(a.timeToLive-a.lifeLeft)),c=ub.pow(Ab,Jc*b);a.x=a.originalX+c*xb(b)*a.dir,a.y=a.originalY+c*wb(b)*a.dir,a.rotation+=a.rotationSpeed,a.lifeLeft--},G.prototype.draw=function(){var a=this;a.ctx.save(),a.ctx.translate(a.x,a.y),a.ctx.rotate(a.rotation*Cb),a.ctx.translate(-a.x,-a.y),a.ctx.fillStyle="rgba(255,255,255,"+a.lifeLeft/a.timeToLive+")",a.ctx.fillRect(a.x,a.y,a.width,a.height),a.ctx.restore()},G.prototype.reset=function(){var a=this;a.x=a.originalX,a.y=a.originalY,a.timeToLive=a.ttlBase+20*zb()|0,a.lifeLeft=a.timeToLive};var Kc=["#ffeba4","#fbcf6e","#f7a31d","rgb(99,87,87)"];I.prototype.update=function(){var a=this;a.x+=a.dx,a.y+=a.dy,a.lifeLeft--},I.prototype.draw=function(){var a=this,b=o(a.originalY-a.y,a.originalX-a.x),c=a.radius/3;a.ctx.fillStyle=b<a.radius?Kc[b/c|0]:"rgba(99,87,87,"+a.lifeLeft/a.timeToLive+")",a.ctx.fillRect(a.x,a.y,a.width,a.height)},I.prototype.reset=function(){var a=this;a.x=a.originalX,a.y=a.originalY,a.timeToLive=a.ttlBase+20*zb()|0,a.lifeLeft=a.timeToLive};var Lc;!function(){"use strict";function a(a){return Math.sin(6.283184*a)}function b(b){return a(b)<0?-1:1}function c(a){return a%1-.5}function d(a){var b=a%1*4;return 2>b?b-1:3-b}function e(a){return.00390625*Math.pow(1.059463094,a-128)}function f(a,b){setTimeout(function(){var c=new Uint8Array(a*i*2),d=c.length-2,e=function(){for(var a=new Date,f=0;d>=0;)if(c[d]=0,c[d+1]=128,d-=2,f+=1,f%1e3===0&&new Date-a>j)return void setTimeout(e,0);setTimeout(function(){b(c)},0)};setTimeout(e,0)},0)}function g(a,b,c,d,e){var f=c.fx_delay_time*d>>1,g=c.fx_delay_amt/255,h=0,i=function(){for(var c=new Date,d=0;b-f>h;){var k=4*h,l=4*(h+f),m=a[l]+(a[l+1]<<8)+(a[k+2]+(a[k+3]<<8)-32768)*g;if(a[l]=255&m,a[l+1]=m>>8&255,m=a[l+2]+(a[l+3]<<8)+(a[k]+(a[k+1]<<8)-32768)*g,a[l+2]=255&m,a[l+3]=m>>8&255,++h,d+=1,d%1e3===0&&new Date-c>j)return void setTimeout(i,0)}setTimeout(e,0)};setTimeout(i,0)}Lc={};var h=44100,i=2,j=33,k=null,l=[a,b,c,d];Lc.AudioGenerator=function(a){this.mixBuf=a,this.waveSize=a.length/i/2},Lc.AudioGenerator.prototype.getWave=function(){var a,b,c,d,e,f,g,h=this.mixBuf,j=this.waveSize,k=j*i*2;for(e=k-8,f=e-36,d=String.fromCharCode(82,73,70,70,255&e,e>>8&255,e>>16&255,e>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&f,f>>8&255,f>>16&255,f>>24&255),a=0;k>a;){for(c="",b=0;256>b&&k>a;++b,a+=2)g=4*(h[a]+(h[a+1]<<8)-32768),g=-32768>g?-32768:g>32767?32767:g,c+=String.fromCharCode(255&g,g>>8&255);d+=c}return d},Lc.AudioGenerator.prototype.getAudio=function(){var a=this.getWave(),b=new Audio("data:audio/wav;base64,"+btoa(a));return b.preload="none",b.load(),b},Lc.AudioGenerator.prototype.getAudioBuffer=function(a){null===k&&(k=new AudioContext);var b=this.mixBuf,c=this.waveSize,d=c*i*2,e=k.createBuffer(i,this.waveSize,h),f=e.getChannelData(0),g=e.getChannelData(1),l=0,m=function(){for(var c=new Date,h=0;d/2>l;){var i=4*(b[4*l]+(b[4*l+1]<<8)-32768);if(i=-32768>i?-32768:i>32767?32767:i,f[l]=i/32768,i=4*(b[4*l+2]+(b[4*l+3]<<8)-32768),i=-32768>i?-32768:i>32767?32767:i,g[l]=i/32768,l+=1,h+=1,h%1e3===0&&new Date-c>j)return void setTimeout(m,0)}setTimeout(function(){a(e)},0)};setTimeout(m,0)},Lc.SoundGenerator=function(a,b){this.instr=a,this.rowLen=b||5605,this.osc_lfo=l[a.lfo_waveform],this.osc1=l[a.osc1_waveform],this.osc2=l[a.osc2_waveform],this.attack=a.env_attack,this.sustain=a.env_sustain,this.release=a.env_release,this.panFreq=Math.pow(2,a.fx_pan_freq-8)/this.rowLen,this.lfoFreq=Math.pow(2,a.lfo_freq-8)/this.rowLen},Lc.SoundGenerator.prototype.genSound=function(b,c,d){for(var f=(new Date,0),g=0,i=e(b+12*(this.instr.osc1_oct-8)+this.instr.osc1_det)*(1+8e-4*this.instr.osc1_detune),j=e(b+12*(this.instr.osc2_oct-8)+this.instr.osc2_det)*(1+8e-4*this.instr.osc2_detune),k=this.instr.fx_resonance/255,l=0,m=0,n=this.attack+this.sustain+this.release-1;n>=0;--n){var o=n+d,p=this.osc_lfo(o*this.lfoFreq)*this.instr.lfo_amt/512+.5,q=1;n<this.attack?q=n/this.attack:n>=this.attack+this.sustain&&(q-=(n-this.attack-this.sustain)/this.release);var r=i;this.instr.lfo_osc1_freq&&(r+=p),this.instr.osc1_xenv&&(r*=q*q),f+=r;var s=this.osc1(f)*this.instr.osc1_vol;r=j,this.instr.osc2_xenv&&(r*=q*q),g+=r,s+=this.osc2(g)*this.instr.osc2_vol,this.instr.noise_fader&&(s+=(2*Math.random()-1)*this.instr.noise_fader*q),s*=q/255;var t=this.instr.fx_freq;this.instr.lfo_fx_freq&&(t*=p),t=1.5*Math.sin(3.141592*t/h),l+=t*m;var u=k*(s-m)-l;switch(m+=t*u,this.instr.fx_filter){case 1:s=u;break;case 2:s=l;break;case 3:s=m;break;case 4:s=l+u}if(r=a(o*this.panFreq)*this.instr.fx_pan_amt/512+.5,s*=39*this.instr.env_master,o=4*o,o+3<c.length){var v=c[o]+(c[o+1]<<8)+s*(1-r);c[o]=255&v,c[o+1]=v>>8&255,v=c[o+2]+(c[o+3]<<8)+s*r,c[o+2]=255&v,c[o+3]=v>>8&255}}},Lc.SoundGenerator.prototype.getAudioGenerator=function(a,b){var c=this.attack+this.sustain+this.release-1+32*this.rowLen,d=this;f(c,function(e){d.genSound(a,e,0),g(e,c,d.instr,d.rowLen,function(){b(new Lc.AudioGenerator(e))})})},Lc.SoundGenerator.prototype.createAudio=function(a,b){this.getAudioGenerator(a,function(a){b(a.getAudio())})},Lc.SoundGenerator.prototype.createAudioBuffer=function(a,b){this.getAudioGenerator(a,function(a){a.getAudioBuffer(b)})},Lc.MusicGenerator=function(a){this.song=a,this.waveSize=h*a.songLen},Lc.MusicGenerator.prototype.generateTrack=function(a,b,c){var d=this;f(this.waveSize,function(e){var f=d.waveSize,h=d.waveSize*i*2,k=d.song.rowLen,l=d.song.endPattern,m=new Lc.SoundGenerator(a,k),n=0,o=0,p=0,q=function(){for(var b=new Date;;)if(32!==p){if(o===l-1)return void setTimeout(r,0);var c=a.p[o];if(c){var d=a.c[c-1].n[p];d&&m.genSound(d,e,n)}if(n+=k,p+=1,new Date-b>j)return void setTimeout(q,0)}else p=0,o+=1},r=function(){g(e,f,a,k,t)},s=0,t=function(){for(var a=new Date,d=0;h>s;){var f=b[s]+(b[s+1]<<8)+e[s]+(e[s+1]<<8)-32768;if(b[s]=255&f,b[s+1]=f>>8&255,s+=2,d+=1,d%1e3===0&&new Date-a>j)return void setTimeout(t,0)}setTimeout(c,0)};setTimeout(q,0)})},Lc.MusicGenerator.prototype.getAudioGenerator=function(a,b){var c=this;f(this.waveSize,function(d){var e=0,f=function(){e<c.song.songData.length?(e+=1,c.generateTrack(c.song.songData[e-1],d,f),b(e,c.song.songData.length+1)):a(new Lc.AudioGenerator(d))};f()})},Lc.MusicGenerator.prototype.createAudio=function(a,b){this.getAudioGenerator(function(b){a(b.getAudio())},b)},Lc.MusicGenerator.prototype.createAudioBuffer=function(a){this.getAudioGenerator(function(b){b.getAudioBuffer(a)})}}();var pb={rowLen:2242,endPattern:49,songData:[{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:255,osc1_waveform:0,osc2_oct:7,osc2_det:0,osc2_detune:0,osc2_xenv:1,osc2_vol:255,osc2_waveform:0,noise_fader:0,env_attack:50,env_sustain:150,env_release:4800,env_master:200,fx_filter:2,fx_freq:600,fx_resonance:254,fx_delay_time:0,fx_delay_amt:0,fx_pan_freq:0,fx_pan_amt:0,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:0,lfo_amt:0,lfo_waveform:0,p:[1,1,1,2,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,3,4,4,4,4,4,4,4,3,1,1,1,1,1,1,1,3,1,1,1,2],c:[{n:[128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[128,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,128,0,0,0]},{n:[128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0]},{n:[128,0,0,0,0,0,128,0,0,0,0,0,128,0,0,0,0,0,0,0,128,0,128,0,0,0,0,0,0,0,0,0]}]},{osc1_oct:8,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:160,osc1_waveform:0,osc2_oct:8,osc2_det:0,osc2_detune:0,osc2_xenv:1,osc2_vol:160,osc2_waveform:0,noise_fader:210,env_attack:50,env_sustain:200,env_release:6800,env_master:160,fx_filter:4,fx_freq:11025,fx_resonance:254,fx_delay_time:6,fx_delay_amt:0,fx_pan_freq:5,fx_pan_amt:61,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:4,lfo_amt:0,lfo_waveform:0,p:[1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,4,4,4,4,4,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,128,0,0,0,128,0,128,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0]}]},{osc1_oct:6,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:255,osc1_waveform:1,osc2_oct:7,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:154,osc2_waveform:1,noise_fader:0,env_attack:197,env_sustain:88,env_release:10614,env_master:45,fx_filter:2,fx_freq:4425,fx_resonance:163,fx_delay_time:8,fx_delay_amt:119,fx_pan_freq:3,fx_pan_amt:158,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:0,lfo_amt:0,lfo_waveform:0,p:[2,3,2,3,2,3,2,3,2,3,4,5,2,3,2,3,2,3,4,5,2,3,2,3,2,3,4,5,0,0,0,0,0,0,0,0,2,3,2,3,2,3,4,5,2,3,2,2],c:[{n:[0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,133,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,143,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,142,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,133,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,0,0,0,0,0,0]}]},{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:144,osc1_waveform:3,osc2_oct:6,osc2_det:0,osc2_detune:9,osc2_xenv:1,osc2_vol:162,osc2_waveform:0,noise_fader:255,env_attack:663,env_sustain:0,env_release:1584,env_master:37,fx_filter:1,fx_freq:6531,fx_resonance:132,fx_delay_time:12,fx_delay_amt:9,fx_pan_freq:0,fx_pan_amt:0,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:5,lfo_amt:0,lfo_waveform:0,p:[0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,0,0],c:[{n:[0,0,0,0,0,0,0,140,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,152,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[152,0,0,0,152,0,0,0,152,0,0,0,152,0,0,0,152,0,0,0,152,0,0,0,152,0,0,0,152,0,0,0]},{n:[152,0,152,0,152,0,0,0,152,0,152,0,152,0,0,0,152,0,152,0,152,0,0,0,152,0,152,0,152,0,0,0]}]},{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:63,osc1_waveform:2,osc2_oct:7,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:125,osc2_waveform:0,noise_fader:0,env_attack:444,env_sustain:3706,env_release:10614,env_master:124,fx_filter:0,fx_freq:2727,fx_resonance:199,fx_delay_time:0,fx_delay_amt:125,fx_pan_freq:3,fx_pan_amt:47,lfo_osc1_freq:1,lfo_fx_freq:0,lfo_freq:14,lfo_amt:0,lfo_waveform:1,p:[0,0,0,0,2,2,2,2,2,2,3,4,2,2,2,2,2,2,3,4,2,2,2,2,2,2,3,4,2,2,2,2,2,2,3,4,2,2,2,2,2,2,3,4],c:[{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,159,0,0,0,157,0,157,0,0,0,157,0,0,0,152,0,0]},{n:[123,0,0,0,126,0,0,0,128,0,0,0,130,0,0,0,131,0,0,0,130,0,0,0,128,0,0,0,0,0,0,0]},{n:[130,0,0,0,131,0,0,0,128,0,0,0,126,0,0,0,125,0,0,0,123,0,0,0,121,0,0,0,0,0,0,0]},{n:[123,0,0,0,121,0,0,0,123,0,0,0,125,0,0,0,126,0,0,0,125,0,0,0,121,0,0,0,123,0,0,0]}]},{osc1_oct:9,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:64,osc1_waveform:1,osc2_oct:5,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:128,osc2_waveform:3,noise_fader:0,env_attack:1776,env_sustain:7105,env_release:19736,env_master:119,fx_filter:1,fx_freq:1523,fx_resonance:128,fx_delay_time:10,fx_delay_amt:39,fx_pan_freq:3,fx_pan_amt:92,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:2,lfo_amt:0,lfo_waveform:3,p:[0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,3,2,2,2,7,2,2,2,3,2,2,2,7,8,8,8,8,8,8,9,10,2,2,2,2,2,2,3,7],c:[{n:[140,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,145,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,0,0,0,135,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,130,0,0,0,133,0,0,0,135,0,0,0]},{n:[145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,147,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,147,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,137,0,0,0,138,0,0,0,137,0,0,0,133,0,0,0,135,0,0,0]},{n:[135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,147,0,0,0]},{n:[137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,142,0,0,0,145,0,0,0,147,0,0,0]},{n:[140,0,0,0,0,0,0,0,152,0,0,0,149,0,0,0,150,0,0,0,149,0,0,0,145,0,0,0,147,0,0,0]}]},{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:123,osc1_waveform:1,osc2_oct:8,osc2_det:0,osc2_detune:25,osc2_xenv:1,osc2_vol:166,osc2_waveform:0,noise_fader:0,env_attack:37768,env_sustain:19084,env_release:24610,env_master:43,fx_filter:4,fx_freq:4798,fx_resonance:167,fx_delay_time:8,fx_delay_amt:93,fx_pan_freq:6,fx_pan_amt:61,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:3,lfo_amt:67,lfo_waveform:0,p:[0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,3,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,2,2,2,2,2,2,2,3],c:[{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]}],songLen:80};a.audioCtx=function(){return a.AudioContext||a.webkitAudioContext}();var Mc=(new audioCtx,new Lc.MusicGenerator(pb));Mc.createAudio(function(a){fc=!0,ec=a,setTimeout(function(){zc.audioLoaded()},500)},T);var Nc,Oc=0,Pc=0;cb=setInterval(function(){if(pc.save(),Oc>Pc){var a=f(-90),b=f(Pc/Nc*Db)+a;Pc+=.05}pc.moveTo(Kb,Lb),pc.arc(Kb,Lb,200,a,b),pc.clip(),pc.clearRect(100,100,400,400),pc.restore()
},tb),b.addEventListener("visibilitychange",V,!1)}(window,document);