for(var c1=[],c2=[],i=0;100>i;i++)c1.push(Math.floor(Math.random()*WIDTH)),c2.push(Math.floor(Math.random()*HEIGHT));var _dark=function(){ctx.fillStyle="rgba(0,0,0,1)",ctx.fillRect(0,0,WIDTH,HEIGHT)},_view=function(){ctx.beginPath(),ctx.shadowBulr=20,ctx.shadowColor="white",ctx.arc(hero.x,hero.y,hero.view,0,2*Math.PI);for(var e in foods){var r=foods[e];ctx.arc(r.x,r.y,foodView,0,2*Math.PI)}ctx.clip(),ctx.shadowBulr=0,ctx.shadowOffsetY=0},_scene=function(){for(var e=0;700>e;e+=45)for(j=0;j<700;j+=45)ctx.drawImage(bg,0,0,30,30,e,j,45,45)},_hero=function(){var e=hero;ctx.drawImage(e.img,heroPicSize*e.face,heroPicSize*ig,heroPicSize-2,heroPicSize,e.x-.5*heroDrawSize,e.y-.5*heroDrawSize,heroDrawSize,heroDrawSize)},_guard=function(e){for(var r in guards){var e=guards[r];ctx.drawImage(e.img,guardPicSize*e.face,guardPicSize*ig,guardPicSize,guardPicSize,e.x-.5*guardDrawSize,e.y-.5*guardDrawSize,guardDrawSize,guardDrawSize)}},_food=function(){for(var e in foods){var r=foods[e];ctx.drawImage(r.img,foodPicSize*r.face,foodPicSize*ig,foodPicSize,foodPicSize,r.x-.5*foodDrawSize,r.y-.5*foodDrawSize,foodDrawSize,foodDrawSize)}},_animate=function(){blood&&(ctx.fillStyle="rgba(255, 0, 0, 0.4)",ctx.fillRect(0,0,WIDTH,HEIGHT))},_time=function(){drawText("Time "+score+" secs",4,"#FF4300",400,20)},_hp=function(){drawText("HP",4,"#FF4300",50,20),ctx.fillStyle="rgba(255, 10, 10, 1)";for(var e=0;e<hero.hp;e+=.5)ctx.fillRect(90+10*e+10*Math.floor(e),21,10,20)},_starter=function(){var e=ctx.createLinearGradient(120,0,300,0);e.addColorStop(0,"#990000"),e.addColorStop(1,"#f5b9bb");var r=ctx.createLinearGradient(150,0,600,0);r.addColorStop(0,"white"),r.addColorStop(1,"black"),ctx.clearRect(0,0,WIDTH,HEIGHT),ctx.fillStyle="#080909",ctx.fillRect(0,0,WIDTH,HEIGHT),ctx.drawImage(guardImg,90,0,30,30,258,220,30,30),drawText("DEEP",10,e,100,150),drawText("INSIDE",10,r,250,200),ctx.drawImage(heroImg,58,30*ig,30,30,localX,350,40,40),ctx.drawImage(guardImg,60,30*ig,30,30,localX+50,350,40,40),ctx.drawImage(heroImg,88,30*ig,30,30,localX2,410,40,40),ctx.drawImage(guardImg,90,30*ig,30,30,localX2-50,410,40,40),drawText("Version 1 0 3",2,"rgba(255,255,255,0.5)",520,620),ctx.fillRect(592,627,3,3),ctx.fillRect(607,627,3,3),0==ig2&&(ctx.fillStyle="rgba(255,255,255,0.5)",ctx.fillRect(138,533,15,5),ctx.fillRect(483,533,15,5),ctx.fillRect(140,508,14,4),ctx.fillRect(481,508,14,4),drawText("Press space to sleep",4,"rgba(255,255,255,0.5)",167,HEIGHT/3*2+100),drawText("Press m to control audio",3.225,"rgba(255,255,255,0.5)",167,HEIGHT/3*2+75))},_describe=function(){ctx.clearRect(0,0,WIDTH,HEIGHT);for(var e in description)drawText(description[e],3,"#4BB135",170,30*e+75);drawText("Eat ",3,"#fffc00",120,300),ctx.drawImage(foodImg,0,0,20,20,162,298,20,20),drawText("to gain light and Health point",3,"#fffc00",188,300),drawText("Avoid ",3,"#fffc00",120,345),ctx.drawImage(guardImg,60,0,30,30,190,335,30,30),drawText("to survive in your dream ",3,"#fffc00",230,345),drawText("move Control",3,"#FFFFFF",235,430),drawText("W A S D",4,"#FFFFFF",140,460),drawText("or",3,"#FFFFFF",288,465),drawText("arrow key",4,"#FFFFFF",350,460),0==ig2&&drawText("Press space to continue",4,"rgba(255,255,255,0.5)",140,HEIGHT/3*2+100)},_over=function(){ctx.clearRect(0,0,WIDTH,HEIGHT),_scene(),_time(),_hp(),_scene(),_hero(),_guard(),_food(),ctx.fillStyle="rgba(0, 0, 0, 0.7)",ctx.fillRect(0,0,WIDTH,HEIGHT);var e="#66cc33";drawText("You have survived "+score+" secs in dreams",4,e,20,200),drawText("Best survived: "+parseFloat(historyScore)+" secs",4,e,140,300),0==ig2&&drawText("Press space to continue",4,"rgba(255,255,255,0.5)",140,HEIGHT/3*2+100)},_pause=function(){ctx.clearRect(0,0,WIDTH,HEIGHT),drawPlay(),ctx.fillStyle="rgba(0, 0, 0, 0.9)",ctx.fillRect(0,0,WIDTH,HEIGHT);var e="rgba(255,255,255,1)";drawText("pause",8,e,240,250),drawText("press x to continue",4,e,170,350)};
