class Star{constructor(t,r,i,h,s,a){this.x=t,this.y=r,this.r=i*_zoom,this.n=h,this.inset=s,this.NINTH=a}draw(){ctx.save(),ctx.fillStyle="white",ctx.shadowColor="white",ctx.shadowBlur=5,ctx.beginPath(),ctx.translate(this.x,this.y),ctx.moveTo(0,0-this.r);for(var t=0;t<this.n;t++)ctx.rotate(Math.PI/this.n),ctx.lineTo(0,0-this.r*this.inset),ctx.rotate(Math.PI/this.n),ctx.lineTo(0,0-this.r);ctx.closePath(),ctx.fill(),ctx.restore()}update(t){v=_spaceship.speed,dx=v*Math.cos(t*Math.PI),dy=v*Math.sin(t*Math.PI),this.x-=dx,this.y-=dy;var r=calcNINTH(this.x,this.y);if(this.NINTH[0]!=r[0]&&this.NINTH[1]!=r[1]){if(0==this.NINTH[0]&&0==this.NINTH[1]){var i=Math.floor(3*Math.random())-1,h=Math.floor(3*Math.random())-1;this.NINTH[0]=i,this.NINTH[1]=h}this.x=(Math.random()+-1*this.NINTH[0])*W,this.y=(Math.random()+-1*this.NINTH[1])*H}}}function calcNINTH(t,r){if(-W<=t&&t<0){if(-H<=r&&r<0)return[-1,-1];if(0<=r&&r<H)return[-1,0];if(H<=r&&r<2*H)return[-1,1]}else if(0<=t&&t<W){if(-H<=r&&r<0)return[0,-1];if(0<=r&&r<H)return[0,0];if(H<=r&&r<2*H)return[0,1]}else if(W<=t&&t<2*W){if(-H<=r&&r<0)return[1,-1];if(0<=r&&r<H)return[1,0];if(H<=r&&r<2*H)return[1,1]}return[-9,-9]}function stars(t){arr=[];for(var i=0;i<t;i++){x=3*Math.random()*W-W,y=3*Math.random()*H-H,r=7*Math.random(),n=5,inset=.5;var h=calcNINTH(x,y);arr.push(new Star(x,y,r,n,inset,h))}return arr}