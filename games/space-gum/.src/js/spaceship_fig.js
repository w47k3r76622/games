function triangle(t,a,c,r){ctx.save(),ctx.beginPath(),ctx.rotate(r*Math.PI),ctx.moveTo(t,a-2*c),ctx.rotate(Math.PI/1.5),ctx.lineTo(0,0-c),ctx.lineTo(0,0),ctx.closePath(),ctx.fillStyle="#595260",ctx.fill(),ctx.beginPath(),ctx.rotate(-Math.PI/1.5),ctx.moveTo(t,a-2*c),ctx.rotate(-Math.PI/1.5),ctx.lineTo(0,0-c),ctx.lineTo(0,0),ctx.closePath(),ctx.closePath(),ctx.fillStyle="#B2B1B9",ctx.fill(),ctx.restore()}function spaceship_fig_draw(t,a,c,r){ctx.beginPath(),ctx.translate(t,a),ctx.rotate(Math.PI/2),triangle(0,0,c*_zoom,r),ctx.rotate(r*Math.PI),ctx.moveTo(0,2*c/3),ctx.lineTo(0,2*c/3+10)}class Engine_Circle{constructor(t,a,c){this.x=t,this.y=a,this.r=c,this.dx=0,this.dy=0,this.color=this.pick_color()}draw(t){ctx.save();var a=this.color;ctx.fillStyle=a,ctx.strokeStyle=a,ctx.beginPath(),ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!0),ctx.closePath(),ctx.fill(),ctx.stroke(),ctx.restore()}pick_color(){return["#FAAD80","#FF6767","#FF3D68","#A73489"][Math.floor(4*Math.random())]}update(t){var a,c,r;v=_spaceship.speed,a=Math.random()/3+1/3,c=100*Math.cos(a*Math.PI)/v,r=100*Math.sin(a*Math.PI)/v,this.dx=c,this.dy=r,this.x+=this.dx/2,this.y+=this.dy/2}}class Engine{constructor(){this.arr=[]}add(t,a){r=_zoom*Spaceship_Size/1.5*Math.random();var c=new Engine_Circle(t,a,r);this.arr.push(c)}draw(t,a,c){v=_spaceship.speed;for(var r=0;r<this.arr.length;r++)this.arr[r].update(t),this.arr[r].draw(t),this.arr.length>.5*v&&this.arr.shift()}}