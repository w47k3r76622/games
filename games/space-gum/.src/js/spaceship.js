var canvas=document.getElementById("_canvas");canvas.width=window.innerWidth,canvas.height=window.innerHeight;var r,d,v,dx,dy,_dx,_dy,ctx=canvas.getContext("2d"),_zoom=.6;W=canvas.width,H=canvas.height,Spaceship_Size=16*_zoom,Spaceship_NINTH=5,Spaceship_Acc_Factor=4;class Spaceship{constructor(t,e){this.r=t,this.d=e,this.x_speed,this.y_speed,this.engine=new Engine,this.x=W/2,this.y=H/2,this.acc=0,this.pts=0,document.monetization&&"started"===document.monetization.state&&(this.pts=1499),this.help_flag=1,this.life_state=0,this.fire_mode=1,this.spread_amount=0,this.shotI_bank=3,this.shotI_capacity=3,this.shotII_range=200,this.shotII_max_range=900,this.mobile_flag=0,this.speed_mode=0,this.speed=3,this.speed_lower_limit=3,this.life=100,this.fuel=100,this.fuel_capacty=100,this.fuel_penalty=0,this.upgrade_lvl=0,this.upgrade_factor=1500,this.update()}update(){this.x_speed=this.speed*Math.cos(this.d*Math.PI),this.y_speed=this.speed*Math.sin(this.d*Math.PI),this.fuel-=this.fuel_penalty,this.fuel<=0&&(this.speed_mode=0,this.speed=this.speed_lower_limit,this.fuel_penalty=0,this.fuel=0)}reset(t){var e=new Spaceship(15,0);Object.assign(this,e),this.mobile_flag=t,m=meteors(_METEORS_NUM)}draw(){this.update(),x=this.x,y=this.y,r=this.r,d=this.d,ctx.lineWidth=2,ctx.save(),spaceship_fig_draw(x,y,r,d),this.engine.add(0,2*r/3),this.engine.draw(this.d,this.x_speed,this.y_speed),ctx.restore(),this.drawHood()}drawEngineFire(){}drawHood(){ctx.font="15px monospace",ctx.fillStyle="white",ctx.strokeStyle="white",this.life<30&&(ctx.fillStyle="red"),ctx.fillText("Life:"+this.life,W-100,H-50),ctx.fillStyle="white",this.fuel<30&&(ctx.fillStyle="red"),ctx.fillText("Fuel:"+this.fuel,W-100,H-30),ctx.fillStyle="white",ctx.fillText("Accuracy:"+this.acc+"%",W-130,30),ctx.fillText("Hit Bonus:"+this.acc*Spaceship_Acc_Factor,W-130,50);var t="Level:"+this.upgrade_lvl;ctx.fillText(t,W/2-.5*t.length*7.5,30);var e=(this.upgrade_lvl+1)*this.upgrade_factor,i=this.pts/e;ctx.beginPath(),ctx.moveTo(W/3,45),ctx.lineTo(Math.min(2*W/3,(1-i)*W/3+2*i*W/3),45),ctx.stroke(),ctx.strokeStyle="rgba(255, 255, 255, 0.3)",ctx.moveTo(W/3,45),ctx.lineTo(2*W/3,45),ctx.stroke(),ctx.closePath(),1==this.life_state&&(ctx.font="40px monospace",ctx.strokeStyle="red",ctx.strokeText("Game Over",W/2-90,H/2),ctx.font="20px monospace",ctx.fillText("Shoot to restart",W/2-80,H/2+40));var s="Hello Subscriber! Best Wishes, and Free Upgrade!";document.monetization&&"started"===document.monetization.state&&ctx.fillText(s,W/2-.5*s.length*7.5,H-15)}}