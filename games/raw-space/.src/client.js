function iD(){this.iF=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+b)]=a[b]||0;.01>this.c&&(this.c=.01);a=this.b+this.c+this.e;.18>a&&(a=.18/a,this.b*=a,this.c*=a,this.e*=a)}}
function iE(){this.wC=new iD;var a,b,c,d,e,h,q,g,u,F,v,t;this.iP=function(){var a=this.wC;d=100/(a.f*a.f+.001);e=100/(a.g*a.g+.001);h=1-a.h*a.h*a.h*.01;q=-a.i*a.i*a.i*1E-6;a.a||(v=.5-a.n/2,t=5E-5*-a.o);g=1+a.l*a.l*(0<a.l?-.9:10);u=0;F=1==a.m?0:(1-a.m)*(1-a.m)*2E4+32};this.iG=function(){this.iP();var d=this.wC;a=d.b*d.b*1E5;b=d.c*d.c*1E5;c=d.e*d.e*1E5+12;return 3*((a+b+c)/3|0)};this.hLWave=function(J,D){var f=this.wC,C=1!=f.s||f.v,w=f.v*f.v*.1,r=1+3E-4*f.w,x=f.s*f.s*f.s*.1,V=1+1E-4*f.t,W=1!=f.s,P=
f.x*f.x,p=f.g,Q=f.q||f.r,ia=f.r*f.r*f.r*.2,ba=f.q*f.q*(0>f.q?-1020:1020),ga=f.p?((1-f.p)*(1-f.p)*2E4|0)+32:0,ja=f.d,ca=f.j/2,ka=f.k*f.k*.01,da=f.a,R=a,la=1/a,ma=1/b,na=1/c,f=5/(1+f.u*f.u*20)*(.01+x);.8<f&&(f=.8);for(var f=1-f,X=!1,Y=0,K=0,S=0,Z=0,L=0,T,M=0,y,E=0,z,N=0,n,ha=0,A,ea=0,U=Array(1024),H=Array(32),B=U.length;B--;)U[B]=0;for(B=H.length;B--;)H[B]=2*Math.random()-1;for(B=0;B<D;B++){if(X)return B;ga&&++ha>=ga&&(ha=0,this.iP());F&&++u>=F&&(F=0,d*=g);h+=q;d*=h;d>e&&(d=e,0<p&&(X=!0));y=d;0<ca&&
(ea+=ka,y*=1+Math.sin(ea)*ca);y|=0;8>y&&(y=8);da||(v+=t,0>v?v=0:.5<v&&(v=.5));if(++K>R)switch(K=0,++Y){case 1:R=b;break;case 2:R=c}switch(Y){case 0:S=K*la;break;case 1:S=1+2*(1-K*ma)*ja;break;case 2:S=1-K*na;break;case 3:S=0,X=!0}Q&&(ba+=ia,z=ba|0,0>z?z=-z:1023<z&&(z=1023));C&&r&&(w*=r,1E-5>w?w=1E-5:.1<w&&(w=.1));A=0;for(var G=8;G--;){E++;if(E>=y&&(E%=y,3==da))for(T=H.length;T--;)H[T]=2*Math.random()-1;switch(da){case 0:n=E/y<v?.5:-.5;break;case 1:n=1-E/y*2;break;case 2:n=E/y;n=6.28318531*(.5<n?n-
1:n);n=1.27323954*n+.405284735*n*n*(0>n?1:-1);n=.225*((0>n?-1:1)*n*n-n)+n;break;case 3:n=H[Math.abs(32*E/y|0)]}C&&(T=M,x*=V,0>x?x=0:.1<x&&(x=.1),W?(L+=(n-M)*x,L*=f):(M=n,L=0),M+=L,Z+=M-T,n=Z*=1-w);Q&&(U[N%1024]=n,n+=U[(N-z+1024)%1024],N++);A+=n}A=.125*A*S*P;J[B]=1<=A?32767:-1>=A?-32768:32767*A|0}return D}}var hL=new iE;
window.iQ=function(a){hL.wC.iF(a);var b=hL.iG();a=new Uint8Array(4*((b+1)/2|0)+44);var b=2*hL.hLWave(new Uint16Array(a.buffer,44),b),c=new Uint32Array(a.buffer,0,44);c[0]=1179011410;c[1]=b+36;c[2]=1163280727;c[3]=544501094;c[4]=16;c[5]=65537;c[6]=44100;c[7]=88200;c[8]=1048578;c[9]=1635017060;c[10]=b;for(var b=b+44,c=0,d="data:audio/wav;base64,";c<b;c+=3)var e=a[c]<<16|a[c+1]<<8|a[c+2],d=d+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>
12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e&63]);return d};
function iI(){var a=function(a){return Math.sin(6.283184*a)},b=[a,function(a){return.5>a%1?1:-1},function(a){return a%1*2-1},function(a){a=a%1*4;return 2>a?a-1:3-a}],c,d,e,h,q;this.fA=function(a){c=a;d=a.wDn-2;e=0;h=a.wE*a.wF*(d+1)*2;q=new Int32Array(h)};this.iJ=function(){var g,u,F,v,t,J,D,f,C,w=new Int32Array(h),r=c.wG[e],x=c.wE,V=c.wF,W=0,P=0,p;C=!1;var Q=[];for(F=0;F<=d;++F)for(J=r.p[F],v=0;v<V;++v){if(f=J?r.c[J-1].f[v]:0)r.i[f-1]=r.c[J-1].f[v+V]||0,15>f&&(Q=[]);var ia=b[r.i[15]],ba=r.i[16]/512,
ga=Math.pow(2,r.i[17]-9)/x,ja=r.i[18],ca=r.i[19],ka=135.82764118168*r.i[20]/44100,da=1-r.i[21]/255,R=1E-5*r.i[22],la=r.i[23]/32,ma=r.i[24]/512,na=6.283184*Math.pow(2,r.i[25]-9)/x,X=r.i[26]/255,Y=r.i[27]*x;f=(F*V+v)*x;for(t=0;4>t;++t)if(u=J?r.c[J-1].n[v+t*V]:0){if(!Q[u]){g=Q;D=u;p=r;for(var K=u,S=b[p.i[0]],Z=p.i[1],L=p.i[3],T=b[p.i[4]],M=p.i[5],y=p.i[8],E=p.i[9],z=p.i[10]*p.i[10]*4,N=p.i[11]*p.i[11]*4,n=p.i[12]*p.i[12]*4,ha=1/n,A=p.i[13],ea=x*Math.pow(2,2-p.i[14]),U=new Int32Array(z+N+n),H=0,B=0,G=
void 0,fa=void 0,I=void 0,O=void 0,aa=void 0,oa=void 0,pa=void 0,fa=G=0;G<z+N+n;G++,fa++)0<=fa&&(A=A>>8|(A&255)<<4,fa-=ea,oa=.003959503758*Math.pow(2,(K+(A&15)+p.i[2]-128-128)/12),pa=.003959503758*Math.pow(2,(K+(A&15)+p.i[6]-128-128)/12)*(1+8E-4*p.i[7])),I=1,G<z?I=G/z:G>=z+N&&(I-=(G-z-N)*ha),O=oa,L&&(O=O*I*I),H+=O,aa=S(H)*Z,O=pa,y&&(O=O*I*I),B+=O,aa+=T(B)*M,E&&(aa+=(2*Math.random()-1)*E),U[G]=80*aa*I|0;g[D]=U}D=Q[u];u=0;for(g=2*f;u<D.length;u++,g+=2)w[g]+=D[u]}for(u=0;u<x;u++)t=2*(f+u),(g=w[t])||
C?(C=ka,ja&&(C*=ia(ga*t)*ba+.5),C=1.5*Math.sin(C),W+=C*P,g=da*(g-P)-W,P+=C*g,g=3==ca?P:1==ca?g:W,R&&(g*=R,g=1>g?-1<g?a(.25*g):-1:1,g/=R),g*=la,C=1E-5<g*g,D=Math.sin(na*t)*ma+.5,p=g*(1-D),g*=D):p=0,t>=Y&&(p+=w[t-Y+1]*X,g+=w[t-Y]*X),w[t]=p|0,w[t+1]=g|0,q[t]+=p|0,q[t+1]+=g|0}e++;return e/8};this.iK=function(){var a=2*h-8,b=a-36,c=new Uint8Array(44+2*h);c.set([82,73,70,70,a&255,a>>8&255,a>>16&255,a>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,b&255,
b>>8&255,b>>16&255,b>>24&255]);a=0;for(b=44;a<h;++a){var d=q[a],d=-32767>d?-32767:32767<d?32767:d;c[b++]=d&255;c[b++]=d>>8&255}return c};this.getData=function(a,b){for(var c=2*Math.floor(44100*a),d=Array(b),e=0;e<2*b;e+=1){var h=c+e;d[e]=0<a&&h<q.length?q[h]/32768:0}return d}}var hI={};iL(0,[3,.03,.3876,.55,.3,.1,,,-.12,,,,,,,,-.0569,-.2958,1,,,,,.3]);iL(0,[3,.03,.06,.12,.47,.1,,-.16,.12,,,,,,,,-.0569,-.2958,1,,,,,.3]);iL(1,[2,,.183,,.1518,.2249,,,,,,,,.5797,,,,,1,,,.1,,.8]);
iL(1,[2,,.183,,.18,.17,,,,,,,,.5797,,,,,1,,,.1,,.8]);iL(1,[2,,.183,,.18,.26,,,,,,,,.5797,,,,,1,,,.1,,.8]);iL(2,[0,.14,.24,.58,.2,.25,.06,.02,.02,,,,,.29,-.1999,,-.3399,,1,,,.1,,.3]);iL(2,[0,.14,.24,.58,.2,.35,.17,.02,.02,,,,,.29,-.1999,,-.3399,,1,,,.1,,.3]);iL(2,[0,.14,.24,.58,.2,.2,.09,.02,.02,,,,,.29,-.1999,,-.3399,,1,,,.1,,.3]);iL(3,[0,,.0625,,.4129,.2503,,.391,,,,,,.4643,,.6535,,-.54,1,-.6599,,,.76,.5]);iL(4,[0,,.0199,.3684,.3875,.4292,,,,,,,,,,,,,1,,,,,.52]);
iL(4,[0,,.0199,.3684,.3875,.33,,,,,,,,,,,,,1,,,,,.52]);iL(5,[0,,.1777,,.0022,.5486,,,,,,,,.0087,,,,,1,,,.1,,.3]);iL(6,[0,,.1757,,.0042,.26,.18,,,,,,,.2,,,,,1,,,.07,,.3]);function iL(a,b){var c=new Audio;c.src=iQ(b);"undefined"===typeof hI[a]&&(hI[a]=[]);hI[a].push(c)}function iM(a){1==localStorage.lE&&hI[a][fOI(0,hI[a].length-1)].play()}function iN(){info="loading music... 0%";setTimeout(function(){hK=Date.now();mp=new iI;mp.fA(song);iO()},500)}
function iO(){var a=mp.iJ();info="loading music... "+Math.floor(100*a)+"%";1>a?Date.now()-hK>2E4*a?(info="device is too slow to hLevT music",setTimeout(function(){info=null},5E3),localStorage.lF=0):setTimeout(iO,100):(info=null,a=mp.iK(),hJ=document.createElement("audio"),hJ.src=URL.createObjectURL(new Blob([a],{type:"audio/wav"})),hJ.loop=!0,1==localStorage.lF&&hJ.play())}
var song={wG:[{i:[2,128,128,0,2,128,140,18,0,0,158,198,158,0,0,0,0,0,0,2,5,0,0,32,0,0,65,12],p:[1,2,1,3,1,2,1,3,4,5],c:[{n:[125,,,,,,,,132,,,,,,,,137,,,,,,,,,140],f:[]},{n:[123,,,,137,,,,,,,,,,,,116,,,,,,,,120],f:[,,,,,,,,,,,,,,12,28,,,,,,,,,,28,12,,,,,,,,,,,,,,,,,,,,57,12,,,,,,,,,,12,198]},{n:[123,,,,137,,,,,,,,,,,,,,,,,,,,140],f:[]},{n:[137,,,,,,,,,,,,,,,,137],f:[]},{n:[137,,,,,,,,,,,,,,,,135],f:[]}]},{i:[2,192,128,1,0,192,140,18,0,0,28,80,187,0,0,0,140,9,0,2,5,0,0,32,0,0,7,1],p:[,,,1,,,,2],c:[{n:[,
,,,,,,,,,,,,,,,135],f:[]},{n:[,,,,,,,,,,,,,,,,137],f:[]}]},{i:[3,196,116,0,3,198,127,0,0,0,127,73,150,0,0,2,0,5,1,3,139,173,21,12,134,3,0,4],p:[,,,,,,,,1,2],c:[{n:[137,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,141,,,,,,,,,,,,141,,,,,,,,,,,,,,,,,,,,,,,,144,,,,,,,,,,,,,,,,142],f:[]},{n:[137,,,,,,,,137,,,,,,,,143,,,,,,,,135,,,,,,,,140,,,,,,,,141,,,,,,,,135,,,,,,,,139,,,,,,,,144,,,,,,,,144,,,,,,,,137,,,,,,,,142],f:[]}]},{i:[2,97,117,0,2,105,116,9,0,0,99,59,125,0,0,3,59,0,1,3,45,82,2,32,135,4,95,3],p:[],c:[]},
{i:[0,93,117,1,0,68,110,0,1,0,4,6,35,0,0,0,0,0,0,2,3,0,1,39,76,5,0,0],p:[,,,,,,,,1],c:[{n:[147,,,,,,,,147,,,,,,,,147,,,,,,,,147],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],wE:20672,wF:32,wDn:11},cA=3E3,cB="ffffff",cC=window.innerWidth,cD=window.innerHeight,gA,gB,gC=
{id:0},gD={},gE=[],k=[],l=[],gI={vB:[],vC:[],gCs:[],vX:1,vY:1},gJ=-1,gK=-1,gL=0,gM=document.createElement("canvas"),gN=gM.getContext("2d"),gO=1==localStorage.lB?-10:-730;localStorage.lB=1;var gP=-64,gQ=1,gS=null,info=null,gH=[],gT=-780,gU=-70,gV=Date.now(),gW=0,gX,hG=-1,mp,hJ=null,hK,m=-1,hA=0,hB=0,hC,hD=!1,hE,hF=!1;"undefined"===typeof localStorage.lC&&(localStorage.lC=1);"undefined"===typeof localStorage.lF&&(localStorage.lF=0);"undefined"===typeof localStorage.lE&&(localStorage.lE=1);
if("undefined"===typeof localStorage.lD||isNaN(localStorage.lD))localStorage.lD=50;
function fA(){gD.connected||(gD=io(document.location.href));if(localStorage.lA)gD.emit("a",{lA:localStorage.lA});else{for(var a=null;null==a;)a=window.prompt("Enter your name:");gD.emit("b",{vH:a})}gD.on("c",function(a){for(var c=null;null==c;)c=window.prompt("Enter your name:  "+a.g);gD.emit("b",{vH:c})});gD.on("m",function(a){m=a.m});gD.on("gC",function(a){gC=a;document.body.style.border="5px solid #"+gC.vA;1==localStorage.lF&&setTimeout(iN,100)});gD.on("lA",function(a){localStorage.lA=a.lA});gD.on("d",
function(a){gH=a;gH.sort(function(a,b){return a.gCs-b.gCs})});gD.on("l",function(a){l=a});gD.on("k",function(a){k=a});gD.on("e",function(a){var c=!1;0==gI.gCs.length&&(c=!0);gI=a;gA=Date.now();if(gE)for(a=0;a<gI.vK.length;a++){var d=gI.vK[a];if(d.vV){for(var e=gI.vB[d.vI],h=gI.vB[d.vJ],q=Math.atan2(e.y-h.y,e.x-h.x),g=Math.cos(q)*(e.vT+5)+h.x,e=Math.sin(q)*(e.vT+5)+h.y,q=0;80>q;q++)cE=.1,gE.push(new fN(g,e,fOI(200,300),{r:fOI(128,255),g:fOI(0,128),b:0,a:1},{r:255,g:255,b:0,a:0},fO(1,2),0,fO(-cE,cE),
fO(-cE,cE)));if(d.vU){for(a=0;a<2*Math.PI;a+=Math.PI/8)gE.push(new fN(h.x+Math.cos(a)*h.vT,h.y+Math.sin(a)*h.vT,500,gI.gCs[d.vD].vA,null,2,0,.1*Math.cos(a),.1*Math.sin(a)));iM(3)}else iM(0)}}c&&(document.body.innerHTML="",document.body.appendChild(gM),iC(),fB())});gD.on("f",function(a){gS="You won a game with "+a.gCs+" players!"});gD.on("disconnect",function(){null==gS&&(gS="disconnected from server")})}
function fB(){var a=Date.now(),b=a-gV;gB=Math.min(1,(Date.now()-gA)/cA);0<m&&(m-=b,0>m&&(m=-2));gN.setTransform(1,0,0,1,0,0);gN.clearRect(0,0,gM.width,gM.height);gO+cC-50>gI.vX/gQ&&(gO=gI.vX/gQ-cC+50);gP+cD-50>gI.vY/gQ&&(gP=gI.vY/gQ-cD+50);gO<gT/gQ&&(gO=gT/gQ);gP<gU/gQ&&(gP=gU/gQ);gN.setTransform(1/gQ,0,0,1/gQ,-gO,-gP);if(1==localStorage.lC){for(var c=0;c<l.length;c++){var d=l[c],e=gN.createRadialGradient(d.x,d.y,0,d.x,d.y,d.vT);e.addColorStop(0,"rgba("+d.vA.r+","+d.vA.g+","+d.vA.b+",.2)");e.addColorStop(d.vS,
"rgba("+d.vA.r+","+d.vA.g+","+d.vA.b+",.1)");e.addColorStop(1,"rgba("+d.vA.r+","+d.vA.g+","+d.vA.b+",0)");gN.fillStyle=e;gN.fillRect(d.x-d.vT,d.y-d.vT,2*d.vT,2*d.vT)}for(c=0;c<k.length;c++)d=k[c],gN.fillStyle="rgba("+d.vA.r+","+d.vA.g+","+d.vA.b+","+d.vA.a+")",fM(d.x,d.y,d.vT)}align("center");font(14);for(c=0;c<gI.vB.length;c++)fH(c);for(c=0;c<gI.vC.length;c++)fI(gI.vC[c]);if(1==localStorage.lC){gN.globalCompositeOperation="screen";gX++;gW<a&&(gW=a+1E3,console.info("fps: "+gX),gX=0);for(c=0;c<gE.length;c++)d=
gE[c],d.vL-=b,0>=d.vL?(gE.splice(c,1),c--):(d.x+=d.vQ*b,d.y+=d.vR*b,fC(d));gN.globalCompositeOperation="source-over"}-1!=gJ&&-1!=gK&&(gN.lineWidth=3,vA(gC.vA),fZ(gI.vB[gJ].x,gI.vB[gJ].y,gI.vB[gK].x,gI.vB[gK].y),gN.lineWidth=1);fK();gV=a;requestAnimationFrame(fB)}window.oncontextmenu=function(){return!1};
window.ontouchstart=window.onmousedown=function(a){if(2==a.button)return a.preventDefault(),!1;if(null!=gS||0>m&&-1!=m)location.reload();else{var b=fG(a);hA=b.x;hB=b.y;if(150>hA&&hB>cD-50)hF=!0;else if(hA>cC-50&&hB>cD-50)fE(),iM(1);else if(50>hA&&50>hB)gO=-70,gP=-64;else{var c=(hA+gO)*gQ,d=(hB+gP)*gQ;0>c&&-120<c&&0>d&&-20<d?1==localStorage.lC?(iM(6),localStorage.lC=0):(iM(5),localStorage.lC=1):0>c&&-120<c&&-20>d&&-50<d?1==localStorage.lF?(localStorage.lF=0,null!=hJ&&hJ.pause(),iM(6)):(localStorage.lF=
1,null==hJ?iN():hJ.play(),iM(5)):0>c&&-120<c&&-50>d&&-70<d?1==localStorage.lE?localStorage.lE=0:(localStorage.lE=1,iM(5)):-500>c&&d<18*(gZ.length-1)&&d>18*(gZ.length-3)?window.open("http://bitowl.de"):(gJ=fF(b),-1!=gJ&&gI.vB[gJ].vD!=gC.id?gJ=-1:-1!=gJ&&iM(1),gL=0,hC=!0,a.touches&&2==a.touches.length?(hD=!0,hE=Math.max(1,fQ(a.touches[0].pageX-a.touches[1].pageX,a.touches[0].pageY-a.touches[1].pageY))):hD=!1,a.preventDefault())}}};
window.ontouchmove=window.onmousemove=function(a){if(hD){hA=(a.touches[0].pageX+a.touches[1].pageX)/2;hB=(a.touches[0].pageY+a.touches[1].pageY)/2;var b=Math.max(1,fQ(a.touches[0].pageX-a.touches[1].pageX,a.touches[0].pageY-a.touches[1].pageY));fD(b/hE);hE=b}else{if(hF){var b=fG(a),c=parseInt(localStorage.lD)+(b.x-hA);localStorage.lD=Math.floor(Math.max(1,Math.min(100,c)))}else b=fG(a),-1!=gJ?(c=fF(b),c!=gJ&&(-1!=c&&gK!=c&&(gI.vB[c].vD==gC.id?iM(1):iM(2)),gK=c)):hC&&(gO-=b.x-hA,gP-=b.y-hB);hA=b.x;
hB=b.y}a.preventDefault()};window.ontouchend=window.onmouseup=function(a){if(-1!=gJ&&-1!=gK){gD.emit("h",{vI:gJ,vJ:gK,lD:parseInt(localStorage.lD)});var b=Math.floor(gI.vB[gJ].vE*localStorage.lD/100);0<b&&(gI.vB[gJ].vE-=b,gI.vC.push({vD:gI.vB[gJ].vD,vI:gJ,vJ:gK,vW:!0}),iM(4))}gK=gJ=-1;hF=hD=hC=!1;a.preventDefault()};
window.onmousewheel=function(a){var b=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));160>a.pageX&&a.pageY>cD-50-10?(a=parseInt(localStorage.lD)+2*b,localStorage.lD=Math.floor(Math.max(1,Math.min(100,a)))):fD(.2*b+1)};function fD(a){var b=gQ;gQ/=a;(gI.vX-gT)/gQ<cC-100?gQ=(gI.vX-gT)/(cC-100):(gI.vY-gU)/gQ<cD-50?gQ=(gI.vY-gU)/(cD-50):(.2>gQ&&(gQ=.2,a=b/gQ),0!=a&&(gO=(gO+hA)*a-hA,gP=(gP+hB)*a-hB))}document.addEventListener&&document.addEventListener("DOMMouseScroll",window.onmousewheel);
function focusfV(a){gO=a.x/gQ-cC/2;gP=a.y/gQ-cD/2}function fE(){for(var a=hG+1;a<gI.vB.length;a++)if(gI.vB[a].vD==gC.id){focusfV(gI.vB[a]);hG=a;return}for(a=0;a<=hG;a++)if(gI.vB[a].vD==gC.id){focusfV(gI.vB[a]);hG=a;break}}function fF(a){a.x+=gO;a.y+=gP;a.x*=gQ;a.y*=gQ;for(var b=0;b<gI.vB.length;b++)if((gI.vB[b].x-a.x)*(gI.vB[b].x-a.x)+(gI.vB[b].y-a.y)*(gI.vB[b].y-a.y)<gI.vB[b].vT*gI.vB[b].vT)return b;return-1}
function fG(a){return void 0!==a.touches?{x:a.touches[0].pageX-5,y:a.touches[0].pageY-5}:{x:a.pageX-5,y:a.pageY-5}}window.onresize=function(a){iC()};function iC(){cC=window.innerWidth-9;cD=window.innerHeight-9;gM.width=cC;gM.height=cD;1!=gI.vX&&fD(1)}function fH(a){var b=gI.vB[a];vA(gI.gCs[b.vD].vA);fM(b.x,b.y,b.vT);if(a==gJ||a==gK)gL++,a==gK&&b.vD!=gC.id&&vA("ff0000"),iA(b.x,b.y,b.vT+5*Math.abs(Math.sin(gL/10))+2);vA(cB);iB(b.vE,b.x,b.y+b.vT+12)}
function fI(a){var b=gI.vB[a.vI],c=gI.vB[a.vJ],d,e;if(a.vW)e=fJ(b,c),d=e.x,e=e.y;else{a.es>a.vF&&console.gS(a.es);e=fJ(b,c);var h=fJ(c,b);d=fP(h.x,e.x,(a.es-gB)/a.vF);e=fP(h.y,e.y,(a.es-gB)/a.vF);if(1==localStorage.lC)for(b=Math.atan2(b.y-c.y,b.x-c.x),c=0;5>c;c++){var h=fO(b-.5,b+.5),q=fO(.03,.05);gE.push(new fN(d+5*Math.cos(b),e+5*Math.sin(b),fOI(500,1E3),{r:fOI(200,255),g:fOI(0,90),b:0,a:1},{r:255,g:255,b:0,a:0},1,0,Math.cos(h)*q,Math.sin(h)*q))}}gN.save();gN.translate(d,e);gN.rotate(Math.atan2(gI.vB[a.vJ].y-
gI.vB[a.vI].y,gI.vB[a.vJ].x-gI.vB[a.vI].x));gN.beginPath();gN.moveTo(-7,-5);gN.lineTo(7,0);gN.lineTo(-7,5);gN.lineTo(-5,0);gN.lineTo(-7,-5);gN.closePath();vA(gI.gCs[a.vD].vA);gN.fill();vA("000000");gN.stroke();gN.restore()}function fJ(a,b){var c=Math.atan2(b.y-a.y,b.x-a.x);return{x:Math.cos(c)*(a.vT+5)+a.x,y:Math.sin(c)*(a.vT+5)+a.y}}
function fC(a){var b=1-a.vL/a.time;null==a.vN?vA(a.vM):gN.fillStyle="rgba("+Math.floor(fP(a.vM.r,a.vN.r,b))+","+Math.floor(fP(a.vM.g,a.vN.g,b))+","+Math.floor(fP(a.vM.b,a.vN.b,b))+","+fP(a.vM.a,a.vN.a,b)+")";fM(a.x,a.y,fP(a.vO,a.vP,b))}var gZ="*Instructions:;;Click and drag to move the field.;Pinch the screen or use the mouse wheel to zoom.;;Touch one of your planets and drag to;another to send ships.;You can change the percentage of ships that;are sent with the slider in the bottom left.;But be careful! A planet without;ships is defenseless agains other players.;;Click on the button in the bottom;right to focus the view on one of your planets.;;Capture all planets to win a round and get an;entry in the Hall of Fame.;If there were more players in your round, you;get more fame, so invite people to play.;;To play just drag to the right.;;;;;*Further Tipps:;;Each turn is three seconds long.;Ship orders can be placed anytime, but;will be executed on the next turn.;;Bigger planets produce more ships per turn;than smaller ones.;Planets have a limit of ships they can store.;If there are more ships on a planet than the limit,;no new ships will be produced (by that planet).;;When you get stronger your strength will slowly;reverse. The limit of your planets will decrease.;Defending ships are stronger than attacking;ones, but the more ships you have in total, the;lower their defensive strength is.;If you are offline, your ships will still;exist. But watch out! When you come back, the;situation in the universe might be reversed.;;;;If you are on a computer, you can turn on music.;If the game runs slow, turn off particles and sound.;;;a game by:;*  @bitowl;*  http://bitowl.de".split(";");
function fK(){font(64);vA(cB);align("left");iB(null==info?"raw | space":info,30,-10);font(16);align("right");1==localStorage.lC?(vA("00cc00"),iB("on",-10,-10)):(vA("cc0000"),iB("off",-10,-10));1==localStorage.lF?(vA("00cc00"),iB("on",-10,-30)):(vA("cc0000"),iB("off",-10,-30));1==localStorage.lE?(vA("00cc00"),iB("on",-10,-50)):(vA("cc0000"),iB("off",-10,-50));vA(cB);iB("particles: ",-30,-10);iB("music: ",-30,-30);iB("sound: ",-30,-50);if(0>gO){iB("online: ",0,20);for(var a=40,b=0;b<gI.gCs.length;b++)gI.gCs[b].vG&&
(vA(gI.gCs[b].vA),iB(gI.gCs[b].vH,-10,a),a+=18);a+=20;vA("d4af37");font("bold 16");iB("Hall of Fame",0,a);a+=18;font(16);iB("User",-150,a);iB("Date",-70,a);iB("Players",0,a);a+=20;vA(cB);for(b=gH.length-1;0<=b;b--)iB(gH[b].vZ,-150,a),iB(gH[b].wA,-70,a),iB(gH[b].gCs,0,a),a+=18}if(gO<-370/gQ)for(align("left"),a=!1,b=0;b<gZ.length;b++)gZ[b].startsWith("*")?(font("bold 16"),a=!0,iB(gZ[b].substring(1),-720,18*b)):(a&&(font("16"),a=!1),iB(gZ[b],-720,18*b));gN.setTransform(1,0,0,1,0,0);align("center");font(16);
vA(gC.vA);fL(0,cD-35,150,20);fL(localStorage.lD,cD-50,50,50);fL(cC-50,cD-50,50,50);vA("000000");iB(localStorage.lD+"%",parseInt(localStorage.lD)+25,cD-20);iB(">",cC-25,cD-20);null!=gS?(vA("ff0000"),font(32),iB(gS,cC/2,cD/2-40),vA(cB),font(24),iB("touch to restart",cC/2,cD/2)):-1!=m&&(vA("ff0000"),font(32),iB("You died!",cC/2,cD/2-40),vA(cB),font(24),0<m?iB("wait "+Math.floor(m/1E3)+" seconds...",cC/2,cD/2):iB("touch to respawn",cC/2,cD/2))}function vA(a){gN.fillStyle="#"+a;gN.strokeStyle="#"+a}
function fZ(a,b,c,d){gN.beginPath();gN.moveTo(a,b);gN.lineTo(c,d);gN.stroke()}function fL(a,b,c,d){gN.beginPath();gN.rect(a,b,c,d);gN.fill()}function iA(a,b,c){gN.beginPath();gN.arc(a,b,c,0,2*Math.PI);gN.stroke()}function fM(a,b,c){gN.beginPath();gN.arc(a,b,c,0,2*Math.PI);gN.fill()}function font(a){gN.font=a+"px sans-serif"}function iB(a,b,c){gN.fillText(a,b,c)}function align(a){gN.textAlign=a}
function fN(a,b,c,d,e,h,q,g,u){this.x=a;this.y=b;this.vM=d;this.vN=e;this.vO=h;this.vP=q;this.time=this.vL=c;this.vQ=g;this.vR=u}function fOI(a,b){return a+Math.floor(Math.random()*(b-a+1))}function fO(a,b){return a+Math.random()*(b-a)}function fP(a,b,c){return c*b+(1-c)*a}function fQ(a,b){return Math.sqrt(a*a+b*b)}fA();
