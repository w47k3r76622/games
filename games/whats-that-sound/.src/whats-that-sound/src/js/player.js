var Player=function(a,b,c){this.position=this.startPos=a;this.life=this.maxLife=b;this.speed=c;this.moving=!1;this.destination=a;this.availableDir={up:!0,down:!0,left:!0,right:!0};this.spriteAsset=createSprite("assets/img/sprites.png");this.sprite=this.getSpriteTile(90);this.lastTile=this.currentTile=SAFE_TILE};Player.prototype.takeDamage=function(){0<this.life&&this.life--};
Player.prototype.updateSprite=function(a){this.sprite=this.getSpriteTile(180*Math.atan2(a.y-this.position.y,a.x-this.position.x)/Math.PI)};Player.prototype.getSpriteTile=function(a){return-67.5<a&&0>=a||67.5>=a&&0<=a?{x:3*TILE,y:0*TILE}:67.5<a&&157.5>=a?{x:1*TILE,y:0*TILE}:157.5<a&&180>=a||-112.5>=a&&-180<=a?{x:2*TILE,y:0*TILE}:{x:0*TILE,y:0*TILE}};
