"use strict";function init(){ctx.save(),ctx.clearRect(0,0,canvas.width,canvas.height),canvas.style.backgroundColor="#6c6",ctx.restore(),drawInfo(),drawLogo(),drawButtons()}function drawInfo(){ctx.save(),ctx.font="normal 12px Arial",ctx.fillStyle="#ffffff",ctx.fillText("Kat",canvas.width-50,canvas.height-20),ctx.drawImage(bigHeroIntro,120,canvas.height-155,100,155),ctx.restore()}function drawLogo(){ctx.save(),ctx.fillStyle="#ffffff",ctx.font="bold 140px Arial",ctx.rotate(-Math.PI/10),ctx.fillText("B",canvas.width/2-250,canvas.height/2),ctx.restore(),ctx.fillStyle="#09437f",ctx.font="bold 100px Arial",ctx.fillText("Eat",canvas.width/2-85,canvas.height/2-130),ctx.fillStyle="#007108",ctx.font="bold 140px Arial",ctx.fillText("It",canvas.width/2+75,canvas.height/2-115)}function drawButtons(){var e={x:canvas.width/2-120,y:canvas.height/2-25,width:260,height:50};generateButton(e,"START GAME",-80,8,"big");var t={x:canvas.width/2-110,y:canvas.height/2+60,width:240,height:50};generateButton(t,"SHOW INSTRUCTIONS",-92,90,"small");var o={x:canvas.width/2-110,y:canvas.height/2+120,width:240,height:50};generateButton(o,"HIGHSCORES",-55,150,"small"),canvas.addEventListener("click",function i(n){var A=getMousePos(canvas,n);isInside(A,e)&&(canvas.removeEventListener("click",i,!1),ctx.clearRect(0,0,canvas.width,canvas.height),startGame()),isInside(A,o)&&(canvas.removeEventListener("click",i,!1),ctx.clearRect(0,0,canvas.width,canvas.height),drawHighscores(getHighScores())),isInside(A,t)&&(canvas.removeEventListener("click",i,!1),ctx.clearRect(0,0,canvas.width,canvas.height),playInstructions())},!1)}function generateButton(e,t,o,i,n){ctx.save();var A=e;ctx.fillStyle="#61c46a",ctx.fillRect(A.x,A.y,A.width,A.height),"small"===n?(ctx.lineWidth=2,ctx.font="20px Lucida Console"):(ctx.lineWidth=4,ctx.font="30px Lucida Console"),ctx.strokeStyle="#ffffff",ctx.strokeRect(A.x,A.y,A.width,A.height),ctx.fillStyle="#ffffff",ctx.fillText(t,canvas.width/2+o,canvas.height/2+i),ctx.restore()}function getHighScores(){var e=[];return localStorage.getItem("scores")&&(e=localStorage.getItem("scores")),e}function drawHighscores(e){ctx.save(),ctx.fillStyle="#61c46a",ctx.strokeStyle="#000000",ctx.fillRect(50,50,canvas.width-100,canvas.height-100),ctx.strokeRect(50,50,canvas.width-100,canvas.height-100);var t={x:canvas.width-80,y:75,width:50,height:50};if(ctx.moveTo(canvas.width-75,75),ctx.lineTo(canvas.width-90,90),ctx.moveTo(canvas.width-90,75),ctx.lineTo(canvas.width-75,90),ctx.strokeStyle="#000000",ctx.stroke(),canvas.addEventListener("click",function e(o){isInside(getMousePos(canvas,o),t)&&(canvas.removeEventListener("click",e,!1),init())}),ctx.fillStyle="#ffffff",ctx.font="30px monospace",ctx.fillText("Highscores:",canvas.width/2-80,100),e.length>0){var o=e.split(",");o.sort(function(e,t){return t-e}),o.forEach(function(e,t){t<15?ctx.fillText(t+1+". "+e,100,150+30*t):t<30&&ctx.fillText(t+1+". "+e,400,150+30*(t-15))})}ctx.restore()}function playInstructions(){ctx.save(),ctx.clearRect(0,0,canvas.width,canvas.height);var e={x:canvas.width-80,y:75,width:50,height:50};ctx.moveTo(canvas.width-75,75),ctx.lineTo(canvas.width-90,90),ctx.moveTo(canvas.width-90,75),ctx.lineTo(canvas.width-75,90),ctx.strokeStyle="#000000",ctx.stroke(),canvas.addEventListener("click",function t(o){isInside(getMousePos(canvas,o),e)&&(canvas.removeEventListener("click",t,!1),init())}),ctx.fillStyle="#ffffff",ctx.font="24px monospace";ctx.fillText("You are a little hungry plant.",150,100),ctx.fillText("Your goal is to satisfy your hunger!",150,150),ctx.font="20px monospace";var t=200;ctx.fillText("Rules:",150,t+=30),ctx.fillText("1. Eat meat!",150,t+=30),ctx.fillText("2. Don't eat plants! (that's a cannibalism)",150,t+=30),ctx.fillText("3. If you don't eat you're gonna wither until you die!",150,t+=30),ctx.fillText("4. Look for a pig. Pig is good. Pig is yummy.",150,t+=30),ctx.restore()}function startGame(){createEnemies(enemiesNumber),canvas.addEventListener("click",makeAction,!1),startAnimating(60)}function gameLoop(){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.drawImage(kitchenBg,0,0,400,311,0,0,canvas.width,canvas.height),drawEnemies(),drawHero(),drawTextData(),drawExitButton()}function drawExitButton(){var e={x:canvas.width-80,y:canvas.height-20,width:150,height:50};ctx.fillStyle="#000000",ctx.font="bold 18px Arial",ctx.fillText("QUIT",e.x,e.y),canvas.addEventListener("click",function(t){isInside(getMousePos(canvas,t),e)&&location.reload()},!1)}function drawHero(){speedTick+=1,ctx.drawImage(mainHero,hero.heroSliceX,hero.heroSliceY,62,100,hero.heroPositionX,hero.heroPositionY,62,100),speedTick%10!=0&&0!==speedTick||(hero.heroSliceX+=62,hero.heroSliceX>=mainHero.width&&(hero.heroSliceX=0),speedTick=1),drawHeroBeam(),ctx.beginPath(),ctx.moveTo(hero.positionX-50,hero.positionY+100),ctx.lineTo(hero.positionX+111,hero.positionY+100),ctx.lineTo(hero.positionX+101,hero.positionY+110),ctx.lineTo(hero.positionX+90,canvas.height),ctx.lineTo(hero.positionX-29,canvas.height),ctx.lineTo(hero.positionX-39,hero.positionY+110),ctx.closePath(),ctx.fillStyle=hero.potColor,ctx.fill()}function drawHeroBeam(){ctx.beginPath(),ctx.lineWidth=1,ctx.moveTo(hero.positionX+16,hero.positionY+100),hero.moveToY<hero.positionY&&ctx.bezierCurveTo(hero.positionX+16,hero.positionY,hero.heroPositionX+16,hero.heroPositionY+200,hero.heroPositionX+16,hero.heroPositionY+100),ctx.strokeStyle="#285a10",ctx.lineTo(hero.heroPositionX+31,hero.heroPositionY+100),hero.moveToY<hero.positionY&&ctx.bezierCurveTo(hero.heroPositionX+31,hero.heroPositionY+200,hero.positionX+31,hero.positionY,hero.positionX+31,hero.positionY+100),ctx.strokeStyle="#285a10",ctx.lineTo(hero.positionX+16,hero.positionY+100),ctx.strokeStyle="#020601",ctx.stroke(),ctx.closePath(),ctx.fillStyle="#285a10",ctx.fill()}function makeAction(e){function t(){canvas.removeEventListener("click",makeAction,!1),i=requestAnimationFrame(t),hero.heroSliceX=62,drawHeroBeam(),"goingThere"==hero.animationState?hero.heroPositionX==hero.moveToX?hero.animationState="beenThere":Math.abs(hero.heroPositionX-hero.moveToX)>Math.abs(c*n)?(hero.heroPositionX+=c*n,hero.heroPositionY+=s*n):(hero.heroPositionX=hero.moveToX,hero.heroPositionY=hero.moveToY):"beenThere"!=hero.animationState||gameOver?"goingBack"!=hero.animationState||gameOver?(hero.heroPositionX=hero.positionX,hero.heroPositionY=hero.positionY,hero.moveToX=hero.positionX,hero.moveToY=hero.positionY,cancelAnimationFrame(i),canvas.addEventListener("click",makeAction,!1),hero.animationDelay=50):(hero.heroSliceX=0,hero.heroPositionX==hero.positionX?hero.animationState="back":Math.abs(hero.heroPositionX-hero.positionX)>Math.abs(c*n)?(hero.heroPositionX-=c*A,hero.heroPositionY-=s*A):(hero.heroPositionX=hero.positionX,hero.heroPositionY=hero.positiony)):a>=0?(pointsText=checkColision(hero.heroPositionX,hero.heroPositionY),0!==pointsText.points&&(ctx.font="16px monospace","-"===pointsText.mark?(ctx.save(),ctx.fillStyle="#990000",ctx.fillText("Live "+pointsText.mark+pointsText.points,pointsText.posX,pointsText.posY),ctx.restore()):(ctx.save(),ctx.fillStyle="#009900",ctx.fillText(pointsText.mark+pointsText.points,pointsText.posX,pointsText.posY),ctx.restore())),a--):(pointsText={mark:"+",points:0,posX:0,posY:0},hero.animationState="goingBack")}if(!gameOver){var o=getMousePos(canvas,e);if(o.y<canvas.height-100){hero.moveToX=o.x-45,hero.moveToY=o.y-45;var i,n=3,A=3,a=20,c=(hero.moveToX-hero.heroPositionX)/hero.speed,s=(hero.moveToY-hero.heroPositionY)/hero.speed;hero.animationState="goingThere",t()}}}function checkColision(e,t){var o=score;return enemies.forEach(function(i,n){if(i.posX>=e-10&&i.posX<=e+50&&i.posY>=t&&i.posY<=t+50){var A=i.posX,a=i.posY-50;enemies.splice(n,1),14===i.imageStage&&(createEnemies(200),score+=100),i.imageStage<=9||14===i.imageStage?(score=Math.round(score+1*i.speed),pointsText={mark:"+",points:score-o,posX:A,posY:a},livebar.live+7*i.speed>=100?livebar.live=100:livebar.live+=7*i.speed):(livebar.live-=7*i.speed,pointsText={mark:"-",points:7*i.speed,posX:A,posY:a}),createEnemy(!1)}}),level=Math.floor(score/100)+1,pointsText}function drawTextData(){if(ctx.save(),ctx.fillStyle="#000099",ctx.font="20px monospace",ctx.fillText("Level: "+level,canvas.width-150,livebar.positionY+15),ctx.fillStyle="#000099",ctx.font="20px monospace",ctx.fillText("Score: "+score,livebar.positionX+130,livebar.positionY+15),ctx.font="20px monospace",ctx.fillText("Live:",livebar.positionX-70,livebar.positionY+15),livebar.live>=0){livebar.live-=livebar.speed*level,livebar.live<35&&(ctx.save(),ctx.fillStyle="rgba(242, 10, 10, 0.1)",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.restore()),livebar.live<15&&(ctx.save(),ctx.fillStyle="rgba(242, 10, 10, 0.3)",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.restore());for(var e=1;e<=livebar.live;e++)drawLiveBar(e)}else{cancelAnimationFrame(mainAnimationFrame),canvas.removeEventListener("click",makeAction,!1);var t=getHighScores();t.length>0?t+=","+score.toString():t=score.toString(),localStorage.setItem("scores",t),gameOver=!0,ctx.fillStyle="#AA0505",ctx.font="60px monospace",ctx.fillText("GAME OVER",canvas.height/2,canvas.width/2-300)}ctx.restore()}function createEnemy(e){var t={speed:1,speedDirect:1,direction:1,posX:0,posY:0,vMin:.5,vMax:4,imageStage:1,bonusType:e};level>=2&&(t.vMin=1),level>=5&&(t.vMin=1.5,t.vMax=4.5),level>=7&&(t.vMin=2,t.vMax=4.5),t.direction=getRandomInt(0,2)-1,0===t.direction&&(t.direction=-1),t.speed=getRandomInt(t.vMin,t.vMax),t.speedDirect=t.speed*t.direction,-1==t.direction?t.posX=getRandomInt(canvas.width,canvas.width+100):t.posX=getRandomInt(-100,0),t.posY=getRandomInt(100,canvas.height-200),!0===t.bonusType?t.imageStage=14:t.imageStage=getRandomInt(0,13),enemies.push(t)}function createEnemies(e){for(var t=0;t<e;t++)createEnemy(!1)}function drawEnemies(){enemies.forEach(function(e,t){14===e.imageStage&&(ctx.save(),ctx.shadowColor="#00ff00",ctx.shadowBlur=40,ctx.shadowOffsetX=0,ctx.shadowOffsetY=0),ctx.drawImage(enemiesSprite,15*e.imageStage,0,15,15,e.posX,e.posY,15,15),ctx.restore(),e.posX+=e.speedDirect,(e.posX>canvas.width+15||e.posX<-15)&&(enemies.splice(t,1),14!==e.imageStage&&!1===e.bonusType&&enemies.length<=20&&createEnemy(1===getRandomInt(1,80)?!0:!1)),enemies.length<20&&createEnemies(20-enemies.length)})}function drawLiveBar(e){ctx.save(),ctx.strokeStyle="#000099",ctx.strokeRect(livebar.positionX,livebar.positionY,100,20),ctx.fillStyle=livebar.colors[Math.round(livebar.live/25)],ctx.fillRect(livebar.positionX+e,livebar.positionY,1,20),ctx.restore()}function startAnimating(e){fpsInterval=1e3/e,then=Date.now(),startTime=then,animate()}function animate(){mainAnimationFrame=window.requestAnimationFrame(animate),now=Date.now(),(elapsed=now-then)>fpsInterval&&(then=now-elapsed%fpsInterval,gameLoop())}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function getMousePos(e,t){var o=e.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}}function isInside(e,t){return e.x>t.x&&e.x<t.x+t.width&&e.y<t.y+t.height&&e.y>t.y}var canvas=document.getElementById("game");canvas.style.border="10px solid #0a0a0a";var ctx=canvas.getContext("2d");ctx.save();var mainHero=new Image;mainHero.src="hero_sprite.png";var enemiesSprite=new Image;enemiesSprite.src="food_sprite.png";var kitchenBg=new Image;kitchenBg.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYxNkNDRDQ3NEE1OTExRTg4MEIzQzkwNTg0NjAyMDE2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYxNkNDRDQ4NEE1OTExRTg4MEIzQzkwNTg0NjAyMDE2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjE2Q0NENDU0QTU5MTFFODgwQjNDOTA1ODQ2MDIwMTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjE2Q0NENDY0QTU5MTFFODgwQjNDOTA1ODQ2MDIwMTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAQCwsLDAsQDAwQFw8NDxcbFBAQ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";var bigHeroIntro=new Image;bigHeroIntro.src="main.png";var score=0,enemiesNumber=20,level=1,gameOver=!1,hero={heroSliceX:0,heroSliceY:0,heroPositionX:canvas.width/2+3,heroPositionY:canvas.height-150,positionX:canvas.width/2+3,positionY:canvas.height-150,moveToX:canvas.width/2+3,moveToY:canvas.height-150,speed:10,animationDelay:50,animationState:"goingThere",actionListener:null,potColor:"#7c2c04"},livebar={live:100,speed:.03,positionX:100,positionY:20,colors:["#b40101","#99003d","#99008b","#610099","#000099"]},enemies=[],speedTick=0,pointsText={mark:"+",points:0,posX:0,posY:0},mainAnimationFrame,fpsInterval,startTime,now,then,elapsed;