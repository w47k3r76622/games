var Sword=function(i,t,h){this.ctx=ctx,this.image=scaledMap,this.tileId=h,this.width=tileSize,this.height=tileSize,this.x=i,this.y=t,this.tickCount=0,this.unlocked=!1,this.sealed=!1,this.alive=!0};Sword.prototype=new Sprite,Sword.prototype.constructor=Sword,Sword.prototype.render=function(){if(0!=this.alive){var i=this.tileId%4,t=Math.floor(this.tileId/4),h=i*this.width,e=t*this.height;ctx.drawImage(this.image,h,e,this.width,this.height,this.x,this.y,this.width,this.height)}},Sword.prototype.update=function(i){if(0!=this.alive){var t=this.x,h=this.y,e=Math.round(i*MAXSPEED*4);this.tileId==swordUp?h-=e:this.tileId==swordDown&&(h+=e);var s=this.newCollisionMask(t+5,h+5,this.width-20,this.height-20);if(this.intersects(s,hero.bounds()))return hero.fail(),void(this.alive=!1);var o=this.collided(walls,s);if(o)return void(this.alive=!1);if(o=this.collided(rocks,s))return void(this.alive=!1);this.y=h,(this.y>13*tileSize||this.y<0)&&(this.alive=!1)}},Sword.prototype.collided=function(i,t){for(var h=!1,e=0;e<i.length;e++){var s=i[e];if(this.intersects(t,s.bounds())&&s.tileId!=bb){h=!0;break}}return h};