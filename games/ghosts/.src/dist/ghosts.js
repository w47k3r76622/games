function Pathfinder(){"use strict";function a(a){var b=[];return a.forEach(function(a){b.push(a.slice(0))}),b}function b(a,b){var c,d,e=[];for(c=0;c<a[0].length;c++)for(d=0;d<a.length;d++)b(a[d][c])&&e.push({x:c,y:d});return e}function c(a){var c=b(a,function(a){return a===Map.DOT||a===Map.BIG_DOT});return c.length?c[Math.floor(Math.random()*c.length)]:null}function d(a){var c=b(a,function(a){return a!==Map.WALL});return c.length?c[Math.floor(Math.random()*c.length)]:null}var e={};e._removeNode=function(a,b){var c;for(c=0;c<a.length;c++)if(a[c].x===b.x&&a[c].y===b.y)return void a.splice(c,1)},e._containsNode=function(a,b){var c;for(c=0;c<a.length;c++)if(a[c].x===b.x&&a[c].y===b.y)return!0;return!1},e._isCakemanUnreachable=function(a){return a.value>Map.BIG_DOT},e._calculateCakemanPromotion=function(a){return a.value===Map.DOT||a.value===Map.BIG_DOT?1:10},e._isGhostUnreachable=function(a){return a.value===Map.WALL},e._calculateGhostPromotion=function(a){return 1},e.prepare=function(a){var b,c;for(c=0;c<a.length;c++)for(b=0;b<a[0].length;b++)a[c][b]={value:a[c][b],x:b,y:c,f:0,g:0,h:0,parent:null};return a},e.calculatePath=function(a,b,c,d,f){var g,h,i,j,k,l,m,n,o,p=[],q=[];for(p.push(b);p.length>0;){for(g=0,i=0;i<p.length;i++)p[i].f<p[g].f&&(g=i);if(h=p[g],h.x===c.x&&h.y===c.y){for(j=h,k=[];j.parent;)k.push(j),j=j.parent;return k.reverse()}for(e._removeNode(p,h),q.push(h),l=e.neighbors(a,h),i=0;i<l.length;i++)m=l[i],e._containsNode(q,m)||d(m)||(n=h.g+1,o=!1,e._containsNode(p,m)?n<m.g&&(o=!0):(o=!0,m.h=e.heuristic(m,c)*f(m),p.push(m)),o&&(m.parent=h,m.g=n,m.f=m.g+m.h))}return[]},e.heuristic=function(a,b){return Math.abs(b.x-a.x)+Math.abs(b.y-a.y)},e.neighbors=function(a,b){var c=[],d=b.y,e=b.x;return a[d-1]&&a[d-1][e]&&c.push(a[d-1][e]),a[d+1]&&a[d+1][e]&&c.push(a[d+1][e]),a[d]&&a[d][e-1]&&c.push(a[d][e-1]),a[d]&&a[d][e+1]&&c.push(a[d][e+1]),c},this.calculateCakemanPath=function(b,d,f){var g,h=[];return b=a(b),f.forEach(function(a){a.dead||(b[a.y][a.x]=Map.GHOST)}),g=c(b),g&&(e.prepare(b),h=e.calculatePath(b,b[d.targetY][d.targetX],b[g.y][g.x],e._isCakemanUnreachable,e._calculateCakemanPromotion)),h},this.calculateGhostPath=function(b,c){var f,g=[];return b=a(b),f=d(b),f&&(e.prepare(b),g=e.calculatePath(b,b[c.targetY][c.targetX],b[f.y][f.x],e._isGhostUnreachable,e._calculateGhostPromotion)),g},this.calculatePath=function(b,c,d){var f=[];return b=a(b),e.prepare(b),f=e.calculatePath(b,b[c.y][c.x],b[d.y][d.x],e._isGhostUnreachable,function(){return 1})}}function Character(a,b){"use strict";this.direction=Direction.RIGHT,this._x=0,this._y=0,this._targetX=0,this._targetY=0,this.moveCounter=0,this.color="#FE0",this.speed=b.speed,this.x=b.x,this.y=b.y,this.targetX=this.x,this.targetY=this.y,this.path=[],this.init=function(){this.speedX=this.getXSpeed(),this.speedY=0,this._x=this.x*a.areaSize,this._y=this.y*a.areaSize+a.areaSize/2,this._targetX=this._x+a.areaSize/2,this._targetY=this._y,this.draw()},this.draw=function(){},this.move=function(){var b;if(this.moveCounter++,this._x!=this._targetX||this._y!=this._targetY)this._x=Math[this._targetX<this._x?"max":"min"](this._targetX,this._x+this.getXSpeed()),this._y=Math[this._targetY<this._y?"max":"min"](this._targetY,this._y+this.getYSpeed());else{if(this.x=this.targetX,this.y=this.targetY,b=this.path.shift(),void 0===b)return;this.targetX=b.x,this.targetY=b.y,this.targetX>this.x&&(this.direction=Direction.RIGHT),this.targetX<this.x&&(this.direction=Direction.LEFT),this.targetY>this.y&&(this.direction=Direction.DOWN),this.targetY<this.y&&(this.direction=Direction.UP),this._targetX=this.targetX*a.areaSize+a.areaSize/2,this._targetY=this.targetY*a.areaSize+a.areaSize/2}}}function Cakeman(a,b){"use strict";Character.apply(this,arguments),this.color="#FE0",this.draw=function(){var b=this._x,c=this._y,d=Math.PI/2*this.direction,e=.25*Math.PI*((this.moveCounter%40+1)/40);a.ctx.fillStyle=this.color,a.ctx.beginPath(),a.ctx.arc(b,c,a.areaSize/1.8,-Math.PI/2+e+d,-Math.PI/2-e+d),a.ctx.lineTo(b,c),a.ctx.closePath(),a.ctx.fill()}}function Ghost(a,b){"use strict";function c(a){return("0"+a.toString(16)).slice(-2)}function d(a,b,d){return"#"+c(a)+c(b)+c(d)}Character.apply(this,arguments),this.color=b.color,this.selected=b.selected,this.panicked=!1,this.dead=!1,this.getXSpeed=function(){return Character.prototype.getXSpeed.call(this)*(this.dead?5:1)*(this.selected?1.5:1)},this.getYSpeed=function(){return Character.prototype.getYSpeed.call(this)*(this.dead?5:1)*(this.selected?1.5:1)},this.draw=function(){var b,c=this._x,e=this._y,f=[0,1,0,-1],g=[-1,0,1,0];this.selected&&!this.dead&&(b=this.moveCounter%50*3+50,a.ctx.fillStyle=d(b,b,b),a.ctx.beginPath(),a.ctx.lineTo(c+a.areaSize/1.5,e+a.areaSize/1.5),a.ctx.lineTo(c-a.areaSize/1.5,e+a.areaSize/1.5),a.ctx.arc(c,e,a.areaSize/1.5,-Math.PI,0),a.ctx.closePath(),a.ctx.fill()),this.dead||(a.ctx.fillStyle=this.panicked?"#00F":this.color,a.ctx.beginPath(),a.ctx.lineTo(c+a.areaSize/2,e+a.areaSize/2),a.ctx.lineTo(c+a.areaSize/6*2,e+a.areaSize/6*2),a.ctx.lineTo(c+a.areaSize/6,e+a.areaSize/2),a.ctx.lineTo(c,e+a.areaSize/6*2),a.ctx.lineTo(c-a.areaSize/6,e+a.areaSize/2),a.ctx.lineTo(c-a.areaSize/6*2,e+a.areaSize/6*2),a.ctx.lineTo(c-a.areaSize/2,e+a.areaSize/2),a.ctx.lineTo(c-a.areaSize/2,e),a.ctx.arc(c,e,a.areaSize/2,-Math.PI,0),a.ctx.closePath(),a.ctx.fill()),a.ctx.fillStyle="#FFF",a.ctx.beginPath(),a.ctx.arc(c-a.areaSize/4.5,e-a.areaSize/8,a.areaSize/6,0,2*Math.PI),a.ctx.closePath(),a.ctx.fill(),a.ctx.beginPath(),a.ctx.arc(c+a.areaSize/4.5,e-a.areaSize/8,a.areaSize/6,0,2*Math.PI),a.ctx.closePath(),a.ctx.fill(),a.ctx.fillStyle="#000",a.ctx.beginPath(),a.ctx.arc(c-a.areaSize/4.5+f[this.direction]*a.areaSize/13.5,e-a.areaSize/8+g[this.direction]*a.areaSize/13.5,a.areaSize/10,0,2*Math.PI),a.ctx.closePath(),a.ctx.fill(),a.ctx.beginPath(),a.ctx.arc(c+a.areaSize/4.5+f[this.direction]*a.areaSize/13.5,e-a.areaSize/8+g[this.direction]*a.areaSize/13.5,a.areaSize/10,0,2*Math.PI),a.ctx.closePath(),a.ctx.fill()}}function Board(a){"use strict";function b(b,c,d,e,f,g,h){a.ctx.fillStyle="#111",a.ctx.fillRect(b*a.areaSize,c*a.areaSize,a.areaSize,a.areaSize),a.ctx.fillStyle=h?"#333":"#00F",d&&a.ctx.fillRect(b*a.areaSize+a.areaSize/16*7,c*a.areaSize,a.areaSize/8,a.areaSize/2),e&&a.ctx.fillRect(b*a.areaSize+a.areaSize/2,c*a.areaSize+a.areaSize/16*7,a.areaSize/2,a.areaSize/8),f&&a.ctx.fillRect(b*a.areaSize+a.areaSize/16*7,c*a.areaSize+a.areaSize/2,a.areaSize/8,a.areaSize/2),g&&a.ctx.fillRect(b*a.areaSize,c*a.areaSize+a.areaSize/16*7,a.areaSize/2,a.areaSize/8)}function c(b,c,d){a.ctx.fillStyle="#FFF",a.ctx.beginPath(),a.ctx.arc(b*a.areaSize+a.areaSize/2,c*a.areaSize+a.areaSize/2,a.areaSize/(d?4:10),0,2*Math.PI),a.ctx.closePath(),a.ctx.fill()}this.map=[[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[9,3,3,3,3,3,3,3,3,3,3,3,3,9,9,3,3,3,3,3,3,3,3,3,3,3,3,9],[9,3,9,9,9,9,3,9,9,9,9,9,3,9,9,3,9,9,9,9,9,3,9,9,9,9,3,9],[9,4,9,9,9,9,3,9,9,9,9,9,3,9,9,3,9,9,9,9,9,3,9,9,9,9,4,9],[9,3,9,9,9,9,3,9,9,9,9,9,3,9,9,3,9,9,9,9,9,3,9,9,9,9,3,9],[9,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,9],[9,3,9,9,9,9,3,9,9,3,9,9,9,9,9,9,9,9,3,9,9,3,9,9,9,9,3,9],[9,3,9,9,9,9,3,9,9,3,9,9,9,9,9,9,9,9,3,9,9,3,9,9,9,9,3,9],[9,3,3,3,3,3,3,9,9,3,3,3,3,9,9,3,3,3,3,9,9,3,3,3,3,3,3,9],[9,9,9,9,9,9,3,9,9,9,9,9,0,9,9,0,9,9,9,9,9,3,9,9,9,9,9,9],[9,9,9,9,9,9,3,9,9,9,9,9,0,9,9,0,9,9,9,9,9,3,9,9,9,9,9,9],[9,0,0,0,9,9,3,9,9,0,0,0,0,0,0,0,0,0,0,9,9,3,9,9,0,0,0,9],[9,9,9,9,9,9,3,9,9,0,9,9,9,8,8,9,9,9,0,9,9,3,9,9,9,9,9,9],[9,9,9,9,9,9,3,9,9,0,9,0,0,0,0,0,0,9,0,9,9,3,9,9,9,9,9,9],[9,0,0,0,0,0,3,0,0,0,9,0,0,0,0,0,0,9,0,0,0,3,0,0,0,0,0,9],[9,9,9,9,9,9,3,9,9,0,9,0,0,0,0,0,0,9,0,9,9,3,9,9,9,9,9,9],[9,9,9,9,9,9,3,9,9,0,9,9,9,9,9,9,9,9,0,9,9,3,9,9,9,9,9,9],[9,0,0,0,9,9,3,9,9,0,0,0,0,0,0,0,0,0,0,9,9,3,9,9,0,0,0,9],[9,9,9,9,9,9,3,9,9,0,9,9,9,9,9,9,9,9,0,9,9,3,9,9,9,9,9,9],[9,9,9,9,9,9,3,9,9,0,9,9,9,9,9,9,9,9,0,9,9,3,9,9,9,9,9,9],[9,3,3,3,3,3,3,3,3,3,3,3,3,9,9,3,3,3,3,3,3,3,3,3,3,3,3,9],[9,3,9,9,9,9,3,9,9,9,9,9,3,9,9,3,9,9,9,9,9,3,9,9,9,9,3,9],[9,3,9,9,9,9,3,9,9,9,9,9,3,9,9,3,9,9,9,9,9,3,9,9,9,9,3,9],[9,4,3,3,9,9,3,3,3,3,3,3,3,0,0,3,3,3,3,3,3,3,9,9,3,3,4,9],[9,9,9,3,9,9,3,9,9,3,9,9,9,9,9,9,9,9,3,9,9,3,9,9,3,9,9,9],[9,9,9,3,9,9,3,9,9,3,9,9,9,9,9,9,9,9,3,9,9,3,9,9,3,9,9,9],[9,3,3,3,3,3,3,9,9,3,3,3,3,9,9,3,3,3,3,9,9,3,3,3,3,3,3,9],[9,3,9,9,9,9,9,9,9,9,9,9,3,9,9,3,9,9,9,9,9,9,9,9,9,9,3,9],[9,3,9,9,9,9,9,9,9,9,9,9,3,9,9,3,9,9,9,9,9,9,9,9,9,9,3,9],[9,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]],this.cols=this.map[0].length,this.rows=this.map.length,this.ghostShelter={x:14,y:14},this.eachArea=function(a){var b,c;for(b=0;b<this.cols;b++)for(c=0;c<this.rows;c++)a(b,c)},this.drawArea=function(d,e){var f,g,h,i;switch(a.ctx.fillStyle="#000",a.ctx.fillRect(d*a.areaSize,e*a.areaSize,a.areaSize,a.areaSize),f=0===e?0:this.map[e-1][d]>Map.BIG_DOT,g=d===this.cols-1?0:this.map[e][d+1]>Map.BIG_DOT,h=e===this.rows-1?0:this.map[e+1][d]>Map.BIG_DOT,i=0===d?0:this.map[e][d-1]>Map.BIG_DOT,this.map[e][d]){case 9:b(d,e,f,g,h,i);break;case 8:b(d,e,f,g,h,i,!0);break;case 3:c(d,e);break;case 4:c(d,e,!0)}},this.isWall=function(a,b){return this.map[b][a]===Map.WALL},this.isSmallDot=function(a,b){return this.map[b][a]===Map.DOT},this.isBigDot=function(a,b){return this.map[b][a]===Map.BIG_DOT},this.isDot=function(a,b){return this.isSmallDot(a,b)||this.isBigDot(a,b)},this.clearArea=function(a,b){this.map[b][a]=Map.EMPTY},this.drawSurrounding=function(a,b){var c,d,e=[a],f=[b];for(a>0&&e.push(a-1),a<this.cols-1&&e.push(a+1),b>0&&f.push(b-1),b<this.rows-1&&f.push(b+1),c=0;c<e.length;c++)for(d=0;d<f.length;d++)this.drawArea(e[c],f[d])},this.drawMap=function(){this.eachArea(this.drawArea.bind(this))},this.countDots=function(){var a=this,b=0;return this.eachArea(function(c,d){a.isDot(c,d)&&b++}),b},this.drawFooter=function(b){var c,d,e;for(a.ctx.fillStyle="#000",a.ctx.fillRect(0,this.rows*a.areaSize,this.cols*a.areaSize,a.footerHeight),c=0;c<b.length;c++)d=this.cols/2*a.areaSize+3*a.areaSize*c,e=this.rows*a.areaSize+30,a.ctx.textAlign="left",a.ctx.fillStyle="#AAA",a.ctx.font='16px "Lucida Console"',a.ctx.fillText(c+1,d,e),b[c].draw.call({_x:d+1.3*a.areaSize,_y:e-7,color:b[c].color,direction:Direction.LEFT})},this.drawPoints=function(b){a.ctx.textAlign="left",a.ctx.fillStyle="#000",a.ctx.fillRect(0,this.rows*a.areaSize+10,this.cols/2*a.areaSize,a.footerHeight),a.ctx.fillStyle="#AAA",a.ctx.font='16px "Lucida Console"',a.ctx.fillText("POINTS: "+b,10,this.rows*a.areaSize+30)}}function Controller(a,b,c,d,e){"use strict";function f(a){e.forEach(a)}function g(a){f(a),a(d)}function h(){g(function(a){a.move(),b.drawSurrounding(a.x,a.y)})}function i(){g(function(a){a.draw()})}function j(a,b){var c;for(c=0;c<e.length;c++)if(!e[c].dead&&a===e[c].x&&b===e[c].y)return e[c];return null}function k(a,b){return null!==j(a,b)}function l(a){var b;for(b=0;b<a.length;b++)if(k(a[b].x,a[b].y))return!0;return!1}var m,n,o,p,q,r=0;o=function(a){var c,d=a.which||a.keyCode;if(d>48&&d<=48+e.length&&(c=d-48-1,e[c]!==n&&(n&&(n.selected=!1),n=e[c],n.selected=!0,n.path=[])),n&&0===n.path.length)switch(d){case 37:b.isWall(n.targetX-1,n.targetY)?n.direction!==Direction.UP||b.isWall(n.targetX-1,n.targetY-1)?n.direction!==Direction.DOWN||b.isWall(n.targetX-1,n.targetY+1)||n.path.push({x:n.targetX,y:n.targetY+1},{x:n.targetX-1,y:n.targetY+1}):n.path.push({y:n.targetY-1,x:n.targetX},{y:n.targetY-1,x:n.targetX-1}):n.path.push({y:n.targetY,x:n.targetX-1});break;case 38:b.isWall(n.targetX,n.targetY-1)?n.direction!==Direction.RIGHT||b.isWall(n.targetX+1,n.targetY-1)?n.direction!==Direction.LEFT||b.isWall(n.targetX-1,n.targetY-1)||n.path.push({x:n.targetX-1,y:n.targetY},{x:n.targetX-1,y:n.targetY-1}):n.path.push({x:n.targetX+1,y:n.targetY},{x:n.targetX+1,y:n.targetY-1}):n.path.push({x:n.targetX,y:n.targetY-1});break;case 39:b.isWall(n.targetX+1,n.targetY)?n.direction!==Direction.UP||b.isWall(n.targetX+1,n.targetY-1)?n.direction!==Direction.DOWN||b.isWall(n.targetX+1,n.targetY+1)||n.path.push({x:n.targetX,y:n.targetY+1},{x:n.targetX+1,y:n.targetY+1}):n.path.push({x:n.targetX,y:n.targetY-1},{x:n.targetX+1,y:n.targetY-1}):n.path.push({y:n.targetY,x:n.targetX+1});break;case 40:b.isWall(n.targetX,n.targetY+1)?n.direction!==Direction.RIGHT||b.isWall(n.targetX+1,n.targetY+1)?n.direction!==Direction.LEFT||b.isWall(n.targetX-1,n.targetY+1)||n.path.push({x:n.targetX-1,y:n.targetY},{x:n.targetX-1,y:n.targetY+1}):n.path.push({x:n.targetX+1,y:n.targetY},{x:n.targetX+1,y:n.targetY+1}):n.path.push({x:n.targetX,y:n.targetY+1})}}.bind(this),this.points=0,this.addPoints=function(a){this.points+=a,b.drawPoints(this.points)},this.tick=function(){var g;r&&(r--,0===r&&f(function(a){a.panicked=!1})),(0===d.path.length||l(d.path))&&b.countDots()>0&&(d.path=c.calculateCakemanPath(b.map,d,e)),f(function(a){0===a.path.length&&(a.dead=!1,a.selected||(a.path=c.calculateGhostPath(b.map,a)))}),h(),b.isSmallDot(d.x,d.y)&&(b.clearArea(d.x,d.y),this.addPoints(10)),b.isBigDot(d.x,d.y)&&(b.clearArea(d.x,d.y),this.addPoints(50),f(function(a){a.panicked=!0}),r=a.panickedTicks),i(),g=j(d.x,d.y),g&&(g.panicked?(g.dead=!0,g.path=c.calculatePath(b.map,g,b.ghostShelter),this.addPoints(200)):(this.stop(),p())),0===b.countDots()&&(this.stop(),q())},this.start=function(c,d){p=c,q=d,b.drawMap(),b.drawFooter(e),b.drawPoints(this.points),g(function(a){a.init()}),m=setInterval(this.tick.bind(this),a.tickTime),document.addEventListener("keydown",o)},this.stop=function(){clearInterval(m),document.removeEventListener("keydown",o)}}function Game(){"use strict";function a(a){c.ctx.fillStyle="#000",c.ctx.fillRect(4*c.areaSize,c.mapRows*c.areaSize/3,c.mapCols*c.areaSize-8*c.areaSize,6*c.areaSize),c.ctx.strokeStyle="#FE0",c.ctx.lineWidth=5,c.ctx.strokeRect(4*c.areaSize,c.mapRows*c.areaSize/3,c.mapCols*c.areaSize-8*c.areaSize,6*c.areaSize),c.ctx.fillStyle="#AAA",c.ctx.font='32px "Lucida Console"',c.ctx.textAlign="center",c.ctx.fillText(a,c.mapCols*c.areaSize/2,c.mapRows*c.areaSize/3+3*c.areaSize),c.ctx.fillStyle="#FFF",c.ctx.font='16px "Lucida Console"',c.ctx.fillText("PRESS ENTER KEY TO PLAY AGAIN",c.mapCols*c.areaSize/2,c.mapRows*c.areaSize/3+3*c.areaSize+30)}var b=document.querySelector("canvas"),c={tickTime:10,panickedTicks:1e3,deadTicks:100,areaSize:20,mapCols:28,mapRows:31,footerHeight:50,ctx:b.getContext("2d")},d=new Pathfinder,e=function(a){var b=a.which||a.keyCode;13===b&&(document.removeEventListener("keypress",e),this.start())}.bind(this);b.width=c.areaSize*c.mapCols,b.height=c.areaSize*c.mapRows+c.footerHeight,this.showStartScreen=function(){c.ctx.fillStyle="#000",c.ctx.fillRect(0,0,c.mapCols*c.areaSize,c.mapRows*c.areaSize+c.footerHeight),c.ctx.fillStyle="#AAA",c.ctx.font='50px "Lucida Console"',c.ctx.textAlign="center",c.ctx.fillText("G H O S T S",c.mapCols*c.areaSize/2,b.height/3),c.ctx.fillStyle="#555",c.ctx.font='14px "Lucida Console"',c.ctx.fillText("Keys 1-4 : choose ghost",c.mapCols*c.areaSize/2,b.height/2+60),c.ctx.fillText("Arrows   : move ghost  ",c.mapCols*c.areaSize/2,b.height/2+80),c.ctx.fillText("Catch the yellow guy!  ",c.mapCols*c.areaSize/2,b.height/2+100),c.ctx.fillStyle="#FFF",c.ctx.font='16px "Lucida Console"',c.ctx.fillText("PRESS ENTER KEY TO START",c.mapCols*c.areaSize/2,b.height/2+140),document.addEventListener("keypress",e)},this.start=function(){var a=new Board(c),b=new Cakeman(c,{x:14,y:23,speed:1.2},a),e=new Ghost(c,{x:14,y:11,color:"#F00",speed:.6}),f=new Ghost(c,{x:14,y:13,color:"#F99",speed:.6}),g=new Ghost(c,{x:12,y:13,color:"#6FF",speed:.6}),h=new Ghost(c,{x:16,y:13,color:"#FA0",speed:.6}),i=new Controller(c,a,d,b,[e,f,g,h]);i.start(this.won.bind(this),this.lost.bind(this))},this.won=function(){a("YOU WIN!"),document.addEventListener("keypress",e)},this.lost=function(){a("YOU LOSE!"),document.addEventListener("keypress",e)},this.showStartScreen()}Map={EMPTY:0,DOT:3,BIG_DOT:4,DOOR:8,WALL:9,GHOST:10},Direction={UP:0,RIGHT:1,DOWN:2,LEFT:3},Character.prototype.getXSpeed=function(){"use strict";var a=[0,1,0,-1];return this.speed*a[this.direction]},Character.prototype.getYSpeed=function(){"use strict";var a=[-1,0,1,0];return this.speed*a[this.direction]},Cakeman.prototype=Object.create(Character.prototype),Cakeman.prototype.constructor=Cakeman,Ghost.prototype=Object.create(Character.prototype),Ghost.prototype.constructor=Ghost,new Game;