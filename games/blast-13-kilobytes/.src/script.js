function H(){this.A=function(e){for(var f=0;24>f;f++)this[String.fromCharCode(97+f)]=e[f]||0;0.01>this.c&&(this.c=0.01);e=this.b+this.c+this.e;0.18>e&&(e=0.18/e,this.b*=e,this.c*=e,this.e*=e)}}var U=new function(){this.z=new H;var e,f,d,h,j,w,I,J,K,y,k,L;this.reset=function(){var b=this.z;h=100/(b.f*b.f+0.001);j=100/(b.g*b.g+0.001);w=1-0.01*b.h*b.h*b.h;I=1E-6*-b.i*b.i*b.i;b.a||(k=0.5-b.n/2,L=5E-5*-b.o);J=1+b.l*b.l*(0<b.l?-0.9:10);K=0;y=1==b.m?0:2E4*(1-b.m)*(1-b.m)+32};this.C=function(){this.reset();var b=this.z;e=1E5*b.b*b.b;f=1E5*b.c*b.c;d=1E5*b.e*b.e+12;return 3*((e+f+d)/3|0)};this.B=function(b,M){var a=this.z,N=1!=a.s||a.v,o=0.1*a.v*a.v,O=1+3E-4*a.w,l=0.1*a.s*a.s*a.s,V=1+1E-4*a.t,W=1!=a.s,X=a.x*a.x,Y=a.g,P=a.q||a.r,Z=0.2*a.r*a.r*a.r,B=a.q*a.q*(0>a.q?-1020:1020),Q=a.p?(2E4*(1-a.p)*(1-a.p)|0)+32:0,$=a.d,R=a.j/2,aa=0.01*a.k*a.k,C=a.a,D=e,ba=1/e,ca=1/f,da=1/d,a=5/(1+20*a.u*a.u)*(0.01+l);0.8<a&&(a=0.8);for(var a=1-a,E=!1,S=0,s=0,t=0,z=0,q=0,u,r=0,g,m=0,p,F=0,c,T=0,n,G=0,A=Array(1024),v=Array(32),i=A.length;i--;)A[i]=0;for(i=v.length;i--;)v[i]=2*Math.random()-1;for(i=0;i<M;i++){if(E)return i;Q&&++T>=Q&&(T=0,this.reset());y&&++K>=y&&(y=0,h*=J);w+=I;h*=w;h>j&&(h=j,0<Y&&(E=!0));g=h;0<R&&(G+=aa,g*=1+Math.sin(G)*R);g|=0;8>g&&(g=8);C||(k+=L,0>k?k=0:0.5<k&&(k=0.5));if(++s>D)switch(s=0,++S){case 1:D=f;break;case 2:D=d}switch(S){case 0:t=s*ba;break;case 1:t=1+2*(1-s*ca)*$;break;case 2:t=1-s*da;break;case 3:t=0,E=!0}P&&(B+=Z,p=B|0,0>p?p=-p:1023<p&&(p=1023));N&&O&&(o*=O,1E-5>o?o=1E-5:0.1<o&&(o=0.1));n=0;for(var ea=8;ea--;){m++;if(m>=g&&(m%=g,3==C))for(u=v.length;u--;)v[u]=2*Math.random()-1;switch(C){case 0:c=m/g<k?0.5:-0.5;break;case 1:c=1-2*(m/g);break;case 2:c=m/g;c=6.28318531*(0.5<c?c-1:c);c=1.27323954*c+0.405284735*c*c*(0>c?1:-1);c=0.225*((0>c?-1:1)*c*c-c)+c;break;case 3:c=v[Math.abs(32*m/g|0)]}N&&(u=r,l*=V,0>l?l=0:0.1<l&&(l=0.1),W?(q+=(c-r)*l,q*=a):(r=c,q=0),r+=q,z+=r-u,c=z*=1-o);P&&(A[F%1024]=c,c+=A[(F-p+1024)%1024],F++);n+=c}n*=0.125*t*X;b[i]=1<=n?32767:-1>=n?-32768:32767*n|0}return M}};window.jsfxr=function(e){U.z.A(e);var f=U.C(),e=new Uint8Array(4*((f+1)/2|0)+44),f=2*U.B(new Uint16Array(e.buffer,44),f),d=new Uint32Array(e.buffer,0,44);d[0]=1179011410;d[1]=f+36;d[2]=1163280727;d[3]=544501094;d[4]=16;d[5]=65537;d[6]=44100;d[7]=88200;d[8]=1048578;d[9]=1635017060;d[10]=f;for(var f=f+44,d=0,h="data:audio/wav;base64,",x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";d<f;d+=3)var j=e[d]<<16|e[d+1]<<8|e[d+2],h=h+(x[j>>18]+x[j>>12&63]+x[j>>6&63]+x[j&63]);return h};
function g(){this.m={}}function v(t){return t*(Math.random()-.5)}function w(t){return 0>t?-t:t}function E(a,e,i){var t=document.createElement("canvas");return t.width=a,t.height=e,i(t.getContext("2d"))}function F(t){document.getElementById(t).addEventListener("change",function(a){n[t]=a.target.checked},!1)}function M(t,a,e){this.q=Array(28900),this.a=t||12,this.u=900-this.a*this.a,this.l=[0,-Math.PI*(e||48)/180,-Math.PI*(a||24)/180],this.B()}function fa(e,i,t){var a,n;return a=Math.sqrt(e*e+i*i),a>76+t||a<Math.abs(76-t)?!1:(t=(5776-t*t+a*a)/(2*a),n=Math.sqrt(5776-t*t),[(e*t+i*n)/a,(i*t-e*n)/a])}function N(t,e,i,s){var n=Math.PI/3.5;t.beginPath();for(var a=0;7>a;++a)t.lineTo(16.5+(e+v(i))*Math.cos(n*a),16.5+(e+v(i))*Math.sin(n*a));t.fillStyle=s,t.fill()}function ga(){var a,t;a=1-2*(.5>Math.random()),.4>Math.random()?(this.x=450*a,this.y=v(500)):(this.x=v(800),this.y=300*a),t=Math.sqrt(this.x*this.x+this.y*this.y),this.a=.75*t,t=Math.atan(-this.x/this.y)+Math.asin(.5*t/this.a)+(0>this.y)*Math.PI,this.j=this.x-this.a*Math.cos(t),this.k=this.y-this.a*Math.sin(t),(t=fa(this.j,this.k,this.a))?(this.s=t[0],this.t=t[1]):this.s=this.t=0,this.c=Math.atan2(this.y-this.k,this.x-this.j),this.p=Math.atan2(this.t-this.k,this.s-this.j),this.c<=this.p&&(this.c+=2*Math.PI),this.C=a=0|3*Math.random(),this.h=E(33,33,function(t){return N(t,14,4,s[a]),N(t,7,2,u[a]),t.canvas}),this.opacity=1}function O(){this.g=[],this.i=[]}function ha(){x.className="",P=0}function ia(t,a,e){t.beginPath(),t.moveTo(-10*a,12*a),t.lineTo(0,-20*a),t.lineTo(10*a,12*a),t.lineTo(0,8*a),t.fillStyle=e,t.fill()}function ja(){this.b=0,this.x=120,this.y=0,z.setLineDash([1,8]),z.strokeStyle=s[3],z.beginPath(),z.arc(0,0,120,0,2*Math.PI,!1),z.stroke(),this.h=E(40,40,function(t){return t.translate(20,24),ia(t,1,s[3]),ia(t,.5,u[3]),t.canvas})}function Q(t){this.n=t,this.d=[],y.addEventListener("mousedown",this.w.bind(this),!1)}function la(){if(W+=X=Date.now()-W,requestAnimationFrame(la),n.rot){for(V-=X/24;0>V;)V+=320;ka.f(U.data,V),z.putImageData(U,365,K)}if(D){A.clearRect(-450.5,-300.5,900,600);var t,i,s,h,a,e,o=T.d.length,r=R.g.length;t=0;t:for(;o>t;++t)if(s=T.d[t],a=w(s[0]),e=w(s[1]),a>454||e>303)T.d.splice(t,1),--t,--o;else if(76>=a&&76>=e&&5776>=a*a+e*e)q.play("beep"),T.d.splice(t,1),--t,--o,--B;else for(i=0;r>i;++i)if(h=R.g[i],a=w(h.x-s[0]),e=w(h.y-s[1]),16>=a&&16>=e&&256>=a*a+e*e){q.play("kill"),T.d.splice(t,1),--t,--o,R.g.splice(i,1),R.i.push(h),--r,++C;continue t}R.f(X),S.f(X),T.f(X),aa.nodeValue=B,ba.nodeValue=C,B||(D=!1,Z&&clearTimeout(Z),A.fillStyle="rgba(0,0,0,0.6)",A.fillRect(-450,-273,900,160),A.fillStyle="#f44",A.fillText("Game Over",-.5*A.measureText("Game Over").width,-160),ma.firstChild.nodeValue="Play again",na.className="")}}function oa(){if(D){var t=v(2);switch(!0){case t>.96:setTimeout($,800);case t>.69:setTimeout($,600);case t>0:setTimeout($,400);case t>-.69:setTimeout($,200)}$(),Z=setTimeout(oa,4e3+v(1e3))}}g.prototype.add=function(t,e,i){var a;this.m[t]=[],i.forEach(function(n,s){for(this.m[t].push({o:0,count:e,r:[]}),a=0;e>a;++a){var i=new Audio;i.src=jsfxr(n),this.m[t][s].r.push(i)}},this)},g.prototype.play=function(t){n.snd&&(t=this.m[t],t=1<t.length?t[0|Math.random()*t.length]:t[0],t.r[t.o].play(),t.o<t.count-1?t.o++:t.o=0)};var q=new g;q.add("pew",10,[[1,,.1864,.1993,.1924,.6194,.2,-.2589,,,,,,.637,-.1903,,,,1,,,,,.5]]),q.add("boom",5,[[3,,.2404,.3556,.329,.3114,,-.2614,,,,.4348,.6507,,,,-.0156,-.1146,1,,,,,.5]]),q.add("kill",5,[[0,,.2692,,.3768,.325,,.2316,,,,,,.1146,,.4716,,,1,,,,,.5]]),q.add("beep",5,[[1,,.1765,,.0034,.4107,,,,,,,,,,,,,1,,,.1,,.5]]);var s="#f441#3bf1#9c01#fb3".split(1),u="#c001#09c1#6901#f80".split(1),x=document.getElementById("L1"),y=document.getElementById("L2"),z=x.getContext("2d"),A=y.getContext("2d");z.setLineDash||(z.setLineDash=A.setLineDash=function(){}),z.translate(450.5,300.5),A.translate(450.5,300.5),A.font="96px Segoe UI,Helvetica Neue,sans-serif";var B=10,aa=document.getElementById("life").firstChild,C=0,ba=document.getElementById("score").firstChild,D=!1,n={mus:1,snd:1,rot:1};F("snd"),F("rot"),x.style.background='url("'+E(900,600,function(t){t.fillStyle="#101010",t.fillRect(0,0,900,600);var a,i,e;for(a=2;900>a;a+=5)for(i=2;600>i;i+=5)e=0|7*Math.random(),20<(e*=e*e)&&(t.fillStyle="rgb("+[e,e,e]+")",t.fillRect(a,i,1,1));for(t.fillStyle="#101010",t.arc(450,300,120,0,2*Math.PI,!1),t.fill(),t.globalAlpha=.25,a=1;10>a;++a)t.arc(450,300,120+10*a,0,2*Math.PI,!1),t.fill();return t.canvas.toDataURL()})+'") no-repeat';var ca=Audio,da=btoa,G,H="",I;for(I=0;524288>I;++I)H+=String.fromCharCode(128&I*"36364689"[7&(K=I>>12)]/12|127&((K^K-2)%11*I/4|K/2));G="RIFF_oO_WAVEfmt"+atob("IBAAAAABAAEARKwAAAAAAAABAAgAZGF0YU")+H+H;var L=new ca("data:audio/wav;base64,"+da(G));L.loop=!0,L.volume=.33,L.play(),document.getElementById("mus").addEventListener("change",function(t){t=t.target.checked,L[t?"play":"pause"](),t||(L.currentTime=0)},!1);var ea=function(){function a(t,a,e){this.x=t,this.y=a,this.z=e}function i(t){return t*t*t*(t*(6*t-15)+10)}a.prototype.e=function(t,a,e){return this.x*t+this.y*a+this.z*e};var n=[new a(1,1,0),new a(-1,1,0),new a(1,-1,0),new a(-1,-1,0),new a(1,0,1),new a(-1,0,1),new a(1,0,-1),new a(-1,0,-1),new a(0,1,1),new a(0,-1,1),new a(0,1,-1),new a(0,-1,-1)],s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t=Array(512),e=Array(512);return function(i){256>i&&(i|=i<<8);var a,h,o=i>>8;for(a=0;256>a;++a)h=s[a]^255&(1&a?i:o),t[a]=t[a+256]=h,e[a]=e[a+256]=n[h%12]}(0|65536*Math.random()),function(a,n,s){var h=Math.floor(a),o=Math.floor(n),r=Math.floor(s);a-=h,n-=o,s-=r;var h=255&h,o=255&o,r=255&r,l=i(a),c=i(s),f=i(n);return(1-f)*((1-c)*((1-l)*e[h+t[o+t[r]]].e(a,n,s)+l*e[h+1+t[o+t[r]]].e(a-1,n,s))+c*((1-l)*e[h+t[o+t[r+1]]].e(a,n,s-1)+l*e[h+1+t[o+t[r+1]]].e(a-1,n,s-1)))+f*((1-c)*((1-l)*e[h+t[o+1+t[r]]].e(a,n-1,s)+l*e[h+1+t[o+1+t[r]]].e(a-1,n-1,s))+c*((1-l)*e[h+t[o+1+t[r+1]]].e(a,n-1,s-1)+l*e[h+1+t[o+1+t[r+1]]].e(a-1,n-1,s-1)))}}();~function(e,n){var i=30/170,a=[0,30,0],t=Array(3);e.v=function(h,o){a[0]=i*h-15,a[2]=i*o-15;var e=a[0]*a[0]+900+a[2]*a[2],n=324e4-4*e*this.u;if(0>=n)return null;e=(1800-Math.sqrt(n))/(2*e),t[0]=e*a[0],t[1]=e*a[1]-30,t[2]=e*a[2];var e=t[0],n=Math.cos(this.l[2]),s=Math.sin(this.l[2]);return t[0]=e*n-t[1]*s,t[1]=e*s+t[1]*n,e=t[2],n=Math.cos(this.l[1]),s=Math.sin(this.l[1]),t[2]=e*n-t[1]*s,t[1]=e*s+t[1]*n,[320*(Math.atan2(t[1],t[0])+Math.PI+1)/(2*Math.PI),320*Math.floor(319-320*Math.min(1,Math.acos(t[2]/this.a)/Math.PI))]},e.A=function(t){if(this.q[t]===n){var a=Math.floor(t/170);this.q[t]=this.v(t-170*a,a)}return this.q[t]},e.f=function(e,s){for(var t,a,i=this.h.data,n=28900;n--;)t=this.A(n),null!==t&&(t=4*((0|t[0]+s)%320+t[1]),a=4*n,e[a]=i[t],e[a+1]=i[t+1],e[a+2]=i[t+2],e[a+3]=255)},e.B=function(){var t=[1,1,1,1,1,1,1,1,1,1,1,.5,.1,.05,0,0,0];this.h=E(320,320,function(e){e.fillStyle="#ecf0f1",e.fillRect(0,0,320,320),e.fillStyle="#7f8c8d";var n,i,s,a;for(n=0;32>n;++n)for(i=0;32>i;++i)s=2*Math.PI*n/32,a=1.6*Math.sin(s),s=1.6*Math.cos(s),a=ea(a,s,.4*i),a+=.5,e.globalAlpha=(0>a?0:a>1?1:a)*t[w(i-16)],e.fillRect(10*n,10*i,10,10);return e.getImageData(0,0,320,320)})}}(M.prototype),ga.prototype.update=function(t){return this.c-=t,this.c<=this.p?(--B,!0):(this.x=this.j+this.a*Math.cos(this.c),this.y=this.k+this.a*Math.sin(this.c),void 0)},O.prototype.add=function(){var t=new ga;this.g.push(t)};var P=0;O.prototype.f=function(i){var a,e,t,n;for(e=this.g.length,n=16e-5*i,A.setLineDash([4]),a=0;e>a;++a)(t=this.g[a]).update(n)?(q.play("boom"),this.g.splice(a,1),this.i.push(t),--a,--e,x.className="sh",P&&clearTimeout(P),P=setTimeout(ha,300)):(A.beginPath(),A.arc(t.j,t.k,t.a,t.c,t.p,!0),A.strokeStyle=s[t.C],A.stroke(),A.drawImage(t.h,t.x-16.5,t.y-16.5));if(e=this.i.length){for(i*=.005,a=0;e>a;++a)t=this.i[a],0>=(t.opacity-=i)?(this.i.splice(a,1),--a,--e):(A.globalAlpha=t.opacity,A.drawImage(t.h,t.x-16.5,t.y-16.5));A.globalAlpha=1}},ja.prototype.f=function(t){this.b-=.001*t,0>this.b&&(this.b+=2*Math.PI),this.x=120*Math.cos(this.b),this.y=120*Math.sin(this.b),A.save(),A.translate(this.x,this.y),A.rotate(this.b),A.drawImage(this.h,-20.5,-24.5),A.restore()},Q.prototype.w=function(t){if(D){q.play("pew");var a=y.getBoundingClientRect(),e=t.clientX-450-(0|a.left)-this.n.x;t=t.clientY-300-(0|a.top)-this.n.y,a=Math.sqrt(e*e+t*t),this.d.push([this.n.x,this.n.y,e/a,t/a])}},Q.prototype.f=function(a){var i,t,e;for(e=.25*a,i=this.d.length,A.beginPath(),A.fillStyle=s[3],a=0;i>a;++a)t=this.d[a],t[0]+=e*t[2],t[1]+=e*t[3],A.rect(t[0]-2.5,t[1]-2.5,5,5);A.fill()};var K=215,ka=new M,R=new O,S=new ja,T=new Q(S),U=z.createImageData(170,170);ka.f(U.data,0),z.putImageData(U,365,K);var V=320,W=Date.now(),X,$=R.add.bind(R),Z=0,na=document.getElementById("xgo"),ma=document.getElementById("go");ma.addEventListener("click",function(){D||(q.play("beep"),B=10,C=S.b=0,R.g=[],T.d=[],D=!0,na.className="h",setTimeout(oa,200))},!1),la();