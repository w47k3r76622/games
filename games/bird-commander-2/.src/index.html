<!doctype html><html><head><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üê¶</text></svg>"/><meta name="viewport" content="initial-scale=1,width=device-width,user-scalable=no,viewport-fit=cover,maximum-scale=1,user-scalable=no"/><meta charset="utf-8"/><title>Bird Commander 2</title><style>* {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
        font-family: sans-serif;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
        overscroll-behavior-y: none;
      }

      html, body {
        width: 100%;
        height: 100%;
        min-height: fill-available;
        margin: 0;
        padding: 0;
        position: fixed;
        overflow: hidden;
        z-index: 1;
      }

      body {
        background-color: #89d69e;
      }

      #game {
        background-color: rgb(113, 213, 104);
        image-rendering: pixelated;
        image-rendering: crisp-edges;
        top: 0;
        left: 0;
        width: 100%;
        height:100%;
      }

      #title-screen {
        text-align: left;
        pointer-events: none;
      }

      #results {
        text-align:left;
      }

      .overlay {
        font-family: "Pixelated MS Sans Serif", Arial;
        -webkit-font-smoothing: none;
        color:white;
        font-size: 20px;
        max-width: 500px;
        position:absolute;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow: 1px 1px 1px black;
        top: 50%;
        text-align: left;
      }

      #game-title {
        margin: 25px;
        text-align: center;
        font-size: 40px;

      }

      #click-to-play {
        position: absolute;
        width: 100%;
        text-align: center;
        padding: 25px;
      }

      .blink {
        animation: blinker 1s step-start infinite;
      }

      @keyframes blinker {
        50% {
          opacity: 0;
        }
      }

      .ui {
        z-index: 2;
        position:absolute;
        padding: 5px;
        text-align: center;
        width: 100%;

      }

      #ui-wrapper-top {
        top: 0;
        user-select: none;
      }

      #ui-wrapper-middle {
        /* transform: translate(-50%, -50%);
        text-shadow: 1px 1px 1px black;
        top: 50%; */
      }

      #ui-wrapper-bottom {
        bottom: 0;
      }

      .hide {
        display: none;
      }

      .inline {
        font-family: "Pixelated MS Sans Serif", Arial;
        -webkit-font-smoothing: none;
        color:white;
        font-size: 20px;
        display: inline-block;
        text-shadow: 1px 1px 1px black;
        padding: 0 5px;
      }

      /* https://github.com/jdan/98.css/blob/main/style.css */
      button {
        touch-action: manipulation;

        font-family: "Pixelated MS Sans Serif", Arial;
        -webkit-font-smoothing: none;
        font-size: 11px;
        box-sizing: border-box;
        border: none;
        background: var(--surface);
        box-shadow: var(--border-raised-outer), var(--border-raised-inner);
        border-radius: 0;

        min-width: 75px;
        min-height: 23px;
        padding: 0 12px;
        margin: 0 5px;
        z-index:3;
      }

      button:not(:disabled):active {
        box-shadow: var(--border-sunken-outer), var(--border-sunken-inner);
      }

      button:disabled {
        color: var(--button-shadow);
        text-shadow: 1px 1px 0 var(--button-highlight);
      }

      button:hover {
        cursor: pointer;
      }

      button.selected {
        box-shadow: var(--border-sunken-outer), var(--border-sunken-inner);
      }

      button:focus {
        outline: 1px dotted #000000;
        outline-offset: -4px;
      }

      :root {
        /* Color */
        --surface: #c0c0c0;
        --button-highlight: #ffffff;
        --button-face: #dfdfdf;
        --button-shadow: #808080;
        --window-frame: #0a0a0a;

        /* Borders */
        --border-width: 1px;
        --border-raised-outer: inset -1px -1px var(--window-frame),
          inset 1px 1px var(--button-highlight);
        --border-raised-inner: inset -2px -2px var(--button-shadow),
          inset 2px 2px var(--button-face);
        --border-sunken-outer: inset -1px -1px var(--button-highlight),
          inset 1px 1px var(--window-frame);
        --border-sunken-inner: inset -2px -2px var(--button-face),
          inset 2px 2px var(--button-shadow);
      }</style></head><body><canvas id="game"></canvas><div id="title-screen" class="ui overlay"><div id="game-title">Bird Commander 2</div><p style="padding-bottom:10px">Greetings, Commander Bird.</p><p>Assemble your flocks before you attack to eliminate as many humans as possible. You must eliminate 50% or better to move on to the next stage. We are counting on you.</p><p style="padding-top:30px; padding-bottom:10px">Chirp chirp,</p><p/><p>General Bird</p><div id="click-to-play" class="blink">Click or tap to play</div></div><div id="results" class="ui overlay"><div id="ui-wrapper-middle" class="ui"><div id="ui-middle-text"></div></div></div><div id="ui-wrapper-top" class="ui"></div><div id="ui-wrapper-bottom" class="ui"></div><script>(()=>{"use strict";var t={566:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0}),i.i=void 0;var s,h=n(490);!function(t){t.red="#a12f18",t.h="#45484d",t.blue="#285cc4",t.u="#f23fae",t.o="#303336"}(s=i.i||(i.i={}));var e=function(){function t(t,i){this.v=t,this.l=new h.g(0,0,0),this._=new h.g(0,-.75,0),this.size=new h.g(5,5,0),this.A=i,this.m=0,this.color=s.red}return t.prototype.p=function(){return this.m>0},t.prototype.M=function(t,i){var n=t.v,s=t.size;this.m=200;var e=(0,h.O)(n.x+s.x/2+2,n.x+s.x/2-2),r=(0,h.O)(n.y+2,n.y-2);this.v.set(e,r,n.z),this._.set(0,-.75,0),this.l.set((0,h.O)(-3,3),(0,h.O)(1.5,3),0),this.j=n.y-s.y,this.color=i},t.prototype.update=function(){this.l.add(this._),this.v.add(this.l),this.v.y<=this.j&&(this.l.set(0,0,0),this._.set(0,0,0))},t.prototype.k=function(){var t=this.A,i=t.C,n=t.offset,s=this.A.F.size.y;i.fillStyle=this.color,i.fillRect((this.v.x-n.x)*n.z,(s-this.v.y-n.y)*n.z,this.size.x*n.z,this.size.y*n.z)},t}();i.default=e},998:function(t,i,n){var s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var h=s(n(566)),e=n(490),r=s(n(419)),u=function(){function t(t,i){void 0===i&&(i=1e4),this.N=[];for(var n=0;n<i;n++){var s=new h.default(new e.g(0,0,0),t);this.N.push(s)}}return t.prototype.Y=function(t,i){var n=this.N.find((function(t){return!t.p()}));if(!n){for(var s=0;s<Math.floor(5e3);s++){this.N[s].m=0}n=this.N[0]}return n.M(t,i),n},t.prototype.reset=function(){this.N.forEach((function(t){return t.m=0}))},t.D=function(){return t.I||(t.I=new t(r.default.D())),t.I},t}();i.default=u},665:function(t,i,n){var s,h=this&&this.K||(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},s(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=n(490),u=e(n(365)),o=n(566),a=e(n(296)),c=e(n(356)),f=function(t){function i(i,n){var s=this,h=new c.default("idle",1,0,0),e={name:"car",v:i,R:a.default,U:1,B:new r.g(16,8,1),size:new r.g(96,48,1),F:n,L:{G:h,default:h}};return(s=t.call(this,e)||this).S=!0,s.q=!0,s.startOffset=0,s.P=200,s.Z=o.i.blue,s.W(!1,!0),s}return h(i,t),i.H=new r.g(32,32,1),i.X=3,i.V=new r.g(i.X*i.H.x,i.X*i.H.y,1),i}(u.default);i.default=f},482:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0}),i.J=i.$=i.align=void 0;var s=n(490),h=function(){function t(t){this.tt=new s.g(0,0,0),this.it=t}return Object.defineProperty(t.prototype,"nt",{get:function(){if(this.tt.set(0,0,0),0===this.it.length)return this.tt;for(var t=0;t<this.it.length;t++){var i=this.it[t];this.tt.add(i.v)}return this.tt.div(this.it.length),this.tt.set(this.tt.x,this.tt.y,0),this.tt},st:!1,ht:!0}),t}();i.default=h;i.align=function(t,i){for(var n=0,h=new s.g(0,0,0),e=0,r=i;e<r.length;e++){var u=r[e];t.id!==u.id&&(h.add(u.l),n++)}return n>0&&(h.div(n),h.et(3),h.sub(t.l),h.rt(.1)),h},i.$=function(t,i,n,h){void 0===h&&(h=1);for(var e=0,r=new s.g(0,0,0),u=0,o=i;u<o.length;u++){var a=o[u];n||(n=a.v),t.id!==a.id&&(r.add(n),e++)}return e>0?r.div(e):r.set(n.x,n.y,n.z),r.sub(t.v),r.rt(.1),r.ut(h)},i.J=function(t,i,n,h){void 0===h&&(h=1);for(var e=0,r=new s.g(0,0,0),u=0,o=i;u<o.length;u++){var a=o[u],c=(0,s.ot)(t.v,a.v);if(t.id!==a.id&&c<n){var f=s.g.sub(t.v,a.v);0!==c&&f.div(c),r.add(f),e++}}return e>0&&(r.div(e),r.et(3),r.sub(t.l),r.rt(.1)),r.ut(h)}},295:function(t,i,n){var s,h=this&&this.K||(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},s(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=n(490),u=e(n(365)),o=n(482),a=e(n(296)),c=e(n(356)),f=function(t){function i(i,n){var s=this,h=new r.g(32,32,1),e=new r.g(16,16,1),u=new c.default("fly_right",2,0,8),o=new c.default("fly_left",2,2,8),f={name:"gull",v:i,R:a.default,U:2,B:e,size:h,F:n,L:{ct:u,ft:o,default:u}};return(s=t.call(this,f)||this).S=!1,s.vt=!0,s.startOffset=16,s.lt=0,s.wt=50,s}return h(i,t),i.prototype.dt=function(t){return t>this.lt+this.wt},i.prototype.attack=function(t){this.lt=t},i.prototype.bt=function(t,i){var n=(0,o.$)(this,t,i,1.6),s=(0,o.J)(this,t,150,.4);this._.add(n),this._.add(s)},i.prototype.update=function(i){t.prototype.update.call(this,i),this.l.rt(3),this.l.gt()<2&&this.l.et(2),this.l.x<=0?this._t(this.L.ft):this.l.x>0&&this._t(this.L.ct)},i}(u.default);i.default=f},585:function(t,i,n){var s,h=this&&this.K||(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},s(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=function(t){function i(i,n){var s=t.call(this,i)||this;return s.At=n,s}return h(i,t),i}(e(n(482)).default);i.default=r},607:function(t,i,n){var s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var h=n(490),e=s(n(489)),r=s(n(419)),u=s(n(562)),o=s(n(998)),a=n(745),c=n(687),f=n(679),v=o.default.D(),l=document.getElementById("game"),w=l.getContext("2d"),d=640,b=480;l.width=d,l.height=b;var g=1.3333333333333333,_=null,A=0,m=r.default.D(),p=c.Mt[0],M=e.default.D();M.Ot(l);var O=u.default.D();function j(){v.reset(),O.state.jt(O,a.yt.xt),O.F=p}function x(t){t.set((t.x/A+m.offset.x*m.offset.z)/m.offset.z,(t.y/A+m.offset.y*m.offset.z)/m.offset.z,0);var i=p.size.y;return t.set(t.x,i-t.y,t.z),t}O.kt(p,c.Mt,(function(t){c.Mt[t]=c.Ct[t](),p=c.Mt[t],j()}),(function(){var t=c.Mt.indexOf(p);if(t===c.Mt.length-1)return;var i=t+1;p=c.Mt[i],j()})),M.Et((function(t){if(m.zt===f.Tt.Ft)return O.Nt(),O.Yt(),void(m.zt=f.Tt.Dt);if(m.zt!==f.Tt.It&&m.zt!==f.Tt.Kt){var i=x(t),n=p.Rt(i);n&&function(t){var i=p.Ut.find((function(i){return i.At===t}));p.Bt(i),M.Lt=t}(n)}})),M.Gt((function(t){if(M.Lt){var i=M.Lt;if(i){var n=x(t);i.v.set(n.x,n.y,n.z),p.St()}}})),O.qt(),requestAnimationFrame((function t(i){if(requestAnimationFrame(t),function(t){void 0===t&&(t=!1);var i=window.innerWidth/window.innerHeight;if(_===i&&!1===t)return;_=i;var n=d,s=b;_>=g?(s=b,n=b*_):(s=d/_,n=d);l.width=n,l.height=s,m.Pt.set((n-d)/2,(s-b)/2,0),A=window.innerHeight/s}(),m.Zt(p),w.imageSmoothingEnabled=!1,w.clearRect(0,0,l.width,l.height),p.k(),function(t){for(var i=0;i<v.N.length;i++){var n=v.N[i];n.p()&&(n.update(),n.k())}p.Wt.k(t),p.Qt.forEach((function(i){return i.k(t)})),p.Ht.forEach((function(i){return i.k(t)}));for(i=0;i<p.Xt.length;i++){var s=p.Xt[i];s.Vt||s.Jt||(s.update(t),s.k(t))}p.Ut.forEach((function(t){t.At.k(),t.it.forEach((function(i){i.bt(t.it,t.At.v),p.$t===t&&t.At.ti(i)}))})),p.ii.forEach((function(i){i.update(t),i.k(t)})),p.ni.forEach((function(t){t.bt(p.ni,p.nt)})),O.state instanceof a.si?p.Xt.forEach((function(i){i.Jt||i.Vt||p.ii.forEach((function(n){(0,h.hi)(n,i)&&n.dt(t)&&(i.ei(1,t),n.attack(t))}))})):p.ri.forEach((function(t){t.it.forEach((function(i){return i.bt(t.it)}))}))}(i),O.update(),p.ui-p.oi-p.ai<=0)if(p.ci<.5)O.fi(),m.zt=f.Tt.It;else{var n=c.Mt.indexOf(p)+1,s=!1;n===c.Mt.length?(m.zt=f.Tt.vi,s=!0):m.zt=f.Tt.Kt,O.li(n,c.Mt.length,s)}}))},489:function(t,i,n){var s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var h=n(490),e=s(n(419)),r=function(){function t(){this.wi=!1,this.di=[],this.bi=[],this.gi=[],this._i=[],this.A=e.default.D(),this.canvas=this.A.canvas}return t.D=function(){return t.I||(t.I=new t),t.I},t.prototype.Ot=function(t){t.addEventListener("mousedown",this.Ai.bind(this)),document.body.addEventListener("mousemove",this.mi.bind(this)),t.addEventListener("mouseup",this.pi.bind(this)),t.addEventListener("touchstart",this.Mi.bind(this),{passive:!0}),t.addEventListener("touchend",this.pi.bind(this)),t.addEventListener("touchmove",this.Oi.bind(this),{passive:!0}),t.addEventListener("touchcancel",this.pi.bind(this))},t.prototype.Et=function(t){this.di.push(t)},t.prototype.Gt=function(t){this.gi.push(t)},t.prototype.ji=function(t){this._i.push(t)},t.prototype.xi=function(t,i){this.di.forEach((function(n){return n(new h.g(t,i,0))}))},t.prototype.Ai=function(t){t.preventDefault();var i=this.yi(t);this.xi(i.x,i.y)},t.prototype.yi=function(t){var i=this.canvas.getBoundingClientRect(),n=new h.g(0,0,0);if(t instanceof MouseEvent){var s=t.clientX-i.left,e=t.clientY-i.top;n.set(s,e,0)}else if(t instanceof TouchEvent){s=t.changedTouches[0].clientX-i.left,e=t.changedTouches[0].clientY-i.top;n.set(s,e,0)}return n},t.prototype.Mi=function(t){t.preventDefault();var i=this.yi(t);this.xi(i.x,i.y)},t.prototype.preventDefault=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.ki=function(t){this.bi.forEach((function(i){return i(t.key)}))},t.prototype.mi=function(t){var i=this.yi(t);this.Ci(i.x,i.y)},t.prototype.Oi=function(t){var i=this.yi(t);this.Ci(i.x,i.y)},t.prototype.Ci=function(t,i){this.gi.forEach((function(n){return n(new h.g(t,i,0))}))},t.prototype.pi=function(t){t.preventDefault(),t.stopPropagation();var i=this.yi(t);this._i.forEach((function(t){return t(new h.g(i.x,i.y,0))})),this.Lt=null},t}();i.default=r},679:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.Tt=void 0,function(t){t.Ft="TITLE",t.Dt="PLAYING",t.It="WAITING_FOR_RETRY",t.Kt="WAITING_FOR_NEXT",t.vi="WON"}(i.Tt||(i.Tt={}))},490:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.uuid=i.Ei=i.zi=i.O=i.Fi=i.ot=i.hi=i.g=void 0;var n=function(){function t(t,i,n){return this.x=t,this.y=i,this.z=n,this}return t.sub=function(i,n){return new t(i.x-n.x,i.y-n.y,i.z-n.z)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.Ti=function(){return new t(this.x,this.y,this.z)},t.prototype.set=function(t,i,n){return this.x=t,this.y=i,this.z=n,this},t.prototype.div=function(i){var n=0,s=0,h=0;if(i instanceof t||(s=n=i,h=n),Number.isFinite(n)&&Number.isFinite(s)&&Number.isFinite(h)){if(0===n||0===s||0===h)return this;this.x/=n,this.y/=s,this.z/=h}return this},t.prototype.ut=function(i){var n=0,s=0,h=0;return i instanceof t?(n=i.x,s=i.y,h=i.z):(s=n=i,h=n),Number.isFinite(n)&&Number.isFinite(s)&&Number.isFinite(h)&&(this.x*=n,this.y*=s,this.z*=h),this},t.prototype.rt=function(t){var i=this.Ni();return i>t*t&&this.div(Math.sqrt(i)).ut(t),this},t.prototype.et=function(t){return this.normalize().ut(t)},t.prototype.gt=function(){return Math.sqrt(this.Ni())},t.prototype.normalize=function(){var t=this.gt();return 0!==t&&this.ut(1/t),this},t.prototype.Ni=function(){var t=this.x,i=this.y,n=this.z;return t*t+i*i+n*n},t}();function s(t,i){return Math.random()*(i-t)+t}i.g=n,i.hi=function(t,i){var n=t.v.x,s=t.v.x+t.size.x,h=t.v.y,e=t.v.y+t.size.y,r=i.v.x,u=i.v.x+i.size.x,o=i.v.y,a=i.v.y+i.size.y;return!(r>s||u<n||o>e||a<h)},i.ot=function(t,i){return Math.hypot(i.x-t.x,i.y-t.y,i.z-t.z)},i.Fi=function(t,i,n){return Math.min(Math.max(t,i),n)},i.O=s,i.zi=function(t,i){return Math.floor(s(t,i+1))},i.Ei=function(t,i){var n=i.v.x,s=i.v.x+i.size.x,h=i.v.y,e=i.v.y-i.size.y;return t.x>=n&&t.x<=s&&t.y<=h&&t.y>=e},i.uuid=function(){var t=(new Date).getTime(),i=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var s=16*Math.random();return t>0?(s=(t+s)%16|0,t=Math.floor(t/16)):(s=(i+s)%16|0,i=Math.floor(i/16)),("x"==n?s:7&s|8).toString(16)}))}},774:function(t,i,n){var s,h=this&&this.K||(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},s(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=n(490),u=e(n(365)),o=e(n(296)),a=n(482),c=e(n(356)),f=e(n(463)),v=n(155),l=n(745),w=function(t){function i(i,n){var s=this,h=new r.g(24,48,1),e=new r.g(8,16,1),u=new c.default("walk_right",2,4,10),a=new c.default("walk_left",2,6,10),l=new c.default("run_right",2,0,5),w=new c.default("run_left",2,2,5),d=new c.default("punch_right",2,8,5),b=new c.default("punch_left",2,10,5),g={name:"person",v:i,R:o.default,U:2,B:e,size:h,F:n,L:{Yi:l,Di:w,Ii:u,Ki:a,Ri:b,Ui:d,default:u}};return(s=t.call(this,g)||this).Bi=50,s.Li=5,s.S=!0,s.vt=!0,s.path=[],s.Vt=!1,s.startOffset=112,s.Gi=0,s.Si=1/60*1e3*10,s.N=[],s.search=new f.default(n),s.qi=new v.Pi,s}return h(i,t),i.prototype.bt=function(t){var i=(0,a.align)(this,t),n=(0,a.$)(this,t),s=(0,a.J)(this,t,30);this._.add(i.ut(.7)),this._.add(n.ut(.3)),this._.add(s.ut(.7))},i.prototype.Zi=function(){this.P<=0&&!this.Jt&&this.F.Wi(),t.prototype.Zi.call(this)},i.prototype.update=function(i){t.prototype.update.call(this,i);var n=v.Hi.Qi,s=null;if(this.Xi.state instanceof l.si){var h=this.F.Vi(this.nt),e=this.Wt.Ji;if(i>this.Gi+this.Si){var u=this.search.search(h,e);this.path=u,this.Gi=i}if(0===this.path.length)(0,r.hi)(this,this.Wt.$i)?(this.Vt=!0,this.F.tn()):console.warn("Yarp");else if((s=this.path[0]).nn)n=v.Hi.sn,this.l.et(0);else{var o=this.F.hn(s);this.l.set(o.x,o.y,o.z).sub(this.nt),this.l.et(.5)}}else this.l.et(.1);var a=null,c=this.Xi.state instanceof l.si;"left"===this.direction&&c?a=this.L.Di:"left"!==this.direction||c?"right"===this.direction&&c?a=this.L.Yi:"right"!==this.direction||c||(a=this.L.Ii):a=this.L.Ki,this._t(a),this.qi.jt(this,n),this.en(s,i),this.P<=0&&this.Zi(),this.rn()},i.prototype.en=function(t,i){var n=null==t?void 0:t.nn;t&&n&&(t.un.ei(1,i),t.un.P<=0&&(t.un.Zi(),t.un.on(t,!0,!1)))},i.prototype.an=function(){if(!(this.P<=0)){var t=this.A.C,i=this.F.size.y,n=this.v.x-(50-this.size.x)/2,s=i-this.v.y+this.size.y+5,h=this.A.offset,e=50*this.P/u.default.cn-4;t.fillStyle="white",t.fillRect((n-h.x)*h.z,(s-h.y)*h.z,50*h.z,10*h.z),t.fillStyle="red",t.fillRect((n+2-h.x)*h.z,(s+2-h.y)*h.z,e*h.z,6*h.z)}},i.prototype.k=function(i){t.prototype.k.call(this,i),this.an()},i}(u.default);i.default=w},155:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.Hi=i.Pi=i.fn=void 0;var n=function(){function t(){}return t.prototype.jt=function(t,i){var n=null;switch(i){case s.sn:e(t),n=this;break;case s.Qi:n=new h;break;default:n=this}return n},t}();i.fn=n;var s,h=function(){function t(){}return t.prototype.jt=function(t,i){var h=null;switch(i){case s.sn:e(t),h=new n;break;case s.Qi:default:h=this}return h},t}();function e(t){"left"===t.direction?t._t(t.L.Ri):"right"===t.direction&&t._t(t.L.Ui)}i.Pi=h,function(t){t.sn="FIGHT",t.Qi="PEACE"}(s=i.Hi||(i.Hi={}))},10:function(t,i,n){var s,h=this&&this.K||(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},s(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=function(t){function i(i){return t.call(this,i)||this}return h(i,t),i}(e(n(482)).default);i.default=r},391:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.vn=void 0;var n=function(){function t(){var t=this;this.cells=[],this.ln=[],this.wn=function(i,n){return t.ln[i]-t.ln[n]}}return Object.defineProperty(t.prototype,"size",{get:function(){return this.cells.length},st:!1,ht:!0}),t.prototype.dn=function(t,i){this.cells.push(t),this.ln.push(i),this.bn()},t.prototype.gn=function(t){if(void 0===t&&(t=0),!this.size)return null;var i=null;return this.size>0&&(this._n(t,this.size-1),i=this.cells.pop(),this.ln.pop(),this.An(t)),i},t.prototype.bn=function(){for(var t=this.size-1,i=function(t){return Math.ceil(t/2-1)};i(t)>=0&&this.wn(i(t),t)>0;)this._n(i(t),t),t=i(t)},t.prototype.An=function(t){var i=this;void 0===t&&(t=0);for(var n=t,s=function(t){return 2*t+1},h=function(t){return 2*t+2},e=function(t){return h(t)<i.size&&i.wn(s(t),h(t))>0?h(t):s(t)};s(n)<this.size&&this.wn(n,e(n))>0;){var r=e(n);this._n(n,r),n=r}},t.prototype._n=function(t,i){var n=this.cells[t],s=this.ln[t];this.cells[t]=this.cells[i],this.cells[i]=n,this.ln[t]=this.ln[i],this.ln[i]=s},t}();i.vn=n},445:function(t,i,n){var s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var h=n(490),e=s(n(419)),r=s(n(471)),u=n(566),o=function(){function t(t,i){this.mn=new h.g(0,0,0),this.v=t,this.size=new h.g(15,15,0),this.pn=new h.g(75,75,0),this.A=e.default.D(),this.C=this.A.C,this.color=u.i.u,this.F=i}return Object.defineProperty(t.prototype,"Mn",{get:function(){return this.mn.set(this.v.x-this.pn.x/2,this.v.y+this.pn.y/2,this.v.z),this.mn},st:!1,ht:!0}),t.prototype.On=function(){var t=this,i=this.F.Vi(this.v),n=this.F.jn(i),s=n.map((function(i){return t.F.jn(i)}));i.xn=!0,i.yn+=r.default.kn,n.forEach((function(t){t.xn=!0,t.yn+=r.default.kn})),s.forEach((function(t){t.forEach((function(t){t.xn=!0,t.yn+=r.default.kn}))}))},t.prototype.k=function(){var t=this.F.size.y,i=this.A.offset;this.C.fillStyle=this.color;var n=(this.v.x-i.x)*i.z,s=(-1*(this.v.y-t)-i.y)*i.z;this.C.fillStyle=this.color,this.C.beginPath(),this.C.arc(n,s,this.size.x*i.z,0,2*Math.PI),this.C.fill()},t.prototype.ti=function(t){var i=this.F.size.y,n=this.A.offset;this.C.strokeStyle=u.i.u;var s=(this.v.x-n.x-this.size.x/2)*n.z,h=(-1*(this.v.y-i)-n.y-this.size.y/2)*n.z,e=(t.nt.x-n.x)*n.z,r=(-1*(t.nt.y-i)-n.y)*n.z;this.C.lineWidth=1,this.C.beginPath(),this.C.moveTo(s,h),this.C.lineTo(e,r),this.C.stroke()},t}();i.default=o},419:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0});var s=n(490),h=n(679),e=function(){function t(){this.zt=h.Tt.Ft,this.canvas=document.getElementById("game"),this.C=this.canvas.getContext("2d"),this.Cn=0,this.En=0,this.offset=new s.g(0,0,0),this.Pt=new s.g(0,0,0)}return t.prototype.Zt=function(t){this.F=t,this.offset.set(-this.Pt.x,-this.Pt.y,1),this.Cn=this.En,this.En++},t.D=function(){return t.I||(t.I=new t),t.I},t.prototype.k=function(t){if(!t.Jt){var i=t.F.size.y;t.zn(this.Cn);var n=this.offset.z,s=Math.round((t.v.x-this.offset.x)*n),h=Math.round((i-t.v.y-this.offset.y)*n),e=Math.round(t.size.x*n),r=Math.round(t.size.y*n);this.C.drawImage(t.Fn,t.startOffset+t.Tn*t.B.x,0,t.B.x,t.B.y,s,h,e,r)}},t}();i.default=e},306:function(t,i,n){var s,h=this&&this.K||(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},s(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=n(490),u=e(n(365)),o=e(n(296)),a=e(n(356)),c=function(t){function i(n,s){var h=this,e=new a.default("idle",1,0,0),u={name:"safe_house",v:n,R:o.default,U:1,B:new r.g(32,32,1),size:i.V,F:s,L:{G:e,default:e}};(h=t.call(this,u)||this).S=!1,h.startOffset=80;var c=h.size.Ti();h.Nn=new r.g(c.x,Math.floor(c.y/2),c.z);var f=new r.g(2*h.F.Yn,2*h.F.Yn,0),v=h.v.Ti();v.set(v.x+f.x,v.y-h.size.y+f.y,0);var l=new r.g(v.x+f.x/2,v.y-f.y/2,0);return h.Ji=h.F.Vi(l),h.$i={v,size:f},h.W(!1,!1,h.Nn.x,h.Nn.y),h}return h(i,t),i.H=new r.g(32,32,1),i.X=3,i.V=new r.g(i.X*i.H.x,i.X*i.H.y,1),i}(u.default);i.default=c},463:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0});var s=n(391),h=function(){function t(t){this.F=t}return t.prototype.Dn=function(t){return this.F.In[t]},t.prototype.search=function(t,i){var n=new s.vn,h={},e={};n.dn(t,0),h[t.id]=null,e[t.id]=0;for(var r=null;n.size>0&&(r=n.gn())!==i;)for(var u=this.F.jn(r),o=0;o<u.length;o++){var a=u[o],c=e[r.id]+a.yn;if(void 0===e[a.id]||c<e[a.id]){if(!a.Kn&&!a.nn)continue;e[a.id]=c,h[a.id]=r.id,n.dn(a,c)}}var f=[];r=i;for(var v=0;r!==t&&v<50;){f.push(r);var l=h[r.id];if(void 0===(r=this.F.In[l]))break;v++}return f.reverse(),f.pop(),f},t}();i.default=h},365:function(t,i,n){var s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var h=s(n(471)),e=n(490),r=s(n(419)),u=n(566),o=s(n(998)),a=s(n(562)),c=o.default.D(),f=function(){function t(i){this.N=[],this.Z=u.i.red,this.P=t.cn,this.Rn=0,this.Un=50,this.Bi=50,this.Jt=!1,this.S=!1,this.q=!1,this.vt=!1,this.Bn=1,this.Ln=1,this.Gn=[],this.nn=[],this.startOffset=0,this.direction="right",this.tt=new e.g(0,0,0),this.name=i.name,this.v=i.v,this.Sn=i.v,this.l=new e.g(0,0,0),this._=new e.g(0,0,0),this.size=i.size,this.B=i.B,this.R=i.R,this.qn(),this.Pn=0,this.U=i.U,this.A=r.default.D(),this.Zn=(0,e.zi)(0,999999999),this.id=(0,e.uuid)(),this.F=i.F,this.L=i.L,this._t(this.L.default),this.Xi=a.default.D()}return Object.defineProperty(t.prototype,"Fn",{get:function(){return t.Wn[this.name]},st:!1,ht:!0}),t.prototype.Qn=function(t){void 0===t&&(t=null);var i=t;return null===i&&(i=this.size.x),(0,e.Fi)(Math.floor(i/this.F.Yn),1,this.F.Hn)},t.prototype.Xn=function(t){void 0===t&&(t=null);var i=t;return null===i&&(i=this.size.y),(0,e.Fi)(Math.floor(i/this.F.Yn),1,this.F.Hn)},t.prototype._t=function(t){this.Vn=t},t.prototype.zn=function(t){var i=this.Vn.U,n=this.Vn.offset;t%this.Vn.speed||(this.Pn=n+(this.Pn+1)%i)},Object.defineProperty(t.prototype,"Tn",{get:function(){return this.Pn},st:!1,ht:!0}),Object.defineProperty(t.prototype,"nt",{get:function(){return this.tt.set(this.v.x+this.size.x/2,this.v.y-this.size.y/2,this.v.z),this.tt},st:!1,ht:!0}),t.prototype.qn=function(){if(this.R){var i=new Image;i.src=this.R,t.Wn[this.name]=i}},t.prototype.ei=function(t,i){if(!(i<this.Rn+this.Un)){this.P=Math.max(0,this.P-t);for(var n=0;n<Math.floor(t);n++)this.N.push(c.Y(this,this.Z));this.Rn=i}},t.prototype.update=function(t){if(this.vt){for(var i=0;i<this.F.Jn.length;i++){var n=this.F.Jn[i];this.S&&(0,e.hi)(this,n)&&(this.l.ut(-1),this.l.add(this.nt).sub(n.nt).normalize(),this._.set(0,0,0))}this.v.add(this.l),this.l.add(this._),this._.set(0,0,0),this.l.x>0?this.direction="right":this.l.x<0&&(this.direction="left")}},t.prototype.Zi=function(){if(!this.Jt){this.Jt=!0;for(var t=0;t<this.Bi;t++)this.N.push(c.Y(this,this.Z))}},t.prototype.k=function(t){t<this.Rn+this.Un||this.A.k(this)},t.prototype.W=function(t,i,n,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=null),void 0===s&&(s=null),this.Gn=[],this.nn=[];var h=this.F.Vi(this.v),e=n||this.size.x,r=s||this.size.y,u=this.Qn(e),o=this.Xn(r);this.on(h,t,i,u,o)},t.prototype.on=function(t,i,n,s,e){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===e&&(e=null);for(var r=s||this.Qn(this.size.x),u=e||this.Xn(this.size.y),o=0;o<r;o++)for(var a=0;a<u;a++){var c=this.F.$n(t.x+o,t.y-a),f=h.default.ts;n&&(f+=h.default.ns),"safe_house"===this.name&&(f-=h.default.ss),c.yn=f,c.Kn=i,c.nn=n,c.un=this}},t.prototype.rn=function(){this.S&&(this.v.x+this.size.x>=this.F.size.x&&(this.v.x=this.F.size.x-this.size.x-1,this._.x=-1*Math.abs(this._.x),this.l.x=-1*Math.abs(this.l.x)),this.v.x<0&&(this.v.x=1,this._.x=Math.abs(this._.x),this.l.x=Math.abs(this.l.x)),this.v.y+this.size.y>=this.F.size.y&&(this.v.y=this.F.size.y-this.size.y-1,this._.y=Math.abs(this._.y),this.l.y=Math.abs(this.l.y)),this.v.y-this.size.y<=0&&(this.v.y=this.size.y+1,this._.y=-Math.abs(this._.y),this.l.y=-Math.abs(this.l.y)))},t.Wn={},t.cn=100,t}();i.default=f},356:(t,i)=>{Object.defineProperty(i,"t",{value:!0});var n=function(t,i,n,s){this.name=t,this.U=i,this.offset=n,this.speed=s};i.default=n},471:function(t,i,n){var s=this&&this.hs||function(t,i,n){if(n||2===arguments.length)for(var s,h=0,e=i.length;h<e;h++)!s&&h in i||(s||(s=Array.prototype.slice.call(i,0,h)),s[h]=i[h]);return t.concat(s||Array.prototype.slice.call(i))},h=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var e=n(490),r=h(n(419)),u=n(566),o=function(){function t(i){this.cells=[],this.In={},this.Yn=t.es,this.ai=0,this.oi=0,this.ui=0;var n=2*t.es;this.size=i,this.nt=new e.g(Math.round(this.size.x/2),Math.round(this.size.y/2),0),this.rs=new e.g(this.size.x/4,this.size.y-n,0),this.us=new e.g(this.size.x/2,this.size.y-n,0),this.os=new e.g(3*this.size.x/4,this.size.y-n,0),this.cs=new e.g(3*this.size.x/4,0+n,0),this.fs=new e.g(this.size.x/2,0+n,0),this.vs=new e.g(this.size.x/4,0+n,0),this.ls=new e.g(n,this.size.y/2,0),this.A=r.default.D(),this.Hn=Math.ceil(this.size.x/this.Yn),this.ws=Math.ceil(this.size.y/this.Yn),this.ds(),this.bs(),this.$t=null}return t.prototype.gs=function(t){var i=this;this.Jn=s(s(s([],t.Qt,!0),t.Ht,!0),[t.Wt],!1),this.Wt=t.Wt,this.Qt=t.Qt,this.Ht=t.Ht,this.ri=t.ri,this.ii=t.ii,this.Ut=[],this._s();var n=this.ri.flatMap((function(t){return t.it}));this.As(n),this.Xt.forEach((function(t){t.Wt=i.Wt})),this.index=t.index},t.prototype.As=function(t){this.Xt=t,this.ui=t.length,this.oi=0,this.ai=0},t.prototype.Bt=function(t){this.Ut.forEach((function(t){return t.At.color=u.i.o})),this.$t=t,null!==t&&(this.$t.At.color=u.i.u)},t.prototype.bs=function(){var t=this.size.x,i=this.size.y,n=new e.g(0,0,0),s=new e.g(t,50,0);this.ps={v:n,size:s};var h=new e.g(0,n.y+s.y,0),r=new e.g(t,100,0);this.Ms={v:h,size:r};var u=new e.g(t/2,n.y+s.y,0),o=new e.g(r.y/2.5,r.y/2.5,0);this.Os={v:u,size:o};var a=new e.g(0,h.y+r.y,0),c=new e.g(t,i-r.y-s.y,0);this.js={v:a,size:c}},t.prototype.ds=function(){for(var t=0;t<this.ws;t++){this.cells[t]=[];for(var i=0;i<this.Hn;i++){var n=(0,e.uuid)(),s={x:i,y:t,jn:[],Kn:!0,nn:!1,yn:1,un:null,xn:!1,id:n};this.cells[t].push(s),this.In[n]=s}}},t.prototype._s=function(){var t=this.ii,i=this.Ut.flatMap((function(t){return t.it}));this.ni=t.filter((function(t){return!i.includes(t)}))},t.prototype.St=function(){this.cells.forEach((function(t){t.forEach((function(t){t.xn=!1}))})),this.Ut.forEach((function(t){t.At.On()}))},t.prototype.tn=function(){this.ai++},t.prototype.Wi=function(){this.oi++},Object.defineProperty(t.prototype,"ci",{get:function(){return this.oi/this.ui},st:!1,ht:!0}),t.prototype.k=function(){var t=this.A.C,i=this.A.offset.z;t.fillStyle="#42bfe8",t.fillRect((this.ps.v.x-this.A.offset.x)*i,(this.ps.v.y-this.A.offset.y)*i,this.ps.size.x*i,this.ps.size.y*i),t.beginPath(),t.fillStyle="#f8f644",t.arc((this.Os.v.x-this.A.offset.x)*i,(this.Os.v.y-this.A.offset.y)*i,this.Os.size.x*i,0,2*Math.PI),t.fill(),t.fillStyle="#e3d6b1",t.fillRect((this.Ms.v.x-this.A.offset.x)*i,(this.Ms.v.y-this.A.offset.y)*i,this.Ms.size.x*i,this.Ms.size.y*i),t.fillStyle="#bdbdbd",t.fillRect((this.js.v.x-this.A.offset.x)*i,(this.js.v.y-this.A.offset.y)*i,this.js.size.x*i,this.js.size.y*i)},t.prototype.$n=function(t,i){return this.cells[i][t]},t.prototype.Vi=function(t,i){void 0===i&&(i=!1);var n=t.x/this.Yn,s=t.y/this.Yn,h=Math.round(n),r=Math.round(s);i&&(h=Math.floor(n),r=Math.floor(s));var u=(0,e.Fi)(h,0,this.Hn-1),o=(0,e.Fi)(r,0,this.ws-1);return this.$n(u,o)},t.prototype.xs=function(t){t.it.push(this.ni.pop()),this._s()},t.prototype.ys=function(t){t.it.length>0&&t.it.pop(),this._s()},t.prototype.hn=function(t){var i=t.x*this.Yn,n=t.y*this.Yn;return new e.g(i,n,0)},t.prototype.Rt=function(t){for(var i=null,n=0;n<this.Ut.length;n++){var s=this.Ut[n].At,h={size:s.pn,v:s.Mn};if((0,e.Ei)(t,h)){i=s;break}}return i},t.prototype.ks=function(t,i){var n=(this.ws-1)*this.Yn,s=this.A.offset.z;this.A.C.strokeStyle=i,this.A.C.strokeRect((t.x*this.Yn-this.A.offset.x)*s,(n-t.y*this.Yn-this.A.offset.y)*s,this.Yn*s,this.Yn*s)},t.prototype.jn=function(t){var i=[];if(t.x>0){var n=this.cells[t.y][t.x-1];i.push(n)}if(t.x<this.Hn-1){var s=this.cells[t.y][t.x+1];i.push(s)}if(t.y<this.ws-1){var h=this.cells[t.y+1][t.x];i.push(h)}if(t.y>0){var e=this.cells[t.y-1][t.x];i.push(e)}return i},t.ns=3,t.ts=1,t.kn=1.5,t.es=16,t.ss=-3,t}();i.default=o},687:function(t,i,n){var s=this&&this.hs||function(t,i,n){if(n||2===arguments.length)for(var s,h=0,e=i.length;h<e;h++)!s&&h in i||(s||(s=Array.prototype.slice.call(i,0,h)),s[h]=i[h]);return t.concat(s||Array.prototype.slice.call(i))},h=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0}),i.Ct=i.Mt=void 0;var e=h(n(665)),r=n(490),u=h(n(774)),o=h(n(10)),a=h(n(306)),c=h(n(471)),f=h(n(999)),v=h(n(295)),l=new r.g(640,480,0),w=c.default.es;i.Mt=[],i.Ct=[];var d=m(),b=p(),g=M(),_=O(),A=j();function m(){var t=new c.default(l),i=new a.default(t.us,t),n=new e.default(t.nt,t),s=new e.default(new r.g(t.nt.x+6*w,t.nt.y-5*w,0),t),h=new e.default(new r.g(t.nt.x-6*w,t.nt.y+5*w,0),t),u=t.vs.Ti();u.set(u.x,u.y+4*w,u.z);var o=x(u,3,t),v={Qt:[new f.default(new r.g(t.nt.x,t.nt.y+3*w,0),t),new f.default(new r.g(t.nt.x,t.nt.y+5*w,0),t),new f.default(new r.g(t.nt.x+2*w,t.nt.y+2*w,0),t)],Ht:[n,s,h],Wt:i,ri:[o],ii:y(5,t),index:0};return t.gs(v),t}function p(){var t=new c.default(l),i=t.vs.Ti();i.set(i.x,i.y+a.default.V.y,i.z);var n=new a.default(i,t),s=new e.default(t.nt,t),h=new e.default(new r.g(t.nt.x+w,t.nt.y-5*w,0),t),u=new e.default(new r.g(t.nt.x-6*w,t.nt.y+5*w,0),t),o=new e.default(new r.g(t.nt.x-13*w,t.nt.y+5*w,0),t),v=x(t.rs,5,t),d=x(t.os,5,t),b={Qt:[new f.default(new r.g(t.os.x,t.nt.y+3*w,0),t),new f.default(new r.g(t.rs.x-3*w,t.nt.y-5*w,0),t),new f.default(new r.g(t.nt.x+2*w,t.nt.y+2*w,0),t),new f.default(new r.g(t.nt.x+5*w,t.nt.y+2*w,0),t)],Ht:[s,h,u,o],Wt:n,ri:[v,d],ii:y(10,t),index:1};return t.gs(b),t}function M(){var t=new c.default(l),i=t.nt.Ti();i.set(i.x-a.default.V.x/2,i.y+a.default.V.y/2,i.z);var n=new a.default(i,t),s=t.nt.Ti();s.set(s.x-8*w-a.default.V.x/2,s.y+8*w+a.default.V.y/2,0);var h=t.nt.Ti();h.set(h.x+8*w-a.default.V.x/2,h.y+8*w+a.default.V.y/2,0);var r=t.nt.Ti();r.set(r.x-8*w-a.default.V.x/2,r.y-8*w+a.default.V.y/2,0);var u=t.nt.Ti();u.set(u.x+8*w-a.default.V.x/2,u.y-8*w+a.default.V.y/2,0);var o={Qt:[],Ht:[new e.default(s,t),new e.default(h,t),new e.default(r,t),new e.default(u,t)],Wt:n,ri:[x(t.ls,20,t)],ii:y(12,t),index:2};return t.gs(o),t}function O(){var t=new c.default(l),i=t.nt.Ti();i.set(i.x-a.default.V.x/2,i.y+a.default.V.y/2,i.z);for(var n=new a.default(i,t),h=x(t.ls,12,t),e=x(t.os,12,t),u=[],o=0;o<7;o++){var v=new f.default(new r.g(5*w+2*w+o*w*4,8*w,0),t);u.push(v)}for(o=0;o<7;o++){v=new f.default(new r.g(5*w+2*w+o*w*4,22*w,0),t);u.push(v)}for(o=0;o<7;o++){v=new f.default(new r.g(9*w+2*w,20*w-o*w*2,0),t);u.push(v)}for(o=0;o<7;o++){v=new f.default(new r.g(25*w+2*w,20*w-o*w*2,0),t);u.push(v)}var d={Qt:s([],u,!0),Ht:[],Wt:n,ri:[h,e],ii:y(50,t),index:3};return t.gs(d),t}function j(){var t=new c.default(l),i=t.vs.Ti();i.set(i.x-a.default.V.x/2,i.y+a.default.V.y,i.z);var n=new a.default(i,t),h=x(t.rs,10,t),r=x(t.os,10,t),u=x(t.cs,10,t),o=t.nt.Ti();o.set(o.x-e.default.V.x,o.y,0);var f=t.nt.Ti();f.set(f.x,f.y,0);var v=t.nt.Ti();v.set(v.x,v.y-e.default.V.y,0);var w=t.nt.Ti();w.set(w.x-e.default.V.x,w.y-e.default.V.y,0);var d=t.nt.Ti();d.set(d.x,d.y+e.default.V.y,0);var b=t.nt.Ti();b.set(b.x-e.default.V.x,b.y+e.default.V.y,0);var g=new e.default(o,t),_=new e.default(f,t),A=new e.default(v,t),m=new e.default(w,t),p=new e.default(d,t),M=new e.default(b,t),O={Qt:s([],[],!0),Ht:[g,_,A,m,p,M],Wt:n,ri:[h,r,u],ii:y(25,t),index:4};return t.gs(O),t}function x(t,i,n,s){void 0===s&&(s=3);for(var h=[],e=0;e<i;e++){var a=new r.g(t.x+(0,r.zi)(-w*s,w*s),t.y+(0,r.zi)(-w*s,w*s),0),c=new u.default(a,n);h.push(c)}return new o.default(h)}function y(t,i,n){void 0===n&&(n=3);for(var s=[],h=0;h<t;h++){var e=new r.g(i.nt.x+(0,r.zi)(-w*n,w*n),i.nt.y+(0,r.zi)(-w*n,w*n),0),u=new v.default(e,i);s.push(u)}return s}i.Ct.push(m),i.Ct.push(p),i.Ct.push(M),i.Ct.push(O),i.Ct.push(j),i.Mt.push(d),i.Mt.push(b),i.Mt.push(g),i.Mt.push(_),i.Mt.push(A),i.Ct.push(m)},999:function(t,i,n){var s,h=this&&this.K||(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},s(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=n(490),u=e(n(365)),o=n(566),a=e(n(296)),c=e(n(356)),f=function(t){function i(i,n){var s=this,h=new c.default("idle",1,0,0),e={name:"trash",v:i,R:a.default,U:1,B:new r.g(8,8,1),size:new r.g(32,32,1),F:n,L:{G:h,default:h}};return(s=t.call(this,e)||this).S=!0,s.q=!0,s.startOffset=208,s.Z=o.i.h,s.P=50,s.W(!1,!0),s}return h(i,t),i}(u.default);i.default=f},562:function(t,i,n){var s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var h=n(745),e=s(n(419)),r=n(679),u=e.default.D(),o=function(){function t(){}return t.D=function(){return t.I||(t.I=new t),t.I},t.prototype.kt=function(t,i,n,s){var e=this;this.state=new h.Cs,this.F=t,this.Mt=i,this.Es=this.Mt.length,this.zs=n,this.Fs=s;var o=document.getElementById("title-screen"),a=document.getElementById("results"),c=document.getElementById("ui-wrapper-bottom"),f=document.getElementById("ui-wrapper-top"),v=document.getElementById("ui-wrapper-middle"),w=document.getElementById("ui-middle-text"),d=l("Attack",c),b=l("Create flock",c),g=l("Add bird",c),_=l("Remove bird",c),A=l("Done",c),m=l("Retry",v),p=l("Next Stage",v),M=function(t,i,n){var s;void 0===n&&(n=[]);var h=document.createElement("div");return h.innerText=t,i.appendChild(h),(s=h.classList).add.apply(s,n),h}("Killed: 0 Escaped 0% \n 1",f,["inline"]);d.addEventListener("click",(function(){return e.state.jt(e,h.yt.Ts)})),b.addEventListener("click",(function(){return e.state.jt(e,h.yt.Ns)})),A.addEventListener("click",(function(){return e.state.jt(e,h.yt.xt)})),g.addEventListener("click",(function(){return e.F.xs(e.F.$t)})),_.addEventListener("click",(function(){return e.F.ys(e.F.$t)})),m.addEventListener("click",(function(){e.Ys(),e.zs(e.F.index),u.zt=r.Tt.Dt})),p.addEventListener("click",(function(){e.Ys(),e.Fs(),u.zt=r.Tt.Dt})),this.Ds=d,this.Is=b,this.Ks=g,this.Rs=_,this.Us=A,this.Bs=M,this.Ls=f,this.Gs=c,this.Ss=o,this.qs=a,this.Ps=p,this.Zs=m,this.Ws=w,console.log(this.Ws)},t.prototype.qt=function(){a(this.Ls),a(this.Gs),a(this.qs)},t.prototype.Nt=function(){c(this.Ls),c(this.Gs),c(this.qs)},t.prototype.Yt=function(){a(this.Ss)},t.prototype.Qs=function(t){this.Ws.innerText!==t&&(this.Ws.innerText=t)},t.prototype.fi=function(){a(this.Ps),c(this.Zs);this.Qs("You didn't eliminate enough targets. Try again, Commander."),c(this.qs)},t.prototype.li=function(t,i,n){c(this.qs),c(this.Ps),a(this.Zs);var s="You eliminated enough targets to proceed to stage ".concat(t," of ").concat(i,". Proceed!");n&&(s="Congratulations, Commander Bird. We will all sleep easier tonight knowing you have eliminated so many targets. \n\nChirp chirp,\n\n General Bird",a(this.Ps)),this.Qs(s),c(this.qs)},t.prototype.Ys=function(){a(this.qs)},t.prototype.update=function(){var t,i="Eliminated: ".concat(this.F.oi),n="Escaped: ".concat(this.F.ai),s=(t=this.F.ci,"".concat((100*t).toFixed(0),"%")),e="Stage ".concat(this.F.index+1," of ").concat(this.Es),r="".concat(i," ").concat(n," ").concat(s,"\n").concat(e);this.Bs.innerText!==i&&(this.Bs.innerText=r),this.state instanceof h.Cs?(c(this.Ds),c(this.Is),a(this.qs),this.F.Ut.length>0?v(this.Ds):f(this.Ds),this.F.ni.length>0?v(this.Is):f(this.Is),a(this.Ks),a(this.Rs),a(this.Us)):this.state instanceof h.si?(c(this.Ds),c(this.Is),f(this.Ds),f(this.Is),a(this.Ks),a(this.Rs),a(this.Us)):this.state instanceof h.Hs&&(a(this.Ds),a(this.Is),c(this.Ks),c(this.Rs),c(this.Us),this.F.ni.length>0?v(this.Ks):f(this.Ks),this.F.$t.it.length>0?v(this.Rs):f(this.Rs))},t}();function a(t){t.classList.add("hide")}function c(t){t.classList.remove("hide")}function f(t){1!=t.disabled&&(t.disabled=!0)}function v(t){0!=t.disabled&&(t.disabled=!1)}function l(t,i){var n=document.createElement("button");return n.innerText=t,i.appendChild(n),n}i.default=o},745:function(t,i,n){var s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0}),i.yt=i.Hs=i.si=i.Cs=void 0;var h=s(n(585)),e=n(490),r=s(n(445)),u=function(){function t(){}return t.prototype.Xs=function(t){t.F.Ut=t.F.Ut.filter((function(t){return t.it.length>0}))},t.prototype.jt=function(t,i){var n=null;switch(i){case a.xt:n=this;break;case a.Ts:(n=new o).Xs(t);break;case a.Ns:(n=new c).Xs(t);break;default:n=this}return t.state=n,n},t}();i.Cs=u;var o=function(){function t(){}return t.prototype.Xs=function(t){t.F.Xt.forEach((function(t){return t.S=!1}))},t.prototype.jt=function(t,i){var n=null;if(i===a.xt)n=new u;else n=this;return t.state=n,n},t}();i.si=o;var a,c=function(){function t(){}return t.prototype.Xs=function(t){var i=new e.g((0,e.zi)(t.F.size.x/4,3*t.F.size.x/4),(0,e.zi)(t.F.size.y/4,3*t.F.size.y/4),0),n=new r.default(new e.g(i.x,i.y,0),t.F),s=new h.default([],n);t.F.Ut.push(s),t.F.Bt(s),t.F.St()},t.prototype.jt=function(t,i){var n=null;switch(i){case a.xt:(n=new u).Xs(t);break;case a.Ts:(n=new o).Xs(t);break;case a.Ns:default:n=this}return t.state=n,n},t}();i.Hs=c,function(t){t.xt="DEFAULT",t.Ts="ATTACK",t.Ns="CREATE_FLOCK"}(a=i.yt||(i.yt={}))},296:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAAAgCAYAAABw4baZAAAAAXNSR0IArs4c6QAAAqdJREFUeNrtm7FKA0EQhq8KvoMvYBHEyjbvYCEEfQU7fQqxCghiJdZio/gCljYi+A5WgthZrEzInJdjZnfWu71dLv8Pg9zNzu1E/u/2skmqqkDNDw8cqZR+qBfqScp9PN66nEE9fD9sOym4xzHnQ7V9jLHUz+dHrhmikXaOn50vhgaMlRMsFgADYFKuDZYKGkP0+va+DOl4KGNf3z25tnLCRaKeigXs5cZJUZtnxPlQbR9jfDkGaXF5tRYALAFg54v7Ok7OLtaOY8GxXqttgL3pbv1XMo+Ub56TDBjK55w/dG3rGN8cof40wMyPhlK4z6kDYOUBhhVs2BUsGWApVzQA1g0wutNqK4iU52PNQKF8zvlD17aO8c0R6s8EGHmKwgBVPY43JLpuaOQCzNe7BTCqb5qdQNAiFjDrtUoELOcKZgFMWsFiII4GjD21iuDNvTmOTEZBBrTECpYaGq1eMrhUzzDwOWsfPK9Wr83fri9hBXOKtJvFmPKh2j7GWOpN2/RdHumscLF+vvaXodVLBpfqOXwwaEFza/UhwLi+NMDozqoZlO+8vrzP4KH60PyW/kLza+ZvriwheKRVSLqGdi7L25YYU1vqNYMP1UcIsJLeg0nmiTWwZKK+AUoJmASRdQWT4IldwQbfILAaeijgU/1DSvgcDI+I+R8RAdiIAZvNTp0U3CPyafMADIAhP2bAcvUBwADAaAFrboPnFPexCYC1DYHjYY6zGbsqRCl7KQGwtmINEWuYrobruz7364cSKnZrfTLZ8sZ/tukhCIABMAgCYBBULGCWL+haAYv5si8EYQXDCgZBAAyCABgAgzYRMEtYAevyORgEbSxg1eoHqwRT9ffj1ToAGAT1AJgWAAyCABgEATAIAmAADIIAGAQBMAgCYABsk/QLi9aIx+VVEcAAAAAASUVORK5CYII="}},i={};(function n(s){var h=i[s];if(void 0!==h)return h.exports;var e=i[s]={exports:{}};return t[s].call(e.exports,e,e.exports,n),e.exports})(607)})();</script></body></html>