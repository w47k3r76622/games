function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){if(!(a instanceof Array)){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=b?b.call(a):{next:aa(a)};for(var c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ca="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},da;
if("function"==typeof Object.setPrototypeOf)da=Object.setPrototypeOf;else{var ea;a:{var fa={Qb:!0},ha={};try{ha.__proto__=fa;ea=ha.Qb;break a}catch(a){}ea=!1}da=ea?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=da;
function h(a,b){a.prototype=ca(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]}var l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ja="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function ka(a,b){if(b){var c=l;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ja(c,a,{configurable:!0,writable:!0,value:b})}}ka("Array.prototype.findIndex",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++)if(b.call(c,d[f],f,d)){b=f;break a}b=-1}return b}});ka("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});ka("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991});
ka("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});
function la(a,b,c){var d=this;this.canvas=document.createElement("canvas");this.canvas.width=c*a;this.canvas.height=c*b;this.a=this.canvas.getContext("2d");this.canvas.style.marginLeft="auto";this.canvas.style.marginRight="auto";this.canvas.style.display="block";this.Va=a;this.nb=b;document.body.appendChild(this.canvas);this.g=c;this.children=[];this.na=[];this.f=null;this.h=0;this.c=[];this.D=null;this.o=0;this.I={wa:null,ca:null,Pa:null};this.fa=[];document.addEventListener("keydown",function(e){d.I.ca&&
d.I.ca(e);d.c.forEach(function(f){f.I.ca&&f.I.ca(e)})});document.addEventListener("keyup",function(e){d.I.wa&&d.I.wa(e);d.c.forEach(function(f){f.I.wa&&f.I.wa(e)})});this.canvas.onmousedown=function(e){var f=ma(d,e);d.c.some(function(g){if(g.I.Pa&&f.x>g.ta.x-g.width/2*g.scale.x&&f.x<g.ta.x+g.width/2*g.scale.x&&f.y>g.ta.y-g.height/2*g.scale.y&&f.y<g.ta.y+g.height/2*g.scale.y)return g.I.Pa(f),!0})}}
function ma(a,b){var c=a.canvas.getBoundingClientRect();return new m(b.clientX/(parseFloat(a.canvas.style.width.substring(0,a.canvas.style.width.length-2))/a.canvas.width)-c.left,b.clientY/(parseFloat(a.canvas.style.height.substring(0,a.canvas.style.height.length-2))/a.canvas.height)-c.top)}la.prototype.start=function(){setInterval(this.i.bind(this),16.666);this.h=Date.now()};function na(a){a.a.clearRect(0,0,a.canvas.width,a.canvas.height)}
la.prototype.i=function(){var a=this;na(this);var b=Date.now(),c=(b-this.h)/1E3;this.fa.forEach(function(d){d.update(c)});this.h=b;this.na.forEach(function(d){if(d.na)d.na.some(function(e){if(e.K.m.$&&e.active)return e.update(c),!0});else if(d.K.m.$&&d.active)return d.update(c),!0});this.c.forEach(function(d){!d.fixed&&d.active&&(d.wb&&!d.R&&(d.speed.y+=a.o*c),d.speed.y>d.Za?d.speed.y=d.Za:d.speed.y<d.xb&&(d.speed.y=d.xb))});this.D&&(this.D.update(),pa(this.D,c));this.c.forEach(function(d){!d.fixed&&
d.active&&(d.ua||(d.position.x+=d.speed.x*c),d.R||(d.position.y+=d.speed.y*c));qa(d);ra(d);a.a.save();a.a.translate(d.m.Z.x+.5*d.width,d.m.Z.y+.5*d.height);a.a.rotate(d.angle);a.a.scale(d.m.pa.x,d.m.pa.y);a.a.globalAlpha=d.m.Ua;d.ba&&a.a.scale(-1,1);d.type===q.a.G?a.a.drawImage(d.Cb.image,d.T.position.x,d.T.position.y,d.T.width,d.T.height,-.5*d.width,-.5*d.height,d.T.width,d.T.height):d.type===q.a.Xa&&(a.a.font=d.frame.font,a.a.fillStyle=d.frame.fillStyle,a.a.fillText(d.frame.text,-.5*d.width,.5*
d.height));a.a.restore()});this.f.update(c);this.c.forEach(function(d){d.active&&d.update(c)})};la.prototype.j=function(a){a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this;sa(this);qa(a);ra(a);ta(a);return a};la.prototype.removeChild=function(a){this.children.splice(ua(this.children,a,null),1);sa(this)};la.prototype.B=function(a){this.na.push(a);return a};
function sa(a){a.c.length=0;for(var b=[],c=null,d=0;d<a.children.length;d++){if(a.children[d].visible){c=a.children[d];b.push(c);var e=!1}else e=!0;for(;!e;){for(var f=!0,g=c.ib;g<c.children.length;g++)if(c.children[g].visible){c.ib=g+1;c=c.children[g];b.push(c);f=!1;break}c.ib=0;f&&(c.parent!==a?c=c.parent:(e=!0,a.c=a.c.concat(b),b.length=0))}}}function r(a,b,c){this.b=new la(a,b,c);this.canvas=this.b.canvas;this.h=this.b.a;this.ma=[];this.c=0;this.l=this.canvas.width;this.i=this.canvas.height}
function va(a){function b(){if(a.ma[a.c]){var c=a.ma[a.c];na(a.b);var d=c.rows,e=[];a.canvas.width=d*c.ya+2*d;var f=Math.ceil(c.Bb.length/d);a.canvas.height=f*c.Ra+2*f;var g=0,k=-1;c.Bb.forEach(function(p,n){n/d===g+1?(g++,k=0):k++;p.forEach(function(t){a.h.save();var u=a.h,A=k*c.ya+2*k,O=g*c.Ra+2*g,L=t.yb,y=t.fillStyle,C=t.strokeStyle,Y=t.lineWidth;A||(A=0);O||(O=0);y&&(u.fillStyle=y);C&&(u.strokeStyle=C);Y&&(u.lineWidth=Y);u.beginPath();u.moveTo(L[0].x+A,L[0].y+O);for(C=1;C<L.length;C++)u.lineTo(L[C].x+
A,L[C].y+O),y||u.stroke();u.closePath();y&&u.fill();a.h.restore();t.name&&e.push(new wa(new m(k*c.ya+2*k,g*c.ya+2*g),c.ya,c.Ra,t.name))})});c.image.src=a.canvas.toDataURL("image/png");c.zb=e;c.image.onload=function(){a.c<a.ma.length-1?(a.c++,b()):(a.canvas.width=a.l,a.canvas.height=a.i,a.create())}}}a.l=a.canvas.width;a.i=a.canvas.height;a.c=0;b()}r.prototype.o=function(){};r.prototype.create=function(){this.b.f=this};r.prototype.update=function(){};
function w(a,b){a=Math.ceil(a);b=Math.floor(b);return Math.floor(Math.random()*(b-a))+a}function xa(a,b){return Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)}function ua(a,b,c){c=void 0===c?null:c;var d=-1,e=!1;return d=c?a.findIndex(function(f){c(f)===b&&(e=!0);return e}):a.findIndex(function(f){f===b&&(e=!0);return e})}function ya(a,b,c){b=ua(a,b,c);return a[b]}function m(a,b){this.x=a;this.y=b}m.prototype.compare=function(a){return a?a.x===this.x&&a.y===this.y?!0:!1:!1};
function za(a,b){a.x=b.x;a.y=b.y}m.prototype.add=function(a){a&&(this.x+=a.x,this.y+=a.y)};function wa(a,b,c,d){this.position=a;this.width=b;this.height=c;this.name=d}function x(){this.a=[]}function B(a,b){b.reset();a.a.push(b)}function Aa(a,b){for(var c=0;c<b.length;c++)B(a,b[c])}function D(a,b){if(0<a.a.length){var c=a.a[a.a.length-1];c.set(b);a.a.splice(a.a.length-1,1)}else c=a.c(b);return c}x.prototype.c=function(){return{}};
function Ba(a,b,c,d){this.image=document.createElement("img");this.zb=null;this.rows=a;this.ya=b;this.Ra=c;this.Bb=d}
function q(a,b,c,d,e,f,g,k){k=void 0===k?a.ma[0]:k;this.active=!0;this.f=a;this.type=b;this.J=[];this.frame=this.frames=null;this.o=0;this.Cb=k;this.width=k.ya;this.height=k.Ra;this.La=this.width;this.za=this.height;this.T=null;Ca(this,b,c);this.wb=!1;this.Za=Number.MAX_SAFE_INTEGER;this.xb=Number.MIN_SAFE_INTEGER;this.ba=this.ka=!1;f?this.fixed=f:this.fixed=!1;this.position=new m(d,e);this.speed=new m(0,0);this.ta=new m(0,0);this.children=[];this.parent=null;this.visible=!0;this.I={wa:null,ca:null,
Pa:null};this.angle=0;this.scale=new m(1,1);this.ib=0;this.ha=.05;g?this.P=g:this.P=!1;this.X=0;this.alpha=1;this.v=new m(0,0);this.R=this.ua=!1;this.Ka=null;this.ab=new E(a,this);this.Ub=new E(a,this);this.m={Z:new m(1,1),pa:new m(1,1),Ua:1,$:!1};ra(this);this.la=!0}function ta(a){a.v.x=Math.floor(Math.floor(a.position.x/a.f.b.g));a.v.y=Math.floor(Math.floor(a.position.y/a.f.b.g))}
function qa(a){za(a.m.Z,a.position);za(a.m.pa,a.scale);a.m.Ua=a.alpha;a.m.$=a.visible;for(var b=a.parent;b!==a.f.b&&b;)a.m.Z.x+=b.position.x,a.m.Z.y+=b.position.y,a.m.pa.x*=b.scale.x,a.m.pa.y*=b.scale.y,a.m.Ua*=b.alpha,a.m.$&&!b.visible&&(a.m.$=!1),b=b.parent,a.m.$&&!b&&(a.m.$=!1)}
function Ca(a,b,c){b=void 0===b?q.a.G:b;c=void 0===c?[]:c;Array.isArray(c)?a.frames=c:a.frames=[c];a.frame=a.frames[0];a.T=null;if(b===q.a.G)Da(a);else if(b===q.a.Xa){b=a.f;var d=a.frame;c=b.b.a.font;b.b.a.font=d.font;d=b.b.a.measureText(d.text).width;b.b.a.font=c;a.width=d}}function Da(a){for(var b=0;b<a.frames.length;b++)a.J.push(ya(a.Cb.zb,a.frames[b],function(c){return c.name}));a.T=a.J[0]}function Ea(a,b){a.o=b;a.frame=a.frames[a.o];a.T=a.J[a.o]}
q.prototype.update=function(a){this.P&&(this.X+=a,this.X>this.ha&&(this.X=0,this.o<this.frames.length-1?this.o++:this.o=0,this.frame=this.frames[this.o],this.T=this.J[this.o]))};function F(a,b){a.visible=b;sa(a.f.b);qa(a)}function ra(a){a.ta.x=a.m.Z.x+.5*a.width;a.ta.y=a.m.Z.y+.5*a.height}q.prototype.j=function(a){a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this;sa(this.f.b);qa(a);ra(a);ta(a);return a};
q.prototype.removeChild=function(a){var b=-1;b=this.children.findIndex(function(c){return c===a?!0:!1});0<=b&&(this.children.splice(b,1),a.parent=null);sa(this.f.b)};q.prototype.reset=function(){this.position.x=0;this.position.y=0;this.speed.x=0;this.angle=this.speed.y=0};q.prototype.set=function(a){a.x?this.position.x=a.x:this.position.x=0;a.y?this.position.y=a.y:this.position.y=0;a.frames&&(this.J.length=0,Ca(this,a.type,a.frames));a.fixed?this.fixed=a.fixed:this.fixed=!1;ra(this);ta(this)};
l.Object.defineProperties(q,{a:{configurable:!0,enumerable:!0,get:function(){return{G:0,Xa:1}}},A:{configurable:!0,enumerable:!0,get:function(){return 0}}});function Fa(){this.a=[]}h(Fa,x);Fa.prototype.c=function(a){return new q(a.f,a.type,a.frames,a.x,a.y,a.fixed,a.P)};function Ga(a,b,c,d,e){q.call(this,a,q.a.G,b,c,d,!0,e)}h(Ga,q);l.Object.defineProperties(Ga,{A:{configurable:!0,enumerable:!0,get:function(){return 1}}});function Ha(){this.a=[]}h(Ha,x);
Ha.prototype.c=function(a){return new Ga(a.f,a.frames,a.x,a.y,a.P)};function Ia(a){q.call(this,a,null,null,0,0,!0,!1);this.h=[];this.i=new Ha;this.a=[];this.c=[];this.l=new Fa}h(Ia,q);function Ja(a,b){(b=void 0===b?null:b)&&Ka(b,a.a);a.a.forEach(function(c){a.removeChild(c)});Aa(a.i,a.a);a.a.length=0;a.c.forEach(function(c){a.removeChild(c)});Aa(a.l,a.c);a.c.length=0}
function La(a,b,c){c=void 0===c?null:c;for(var d=0;d<b.Ia;d++)for(var e=0;e<b.mb;e++)if(b.s[d][e].Y){var f=D(a.i,{f:a.f,frames:b.s[d][e].frames,x:d*a.f.b.g,y:e*a.f.b.g,P:b.s[d][e].P});f.ha=b.s[d][e].ha;f.ka=b.s[d][e].ka;a.j(f);a.h.push(f);a.a.push(f)}else 0<b.s[d][e].frames.length&&(f=new q(a.f,q.a.G,b.s[d][e].frames,d*a.f.b.g,e*a.f.b.g,!0,!1),a.j(f),a.h.push(f));c&&(Ma(c,b),a.a.forEach(function(g){Na(c,g)}))}function Oa(a){var b=Pa.A+G.A;a.a.forEach(function(c){c.Ka=b})}
function Qa(){this.na=[]}Qa.prototype.B=function(a){this.na.push(a);return a};function Ra(a){a.na.forEach(function(b){b.active=!0})}function H(a,b,c,d){this.K=a;this.duration=b;d?this.type=d:this.type=H.a;this.C=null;this.M=this.Ha=c;this.a=0;this.active=!1;this.c=0;this.Ga=null;this.X=!0;this.l=this.o=this.H=0}H.prototype.V=function(){};H.prototype.h=function(a){a&&(this.duration=a)};function Sa(a){a.l=2*a.o/Math.pow(a.duration,2);a.Ga=a.l*a.duration;a.l*=-1}
H.prototype.update=function(a){if(this.active&&a&&(this.c+=a,this.c>this.duration&&(this.c=this.duration),this.type===H.a?this.a=this.c*this.H/this.o:this.type===H.c&&(this.a=(this.Ga*this.c+.5*this.l*Math.pow(this.c,2))/this.o),this.X||(this.a=1-this.a),this.c===this.duration)){this.c=0;this.update(0);a:{if(0<=this.Ha&&(this.M--,0>this.M)){this.active=!1;this.M=this.Ha;this.X=!0;this.c=this.a=0;this.C&&this.C(this);a=!0;break a}a=!1}a||(this.X=this.X?!1:!0)}};
l.Object.defineProperties(H,{a:{configurable:!0,enumerable:!0,get:function(){return 1}},c:{configurable:!0,enumerable:!0,get:function(){return 2}}});function J(a,b,c,d,e,f){H.call(this,a,b,c,d);this.oa=this.ea=0;this.i=new m(0,0);this.J=new m(0,0);this.V(e,f)}h(J,H);J.prototype.update=function(a){H.prototype.update.call(this,a)};J.prototype.V=function(a,b){za(this.i,a);za(this.J,b);this.ea=this.J.x-this.i.x;this.oa=this.J.y-this.i.y;this.o=Math.sqrt(xa(this.i,this.J));this.h(null);Sa(this)};
J.prototype.h=function(a){H.prototype.h.call(this,a);this.H=this.o/this.duration};function K(a,b,c,d,e,f){J.call(this,a,b,c,d,e,f)}h(K,J);K.prototype.update=function(a){J.prototype.update.call(this,a);this.active&&(this.K.position.x=this.i.x+this.a*this.ea,this.K.position.y=this.i.y+this.a*this.oa)};function Ta(a,b,c,d,e,f){J.call(this,a,b,c,d,e,f)}h(Ta,J);
Ta.prototype.update=function(a){J.prototype.update.call(this,a);this.active&&(this.K.scale.x=this.i.x+this.a*this.ea,this.K.scale.y=this.i.y+this.a*this.oa)};function Ua(a,b,c,d,e){H.call(this,a,b,c,d);this.i=this.J=0;this.V(a.angle,e)}h(Ua,H);Ua.prototype.update=function(a){H.prototype.update.call(this,a);this.active&&(this.K.angle=this.J+this.a*this.i)};Ua.prototype.V=function(a,b){this.J=a;this.o=this.i=b;this.h(null);Sa(this)};
Ua.prototype.h=function(a){H.prototype.h.call(this,a);this.H=this.i/this.duration};function Va(a,b,c,d,e,f){H.call(this,a,b,c,d);this.i=0;this.V(e,f)}h(Va,H);Va.prototype.V=function(a,b){this.i=a;this.o=b-a;this.h(null);Sa(this)};Va.prototype.h=function(a){H.prototype.h.call(this,a);this.H=this.o/this.duration};Va.prototype.update=function(a){H.prototype.update.call(this,a);this.active&&(this.K.alpha=this.i+this.a*this.o)};
function M(a,b,c,d,e){this.yb=a;this.name=void 0===b?"":b;this.fillStyle=void 0===c?null:c;this.strokeStyle=void 0===d?null:d;this.lineWidth=void 0===e?null:e}function Wa(a,b,c,d,e,f,g,k){e=void 0===e?"":e;f=void 0===f?100:f;g=void 0===g?0:g;k=void 0===k?0:k;e||(e="circle");g||(g=0);k||(k=2*Math.PI);f||(f=100);var p=[];k=(k-g)/f;for(var n=0;n<f;n++)p[n]=new m(Math.cos(n*k+g)*c+c+a,-Math.sin(n*k+g)*c+c+b);return new M(p,e,void 0===d?null:d,null,null)}
function N(a,b,c,d,e,f){return new M([new m(a,b),new m(a+c,b),new m(a+c,b+d),new m(a,b+d),new m(a,b)],e,f,null,null)}function Xa(a,b,c){c=void 0===c?null:c;var d=null;d="object"===typeof c?function(g,k,p){k[p].push(JSON.parse(JSON.stringify(g)))}:function(g,k,p){k[p].push(g)};this.s=[];this.Ia=a;this.mb=b;for(var e=0;e<a;e++){this.s.push([]);for(var f=0;f<b;f++)d(c,this.s,e)}this.length=a*b;this.a=Ya(this)}Xa.prototype.getAll=function(){return this.a};
function Ya(a){for(var b=[],c=0;c<a.length;c++){var d=Math.floor(c/a.Ia),e=c-d*a.Ia;b.push({ja:a.s[e][d],x:e,y:d})}return b}function Za(a,b,c){Xa.call(this,b,c,{W:[],Y:!1});this.f=a}h(Za,Xa);function Ma(a,b){b.getAll().forEach(function(c){c.ja.Y&&(a.s[c.x][c.y].Y=!0)})}function Na(a,b){var c=$a(a,b);a.s[c.x][c.y].W.push(b)}function ab(a,b){b.forEach(function(c){Na(a,c)})}
function bb(a,b,c){c=void 0===c?!1:c;a.getAll().some(function(d){if(d.ja.W.some(function(e,f){if(e===b)return d.ja.W.splice(f,1),c&&(d.ja.Y=!1),!0}))return!0})}function Ka(a,b){var c=!0;c=void 0===c?!1:c;b.forEach(function(d){bb(a,d,c)})}
Za.prototype.update=function(){var a=this,b=[];this.getAll().forEach(function(c){c.ja.W.forEach(function(d){if(!d.fixed){var e=new m(c.x,c.y),f=$a(a,d);f.compare(e)||b.push({K:d,Oa:e,$a:f})}})});b.forEach(function(c){var d=ua(a.s[c.Oa.x][c.Oa.y].W,c.K,null);a.s[c.Oa.x][c.Oa.y].W.splice(d,1)});b.forEach(function(c){a.s[c.$a.x][c.$a.y].W.push(c.K);za(c.K.v,c.$a);c.K.Ub.N()})};
function pa(a,b){a.getAll().forEach(function(c){c.ja.W.forEach(function(d){d.ua=!1;d.R=!1})});a.getAll().forEach(function(c){c.ja.W.forEach(function(d){d.m.$&&cb(a,d,c.x,c.y,b)})})}
function cb(a,b,c,d,e){function f(I,oa){var v=0;oa&&!I.R&&(v=I.speed.y*e);return I.position.y+v+I.height/2}function g(I,oa){var v=0;oa&&!I.ua&&(v=I.speed.x*e);return I.position.x+v+I.width/2}var k=!1;k=void 0===k?!1:k;e=void 0===e?0:e;var p=!1,n=[],t=[],u=0,A=0,O=0,L=0;t.push(new m(g(b,!0),f(b,!1)));t.push(new m(g(b,!1),f(b,!0)));var y=c-3;0>y&&(y=0);var C=c+3;C>a.Ia&&(C=a.Ia);c=d-3;0>c&&(c=0);var Y=d+3;Y>a.mb&&(Y=a.mb);d={};for(d.qa=y;d.qa<C;d={qa:d.qa},d.qa++)for(y={},y.ra=c;y.ra<Y;y={ra:y.ra},
y.ra++)a.s[d.qa][y.ra].W.forEach(function(I,oa){return function(v){if(v.m.$&&v!==b&&v.constructor.A&b.Ka){if(v.ka||b.ka){var z=new m(g(v,!1),f(v,!0));u=z.x-t[1].x;if(v.ka){A=z.y-t[1].y;z=b;var lb=v}else A=t[1].y-z.y,z=v,lb=b;O=v.La/2+b.La/2;L=v.za/2+b.za/2;Math.abs(u)<O&&A<L&&lb.position.y-z.position.y>z.za&&(p=!0,b.la&&(v.R=!0))}else for(n.length=0,n.push(new m(g(v,!0),f(v,!1))),n.push(new m(g(v,!1),f(v,!0))),p=!1,z=0;2>z;z++)u=n[z].x-t[z].x,A=n[z].y-t[z].y,O=v.La/2+b.La/2,L=v.za/2+b.za/2,Math.abs(u)<
O&&Math.abs(A)<L&&(p=!0,k?(I.ra=Y,oa.qa=C):0===z?b.la&&(v.ua=!0):b.la&&(v.R=!0));!k&&p&&b.ab.N(b,v)}}}(y,d))}
function $a(a,b){var c=new m(b.v.x,b.v.y);b.speed.x?b.ua&&b.speed.x?c.x=Math.round(b.position.x/a.f.b.g):0>b.speed.x&&b.position.x<=(c.x-1)*a.f.b.g?c.x--:0<b.speed.x&&b.position.x>=(c.x+1)*a.f.b.g&&c.x++:c.x=Math.round(b.position.x/a.f.b.g);b.speed.y?b.R&&b.speed.y&&(c.y=Math.round(b.position.y/a.f.b.g)):c.y=Math.round(b.position.y/a.f.b.g);0>b.speed.y&&b.position.y<=(c.y-1)*a.f.b.g?c.y--:0<b.speed.y&&b.position.y>=(c.y+1)*a.f.b.g&&c.y++;return c}
function P(a){this.endTime=a;this.a=0;this.c=!1;this.C=null;this.active=!1}P.prototype.update=function(a){!this.c&&this.active&&(this.a+=a,this.a>this.endTime&&(this.c=!0,this.C&&this.C(this)))};P.prototype.reset=function(a){this.active=a;this.c=!1;this.a=0};function E(a,b){this.f=a;this.K=b;this.a=[]}
E.prototype.N=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];var d=this;this.a.forEach(function(e){for(var f=d.K;f&&(e.Sb!==f||(e.Rb.apply(e,ba(b)),!e.terminate));)f.parent?f=f.parent:f=null})};E.prototype.addListener=function(a,b,c){a=new db(a,b,void 0===c?!1:c);this.a.push(a);return a};function db(a,b,c){this.Sb=a;this.Rb=b;this.terminate=void 0===c?!1:c}
function eb(a){this.a=new (window.AudioContext||window.webkitAudioContext);this.Ba=this.a.createGain();this.Ba.connect(this.a.destination);this.Ba.gain.value=.1;this.alpha=Math.pow(2,1/12);this.c=a}
eb.prototype.hb=function(a,b,c){function d(){p++;p>f.length-1&&c&&(p=0);var u=f[p];u?(e.endTime=u.Vb,e.reset(!0),n.frequency.value=u.Tb):n.stop()}c=void 0===c?!1:c;var e=new P(0);this.c.fa.push(e);var f=[],g=0,k=0;k=g=0;var p=-1,n=this.a.createOscillator();n.connect(this.Ba);n.type="square";n.start();e.C=function(){d()};for(var t=0;t<a.length;t+=2)g=parseInt(a.substring(t,t+2),16),62===(g&62)?k=0:(k=(g&62)>>1,g&1&&(k=-k),k=440*Math.pow(this.alpha,k)),g=4/Math.pow(2,(g&192)>>6)/(b/60),f.push({Tb:k,
Vb:g});d()};function Q(a,b,c){r.call(this,a,b,c);var d=this;window.addEventListener("keydown",function(e){-1<[37,38,39,40].indexOf(e.keyCode)&&e.preventDefault()},!1);this.u={Fa:null,F:null};this.a=this.L=null;this.b.I.ca=function(e){!d.a||"m"!==e.key&&"M"!==e.key||(d.a.Ba.gain.value=0<d.a.Ba.gain.value?0:.1)}}h(Q,r);
Q.prototype.o=function(){r.prototype.o.call(this);var a=new fb(this),b=[];b.push(gb());b.push(gb(!0));b.push([N(0,0,a.g,a.g,"w1",Q.a.Mb),hb("w1",a.g/8,10,a.g,22,Q.a.qb)]);b.push([new M([new m(16,16),new m(16,31)],"l",void 0,Q.a.sa),new M([new m(16,25),new m(0,17),new m(8,13),new m(4,7),new m(11,8),new m(16,0),new m(20,8),new m(27,7),new m(23,13),new m(31,17),new m(16,25)],"l",Q.a.sb,void 0)]);for(var c=0;3>c;c++)b.push(ib(c));b.push([N(0,0,this.b.g,this.b.g,"w2",Q.a.qb)]);b.push([N(0,0,this.b.g,this.b.g,
"b",Q.a.ub)]);b.push([new M([new m(0,16),new m(31,16)],"r",void 0,Q.a.Eb,2)]);b.push([N(0,0,this.b.g,this.b.g,"lo1",Q.a.sb)]);b.push([N(1,1,this.b.g-2,this.b.g-2,"lo2",Q.a.ub)]);b.push([N(0,0,this.b.g,this.b.g,"cu1",Q.a.tb)]);b.push([N(0,0,this.b.g,this.b.g,"cu2",Q.a.Wa)]);b.push([Wa(0,0,this.b.g/2,Q.a.sa,"pt",3)]);b.push([jb(a,this.b.g/2,this.b.g/2,"s0",Q.a.Pb)]);b.push([jb(a,this.b.g/2,this.b.g/2,"s1",Q.a.Wa)]);a=[];c=R.c.aa*this.b.g;var d=R.c.ga*this.b.g;a.push([N(0,0,c,d,"mb",Q.a.Jb),hb("",this.b.g/
4,d/3,c,2/3*d,Q.a.Ib),hb("",this.b.g/4,2/3*d,c,d/3,Q.a.Nb)]);this.ma.push(new Ba(10,this.b.g,this.b.g,b));this.ma.push(new Ba(1,c,d,a));va(this)};
Q.prototype.hb=function(){this.a||(this.a=new eb(this.b),this.a.hb("84808486cac6c4c6cac6848f7e8a85c0c5c9cb4f8b8985c0c4c0c5c9cb4f808486cac6c4c6cac6848f7e8a85c0c5c9cb4f8b8985c0c4c0c5c9cb4f04be448444c4cbc9cb83438444c4cbc9cb8343be43be91d5c7c3c783954391cbc9c5c985938545c5d191cdc74384808486cac6c4c6cac6848f7e8a85c0c5c9cb4f8b8985c0c4c0c5c9cb4fc0c5c9cb4f3e3e84c4c5407ec5c0c5cb8f84c4c540be45be84c4c540bec5c0c5cb8f84c4c540be85450abec9c5c0c2c6c88642bebec9c5c0c2c6d51090caccd0ce8a908c88c4c8cac5c0c5c4c5c0c5457ebec0c7c2c782457ebec4c5c4c5c4c50589c4c9c4c0854b4400444a48bec6c4808486cac6c4c6cac6848f7e8a85c0c5c9cb4f8b8985c0c4c0c5c9cb4f",120,
!0))};
Q.prototype.create=function(){var a=this;r.prototype.create.call(this);var b=new Za(this,R.c.aa,R.c.ga);this.b.D=b;this.u.F=new R(this,0,0);F(this.u.F,!1);this.u.Fa=new kb(this,0,0);this.u.Fa.Ca=this.u.F;this.u.F.Ca=this.u.Fa;this.L=new mb(this,0,0);this.u.Fa.j(this.L);this.b.j(this.u.F);this.b.j(this.u.Fa);this.b.o=8*this.b.g;this.L.oa.addListener(this.b,function(c){c?a.L.parent.kb():(F(a.L.parent.Ca,!0),F(a.L.parent,!1),a.L.parent.Ca.Ma(),a.L.parent.Ca.j(a.L),nb(a.L))});window.addEventListener("resize",this.J.bind(this));
this.J();this.b.start()};Q.prototype.J=function(){var a=this.b.Va/this.b.nb,b=document.getElementById("my-app");b.style.width=window.innerHeight*a+"px";b.style.height=window.innerHeight+"px";b=parseInt(b.style.width,10)/this.canvas.width/(parseInt(b.style.height,10)/this.canvas.height)*window.innerHeight;a*=b;if(a>window.innerWidth){var c=window.innerWidth/a;a=window.innerWidth;b*=c}this.canvas.style.width=a+"px";this.canvas.style.height=b+"px"};
l.Object.defineProperties(Q,{a:{configurable:!0,enumerable:!0,get:function(){return{sa:"#000000",Ob:"#f8d898",sb:"#f8a830",qb:"#c04800",Ja:"#f80000",tb:"#c868e8",Eb:"#2868c0",Mb:"#089050",Wa:"#70d038",Pb:"#f8f858",Lb:"#787878",ub:"#f8f8f8",Nb:"#d3d3d3",Ib:"#a9a9a9",Jb:"#696969"}}}});function fb(a){this.f=a;this.g=this.f.b.g}
function gb(a){function b(p,n,t,u){u=void 0===u?Q.a.Wa:u;return Wa(p,n,5,u,t)}function c(p,n,t,u){var A=ob(p+5,n+8,6);return[A[0],A[1],b(p,n,t,u)]}a=void 0===a?!1:a;var d="c";a&&(d="c1");var e=[];(function(p,n,t){var u=ob(p+5,n+2,-10);return[u[0],u[1],b(p,n,t)]})(22,8,d).forEach(function(p){e.push(p)});for(var f=0;4>f;f++){var g=18;!a||1!==f&&2!==f||(g=15);var k=void 0;0===f%2&&(k=Q.a.tb);c(f*(10-8/3),g,d,k).forEach(function(p){e.push(p)})}return e}
function ib(a){var b="p"+a;var c=[Wa(8-3*a,0,6,Q.a.Ob,b),Wa(8-3*a,0,6,Q.a.Lb,b,100,0,Math.PI)],d=Wa(0,12,10,Q.a.Ja,b,void 0,Math.PI/2,Math.PI);d.yb.push(new m(10,22));var e=N(10,12,10,15,b,Q.a.Ja),f=N(0,22,10,5,b,Q.a.Ja),g=N(20,14,12,3,b,Q.a.Ja),k=ob(11,27,5,[[-3,3],[-3,0],[0,0]][a]);return[c[0],c[1],d,e,f,g,k[0],k[1],new M([new m(29,17),new m(29-4*a,31)],b,void 0,Q.a.sa)]}
function jb(a,b,c,d,e){var f=Math.PI/5;a=[a.g/2,a.g/4];for(var g,k=[],p,n=0;10>n;n++)g=n*f-f/2,p=a[n%2],k.push(new m(b+Math.cos(g)*p,c+Math.sin(g)*p));return new M(k,d,e)}function ob(a,b,c,d){function e(g){return new M([new m(a,b),new m(a+g,b+c)],f,void 0,Q.a.sa,2)}d=void 0===d?[-3,3]:d;var f=void 0===f?"":f;return[e(d[0]),e(d[1])]}
function hb(a,b,c,d,e,f){for(var g=[],k=0;k<d;k++)g.push(new m(k,Math.sin(k/b*Math.PI)*b+c));Array.prototype.push.apply(g,[new m(0+d,c+e),new m(0,c+e)]);return new M(g,a,f,void 0)}function S(a,b,c){q.call(this,a,null,null,b,c,!0,!1)}h(S,q);function pb(a,b,c,d,e,f){e=void 0===e?Q.a.sa:e;q.call(this,a,q.a.Xa,{font:"bold "+(void 0===f?32:f)+"px serif",text:d,fillStyle:e},0,0,!0,!1)}h(pb,q);function T(a,b,c){S.call(this,a,b,c);this.oa=new E(a,this);this.Ca=null;this.Db=!0}h(T,S);T.prototype.Ma=function(){};
T.prototype.kb=function(){};function qb(a,b,c){S.call(this,a,b,c);b=this.j(new q(a,q.a.G,"b",a.b.g,a.b.g,!0,!1));b.scale.x=3;b.scale.y=3;this.j(new q(a,q.a.G,"pt",a.b.g,a.b.g,!0,!1))}h(qb,S);
function mb(a,b,c){T.call(this,a,b,c);var d=this;this.width=a.canvas.width;this.height=a.canvas.height;this.c=this.j(new rb(a,b,c));this.a=this.j(new rb(a,a.b.canvas.width/2,c,0));this.a.U.C=function(){d.a.Sa?(d.oa.N(!0),F(d,!1)):d.oa.N(!1)};this.h=this.j(new qb(a,a.b.canvas.width/2-a.b.g,a.b.canvas.height/2-a.b.g));this.I.Pa=function(){sb(d)}}h(mb,T);function sb(a){a.parent.Db&&!a.a.U.active&&nb(a)}
function nb(a){a.c.U.active=!0;a.a.U.active=!0;a.c.reverse();a.a.reverse();a.visible?F(a.h,!1):F(a,!0)}
function rb(a,b,c,d){d=void 0===d?1:d;S.call(this,a,b,c);this.Sa=!1;c=a.b.canvas.height/2-a.b.g/2;this.c=new m(this.position.x,this.position.y);this.a=new m(-(a.b.canvas.width/2)-a.b.g,this.position.y);0===d&&(this.a.x=a.b.canvas.width);for(var e=0;e<Math.floor(a.b.Va/2)+d;e++)b=e%2===d?this.j(new q(a,q.a.G,"cu1",e*a.b.g,c,!0,!1)):this.j(new q(a,q.a.G,"cu2",e*a.b.g,c,!0,!1)),b.scale.y=a.b.canvas.height/this.f.b.g,this.U=a.b.B(new K(this,1,0,H.a,new m(0,0),new m(0,0)))}h(rb,S);
rb.prototype.reverse=function(){this.Sa?(this.U.V(this.a,this.c),this.Sa=!1):(this.U.V(this.c,this.a),this.Sa=!0)};
function kb(a,b,c){function d(g){return new m((a.b.canvas.width-g.width)/2,(a.b.canvas.height-g.height)/2)}T.call(this,a,b,c);var e=this;this.I.ca=function(){e.f.L.visible||sb(e.f.L)};this.l="Oh, My Poor Rheumatic Back";this.H="Oh, My Poor Rheumatic B  ck";this.title=this.j(new pb(a,0,0,this.l,Q.a.sa,64));this.c=this.j(new pb(a,0,0,"Press any key"));this.a=d(this.title);b=d(this.c);b.y+=2*a.b.g;za(this.c.position,b);this.i=this.j(new q(a,q.a.G,"p0",926,this.a.y,!0,!1));this.h=new Qa;b=new K(this.title,
2,0,H.c,new m(this.a.x,a.canvas.height+this.title.height/2),new m(this.a.x,this.a.y));b.C=function(){e.title.frame.text=e.H};c=new Ta(this.i,2,0,H.c,new m(0,0),new m(1,1));var f=new Ta(this.c,2,0,H.c,new m(0,0),new m(1,1));this.h.B(b);this.h.B(c);this.h.B(f);this.f.b.B(this.h);this.j(new tb(a,0,0));this.Ma()}h(kb,T);
kb.prototype.Ma=function(){this.title.position.x=this.a.x;this.title.position.y=this.f.canvas.height+this.title.height/2;this.i.scale.x=0;this.i.scale.y=0;this.title.frame.text=this.l;this.c.scale.x=0;this.c.scale.y=0};kb.prototype.kb=function(){this.f.hb();Ra(this.h)};function ub(a,b,c,d){d=void 0===d?0:d;q.call(this,a,q.a.G,["s0","s1"],b,c,!0,!0);this.ha=1/3;Ea(this,d)}h(ub,q);
function tb(a,b,c){S.call(this,a,b,c);for(b=0;b<this.f.b.Va;b++)this.j(new ub(a,b*a.b.g,0,b%2)),this.j(new ub(a,b*a.b.g,a.b.g*(a.b.nb-1),1-b%2));for(b=1;b<this.f.b.nb-1;b++)this.j(new ub(a,0,b*a.b.g,b%2)),this.j(new ub(a,a.b.g*(a.b.Va-1),b*a.b.g,1-b%2))}h(tb,S);
function R(a,b,c){T.call(this,a,b,c);var d=this;this.Db=!1;this.a=new S(a,64,0);this.j(this.a);this.i=new Ia(a);this.a.j(new q(a,q.a.G,"mb",0,0,!0,!1,a.ma[1]));this.a.j(this.i);this.xa=new m(R.c.aa*this.f.b.g,R.c.ga*this.f.b.g);this.Kb=["w1","w2"];this.ob=new vb;this.w=this.w=null;this.Ga=new wb;this.h=null;this.Ha=new xb;this.ia=D(this.Ha,{f:a,x:0,y:0});this.pb=new yb;this.Ea=D(this.pb,{f:a,x:0,y:0});this.Ya=this.da=null;this.c=new zb(this.f,0,this.xa.y/2,10);this.c.M.addListener(this,function(){Ab(d)});
this.j(this.c);this.l=new Bb(a,0,0,0);this.j(this.l);this.rb=new Cb;this.ea=D(this.rb,{f:a,x:0,y:0});this.Na=null;this.H=[];this.Hb=this.f.b.B(new Va(this.a,2,1,H.c,1,.2));this.M=this.f.b.B(new Qa);a=.5*this.f.b.g;b=new m(0,0);for(c=0;7>c;c++){var e=Math.random()*Math.PI*2;b.x=Math.cos(e)*a+this.a.position.x;b.y=Math.sin(e)*a+this.a.position.y;this.M.B(new K(this.a,.1,0,H.a,this.a.position,b));this.M.B(new K(this.a,.1,0,H.a,b,this.a.position))}this.M.B(this.Hb)}h(R,T);
R.prototype.Ma=function(){Db(this);this.w.active=!1};R.prototype.kb=function(){this.w.active=!0;Eb(this.h);this.ia.O.reset(!0);this.Ea.O.reset(!0);Fb(this.ea)};
function Db(a){a.H.length=0;Ja(a.i,a.f.b.D);Gb(a);La(a.i,a.Na,a.f.b.D);Oa(a.i);a.i.a.forEach(function(b){a.H.push(a.f.b.B(new K(b,2,0,H.a,b.position,new m(w(a.f.b.g,a.f.u.F.xa.x-a.f.b.g),a.f.canvas.height+a.f.b.g))))});a.H[a.H.length-1].C=function(){Ja(a.i);nb(a.f.L);var b=a.l;b.a=0;Hb(b)};Na(a.f.b.D,a.w);a.a.j(a.ia);a.a.j(a.Ea);a.a.j(a.w);a.a.j(a.h);a.a.j(a.ea);ab(a.f.b.D,a.h.children);a.w.bb.addListener(a,function(){Ib(a.h,!1)});a.w.gb.addListener(a,function(){Eb(a.h,!1)});a.w.fb.addListener(a,
function(){a.c.a--;Jb(a.c);Kb(a.l,U.c)});a.w.cb.addListener(a,function(b){Kb(a.l,V.h);b.Qa===V.c.Gb?(Lb(a.ia),Kb(a.l,U.c*a.c.a),a.c.a=0,Jb(a.c)):b.Qa===V.c.Fb&&(Kb(a.l,V.h*a.h.va),Ib(a.h),Ra(a.M))});a.ia.eb.addListener(a,function(){a.c.a++;Jb(a.c)});a.c.a=0;Jb(a.c)}function Gb(a){a.w=D(a.ob,{f:a.f,x:1*a.f.b.g,y:16*a.f.b.g});a.h=D(a.Ga,{f:a.f,x:0,y:0,total:10});var b=Mb(a);a.Na=b.Na;a.da=b.da;a.Ya=[];a.da.forEach(function(c){c.x>10*a.f.b.g&&c.x<(R.c.aa-10)*a.f.b.g&&a.Ya.push(c)})}
function Mb(a){function b(n){c(n);n.ka=!0}function c(n,t){n.frames=a.Kb[void 0===t?0:t];n.Y=!0;n.P=!1}var d=[],e=!1,f=a.constructor.c;f=new Xa(f.aa,f.ga,{frames:[],Y:!1,P:!1,ha:.5,ka:!1});for(e=1;e<R.c.aa-1;e++)c(f.s[e][R.c.ga-1]);for(e=0;e<R.c.ga;e++)c(f.s[0][e],1),c(f.s[R.c.aa-1][e],1);for(var g=R.c.ga-1-3;1<g;g--){e=0===g%3?!0:!1;for(var k=1;k<R.c.aa-1;k++){var p=k-1;p-=9*Math.floor(p/9);e&&7>p&&(b(f.s[k][g+2]),d.push(new m(k*a.f.b.g,(g+1)*a.f.b.g)))}}return{Na:f,da:d}}
function Ab(a){B(a.ob,a.w);B(a.Ga,a.h);B(a.Ha,a.ia);B(a.pb,a.Ea);Ka(a.f.b.D,a.i.a);a.H.forEach(function(b){b.active=!0});B(a.rb,a.ea);a.a.removeChild(a.ia);a.a.removeChild(a.Ea);a.a.removeChild(a.h);a.a.removeChild(a.ea)}l.Object.defineProperties(R,{c:{configurable:!0,enumerable:!0,get:function(){return{aa:36,ga:18}}}});function Bb(a,b,c,d){pb.call(this,a,b,c,"");this.c=this.a=d;Hb(this)}h(Bb,pb);function Kb(a,b){a.a+=b;a.a>a.c&&(a.c=a.a);Hb(a)}
function Hb(a){a.frame.text="Score:"+a.a+" High: "+a.c}function W(a,b,c,d,e){q.call(this,a,q.a.G,b,c,d,!1,e);var f=this;this.jb=this.f.b.B(new Ta(this,.8,0,H.c,new m(0,0),new m(1,1)));this.lb=this.f.b.B(new Ta(this,.8,0,H.c,new m(1,1),new m(0,0)));this.lb.C=function(){f.terminate()};this.wb=!0;this.Za=5*this.f.b.g;this.M=new E(a,this)}h(W,q);W.prototype.terminate=function(){F(this,!1);this.M.N(this)};W.prototype.reset=function(){q.prototype.reset.call(this);bb(this.f.b.D,this);this.parent.removeChild(this)};
function Pa(a,b,c){W.call(this,a,["p0","p1","p2","p1"],b,c,!1);var d=this;this.cb=new E(a,this);this.bb=new E(a,this);this.gb=new E(a,this);this.ab.addListener(this,function(e,f){d.h.active||(f.constructor.A===U.A?f.Aa&&(B(d.f.u.F.ia.Da,f),d.fb.N(f)):f.constructor.A===V.A?f.Aa&&(B(d.f.u.F.Ea.Da,f),d.cb.N(f)):f.constructor.A===G.A&&f.active&&(e=d.f.u.F.da[w(0,d.f.u.F.da.length)],d.h.V(d.position,new m(e.x,e.y-2*d.f.b.g)),bb(d.f.b.D,d),d.h.active=!0,d.l.active=!0,d.la=!1,d.bb.N()))});this.h=this.f.b.B(new K(this,
4,0,H.a,new m(0,0),new m(0,0)));this.l=this.f.b.B(new Ua(this,.3,-1,H.a,2*Math.PI));this.h.C=function(){d.l.active=!1;d.angle=0;d.la=!0;ta(d);Na(d.f.b.D,d);d.gb.N()};this.ha=.25;this.fb=new E(a,this);this.i=3.5*this.f.b.g;this.H=7*-this.f.b.g;this.c=!1;this.Ka=G.A+Ga.A+U.A+V.A;this.a={left:!1,right:!1,Ta:!1};this.I.ca=function(e){if(39===e.keyCode||"d"===e.key||"D"===e.key)d.a.right=!0;else if(37===e.keyCode||"a"===e.key||"A"===e.key)d.a.left=!0;if(38===e.keyCode||"w"===e.key||"W"===e.key)d.a.Ta=
!0};this.I.wa=function(e){if(39===e.keyCode||"d"===e.key||"D"===e.key)d.a.right=!1;else if(37===e.keyCode||"a"===e.key||"A"===e.key)d.a.left=!1;else if(38===e.keyCode||"w"===e.key||"W"===e.key)d.a.Ta=!1}}h(Pa,W);
Pa.prototype.update=function(a){W.prototype.update.call(this,a);this.c&&this.R&&(this.c=!1);this.active&&((this.P=!0,this.a.left&&!this.a.right?(this.speed.x=-this.i,this.ba=!0):this.a.right&&!this.a.left?(this.speed.x=this.i,this.ba=!1):(this.speed.x=0,this.P=!1,Ea(this,0)),this.c)?this.a.Ta||(this.c=!1,0>this.speed.y&&(this.speed.y=0)):this.a.Ta&&this.R&&(this.speed.y=this.H,this.c=!0))};
Pa.prototype.reset=function(){W.prototype.reset.call(this);this.fb.a.length=0;this.cb.a.length=0;this.bb.a.length=0;this.gb.a.length=0;for(var a in this.a)this.a[a]=!1;this.P=this.ba=!1;Ea(this,0)};l.Object.defineProperties(Pa,{A:{configurable:!0,enumerable:!0,get:function(){return 2}}});
function G(a,b,c,d){W.call(this,a,["c","c1"],b,c,void 0===d?!0:d);var e=this;this.la=this.active=this.h=!1;this.c=2.91*this.f.b.g;this.l=7*-this.f.b.g;this.i=3.5*-this.f.b.g;this.w=a.u.F.w;this.a=!1;this.ha=1/3;this.Ka=Pa.A+Ga.A;this.speed.x=-this.c;this.ab.addListener(this,function(f,g){!e.h&&e.ua&&g!==e.w&&(e.h=!0,e.speed.x=-e.speed.x,e.ba=!e.ba)},!0);this.S=new P(0);a.b.fa.push(this.S);this.S.C=function(){e.lb.active=!0;e.active=!1};this.jb.C=function(){e.active=!0}}h(G,W);
G.prototype.terminate=function(){W.prototype.terminate.call(this)};
G.prototype.update=function(a){W.prototype.update.call(this,a);this.h=!1;this.a?this.R&&(this.a=!1):this.R?this.w.v.y===this.v.y?(Nb(this),0>this.speed.x&&!this.f.b.D.s[this.v.x-1][this.v.y+1].Y?(this.speed.y=this.i,this.a=!0):0<this.speed.x&&!this.f.b.D.s[this.v.x+1][this.v.y+1].Y&&(this.speed.y=this.i,this.a=!0)):this.w.v.y<this.v.y&&0===(this.w.v.y-1)%3?this.f.b.D.s[this.v.x][this.v.y-2].Y?(this.speed.x=0,this.speed.y=this.l):Nb(this):0===this.speed.x&&Nb(this):0<this.speed.y&&this.w.v.y-3<=this.v.y?
Nb(this):this.speed.x=0};function Nb(a){a.w.v.x<a.v.x?(a.speed.x=-a.c,a.ba=!0):a.w.v.x>a.v.x&&(a.speed.x=a.c,a.ba=!1)}l.Object.defineProperties(G,{A:{configurable:!0,enumerable:!0,get:function(){return 4}}});function X(a,b,c,d,e){S.call(this,a,b,c);var f=this;this.Da=d;this.time=e;this.O=new P(e);this.f.b.fa.push(this.O);this.eb=new E(a,this);this.O.C=function(){f.a()}}h(X,S);
X.prototype.a=function(){var a=this,b=D(this.Da,{f:this.f,x:w(this.f.b.g,this.f.u.F.xa.x-this.f.b.g),y:0});b.U.C=function(){b.Aa=!0;a.eb.N()};this.j(b);Na(this.f.b.D,b);var c=this.h();b.U.V(b.position,c[w(0,c.length)]);b.Ab.active=!0;b.U.active=!0;this.O.reset(!0);return b};X.prototype.reset=function(){S.prototype.reset.call(this);this.O.reset(!1);for(this.eb.a.length=0;0<this.children.length;)B(this.Da,this.children[0]);this.O.endTime=this.time};X.prototype.h=function(){return null};
function Ob(a,b,c){X.call(this,a,b,c,new Pb,3)}h(Ob,X);Ob.prototype.h=function(){return this.f.u.F.da};Ob.prototype.a=function(){var a=this,b=X.prototype.a.call(this);b.vb.C=function(){B(a.Da,b)};1.5<this.O.endTime&&(this.O.endTime+=-.0075)};function Lb(a){a.children.forEach(function(b){b.Aa&&(bb(a.f.b.D,b),b.Wb.active=!0,b.vb.active=!0)})}Ob.prototype.reset=function(){X.prototype.reset.call(this)};function Qb(a,b,c){X.call(this,a,b,c,new Rb,15);this.c=0}h(Qb,X);Qb.prototype.h=function(){return this.f.u.F.Ya};
Qb.prototype.a=function(){var a=X.prototype.a.call(this);this.O.endTime+=2;this.c++;a.Qa=1-this.c%2;Ea(a,a.Qa);a.S.reset(!0)};Qb.prototype.reset=function(){X.prototype.reset.call(this);this.c=0};
function Sb(a,b,c){S.call(this,a,b,c);var d=this;this.h=.625*Math.PI;this.i=8*a.b.g;this.c=new P(.3);this.c.C=function(){if(0<d.a.length){var e=d.a[0];d.a.splice(0,1);e.active=!0;F(e,!0);e.position.x=w(d.f.b.g,d.f.u.F.xa.x-d.f.b.g);e.position.y=0-a.b.g}d.c.reset(!0)};a.b.fa.push(this.c);this.a=[];b=null;for(c=0;10>c;c++)b=new Tb(a,0,0),F(b,!1),b.active=!1,b.angle=this.h,b.speed.x=Math.cos(this.h)*this.i,b.speed.y=Math.sin(this.h)*this.i,b.a.addListener(this,function(e){e.active=!1;e.visible=!1;d.a.push(e)}),
this.j(b)}h(Sb,S);function Fb(a){a.children.forEach(function(b){a.a.push(b)});a.c.reset(!0)}Sb.prototype.reset=function(){S.prototype.reset.call(this);this.a.length=0;this.children.forEach(function(a){F(a,!1);a.active=!1});this.c.reset(!1)};function Z(a,b,c,d){q.call(this,a,q.a.G,d,b,c,!1,!1);this.U=this.f.b.B(new K(this,2,0,H.a,new m(0,0),new m(0,0)));this.Aa=this.la=!1;this.angle=Math.PI/4;this.Ab=this.f.b.B(new Ua(this,2,-1,H.c,.5*-Math.PI))}h(Z,q);
Z.prototype.reset=function(){q.prototype.reset.call(this);this.angle=Math.PI/4;this.Aa=this.Ab.active=!1;bb(this.f.b.D,this);this.parent.removeChild(this)};function U(a,b,c){Z.call(this,a,b,c,"l");this.Wb=this.f.b.B(new Ta(this,2,0,H.a,new m(1,1),new m(10,10)));this.vb=this.f.b.B(new Va(this,2,0,H.a,1,0))}h(U,Z);U.prototype.reset=function(){Z.prototype.reset.call(this);this.scale.x=1;this.alpha=this.scale.y=1};
l.Object.defineProperties(U,{A:{configurable:!0,enumerable:!0,get:function(){return 8}},c:{configurable:!0,enumerable:!0,get:function(){return 100}}});function V(a,b,c){Z.call(this,a,b,c,["s0","s1"]);var d=this;this.Qa=0;this.S=new P(8);a.b.fa.push(this.S);this.S.C=function(){d.reset()}}h(V,Z);V.prototype.reset=function(){Z.prototype.reset.call(this);this.S.reset(!1)};
l.Object.defineProperties(V,{A:{configurable:!0,enumerable:!0,get:function(){return 16}},h:{configurable:!0,enumerable:!0,get:function(){return 200}},c:{configurable:!0,enumerable:!0,get:function(){return{Gb:0,Fb:1}}}});function Tb(a,b,c){q.call(this,a,q.a.G,"r",b,c,!1,!1);this.a=new E(a,this)}h(Tb,q);Tb.prototype.update=function(a){q.prototype.update.call(this,a);(0>this.position.x||this.position.x>this.f.u.F.xa.x||this.position.y>this.f.u.F.xa.y)&&this.a.N(this)};
function Ub(a,b,c,d){S.call(this,a,b,c);var e=this;this.l=Math.pow(10*a.b.g,2);this.i=new Vb;this.va=1;this.c=new P(12);a.b.fa.push(this.c);this.h=d;this.c.C=function(){e.va<e.h&&(e.va++,e.c.reset(!0))};this.a=new P(3);this.a.C=function(){Wb(e);e.a.reset(!0)};a.b.fa.push(this.a);Xb(this)}h(Ub,S);function Eb(a,b){b=void 0===b?!0:b;a.a.reset(!0);b&&a.c.reset(!0)}function Xb(a){for(var b=0;b<a.h;b++)F(a.j(D(a.i,{f:a.f,x:0,y:0})),!1)}
function Wb(a){var b=0,c=!1,d=0,e=null,f=ba(a.f.u.F.da).concat();a.children.some(function(g){if(!g.visible){for(c=!1;!c;)d=w(0,f.length),e=f[d],xa(g.w.position,e)<a.l?f.splice(d,1):c=!0;za(g.position,e);g.position.y-=.1;F(g,!0);g.jb.active=!0;ta(g);g.S.endTime=w(7,10);g.S.reset(!0)}b++;if(b>=a.va)return!0})}Ub.prototype.set=function(a){this.h=a.total;Xb(this)};
Ub.prototype.reset=function(){for(S.prototype.reset.call(this);0<this.children.length;)B(this.i,this.children[0]);this.a.reset(!1);this.c.reset(!1);this.va=1};function Ib(a,b){b=void 0===b?!0:b;a.children.forEach(function(c){c.visible&&(c.lb.active=!0,c.jb.active=!1,c.active=!1,c.S.reset(!1))});b?(a.a.reset(!0),a.c.reset(!0),a.va=1):a.a.reset(!1)}
function zb(a,b,c,d){S.call(this,a,b,c);this.H=d;this.a=0;this.i=10;this.l=this.i*a.b.g-2;this.h=new q(a,q.a.G,"lo1",0,0,!0,!1);this.c=new q(a,q.a.G,"lo2",0,0,!0,!1);this.h.scale.y=this.i;this.j(this.h);this.j(this.c);this.M=new E(a,this);Jb(this)}h(zb,S);function Jb(a){var b=(1-a.a/a.H)*a.l;a.c.scale.y=b/(a.f.b.g-2);a.c.position.y=b/2-a.l/2;a.a===a.H&&a.M.N()}function vb(){this.a=[]}h(vb,x);vb.prototype.c=function(a){return new Pa(a.f,a.x,a.y)};function wb(){this.a=[]}h(wb,x);
wb.prototype.c=function(a){return new Ub(a.f,a.x,a.y,a.total)};function Vb(){this.a=[]}h(Vb,x);Vb.prototype.c=function(a){return new G(a.f,a.x,a.y)};function xb(){this.a=[]}h(xb,x);xb.prototype.c=function(a){return new Ob(a.f,a.x,a.y)};function yb(){this.a=[]}h(yb,x);yb.prototype.c=function(a){return new Qb(a.f,a.x,a.y)};function Pb(){this.a=[]}h(Pb,x);Pb.prototype.c=function(a){return new U(a.f,a.x,a.y)};function Rb(){this.a=[]}h(Rb,x);Rb.prototype.c=function(a){return new V(a.f,a.x,a.y)};
function Cb(){this.a=[]}h(Cb,x);Cb.prototype.c=function(a){return new Sb(a.f,a.x,a.y)};(new Q(38,18,32)).o();
