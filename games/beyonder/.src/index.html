<!DOCTYPE html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Beyonder</title><style>*{text-shadow:0 0 .25em #0008,0 0 .5em #fff}body{margin:0;overflow:hidden;font-family:-apple-system,system-ui;font-weight:900;color:#fff;font-size:2vmax;cursor:default;background:#000;user-select:none;-webkit-user-select:none;text-align:center}canvas{width:100%;height:100%;display:block}.d,.c{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;z-index:1;position:fixed;inset:0;padding:1em;background:#0003}.d{background:#000}[hidden]{display:none}.title{font-size:2em;margin-bottom:1em}.e{margin-bottom:2em;font-size:.75em;max-width:40em}.f{font-size:.5em}.start{font-size:1.1em;padding:.5em 0;width:5em;border-radius:.25em;transition:all .2s ease}.start:hover{text-shadow:0 0 .25em #fff,0 0 .5em #000;color:#000}.start.b{bottom:.5em}</style><canvas></canvas><div class=c><div class=title>Beyonder</div><div class=e>You're dead. There is one thing left to do: go beyonder.<br>Follow the flow, or be a lost soul forever.<br><br>You move in the direction you're looking.<br>Go faster by using a mouse button, trigger or touch.<br>How fast can <i>you</i> reach the place that lies beyonder?</div><div class="start a">Start</div><div class="start b">VR</div><div class=f>Stick-controls supported for VR</div></div><div class=d>Generating music...</div><script>function h(a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]){return new Float32Array(a)}
function aa(a,b=a){let c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],k=b[5],l=b[6],p=b[7],n=b[8],y=b[9],E=b[10],I=b[11],F=b[12],G=b[13],X=b[14];b=b[15];let ba=c*k-d*g,u=c*l-e*g,v=c*p-f*g,w=d*l-e*k,x=d*p-f*k,Ea=e*p-f*l,Fa=n*G-y*F,Ga=n*X-E*F,Ha=n*b-I*F,Ia=y*X-E*G,Ja=y*b-I*G,Ka=E*b-I*X,H=1/(ba*Ka-u*Ja+v*Ia+w*Ha-x*Ga+Ea*Fa);a.set([(k*Ka-l*Ja+p*Ia)*H,(e*Ja-d*Ka-f*Ia)*H,(G*Ea-X*x+b*w)*H,(E*x-y*Ea-I*w)*H,(l*Ha-g*Ka-p*Ga)*H,(c*Ka-e*Ha+f*Ga)*H,(X*v-F*Ea-b*u)*H,(n*Ea-E*v+I*u)*H,(g*Ja-k*Ha+p*Fa)*H,(d*Ha-c*Ja-f*Fa)*H,(F*
x-G*v+b*ba)*H,(y*v-n*x-I*ba)*H,(k*Ga-g*Ia-l*Fa)*H,(c*Ia-d*Ga+e*Fa)*H,(G*u-F*w-X*ba)*H,(n*w-y*u+E*ba)*H])}
function ca(a,b,c){let d=b[0],e=b[1],f=b[2],g=b[3],k=b[4],l=b[5],p=b[6],n=b[7],y=b[8],E=b[9],I=b[10],F=b[11],G=b[12],X=b[13],ba=b[14];b=b[15];let u=c[0],v=c[1],w=c[2],x=c[3];a[0]=u*d+v*k+w*y+x*G;a[1]=u*e+v*l+w*E+x*X;a[2]=u*f+v*p+w*I+x*ba;a[3]=u*g+v*n+w*F+x*b;u=c[4];v=c[5];w=c[6];x=c[7];a[4]=u*d+v*k+w*y+x*G;a[5]=u*e+v*l+w*E+x*X;a[6]=u*f+v*p+w*I+x*ba;a[7]=u*g+v*n+w*F+x*b;u=c[8];v=c[9];w=c[10];x=c[11];a[8]=u*d+v*k+w*y+x*G;a[9]=u*e+v*l+w*E+x*X;a[10]=u*f+v*p+w*I+x*ba;a[11]=u*g+v*n+w*F+x*b;u=c[12];v=c[13];
w=c[14];x=c[15];a[12]=u*d+v*k+w*y+x*G;a[13]=u*e+v*l+w*E+x*X;a[14]=u*f+v*p+w*I+x*ba;a[15]=u*g+v*n+w*F+x*b;return a}function da(a,b){let c=b[0],d=b[1],e=b[2];b=b[3];a[0]=1-2*(d*d+e*e);a[1]=2*(c*d+b*e);a[2]=2*(c*e-b*d);a[4]=2*(c*d-b*e);a[5]=1-2*(c*c+e*e);a[6]=2*(d*e+b*c);a[8]=2*(c*e+b*d);a[9]=2*(d*e-b*c);a[10]=1-2*(c*c+d*d);return a}function m(a){return new Float32Array(a||3)}function ea(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function fa(a){return Math.hypot(...a)}
function ha(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2]}function ia(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}function ja(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a}function ka(a,b,c,d){a[0]=b[0]+(c[0]-b[0])*d;a[1]=b[1]+(c[1]-b[1])*d;a[2]=b[2]+(c[2]-b[2])*d;return a}function q(a,b){return Math.hypot(a[0]-b[0],a[1]-b[1],a[2]-b[2])}function la(a,b=a){let c=Math.hypot(b[0],b[1],b[2]);a[0]=b[0]/c;a[1]=b[1]/c;a[2]=b[2]/c;return a}
function ma(a,b,c){a[0]=b[1]*c[2]-b[2]*c[1];a[1]=b[2]*c[0]-b[0]*c[2];a[2]=b[0]*c[1]-b[1]*c[0];return a}function na(a,b,c){var d=b[0];let e=b[1],f=b[2];b=c[0];let g=c[1],k=c[2];c=c[3];let l=c*d+g*f-k*e,p=c*e+k*d-b*f,n=c*f+b*e-g*d;d=-b*d-g*e-k*f;a.set([l*c+d*-b+p*-k-n*-g,p*c+d*-g+n*-b-l*-k,n*c+d*-k+l*-g-p*-b])}function oa(a,b,c){b=ea(b,c)/ea(c,c);a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;return a}function r(a){return new Float32Array(a||[0,0,0,1])}
function pa(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=-b[3];return a}function qa(a,b){var c=[0,0,1];b/=2;let d=Math.sin(b);a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=Math.cos(b);return a}function ra(a,b,c){let d=ea(b,c)+1;d<Number.EPSILON?(d=0,Math.abs(b[0])>Math.abs(b[2])?a.set([-b[1],b[0],0,d]):a.set([0,-b[2],b[1],d])):a.set([b[1]*c[2]-b[2]*c[1],b[2]*c[0]-b[0]*c[2],b[0]*c[1]-b[1]*c[0],d]);b=Math.hypot(a[0],a[1],a[2],a[3]);a[0]/=b;a[1]/=b;a[2]/=b;a[3]/=b;return a}
function sa(a,b,c){let d=b[0],e=b[1],f=b[2];b=b[3];let g=c[0],k=c[1],l=c[2];c=c[3];a[0]=d*c+b*g+e*l-f*k;a[1]=e*c+b*k+f*g-d*l;a[2]=f*c+b*l+d*k-e*g;a[3]=b*c-d*g-e*k-f*l;return a}var t=m(),ta=r(),ua=r();function va(a){la(a);let b=r();ra(b,m([0,0,1]),a);sa(b,sa(b,ua,b),pa(r(),ua));sa(ta,ta,b)}var wa=h(),xa=h(),z=h();let A=new AudioContext({sampleRate:22050}),ya=A.createDynamicsCompressor();ya.connect(A.destination);let B=A.sampleRate;
function za(a=1){let b=A.createGain();b.gain.value=a;return b}function Aa(a,b,c,d){let e=A.createBiquadFilter();e.type=a;e.frequency.value=b;e.Q.value=c||1;e.gain.value=d||0;return e}let Ba=document.querySelector(".b"),Ca=document.querySelector(".a"),Da=document.querySelector(".c"),La=document.querySelector(".d"),Ma=!1;
class Na{constructor(a,b=!1){this.g=a;this.m=b;this.u=0}sample(a){for(;this.u<this.g.length-1;){let [b,c,d=1]=this.g[this.u],[e,f]=this.g[this.u+1];if(b<=a&&a<e)return a=(a-b)/(e-b),a=1<d?a**d:1-(1-a)**(1/d),this.m?c*(f/c)**a:c+a*(f-c);this.u++}return this.g[this.g.length-1][1]}}function Oa(){let a=.5*Math.random()+.5,b=.5*Math.random()+.5,c=.5*Math.random()+.5,d=Math.random();d<1/7?a=.1:d<2/7?b=a=.1:d<3/7?b=.1:d<4/7?c=b=.1:d<5/7?c=.1:d<6/7&&(a=c=.1);return[a,b,c]}
let C=()=>new Promise(a=>{La.textContent+=".";requestAnimationFrame(a)});function Pa(a,b){a%=1;return Math.sin(2*Math.PI*(a<.25*b?a/b:.5>a?.25+.25*(a-.25*b)/(.5-.25*b):a<1-.25*b?.5+.25*(a-.5)/(1-.25*b-.5):.75+.25*(a-(1-.25*b))/(.25*b)))}function Qa(){return 2*Math.random()-1}function Ra(a){var b=[.8,.4];let c=0;a.forEach(e=>{c=Math.max(c,e.length)});let d=new Float32Array(c);a.forEach((e,f)=>{for(let g=0;g<e.length;g++)d[g]+=b[f]*e[g]/a.length});return d}
function D(a,b){a=new Float32Array(a*B);for(let c=0;c<a.length;c++)a[c]=b(c/a.length,c/B);return a}function J(a,b){b=new Na(b);for(let c=0;c<a.length;c++)a[c]*=b.sample(c/a.length);return a}let Sa;function K(a){return Math.min(Math.max(a,0),1)}let L;
function Ta(){let a=za(),b=za(0),c=A.createConvolver();c.buffer=Sa;b.connect(ya);c.connect(a).connect(ya);let d=[];L={l(e,f,g,k,l){let p=za(f?1E-5:1);k=za(k);l=za(l);g.connect(k).connect(p).connect(a);p.connect(l).connect(c);d.push({J:e,W:f,controller:p})},V(e){e.connect(b)},aa(e){a.gain.setValueAtTime(Math.sqrt(e),A.currentTime)},Y(e){b.gain.setValueAtTime(Math.sqrt(e),A.currentTime)},$(e){for(let f of d)f.controller.gain.setValueAtTime(1E-5*1E5**K((e-f.J)/(f.W-f.J)),A.currentTime)},Z(e){for(let f=
0;f<d.length;f++)d[f].controller.gain.setValueAtTime(1E-5*1E5**K(1+f-e),A.currentTime)}}}function Ua(a,b){b.h.bind();for(let c=0;c<b.A.length;c++)b.A[c]&&b.A[c].bind(c);M.bindVertexArray(a.C);M.bindBuffer(34962,a.D);M.drawArrays(a.type,0,a.I)}let N=document.querySelector("canvas");function Va(){N.width=innerWidth*devicePixelRatio;N.height=innerHeight*devicePixelRatio}onresize=Va;Va();let M=N.getContext("webgl2",{xrCompatible:!0});M.enable(2929);
function O(a,b,c){M.uniform1f(M.getUniformLocation(a.j,b),c)}class Wa{constructor(){this.j=M.createProgram()}join(a){M.attachShader(this.j,a.h);return this}bind(){M.useProgram(this.j);return this}}class Xa{constructor(a,b){this.h=M.createShader(a);M.shaderSource(this.h,"#version 300 es\n"+b);M.compileShader(this.h)}}
function Ya(a){return new Xa(35633,"precision highp float;layout(location=0)in vec3 ap;uniform mat4 up;uniform mat4 uv;uniform mat4 um;uniform vec3 uhp;out vec3 vp;"+a)}let Za=Ya("void main(){vp=vec3(um*vec4(ap,1.));gl_Position=up*uv*vec4(vp,1.);}");
function $a(a){a.h.bind();M.uniformMatrix4fv(M.getUniformLocation(a.h.j,"up"),!1,wa);M.uniform3fv(M.getUniformLocation(a.h.j,"uhp"),t);M.uniform3fv(M.getUniformLocation(a.h.j,"ucp"),z.slice(12,15));M.uniformMatrix4fv(M.getUniformLocation(a.h.j,"uv"),!1,xa)}function ab(a,b){a.h.bind();M.uniformMatrix4fv(M.getUniformLocation(a.h.j,"um"),!1,b)}
class bb{constructor(a,b){this.h=new Wa;b?(b=Ya(b),this.h.join(b)):this.h.join(Za);a=new Xa(35632,"precision highp float;in vec3 vp;out vec4 o;uniform vec4 uc;uniform sampler2D ut[2];"+a+" void main(){o=shader();}");this.h.join(a);a=this.h;M.linkProgram(a.j);M.useProgram(a.j);M.useProgram(null);this.h.bind();this.A=[];for(a=0;2>a;a++)M.uniform1i(M.getUniformLocation(this.h.j,`${"ut"}[${a}]`),a)}}
class cb{constructor({data:a,width:b,height:c,U:d=10497,filter:e=9729}){this.g=M.createTexture();M.bindTexture(3553,this.g);b?M.texImage2D(3553,0,6408,b,c||b,0,6408,5121,new Uint8Array(a)):M.texImage2D(3553,0,6408,6408,5121,a);M.texParameteri(3553,10242,d);M.texParameteri(3553,10243,d);M.texParameteri(3553,10241,e);M.texParameteri(3553,10240,e)}bind(a=0){M.activeTexture(33984+a);M.bindTexture(3553,this.g)}}let db,eb;
function fb(a,b=[3,2,3]){for(var c=0;c<b.length;c++)a.g+=4*b[c];M.bindVertexArray(a.C);M.bindBuffer(34962,a.D);c=0;for(let d=0;d<b.length;d++)M.vertexAttribPointer(d,b[d],5126,!1,a.g,c),M.enableVertexAttribArray(d),c+=4*b[d];M.bindBuffer(34962,null);M.bindVertexArray(null);a.g/=4;a.I=a.length/a.g}function gb(a,b){a.length=b.length;M.bindVertexArray(a.C);M.bindBuffer(34962,a.D);M.bufferData(34962,b,35044);a.I=a.length/a.g}
function hb(){var a=ib,b=jb;M.bindVertexArray(a.C);M.bindBuffer(34962,a.D);M.bufferSubData(34962,0,b)}class kb{constructor(a=4){this.type=a;this.C=M.createVertexArray();M.bindVertexArray(this.C);this.D=M.createBuffer();M.bindBuffer(34962,this.D);this.I=this.length=this.g=0;M.bindBuffer(34962,null);M.bindVertexArray(null)}}let lb=new kb;fb(lb,[3]);gb(lb,new Float32Array([-1,-1,-1,1,-1,-1,0,1,-1,-1,-1,-1,0,0,1,0,1,-1,1,-1,-1,0,0,1,-1,-1,-1,0,1,-1,0,0,1,1,-1,-1]));let mb;
function nb(a,b){let c=new ob(e=>-e[1]);pb(c,[null,Infinity]);let d=e=>{let f=q(b,e.v.i);var g=[0,0,0];for(var k=0;3>k;k++)g[k]=k===e.F?b[k]:e.v.i[k];g=q(g,e.v.i);e.right||e.left?(k=e.right?e.left?b[e.F]<e.v.i[e.F]?e.left:e.right:e.right:e.left,d(k),f<c.g[0][1]&&(pb(c,[e,f]),qb(c)),Math.abs(g)<c.g[0][1]&&(e=k===e.left?e.right:e.left)&&d(e)):f<c.g[0][1]&&(pb(c,[e,f]),qb(c))};d(a.g);return[c.g[0][0].v,c.g[0][1]]}
class rb{constructor(a){let b=(c,d,e)=>{let f=d%3;if(0===c.length)return null;if(1===c.length)return{v:c[0],left:null,right:null,parent:e,F:f};c.sort((k,l)=>k.i[f]-l.i[f]);let g=Math.floor(c.length/2);e={v:c[g],left:null,right:null,parent:e,F:f};e.left=b(c.slice(0,g),d+1,e);e.right=b(c.slice(g+1),d+1,e);return e};this.g=b([...a],0,null)}}function pb(a,b){a.g.push(b);b=a.g.length-1;let c=a.g[b];for(;0<b;){let d=Math.floor((b+1)/2)-1,e=a.g[d];if(a.m(c)<a.m(e))a.g[d]=c,a.g[b]=e,b=d;else break}}
function qb(a){var b=a.g.pop();if(0<a.g.length){a.g[0]=b;b=0;let d=a.g.length,e=a.g[b],f=a.m(e);for(;;){let g=2*(b+1),k=g-1,l=null;var c=void 0;k<d&&(c=a.g[k],c=a.m(c),c<f&&(l=k));g<d&&a.m(a.g[g])<(null===l?f:c)&&(l=g);if(null!==l)a.g[b]=a.g[l],a.g[l]=e,b=l;else break}}}class ob{constructor(a){this.g=[];this.m=a}size(){return this.g.length}}function sb(a,b){a.g.push({u:a.g.length,i:b})}function tb(){var a=ub;let b=[];for(let c of a.g)b.push(c.i[0],c.i[1],c.i[2]);return new Float32Array(b)}
function vb(a){var b=ub;let [{u:c}]=nb(b.m,a);var d=b.g[c-1]?.i,e=b.g[c].i,f=b.g[c+1]?.i;let g,k;d?f?(g=ia(m(),e,d),k=ia(m(),f,e)):g=k=ia(m(),e,d):(g=k=ia(m(),f,e),d=ja(m(),e,g,-20));var l=fa(g);let p=fa(k);la(g);la(k);f=ia(m(),a,e);var n=oa(m(),ia(m(),a,d),g);let y=oa(m(),f,k),E=fa(n),I=fa(y);ha(n,n,d);ha(y,y,e);d=q(y,a);let F=q(e,a);a=q(n,a);let G=g;l=Math.max(0,c-1+E/l);d<a&&(a=d,G=k,n=y,l=c+I/p);F<a&&(a=F,n=e,e=ma(m(),g,k),G=0<fa(e)?la(ma(m(),f,e)):g,l=c);if(isNaN(a)||isNaN(n[0])||isNaN(G[0]))throw Error("wtf");
return[a,n,G,l/(b.g.length-1)]}class wb{constructor(){this.g=[]}update(){this.m=new rb(this.g)}}let xb=new wb;for(let a=-10;50>=a;a++)sb(xb,m([0,0,25*-a]));xb.update();let yb=new wb;sb(yb,m());let zb=m([0,0,-1]),Ab=m(zb),Bb=m([0,0,-1]);for(let a=0;1065>a;a++){15<=a&&950>a&&.1>q(Ab,Bb)&&(Bb[0]+=Math.random()-.5,Bb[1]+=Math.random()-.5,Bb[2]+=Math.random()-.5,la(Bb));la(ka(Ab,Ab,Bb,.25));let b=m();ja(b,yb.g[a].i,Ab,25);sb(yb,b)}yb.update();let P;
function Cb(...a){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${1024} ${1024}" width="${1024}" height="${1024}">${a.join("")}</svg>`}function Db(){return`<radialGradient id="${"g"}">${[[10,"#fff"],[40,"#fff8"],[80,"#fff2"],[100,"#fff0"]].map(([a,b])=>`<stop offset="${a}%" stop-color="${b}"/>`)}</radialGradient>`}
async function Eb(a){let b=new Image(1024,1024);b.src="data:image/svg+xml;utf8,"+encodeURIComponent(a);await new Promise(d=>{b.onload=d});a=document.createElement("canvas");let c=a.getContext("2d");a.width=1024;a.height=1024;c.drawImage(b,0,0,1024,1024);return a}let Fb;
async function Gb(){let a=Cb('<filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="3" result="t"/><feDisplacementMap in2="t" in="SourceGraphic" scale="50" xChannelSelector="R" yChannelSelector="G" /></filter>',`<defs>${Db()}</defs>`,'<g filter="url(#n)" fill="url(#g)">\n      <rect fill="#000" width="1024" height="1024"/>\n      <ellipse rx="500" ry="100" cx="512" cy="512"/>\n      <ellipse rx="300" ry="200" cx="512" cy="512"/>\n    </g>');Fb=new cb({data:await Eb(a),
U:33071})}let Hb,Ib=new kb;fb(Ib,[3]);gb(Ib,new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0,-1,1,0,1,-1,0]));let Jb,Kb=0,Lb=0,Mb=0,Nb=0,Ob=0,ub=xb,Pb=m(),Q=0,Qb=Array.from({length:50},()=>{let a=[Math.random()-.5,Math.random()-.5,Math.random()-.5];var b=qa(r(),Math.random()*Math.PI),c=ra(r(),[0,0,1],la(a));let d=5+20*Math.random();sa(b,c,b);b=da(h(),b);for(c=0;12>c;c++)b[c]*=d;b[12]=50*a[0];b[13]=50*a[1];b[14]=50*a[2];return[b,m([...Oa(),1]),.5>Math.random()]}),Rb=new kb(3);fb(Rb,[3]);gb(Rb,tb());new bb("\nvec4 shader () { return vec4(1.0); }\n");
let jb=new Float32Array(7E3),Sb=new Float32Array(4E3);for(let a=0;1E3>a;a++)jb.set([500*(Math.random()-.5),500*(Math.random()-.5),500*(Math.random()-.5),0,...Oa()],7*a);let ib=new kb(0);fb(ib,[3,1,3]);gb(ib,jb);let Tb=h([2E3,0,0,0,0,2E3,0,0,0,0,2E3,0,...yb.g.at(-1).i,1]);function Ub(){let a=m(t);for(let b=0;1E3>b;b++){let c=jb.subarray(7*b,7*b+3);ia(c,c,a)}ia(t,t,a);hb();Pb=vb(t)[1]}
function Vb(){var a=K(1-(q(t,Pb)-75)/87.5);M.depthMask(!1);$a(eb);ab(eb,h([-500,0,0,0,0,-500,0,0,0,0,-500,0,...z.slice(12,15),1]));O(eb.h,"ui",Kb);O(eb.h,"uk",Lb);O(eb.h,"us",Mb);O(eb.h,"ucc",Ob);O(eb.h,"ufa",a);Ua(lb,eb);M.enable(3042);M.blendFunc(1,1);M.disable(2929);M.depthMask(!1);$a(Hb);for(let b=0;b<Qb.length;b++){let [c,d,e]=Qb[b],f=h(c);f[12]+=z[12];f[13]+=z[13];f[14]+=z[14];ab(Hb,f);O(Hb.h,"uk",e?Lb:0);O(Hb.h,"us",e?0:Mb);M.uniform4fv(M.getUniformLocation(Hb.h.j,"uc"),d);O(Hb.h,"ufa",a);
O(Hb.h,"ub",K(Ob-b%4));Ua(Ib,Hb)}$a(mb);ab(mb,h());M.uniform3fv(M.getUniformLocation(mb.h.j,"ufp"),Pb);O(mb.h,"uk",Lb);O(mb.h,"us",Mb);Ua(ib,mb);$a(Jb);a=h(z);a[12]=0;a[13]=0;a[14]=0;ab(Jb,ca(h(),Tb,a));a=q(t,yb.g.at(-1).i);O(Jb.h,"uei",1/(90<Q?K(.01*(500-a)):0));Ua(Ib,Jb);M.depthMask(!0);M.enable(2929);M.disable(3042)}let Wb,Xb,Yb=!1,Zb={};document.addEventListener("mousedown",()=>{Yb=!0});document.addEventListener("touchstart",a=>{for(let b of a.changedTouches)Zb[b.identifier]=b;Yb=!0});
document.addEventListener("mouseup",()=>{Yb=!1});document.addEventListener("touchend",a=>{for(let b of a.changedTouches)delete Zb[b.identifier];Yb=!1});document.addEventListener("touchmove",a=>{for(let b of a.changedTouches)a=Zb[b.identifier],Zb[b.identifier]=b,10<Math.hypot(b.clientX-a.clientX,b.clientY-a.clientY)&&(Yb=!1)});function $b(a,b,c,d=!1){let e=Math.min(c+a.length,b.length);if(d)b.set(a.subarray(0,e-c),c);else for(d=c;d<e;d++)b[d]+=a[d-c]}
function ac(){return new Float32Array(Math.ceil(240*B/150))}let bc={};function R(a,b,c,d=!1){Array.isArray(b)||(b=[b]);let e=c.toString().substring(0,20);a.forEach(f=>{let g=e+f.slice(1).join("|");bc[g]||(bc[g]=c(440*2**(f[1]/12),60*(f[2]||1)/150,...f.slice(3)));Array.isArray(bc[g])||(bc[g]=[bc[g]]);for(let k=0;k<b.length;k++)$b(bc[g][k],b[k],Math.floor(B*f[0]*60/150),d)})}let cc=[[0,0],[.0045,1,.5],[.17,.75,.3],[1,0]];
function dc(a){let b=0;return J(D(1,function(){b+=a/B;return 2*Math.abs(b%1*2-1)-1}),cc)}let ec=!1;function fc(a,b){function c(){d+=a/B;return Pa(d,.5)}let d=0,e=[[0,0],[.01/b,1],[Math.min(.5,1-.01/b),.75,1],[1-.01/b,.75,1],[1,0]],f=D(b,c);a*=.98566;let g=D(b,c);a*=1.0293;b=D(b,c);ec&&([g,b]=[b,g]);ec=!ec;return[J(Ra([f,g]),e),J(Ra([f,b]),e)]}
function gc(a){return function(b,c){let d=0;c+=.2;let e=[[0,0],[.01/c,1],[Math.min(.5,1-.2/c),.75,1],[1-.2/c,.75,1],[1,0]];return J(D(c,function(f,g){d+=b*2**(5*(.7>g?0:Math.min(2*(g-.7),1))*Math.sin(30*g)/1200)/B;return a(d,.35)}),e)}}let hc=gc(Pa),ic=gc(function(a){a=3*Math.sin(2*a*Math.PI);-1>a&&(a=-1);1<a&&(a=1);return Math.sin(a*Math.PI*.5)});ic.toString=()=>"lead2";
function jc(){let a=0,b=new Na([[0,1580],[.022,200,.05],[1,65.3]],!0);return J(D(.33,function(c){c=b.sample(c);a+=c/B;c=1.1*Math.sin(2*a*Math.PI);-1>c&&(c=-1);1<c&&(c=1);return Math.sin(c*Math.PI*.5)}),[[0,0],[.015,1,.5],[.6,.4,.3],[1,0]])}function kc(a,b,c){a=[[0,c,.2],[.2,c,.15],[1,0]];let d=new Na([[0,0,.5],[.02,1,.45],[.2,0]]);return J(D(.6,function(e,f){e=d.sample(e);return.8*Qa()*c*(1-e)+Pa(261.63*f/4*3,1-.2*c)*e}),a)}
function lc(a,b){let c=[[0,0],[.01/b,.5],[1-.01/b,.5-.1*b],[1,0]],d=Math.random(),e=Math.random(),f=Math.random(),g=Math.random(),k=0,l=Qa(),p=1-Math.exp(-100/B),n=a*2**(10/1200),y=a*2**-.005,E=(I,F)=>()=>{d+=I/B;e+=F/B;f+=a/B;g+=.25*a/B;1<=g&&(--g,l=Qa());k=p*l+(1-p)*k;return Math.sin(2*Math.PI*d)+.25*Math.sin(4*Math.PI*e)+Math.sin(8*Math.PI*f)*k};return[J(D(b,E(a*2**(-10/1200),a*2**.005)),c),J(D(b,E(n,y)),c)]}function mc(a,b,c){a=[[0,0],[.015,.5*c,.4],[1,0]];return J(D(.2,Qa),a)}
function nc(a,b){return J(D(b,Qa),[[0,0,4],[1,.5]])}let oc,S=[3,5,6,8,10,11,13],pc=[3,5,6,8,10,12,13],T=S;function U(a){let b=Math.floor(a/7);a-=7*b;return T[a]+12*b}function qc(){return Math.ceil(7920*B/150)}function rc(a,b=0){let c=[];for(let d=0;d<a.length;d++)for(let e of a[d])c.push([.5*d+b,U(e)+-12]);return c}
function sc(){function a(e){T=S;e=rc([[0,-7,-14],[2],[4],[0],[6],[0],[2],[4],[0],[2],[4],[0],[6],[0],[2],[7],[0,-9,-16],[2],[4],[0],[6],[0],[2],[4],[0],[2],[4],[0],[6],[0],[2],[4],[-1,-8,-15],[1],[3],[-1],[6],[-1],[1],[3],[-1],[1],[3],[-1],[6],[-1],[1],[3],[-1,-10,-17],[1],[3],[-1],[6],[-1],[1],[3],[-1],[1],[3],[-1],[6],[-1],[1],[7]],e);R(e,d,dc)}function b(e){T=S;let f=rc([[0,-9,-16],[2],[4],[0],[6],[0],[2],[4],[0],[2],[4],[0],[6],[0],[2],[7],[0,-7,-14],[2],[4],[0],[6],[0],[2],[4],[-1,-8,-15],[2],
[4],[-1],[6],[-1],[2],[4],[0,-9,-16],[2],[4],[0],[6],[0],[2],[4],[0],[2],[4],[0],[6],[0],[2],[7],[0,-7,-14],[2],[4],[0],[6],[0],[2],[4]],e);R(f,d,dc);T=pc;e=rc([[-2,-4,-11],[0],[3],[-2],[6],[-2],[0],[2]],e+28);R(e,d,dc);return d}let c=A.createBuffer(1,qc(),B),d=c.getChannelData(0);a(0);a(32);b(64);b(96);R([[128,U(-2)-12],[128,U(0)],[128.5,U(0)-12],[129,U(2)-12],[129.5,U(4)-12],[130,U(2)-12],[130.5,U(-2)-12],[131,U(1)-12],[131.5,U(0)-12]],d,dc);return c}
let tc=[[0,0,1],[1,-2,1],[2,-1,1],[3,-3,1],[4,0,1],[5,-2,1],[6,-1,1],[7,-3,1],[8,-2,1],[9,0,.5],[9.5,-1,.5],[10,-2,1],[11,0,.5],[11.5,3,.5],[12,-2,1],[13,0,.5],[13.5,-1,.5],[14,-2,1],[15,0,.5],[15.5,3,1.5]];function uc(){let a=A.createBuffer(2,qc(),B);T=S;R(tc.map(([b,c,d])=>[8*b,U(c)-36,8*d]),[a.getChannelData(0),a.getChannelData(1)],fc);return a}
function vc(){let a=A.createBuffer(2,qc(),B);T=S;R([...tc.map(([b,c,d])=>[8*b,U(c)-24,8*d]),...tc.map(([b,c,d])=>[8*b,U(c)-12,8*d])],[a.getChannelData(0),a.getChannelData(1)],fc);return a}
function wc(){let a=A.createBuffer(2,qc(),B);T=S;let b=[[2,4],[1,2],[-1,2],[0,7],[1,.5],[2,.5],[3,4],[2,2],[1,2],[1,4],[2,2],[3,2],[4,6],[6,1.5],[3,6.5],[6,1.5],[3,4.5],[4,3.25],[3,.25],[2,.25],[1,.25],[0,4],[1,2],[2,2],[2,6],[1,1],[2,1],[4,3.5],[3,.25],[2,.25],[3,2],[4,2],[0,7.5],[1,.25],[2,.25],[4,3.5],[3,.25],[2,.25],[3,2],[2,1],[1,1],[0,6],[1,1],[2,1],[4,3.5],[3,.25],[2,.25],[3,2],[4,2],[0,7.5],[1,.25],[2,.25],[4,3.5],[3,.25],[2,.25],[3,2],[2,1],[1,1],[2,1],[1,1],[0,1],[1,1]],c=0,d=[];for(let e of b)d.push([c,
U(e[0])-12,e[1]]),c+=e[1];R(d,[a.getChannelData(0),a.getChannelData(1)],fc);return a}let xc=[[110,5,1],[111,6,.75],[112,6,.75],[112.75,5,.5],[113.5,4,.33],[114,4,3.33],[117.5,4,.16],[117.66,5,.16],[117.83,6,.16],[118,7,1],[119,8,1],[120,9,3.1],[123.33,7,.16],[123.5,8,.16],[123.66,9,.16],[123.83,10,.16]];
function yc(){let a=A.createBuffer(1,qc(),B);T=S;var b=[[0,2,4],[4,1,2],[6,-1,1.5],[7.75,-1,.25],[8,0,3.5],[11.5,-1,.25],[11.75,0,.25],[12,1,1.75],[14,2,.5],[15,1,.25],[15.25,2,.25],[15.5,3,.25],[15.75,4,1.75],[17.5,3,.25],[17.75,2,.4],[18.5,3,2.9],[21.5,2,.25],[21.75,1,.25],[22,2,.125],[22.125,3,.5],[22.75,2,.5],[23.5,1,.5],[24,1,3],[27.5,0,.25],[27.75,1,.25],[28,2,1.5],[29.5,1,.25],[29.75,2,.25],[30,3,1.5],[31.5,2,.25],[31.75,3,.25],[32,4,3],[35.5,4,.5],[36,7,1.5],[37.5,9,1],[38.5,8,1],[39.5,6,
3.6],[43.5,6,.5],[44,7,.75],[44.75,6,.75],[45.5,4,.75],[46.5,3,1],[48,3,.75],[48.75,4,.7],[49.5,3,.4],[50,3,.5],[50.67,2,.5],[51.33,2,.5],[52,2,.5],[52.67,3,.5],[53.33,2,.5],[54,1,.5],[54.67,0,.5],[55.33,1,.5],[56,2,3.25],[59.5,1,.25],[59.75,2,.25],[60,3,1.6],[62,4,1.6],[87.16,1,.16],[87.33,0,.16],[87.5,1,.16],[87.66,2,.16],[87.83,3,.16],[88,4,3.5],[105.5,7,1.5],[107,6,.5],[107.5,5,.5],[108,4,2]];R(b.map(([c,d,e])=>[c,U(d)+12,e]),a.getChannelData(0),hc);R(b.map(([c,d,e])=>[c,U(d)-12,e]),a.getChannelData(0),
hc);b=[[94,3,2],[96,2,4],...xc,[124,11,1.5],[125.5,10,.16],[125.66,9,.16],[125.83,8,.16],[126,7,1.5],[127.5,7,.16],[127.66,6,.16],[127.83,5,.16],[128,4,4]];R(b.map(([c,d,e])=>[c,U(d)+12,e]),a.getChannelData(0),hc);return a}
function zc(){let a=A.createBuffer(1,qc(),B);T=S;let b=[[64,4,3.2],[67.5,3,.25],[67.75,4,.25],[68,5,2],[70,4,1],[71,3,.5],[72,3,.5],[72.67,4,.4],[73.33,4,.4],[74,4,1.5],[75.5,3,.25],[75.75,4,.25],[76,5,2],[78,6,2],[80,3,1.5],[81.5,4,.25],[82,0,5],[91.25,3,.25],[91.5,2,.25],[91.75,1,.25],[92,2,2],[94,-1,2],[96,0,3],[99.5,3,.16],[99.66,4,.16],[99.83,5,.16],[100,6,1.5],[101.5,5,1.5],[103,4,1],[104,3,1.5],...xc,[124,11,2],[126,10,1],[127,9,.6],[128,10,4]];R(b.map(([c,d,e])=>[c,U(d),e]),a.getChannelData(0),
ic);return a}function Ac(){let a=A.createBuffer(1,qc(),B),b=a.getChannelData(0);T=S;let c=ac();R([[0,0],[2.5,0]],c,jc);for(let d=0;33>d;d++)b.set(15===d||32===d?c.subarray(0,c.length/2):c,Math.floor(4*B*d*60/150));return a}function Bc(){let a=A.createBuffer(1,qc(),B),b=a.getChannelData(0);T=S;let c=ac();R([[1,0,0,1],[3,0,0,1]],c,kc);let d=ac();R([[1,0,0,1],[3,0,0,1],[3.5,0,0,.8]],d,kc,!0);for(let e=0;32>e;e++)b.set(3===e%4?d:c,Math.floor(4*B*e*60/150));return a}
function Cc(){let a=A.createBuffer(1,qc(),B),b=a.getChannelData(0);T=S;let c=ac();R([[0,0,0,.5],[.5,0,0,1],[1.5,0,0,1],[2,0,0,1],[2.5,0,0,.5],[3.5,0,0,1]],c,mc);for(let d=0;32>d;d++)b.set(c,Math.floor(4*B*d*60/150));R([[27,0,5],[59,0,5],[127,0,5]],b,nc);return a}
function Dc(){let a=A.createBuffer(2,qc(),B);T=S;let b=[[1,0,4,9],[1,-2,2,7],[1,-1,3,6],[1,-3,1,6],[1,0,4,7],[1,-2,2,7],[1,-1,3,6],[1,-3,1,6],[1,-2,2,7],[.5,0,4,7],[.5,-1,3,6],[1,-2,2,7],[.5,0,4,7],[.5,0,3,8],[1,-2,2,7,9],[.5,0,4,7,9],[.5,-1,3,6,8],[1,-2,2,5,7],[.5,0,4,4,6]],c=0,d=[];for(let [e,...f]of b){for(let g of f)d.push([c,U(g)-12,8*e]);c+=8*e}T=pc;d.push([124,U(3)-12,8]);d.push([124,U(5)-12,8]);d.push([124,U(7)-12,8]);R(d,[a.getChannelData(0),a.getChannelData(1)],lc);return a}
function Ec(a){let b=A.createBufferSource();b.loop=!0;b.loopEnd=a.length;b.buffer=a;return b}
async function Fc(){let a=Ec(sc());await C();let b=Ec(uc());await C();let c=Ec(vc());await C();let d=Ec(wc());await C();let e=Ec(yc());await C();let f=Ec(zc());await C();let g=Ec(Ac());await C();let k=Ec(Bc());await C();let l=Ec(Cc());await C();let p=Ec(Dc());await C();oc={start(){a.start();b.start();c.start();d.start();e.start();f.start();g.start();k.start();l.start();p.start();L.l(-1,0,a,.125,1);L.l(6,8,b,.25,0);L.l(16,18,c,.15,1);L.l(25,27,d,.25,1);L.l(40,42,g,.16,0);var n=Aa("highpass",5E3);l.connect(n);
L.l(48,50,n,.06,.31);L.l(45,47,k,.08,.31);n=Aa("peaking",557,1.33,-7.6);p.connect(n);L.l(55,57,n,.15,.31);n=Aa("lowpass",5E3);e.connect(n);f.connect(n);L.l(75,77,n,.05,1)}}}let Gc,Hc,Ic;async function Jc(a,b){let c=a.split("\n");a=c.map((d,e)=>`<text style="font:900 120px system-ui" fill="${b}" text-anchor="middle" x="${512}" y="${512-50*c.length+100*e}">${d}</text>`);a=Cb(...a);return new cb({data:await Eb(a),U:33071})}
async function Kc(){Hc=await Jc("Nice!\nYou\u2019ve ascended!","#000");Ic=await Jc("Forever lost\nin limbo","#fff")}let V=0,Lc,Mc,W=new Float32Array([0,0,0,0]),Nc=0,Oc=0;
function Pc(){var a=0;3!==V&&(Oc=Math.max(0,Oc+(Yb?P:-.3*P)),a=Math.pow(2,Oc));var b=m([0,0,-1]);na(b,b,ua);na(b,b,ta);ja(t,t,b,100*a*P);if(0===V)500<fa(t)&&Ub();else a:{Kb+=P;if(1===V)a=q(t,Pb),Lc=K(1-(a-75)/87.5),Mc=K((a-75)/175),375<a?(V=2,Xb.G()):150>q(t,yb.g.at(-1).i)&&(V=3,Xb.G());else if(2===V){Nc=K(Nc+.1*P);if(1===Nc){Ma||(Ma=!0,location.reload());break a}W[3]+=P/3;Mc=K(1-W[3]/2)}else 3===V&&(Nc=K(Nc+.1*P),a=1-Math.exp(20*-P),W[0]=W[1]=W[2]=1,W[3]+=(1-W[3])*a/10,Lc+=(1-Lc)*a,Mc-=Mc*a);a=K((Q-
40)/2)**4;var c=K((Q-45)/2)**4,d=K((Q-75)/2)**4;b=K((Q-6)/2)**4+K((Q-16)/2)**4+K((Q-25)/2)**4+a+c+K((Q-48)/2)**4+K((Q-55)/2)**4+d;var e=Math.floor(Kb/1.6%33),f=Kb%1.6/1.6;var g=15!==e&&.625<f?1-4*(f-.625):1-4*f;let p=0;3===e%4&&.875<=f?p=1-4*(f-.875):.75<=f?p=1-4*(f-.75):.25<=f?p=1-4*(f-.25):0===e%4&&0<e&&(p=1-4*(f+.125));32===e&&(p=g=0);var k=0;for(var l of Qc[e])f>l[0]/4&&(k=.1+l[1]);l=K(p)*Lc*c;d=k*Lc*d;Lb=K(g)*Lc*a;Mb=l;Nb=d;Ob=b;3===V?(Rc+=P,L.Z(Rc/5)):L.$(Q);L.aa(Lc);L.Y(Mc)}3!==V&&250>q(t,
Pb)&&(l=vb(t),ka(Pb,Pb,l[1],1-Math.exp(-10*P)),Q=100*l[3]);da(z,sa(r(),ta,ua));z[12]=t[0];z[13]=t[1];z[14]=t[2];aa(xa,z);for(l=0;1E3>l;l++){a=jb.subarray(7*l,7*l+3);b=jb.subarray(7*l+3,7*l+6);let [p,n,y]=vb(a);g=K(1-(p-25)/75);d=50*g*g;k=Sb.subarray(4*l,4*l+3);c=.25*(1+l%5*(l%2))*Nb;e=la(ia(m(),a,n));f=ma(m(),e,y);ja(f,f,e,-.5);ja(y,y,f,c);ka(k,k,y,1-Math.exp(5*-P));ja(a,a,k,3*d*P);b[0]=5*g;Sb[4*l+3]=.001>g?Sb[4*l+3]+P:0;if(375<q(a,Pb)||1<Sb[4*l+3])b=[Math.random()-.5,Math.random()-.5,Math.random()-
.5],la(b),ja(a,t,b,250),a=vb(a)[2],Sb[4*l]=a[0],Sb[4*l+1]=a[1],Sb[4*l+2]=a[2],Sb[4*l+3]=0}hb()}
let Rc=0,Qc=[[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0]],[[0,1]],[[0,0],[1.75,1],[2,0]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,1]],[[0,0],[3.75,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,
1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]],[[0,0],[1.75,1],[2,0],[3.75,1]],[[0,1]]];
function Sc(){M.enable(3042);M.depthMask(!1);M.disable(2929);M.blendFunc(770,0===W[0]?771:1);Wb.h.bind();M.uniform4fv(M.getUniformLocation(Wb.h.j,"uc"),W);Ua(Ib,Wb);var a;3===V?a=Hc:2===V&&(a=Ic);a&&(M.blendFunc(770,771),Gc.h.bind(),Gc.A[0]=a,$a(Gc),a=h([2,0,0,0,0,2,-.1,0,0,-.1,1,0,0,0,-20*(1-Nc)**2-10,1]),ca(a,z,a),ab(Gc,a),Ua(Ib,Gc));M.depthMask(!0);M.enable(2929);M.disable(3042)}var Tc=navigator.xr,Y=null,Uc=null,Vc=null;
let Wc={S:[m(),m()],H:!1,T(){Wc.H=!0;Y.addEventListener("selectstart",Wc.N);Y.addEventListener("selectend",Wc.M)},G(){Wc.H=!1;Y.removeEventListener("selectstart",Wc.N);Y.removeEventListener("selectend",Wc.M)},N(){Yb=!0},M(){Yb=!1},update(a){var b=a.getViewerPose(Uc).views[0].transform.orientation;ua=r([b.x,b.y,b.z,b.w]);if(Wc.H){b=Y.inputSources;for(var c=0;c<Math.min(2,b.length);c++){var d=b[c];d=m([d.gamepad.axes[2],d.gamepad.axes[3],0]);.5<fa(d)&&.2>fa(Wc.S[c])&&va(m([-d[0],d[1],2]));Wc.S[c].set(d)}}b=
pa(r(),ta);c=m([-t[0],-t[1],-t[2]]);na(c,c,b);b=new XRRigidTransform({x:c[0],y:c[1],z:c[2]},{x:b[0],y:b[1],z:b[2],w:b[3]});b=Uc.getOffsetReferenceSpace(b);Vc=a.getViewerPose(b)}},Xc,Yc;var Zc=()=>{};
async function $c(){Y=await Tc.requestSession("immersive-vr",{requiredFeatures:["local"]});Yc=new XRWebGLLayer(Y,M);Y.updateRenderState({baseLayer:Yc,depthNear:10,depthFar:2E3});Y.addEventListener("end",()=>{Y=null;Zc()});Uc=await Y.requestReferenceSpace("local");Y.requestAnimationFrame(ad);Xb=Wc}
function ad(a,b){Y.requestAnimationFrame(ad);if(Xc){P=Math.min(.1,(a-Xc)/1E3);Xc=a;Wc.update(b);Pc();M.bindFramebuffer(36160,Yc.framebuffer);M.clearColor(0,0,0,1);M.clear(16640);for(let c of Vc.views)wa=c.projectionMatrix,xa=c.transform.inverse.matrix,z=c.transform.matrix,a=Yc.getViewport(c),M.viewport(a.x,a.y,a.width,a.height),Vb(),Sc()}else Xc=a}document.addEventListener("keydown",()=>{});document.addEventListener("keyup",()=>{});
let Z={o:0,s:0,deltaX:0,deltaY:0,start(){let a=1/Math.tan(.5),b=1/-1990;wa=h([a/(N.width/N.height),0,0,0,0,a,0,0,0,0,2010*b,-1,0,0,4E4*b,0])},async T(){document.body.requestPointerLock&&(document.body.requestPointerLock(),document.body.onclick=()=>document.body.requestPointerLock(),document.addEventListener("mousemove",Z.L));DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&await DeviceOrientationEvent.requestPermission();addEventListener("deviceorientation",
Z.X,!1);document.body.addEventListener("touchstart",Z.R);document.body.addEventListener("touchmove",Z.P);document.body.addEventListener("touchend",Z.O)},G(){document.removeEventListener("mousemove",Z.L);document.body.removeEventListener("touchstart",Z.R);document.body.removeEventListener("touchmove",Z.P);document.body.removeEventListener("touchend",Z.O)},update(){Z.B||!Z.deltaX&&!Z.deltaY||(Z.o=Z.deltaX/P,Z.s=Z.deltaY/P);Z.o-=4*Z.o*P;Z.s-=4*Z.s*P;let a=m([Z.deltaX+Z.o*P,-Z.deltaY-Z.s*P,1]);Z.deltaX=
0;Z.deltaY=0;va(a)},L(a){document.pointerLockElement===document.body&&(Z.o-=.04*(a.movementX||0),Z.s-=.04*(a.movementY||0))},R(a){Z.B=a.changedTouches[0]},P(a){a=a.changedTouches[0];let b=(Z.B.screenY-N.height/2)/(N.height/2),c=(a.screenY-N.height/2)/(N.height/2);Z.deltaX=(a.screenX-N.width/2)/(N.height/2)-(Z.B.screenX-N.width/2)/(N.height/2);Z.deltaY=c-b;Z.B=a},O(){Z.B=0},X(a){var b=a.alpha?.017453292519943295*a.alpha:0,c=a.beta?.017453292519943295*a.beta:0,d=a.gamma?.017453292519943295*a.gamma:
0;a=.017453292519943295*((orientation??screen.orientation.angle)||0);let e=r([-Math.SQRT1_2,0,0,Math.SQRT1_2]);var f=Math.cos(c/2);let g=Math.cos(b/2),k=Math.cos(-d/2);c=Math.sin(c/2);b=Math.sin(b/2);d=Math.sin(-d/2);f=r([c*g*k+f*b*d,f*b*k-c*g*d,f*g*d-c*b*k,f*g*k+c*b*d]);sa(f,f,e);sa(f,f,qa(r(),-a));Z.K?sa(ua,Z.K,f):Z.K=pa(f,f)}},bd,cd;function dd(){cd=requestAnimationFrame(ed);Z.start();Xb=Z}
function ed(a){cd=requestAnimationFrame(ed);bd?(P=Math.min(.1,(a-bd)/1E3),bd=a,Z.update(),Pc(),M.bindFramebuffer(36160,null),M.clearColor(0,0,0,1),M.clear(16640),Vb(),Sc()):bd=a}let fd;
function gd(){let a=A.createBuffer(2,6*A.sampleRate,A.sampleRate),b=a.getChannelData(0),c=a.getChannelData(1);for(let d=0;d<b.length;d++)b[d]=Qa(),c[d]=Qa();fd={start(){let d=A.createBufferSource();d.buffer=a;d.loop=!0;d.loopEnd=a.length;let e=za();var f=Aa("lowpass",80);d.connect(f).connect(e);f=Aa("bandpass",3E3);let g=za(.002);d.connect(f).connect(g).connect(e);d.start();L.V(e)}}}async function hd(){A.resume();await Xb.T();oc.start();fd.start();V=1;ub=yb;gb(Rb,tb());Ub()}
(async function(){await Kc();await Gb();await C();var a=Array(16777216);for(var b=0;4194304>b;b++)a[4*b]=Math.floor(256*Math.random()),a[4*b+1]=Math.floor(256*Math.random()),a[4*b+2]=Math.floor(256*Math.random()),a[4*b+3]=255;db=new cb({data:a,width:2048});await C();mb=new bb("in float vd;in vec3 vc;uniform float uk;float fba=187.5;float ga=250.;vec4 shader(){float b=1.+uk;float a=clamp((ga-vd)/(ga-fba),.0,1.);float r=2.*length(gl_PointCoord.xy-.5);return exp(-5.*r*r)*(r<.05?1.:.05/r)*vec4(vc,1.)*b*a;}",
"layout(location=1)in float app;layout(location=2)in vec3 ac;uniform vec3 ufp;uniform float uk;out float vd;out vec3 vc;void main(){vp=ap;vec4 m=uv*vec4(ap,1.);gl_Position=up*m;float a=clamp((m.z+10.)/-10.,.0,1.);gl_PointSize=(1.+uk)*10000./-m.z;vd=max(length(uhp-vp),length(ufp-vp));vc=a*min(vec3(app),ac*5.);}");Wb=new bb("vec4 shader(){return uc;}","void main(){gl_Position=vec4(ap,1.);}");
Gc=new bb("in vec2 vu;vec4 shader(){return texture(ut[0],vu);}","out vec2 vu;void main(){vu=ap.xy*.5+.5;vu.y=1.-vu.y;vp=vec3(um*vec4(ap,1.));gl_Position=up*uv*vec4(vp,1.);}");Hb=new bb("uniform float uk;uniform float us;uniform float ufa;uniform float ub;in vec2 vu;vec4 shader(){float g=texture(ut[0],vu*.5+.5).r*.5;float s=.2+.7*(uk+us);float r=length(vu);float gc=.5*exp(-2.*r*r)/(20.*r);return(.5+.5*ufa)*uc*vec4(vec3(g*s)+gc,1.)*(.1+.9*ub);}",
"out vec2 vu;void main(){vu=ap.xy;gl_Position=up*uv*um*vec4(ap,1.);}");Hb.A[0]=Fb;eb=new bb("uniform vec3 ucp;uniform float uk;uniform float us;uniform float ufa;uniform float ucc;\n#define LAYERS 4.\n#define PI 3.141592654\n vec2 mod2(inout vec2 p,vec2 size){vec2 c=floor((p+size*.5)/size);p=mod(p+size*.5,size)-size*.5;return c;}vec2 hash2(vec2 p){return texture(ut[0],.001*p).xy;}vec3 toSpherical(vec3 p){float r=length(p);float t=acos(p.z/r);float ph=atan(p.y,p.x);return vec3(r,t,ph);}float noise(vec2 p){return texture(ut[0],.002*p).x;}float tanh_approx(float x){float x2=x*x;return clamp(x*(27.+x2)/(27.+9.*x2),-1.,1.);}const vec4 hsv2rgb_K=vec4(1.,2./3.,1./3.,3.);vec3 hsv2rgb(vec3 c){vec3 p=abs(fract(c.xxx+hsv2rgb_K.xyz)*6.-hsv2rgb_K.www);return c.z*mix(hsv2rgb_K.xxx,clamp(p-hsv2rgb_K.xxx,.0,1.),c.y);}vec3 stars(vec3 rd,vec2 sp){vec3 col=vec3(.0);float m=LAYERS;for(float i=.0;i<m;++i){vec2 pp=sp+.5*i;float s=i/(m-1.);vec2 dim=vec2(mix(.05,.003,s)*PI);vec2 np=mod2(pp,dim);vec2 h=hash2(np+127.+i);vec2 o=-1.+2.*h;float y=sin(sp.x);pp+=o*dim*.5;pp.y*=y;float l=length(pp);float h2=fract(h.x*1887.);float h3=fract(h.x*2997.);col=h3<y?col+exp(-6000.*max(l-.001,.0))*mix(8.*h2,.25*h2*h2,s):col;}return col;}vec3 sky(vec3 rd,vec2 sp){float y=-.5+sp.x/PI;y=abs(y)+.1*smoothstep(.5,PI,abs(sp.y));return hsv2rgb(vec3(.6,.75,.35*exp(-15.*y)));}vec3 color(vec3 rd,vec3 lp,vec4 md){vec2 sp=toSpherical(rd.xzy).yz;float sf=.0;float cf=.0;vec3 col=vec3(.0);col+=sky(rd,sp)*min(1.,ufa)*min(1.,ucc);col+=stars(rd,sp)*(.1+us);return col;}vec4 shader(){vec3 lp=vec3(.0,.5,-1.);vec4 md=50.*vec4(vec3(1.,1.,-.6),.5);vec3 rd=normalize(vp-ucp);vec3 col=color(rd,lp,md);return vec4(col,1.);}");
eb.A[0]=db;Jb=new bb("uniform float uei;in vec2 vu;vec4 shader(){float r=2.*length(vu)*uei;return exp(-5.*r*r)*(r<.05?1.:.05/r)*vec4(1.);}","uniform vec3 ufp;out vec2 vu;void main(){vu=ap.xy;gl_Position=up*uv*um*vec4(ap,1.);}");b=[[0,1,.15],[1,0]];a=J(D(4,Qa),b);b=J(D(4,Qa),b);a=[a,b];Array.isArray(a)||(a=[a]);b=A.createBuffer(a.length,a[0].length,B);for(let c=0;c<a.length;c++)b.getChannelData(c).set(a[c]);
Sa=b;await C();Ta();await Fc();gd();await C()})().then(()=>{La.hidden=!0;Zc=()=>{dd()};Ba.onclick=async()=>{Xb.G();cancelAnimationFrame(cd);await $c();await hd()};Ca.onclick=async()=>{Da.hidden=!0;await hd()};dd()});
</script>