<!DOCTYPE HTML><html><head><title>untitled13</title><script src="http://untitled13.x0.hu/socket.io/socket.io.js"></script><script> function q(){return function(){}} window.onload=function(){A={F:{Yb:30,pd:30,ua:20,ta:20,pc:0,Fa:180,Yc:60},Ta:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lb:0,Xa:1,Bb:0,ib:1,jb:2,zb:3,Ab:4,na:0,O:1,Ba:2,X:3,Zb:-1,Sa:0,yb:1,hb:2,Ua:0,$b:1,Va:2,Wb:[[32,32],[64,32],[64,64],[24,24]],ma:0};A.xb=1E3/A.F.Yb;A.ca=A.xb/1E3;A.Oa=0;A.Ib=0;A.uc=1E3/A.F.pd;A.Aa=0;A.rb=0;A.td=A.Bb;A.ia=0;A.L=1;A.wb=-1;A.la=0;A.ka=0;A.N=[];A.Na=[];A.J=[];A.Ga=0;A.D={Ob:0,Q:[640,360],sb:0,ba:[0,0,0],ja:[0,0,0]};A.Sc={};A.wa=[10,10];A.scroll= [0,-40];A.map=[];A.ra=[];A.Qb={0:"rgba(0,0,0,0.2)",1:"rgba(0,0,0,0.4)",2:"#4a3",3:"#391",4:"#682",5:"#462",6:"rgba(190,60,5,0.7)",7:"#821",8:"#ddd",9:"#dd0",a:"#ee0",b:"#bbb",c:"#ccc",d:"#ddd",e:"#248",f:"rgba(0,128,255,0.7)",g:"#fff",h:"rgba(0,255,0,0.8)",i:"rgba(0,255,0,0.3)",j:"rgba(160,0,0,0.4)",k:"rgba(255,0,0,0.7)",l:"#842",m:"rgba(255,128,0,0.7)",o:"rgba(255,230,30,0.6)",p:"#fb6",q:"rgba(128,0,128,0.4)",r:"#06b",s:"#08f",t:"#3af",u:"#bdf",v:"rgba(190,60,80,0.7)",w:"#824",x:"#082",y:"rgba(0,230,80,0.7)"}; A.sa={};A.Xb={};A.n=[];A.ha=[];A.G=[];A.M=[];A.H=[];A.Y=[[[0,0]],[[-1,-1],[0,-1],[-1,0],[1,0],[0,1],[1,1]],[[-2,-2],[-1,-2],[0,-2],[-2,-1],[1,-1],[-2,0],[2,0],[-1,1],[2,1],[0,2],[1,2],[2,2]],[[-3,-3],[-2,-3],[-1,-3],[0,-3],[-3,-2],[1,-2],[-3,-1],[2,-1],[-3,0],[3,0],[-2,1],[3,1],[-1,2],[3,2],[0,3],[1,3],[2,3],[3,3]]];A.Cb=function(e,f,g,h,k,l,n){var m={};m.bb=e;m.R=f;m.B=g;m.Sb=h;m.W=k;m.P=n;m.T=[l,l];m.U=A.fa(g);m.Lb=0;m.gb=m.B;m.Ra=6;m.od=11;m.status=A.Ua;m.za=-1==l;m.cb=0;m.La=3;m.selected=0;m.Ha= 5;m.uid="object_"+A.n.length;m.ob=function(e){this.status=A.$b;(1==A.L||e)&&B.send("object_destroy",[this.uid,1])};m.rc=function(){var e;if(!this.za){for(e=0;e<5*this.Ha;e++)A.H.push([[this.U[0]+2*A.K(-1,1)*this.Ha,this.U[1]+2*A.K(-1,1)*this.Ha],[A.K(-20,20),-50],A.K(1,2),2]);this.status=A.Va;A.eb(this.B,this.T[1]/2,2,this.R);this.Sb=[0,0];this.B=[-10,-10];A.la+=this.Ha}};m.pb=function(){this.Lb=A.ma+3/A.ca};m.Wc=function(e,f){f==this.R&&!A.F.pc||this.za||this.status!=A.Ua||(this.pb(),this.T[0]-= e,0>=this.T[0]&&(this.T[0]=0,this.ob(0)))};m.Pb=function(){1==A.ka?this.selected=!this.selected:2==A.ka&&this.ob(1)};m.vd=q();m.Vc=function(){A.L==this.R&&this.Pb()};m.ud=q();m.tb=q();m.Hb=function(){var e,f,g,h;for(e in A.n)A.n[e]!=this&&(f=A.pa(this.B,A.n[e].B),0.5>f&&(g=A.pa(this.B,A.n[e].gb),h=A.pa(this.B,A.da(A.n[e].B,A.oa(A.n[e].B,A.n[e].gb))),g>f&&h>f&&this.tb(A.n[e],e,f)))};m.fb=q();return m};A.Ia=function(e,f,g,h,k,l){return new A.Cb(e,1,f,g,h,k,l)};A.Wa=function(e,f,g,h,k,l,n){e=new A.Cb(e, 2,f,0,0,g,n);e.Ra=-1;e.Ha=10;e.Kb=0;e.qa=0<h?A.Sa:A.Zb;e.Da=[0,h];e.aa=[0,k];e.ga=[0,l];e.Gb=3;e.Ea=20;e.Ka=0.1;e.V=-1;e.oc=0;e.nc=1;e.ab=q();e.Xc=function(){var e;-1!=this.V&&(0==this.nc||A.n[this.V].status!=A.Ua||A.pa(A.n[this.V].B,this.B)>this.Gb)&&(this.V=-1);-1==this.V&&(e=A.sc(this.B,this.Gb),this.V=e[this.oc]);-1!=this.V&&(this.ab(),this.aa[0]=0,this.Da[0]--,0==this.Da[0]?(this.ga[0]=0,this.qa=A.Sa):this.qa=A.yb)};e.fb=function(){this.qa==A.hb?this.Xc():this.qa==A.yb?(this.pb(),this.aa[0]+= A.ca,this.aa[0]>=this.aa[1]&&(this.aa[0]=this.aa[1],this.qa=A.hb)):this.qa==A.Sa&&(this.pb(),this.ga[0]+=A.ca,this.ga[0]>=this.ga[1]&&(this.ga[0]=this.ga[1],this.Da[0]=this.Da[1],this.aa[0]=this.aa[1],this.qa=A.hb))};return e};A.dc=function(e,f,g){e=new A.Ia("Switch",e,0,0,-1,[]);e.sd=f;e.W=g;e.Ra=-1;e.cb=1;e.La=0;e.update=function(){this.P=[];f[0]&&this.P.push([0==this.W?"b0":"a0",-32,-16]);f[1]&&this.P.push([1==this.W?"b1":"a1",-32,-16]);f[2]&&this.P.push([2==this.W?"b2":"a2",-32,-16]);f[3]&&this.P.push([3== this.W?"b3":"a3",-32,-16])};e.tb=function(e){e.B=[Math.round(e.B[0]),Math.round(e.B[1])];e.gb=[e.B[0],e.B[1]];e.W=this.W};e.fb=function(){this.Hb()};e.toggle=function(){for(var e=1;e||0==this.sd[this.W];)this.W=(this.W+1)%4,e=0;this.update()};e.Pb=function(){1==A.ka&&B.send("player1_switch_toggle",[this.uid])};e.update();return e};A.Db=function(e){var f=new A.Ia("The mark",e,0,0,-1,[[13,-32,-16]]);f.Ra=-1;f.cb=1;f.La=0;f.tb=function(e){e.W=-1;e.ob(0)};f.fb=function(){this.Hb()};A.n.push(new A.kb(A.da(e, [-1,-1])));A.n.push(new A.kb(A.da(e,[1,0])));A.n.push(new A.kb(A.da(e,[0,1])));return f};A.ec=function(e){e=new A.Wa("Tower one",e,100,40,0.1,2,[[20,-32,-48],[21,-32,-48]]);e.Ea=5;e.ab=function(){A.M.push([A.oa(this.U,[0,32]),A.oa(A.n[this.V].U,[A.Ca(-4,4),A.Ca(12,20)]),2,0.2,0.2]);A.eb(A.n[this.V].B,this.Ea,this.Ka,this.R)};return e};A.fc=function(e){e=new A.Wa("Flame tower",e,100,100,0,2,[[20,-32,-48],[22,-32,-48]]);e.Ea=1;e.Ka=0.5;e.ab=function(){var e=A.hc(this.B,A.n[this.V].B);A.G.push([A.Eb(this.B), [-10*Math.sin(e),-10*Math.cos(e)],[0.9,0.9],1,25,this.Ea,this.Ka,this.R])};return e};A.gc=function(e){e=new A.Wa("Tower two",e,200,75,0,2,[[20,-32,-48],[23,-32,-48]]);e.Ea=2;e.Ka=0.5;e.ab=function(){for(var e=0;2>e;e++)A.M.push([A.oa(this.U,[-4+8*e,32]),A.oa(A.n[this.V].U,[A.Ca(-6,6),A.Ca(12,20)]),2,0.2,0.2]),A.eb(A.n[this.V].B,this.Ea,this.Ka,this.R)};return e};A.kb=function(e){e=new A.Wa("Crystal",e,50,0,0,0,[[20,-32,-48],[A.n.length%2?"d1":"d2",-32,-58]]);e.Kb=1;return e};A.ac=function(e,f){var g= new A.Ia("Floaty",e,0.75,f,100,[[5,-16,-32,2,2],[4,-16,-32,2,2],[3,-16,-32,2,2]]);for(j=0;3>j;j++)g.P[j][5]=A.K(0,1),g.P[j][6]=A.K(0,1),g.P[j][7]=A.K(1,4),g.P[j][8]=A.K(1,4);return g};A.bc=function(e,f){var g=new A.Ia("Runner",e,1.5,f,75,[[16,-16,-32,2,1],[15,-16,-34,0,3],[14,-16,-32,2,2]]);g.Ha=2.5;for(j=0;3>j;j++)g.P[j][5]=A.K(0,1),g.P[j][6]=A.K(0,1),g.P[j][7]=A.K(1,4),g.P[j][8]=A.K(1,4);return g};A.cc=function(e,f){var g=new A.Ia("Badaboom",e,0.75,f,225,[[5,-16,-32,2,2],[4,-16,-32,2,2],[18,-16, -32,2,2]]);for(j=0;3>j;j++)g.P[j][5]=A.K(0,1),g.P[j][6]=A.K(0,1),g.P[j][7]=A.K(1,4),g.P[j][8]=A.K(1,4);return g};A.$a=function(){var e,f="";for(e=0;32>e;e++)f+=A.Ta[Math.floor(Math.random()*(A.Ta.length-1))];return f};A.pa=function(e,f){return Math.sqrt(Math.pow(e[0]-f[0],2)+Math.pow(e[1]-f[1],2))};A.nb=function(e,f,g){for(var h=[],k=0;k<g;k++)h[k]=A.Ta.indexOf(e[k+f])/(A.Ta.length-1);return h};A.fa=function(e){c=640;d=32;x=55*e[0]-40*e[1]+c;y=8*e[0]+20*e[1]+d;return[x,y]};A.lc=function(){var e=[A.D.Q[0]+ A.scroll[0],A.D.Q[1]+A.scroll[1]];c=640;d=32;a=(e[0]-c+2*(e[1]-d))/71;b=(55*a+c-e[0])/40;return[a,b]};A.K=function(e,f){return Math.random()*(f-e)+e};A.Ca=function(e,f){return Math.round(1*(Math.random()*(f-e)+e))};A.Fb=function(e,f){var g={};g.A=document.createElement("canvas");g.A.width=e?e:32;g.A.height=f?f:32;g.I=g.A.getContext("2d");return g};A.mc=function(){var e=[[0,1,12,1],[12,1,12,10],[13,6,17,6],[0,14,6,14],[6,1,6,14],[6,10,12,10],[6,15,6,19],[13,10,16,10]],f=[[6,1,14,1],[12,1,12,2],[12, 6,7,1],[6,14,13,0],[6,10,7,1],[12,10,11,1]],g,h,k;for(g in e)for(h=e[g][0];h<=e[g][2];h++)for(k=e[g][1];k<=e[g][3];k++)A.map[h][k]=2;for(g in f)A.n.push(new A.dc([f[g][0],f[g][1]],[f[g][2]&1,f[g][2]&2,f[g][2]&4,f[g][2]&8],f[g][3]))};A.ea=function(e,f){var g,h=[];for(g in e)g!=f&&(h[g]=e[g]);return h};A.Ya=function(e){var f,g=[];for(f in e)g.push(e[f]);return g};A.Za=function(e,f,g,h){var k;e=e.createLinearGradient(f[0],f[1],g[0],g[1]);for(k in h)e.addColorStop(h[k][0],h[k][1]);return e};A.mb=function(e, f,g,h,k){var l=-Math.PI/2,n=2*Math.PI;e.beginPath();e.fillStyle=k;e.moveTo(f[0],f[1]);e.arc(f[0],f[1],g,l,l+n*h,!1);e.fill();e.closePath()};A.da=function(e,f){return[e[0]+f[0],e[1]+f[1]]};A.oa=function(e,f){return[e[0]-f[0],e[1]-f[1]]};A.Eb=function(e){return[e[0],e[1]]};A.hc=function(e,f){return Math.atan2(e[0]-f[0],e[1]-f[1])};A.Ja=function(e,f,g){return e[0]>=f[0]&&e[0]<g[0]&&e[1]>=f[1]&&e[1]<g[1]};A.ic=function(e){var f=A.n[i].B;return f[0]==e[0]&&f[1]==e[1]};A.jc=function(e){return 0>e?0:1<e? 1:e};A.kc=function(){var e=A.F.Fa-A.ia,f,g=0>e;g&&(e*=-1);f=Math.floor(e/60);e=Math.floor(e%60);return(g?"-":"")+(10>f?"0":"")+f+":"+(10>e?"0":"")+e};A.va=function(e){if(0>A.Na[A.L-1]+e)return!1;A.Na[A.L-1]+=e;return!0};A.rd=function(){var e;delete A.sa;for(e in A.N)if(A.Ja(A.D.Q,A.N[e][0],A.da(A.N[e][0],[24,24]))){""!=A.N[e][5]?A.sa={bb:A.N[e][5]}:A.sa={bb:"toolbar"};return}for(e in A.n)if(0.5>A.pa(A.wa,A.n[e].B)&&!(A.L!=A.n[e].R&&A.n[e].cb||2==A.ha[Math.round(A.n[e].B[0])][Math.round(A.n[e].B[1])])){A.sa= A.n[e];return}A.sa={}};A.$=function(e){1==A.L?(11==e&&A.va(-100)?A.J[A.Ga][4].push(11):12==e&&A.va(-125)?A.J[A.Ga][4].push(12):13==e&&A.va(-200)&&A.J[A.Ga][4].push(13),11>e&&(A.ka=e)):A.ka=e};A.Tb=function(){for(var e in A.n)A.n[e].selected=0};A.nd=function(){var e=A.da(A.D.ba,A.scroll),f=A.da(A.D.Q,A.scroll),g;A.Tb();for(g in A.n)A.n[g].R==A.L&&!A.n[g].za&&A.n[g].U[0]>=e[0]&&A.n[g].U[0]<=f[0]&&A.n[g].U[1]>=e[1]&&A.n[g].U[1]<=f[1]&&(A.n[g].selected=1)};A.Pa=function(e){A.Ga=e};A.ub=function(e){A.J[e][3]-= 20;0==A.J[e][3]&&(A.J[e][3]=120);A.Pa(e)};A.vb=function(e){A.J[e][5]=!A.J[e][5];A.Pa(e)};A.$c=function(e){for(var f in A.n)A.n[f].uid==e[0]&&A.n[f].toggle()};A.Tc=function(e){if(11==e[0])A.n.push(new A.ac(e[2],e[3]));else if(12==e[0])A.n.push(new A.bc(e[2],e[3]));else if(13==e[0])A.n.push(new A.cc(e[2],e[3]));else if(20<e[0]){if(21==e[0])A.n.push(new A.ec(e[2]));else if(22==e[0])A.n.push(new A.fc(e[2]));else if(23==e[0])A.n.push(new A.gc(e[2]));else return;A.ra[e[2][0]][e[2][1]]=A.lb}else return; A.n[A.n.length-1].uid=e[1]};A.Uc=function(e){for(var f in A.n)A.n[f].uid==e[0]&&A.n[f].rc()};A.Vb=function(e){A.L=e;A.Tb();A.$(1);A.N=1==e?[[[8,8],"c1","1",A.$,1,"Select"],[[34,8],"c2","2",A.$,2,"Explode"],[[60,8],"e3","3",A.$,11,"Floaty (100)"],[[86,8],"e4","4",A.$,12,"Runner (125)"],[[112,8],"e5","5",A.$,13,"Badaboom (200)"],[[4,40],"cx","Q",A.vb,0,"Start/stop"],[[28,40],"cx","W",A.ub,0,"Change delay"],[[52,40],"cx","E",A.Pa,0,"Select queue"],[[4,66],"cx","A",A.vb,1,"Start/stop"],[[28,66],"cx", "S",A.ub,1,"Change delay"],[[52,66],"cx","D",A.Pa,1,"Select queue"],[[4,92],"cx","Z",A.vb,2,"Start/stop"],[[28,92],"cx","X",A.ub,2,"Change delay"],[[52,92],"cx","C",A.Pa,2,"Select queue"]]:[[[8,8],"c1","1",A.$,1,"Select"],[[34,8],"c2","2",A.$,2,"Explode"],[[60,8],"f3","3",A.$,21,"Tower one (200)"],[[86,8],"f4","4",A.$,22,"Flame tower (300)"],[[112,8],"f5","5",A.$,23,"Tower two (400)"]]};A.C=function(e,f,g){var h,k,l,n=A.Wb[g][0],m=A.Wb[g][1],r=A.Fb(n,m),p=r.I;for(g=0;g<f.length;g++)switch(f[g]){case "a":var s= p.getImageData(0,0,n,m);l=A.nb(f,g+1,2);for(k=0;k<m;k++)for(h=0;h<n;h++)0<s.data[4*(k*n+h)+3]&&(p.fillStyle="rgba(0,0,0,"+A.K(l[0],l[1])+")",p.fillRect(h,k,1,1));g+=2;break;case "p":p.fillStyle=A.Qb[f[++g]];p.strokeStyle=A.Qb[f[++g]];p.beginPath();l=A.nb(f,g+1,2);p.moveTo(l[0]*n,l[1]*m);g+=2;h="";for(g++;"."!=f[g];)h+=f[g],g++;l=A.nb(h,0,h.length);for(h=0;h<l.length;h+=2)p.lineTo(l[h]*n,l[h+1]*m);p.closePath();p.fill();p.stroke()}A.Xb[e]=r};A.S=function(e,f,g){A.A.I.drawImage(A.Xb[e].A,f,g)};A.vc= function(e,f){var g,h,k=A.A.I;0.2>f?(g=f/0.2,h=6+8*g,k.fillStyle="rgba(255,255,"+Math.floor(255-255*g)+",0.7)"):0.5>f?(g=(f-0.2)/0.3,h=14+6*g,k.fillStyle="rgba(255,"+Math.floor(255-255*g)+",0,"+(0.7-0.5*g)+")"):0.7>f?(g=(f-0.5)/0.2,h=20+-4*g,k.fillStyle="rgba("+Math.floor(255-255*g)+",0,0,"+(0.2-0.1*g)+")"):(g=(f-0.7)/0.3,h=16+-2*g,k.fillStyle="rgba(0,0,0,"+(0.1-0.1*g)+")");k.beginPath();k.arc(e[0],e[1],h,0,2*Math.PI,!1);k.fill();k.closePath()};A.wc=function(e){var f=A.A.I;e[3]==A.$&&A.ka==e[4]?(f.fillStyle= "#000",f.fillRect(e[0][0],e[0][1],24,24),f.strokeStyle="#fff",f.strokeRect(e[0][0],e[0][1],24,24),A.S(e[1],e[0][0],e[0][1])):(A.S(e[1],e[0][0],e[0][1]),f.fillStyle="rgba(0,0,0,0.1)",f.fillRect(e[0][0],e[0][1],24,24))};A.Jb=function(e,f,g,h){A.A.I.fillStyle="rgba(0,0,0,0.3)";A.A.I.fillRect(e,f,g,h)};A.Ma=function(e,f,g,h,k){A.A.I.fillStyle=k;A.A.I.fillRect(e,f,g,4);A.A.I.fillStyle="rgba(0,0,0,0.8)";A.A.I.fillRect(e+g*h,f,g-g*h,4);A.A.I.fillStyle=A.Za(A.A.I,[e,f],[e,f+4],[[0,"rgba(0,0,0,0.1)"],[0.7, "rgba(0,0,0,0.4)"],[1,"rgba(0,0,0,0.3)"]]);A.A.I.fillRect(e,f,g,4)};A.Ec=function(){var e,f,g;for(e=0;e<A.F.ua;e++)for(f=0;f<A.F.ta;f++)g=A.fa([e,f]),A.S(A.map[e][f],g[0]-32,g[1]-16)};A.Fc=function(){var e,f,g;g=A.fa([Math.floor(A.wa[0]+0.5),Math.floor(A.wa[1]+0.5)]);A.S(1,g[0]-32,g[1]-16);for(e in A.n)if(g=A.n[e].U,A.n[e].selected&&A.S(A.n[e].od,g[0]-32,g[1]-16),2==A.L)for(f in A.n)2==A.n[f].R&&A.n[f].V==e&&A.S(12,g[0]-32,g[1]-16);for(e=0;e<A.F.ua;e++)for(f=0;f<A.F.ta;f++)A.ra[e][f]==A.Xa&&(g=A.fa([e, f]),A.S(17,g[0]-32,g[1]-16))};A.yc=function(){var e,f,g;for(e=0;e<A.F.ua;e++)for(f=0;f<A.F.ta;f++)2==A.ha[e][f]?(g=A.fa([e,f]),A.S(9,g[0]-32,g[1]-16)):1==A.ha[e][f]&&(g=A.fa([e,f]),A.S(10,g[0]-32,g[1]-16))};A.Gc=function(e,f){var g,h,k,l;for(g in A.n)if(A.Ja(A.n[g].B,e,f)&&(k=A.n[g],!(k.status==A.Va||k.R!=A.L&&k.cb)&&0<=k.B[0]&&k.B[0]<A.F.ua&&0<=k.B[1]&&k.B[1]<A.F.ta&&2!=A.ha[Math.round(k.B[0])][Math.round(k.B[1])]))for(j in h=k.U,-1!=k.Ra&&A.S(k.Ra,h[0]-32,h[1]-16),k.P)l=k.P[j],l[5]+=l[7]*A.Aa,l[6]+= l[8]*A.Aa,rx=Math.cos(l[5])*l[3]||0,ry=Math.sin(l[6])*l[4]||0,A.S(l[0],h[0]+l[1]+rx,h[1]+l[2]+ry)};A.xc=function(e,f){for(var g in A.H)A.Ja(A.H[g][0],e,f)&&(A.H[g][0][0]+=A.H[g][1][0]*A.Aa,A.H[g][0][1]+=A.H[g][1][1]*A.Aa,A.H[g][1][0]*=0.99,A.H[g][1][1]*=0.99,A.vc(A.H[g][0],1-A.H[g][2]/A.H[g][3]))};A.Hc=function(e,f){var g,h,k=A.A.I;for(g in A.M)A.Ja(A.M[g][0],e,f)&&(h=A.jc(A.M[g][3]/A.M[g][4]),k.strokeStyle=A.Za(k,A.M[g][0],A.M[g][1],[[0,"rgba(255,255,0,"+0.7*h+")"],[0.5,"rgba(255,255,255,"+h+")"], [1,"rgba(255,255,255,"+0.9*h+")"]]),k.beginPath(),k.moveTo(A.M[g][0][0],A.M[g][0][1]),k.lineTo(A.M[g][1][0],A.M[g][1][1]),k.closePath(),k.lineWidth=A.M[g][2],k.stroke(),A.M[g][3]-=A.Aa,0>=A.M[g][3]&&(A.M=A.ea(A.M,g)))};A.Bc=function(){var e,f=A.A.I;A.D.ja[0]&1&&(e=A.oa(A.D.Q,A.D.ba),f.fillStyle="rgba(255,255,255,0.2)",f.strokeStyle="#fff",f.fillRect(A.D.ba[0],A.D.ba[1],e[0],e[1]),f.strokeRect(A.D.ba[0],A.D.ba[1],e[0],e[1]))};A.Cc=function(){var e,f,g,h=A.A.I;if(1==A.L)for(e in h.fillStyle=A.Za(h, [0,4],[0,32],[[0,"#b00"],[0.8,"#600"],[1,"#800"]]),h.fillRect(4,4,136,32),A.J)for(f in h.fillStyle="rgba(200,0,0,"+(A.Ga==e?"0.3":"0.1")+")",h.fillRect(4,40+26*e,72,24),g=0,A.J[e][4])11==A.J[e][4][f]?A.S("e3",72+24*g,40+26*e):12==A.J[e][4][f]?A.S("e4",72+24*g,40+26*e):13==A.J[e][4][f]&&A.S("e5",72+24*g,40+26*e),g++;else h.fillStyle=A.Za(h,[0,4],[0,32],[[0,"#06e"],[0.8,"#038"],[1,"#04a"]]),h.fillRect(4,4,136,32);h.fillStyle="rgba(0,0,0,0.2)";h.fillRect(6,6,132,28);for(e in A.N)A.wc(A.N[e]);if(1==A.L)for(e in A.J)A.S(1== A.J[e][5]?"cc":"cd",4,40+26*e),A.S(A.Ga==e?"cb":"ca",52,40+26*e),A.mb(h,[40,52+26*e],10,1,"#411"),A.mb(h,[40,52+26*e],10,A.J[e][3]/120,"#922"),A.mb(h,[40,52+26*e],8,A.J[e][2]/120,"#fff");h.font="16px Arial bold";h.textAlign="right";h.fillStyle="#fff";h.fillText(A.Na[A.L-1],A.A.A.width-4,18);h.fillStyle=0<A.F.Fa-A.ia?"#fff":"#ff0";h.fillText(A.kc(),A.A.A.width-70,18)};A.zc=function(){var e,f;for(e in A.n)A.n[e].R!=A.L||A.n[e].za||A.n[e].Lb<A.ma&&!A.n[e].selected||(f=A.oa(A.n[e].U,A.scroll),1==A.n[e].R? (A.Jb(f[0]-18,f[1]+6,36,8),A.Ma(f[0]-16,f[1]+8,32,A.n[e].T[0]/A.n[e].T[1],"#5f0")):(A.Jb(f[0]-24,f[1]+6,48,14),A.Ma(f[0]-22,f[1]+8,44,A.n[e].T[0]/A.n[e].T[1],"#5f0"),A.n[e].qa==A.Sa?A.Ma(f[0]-22,f[1]+14,44,A.n[e].ga[0]/A.n[e].ga[1],"#bbb"):(A.Ma(f[0]-22,f[1]+14,32,A.n[e].Da[0]/A.n[e].Da[1],"#ee0"),A.Ma(f[0]+10,f[1]+14,12,A.n[e].aa[0]/A.n[e].aa[1],"#eee"))))};A.Dc=function(){var e=A.A.I;A.sa&&A.sa.bb&&(e.font="16px Arial bold",e.textAlign="left",e.fillStyle="#fff",e.fillText(A.sa.bb,166,18))};A.Ac= function(){A.S(8,A.D.Q[0],A.D.Q[1])};A.tc=function(e,f,g){0<=e&&e<A.F.ua&&0<=f&&f<A.F.ta&&A.ha[e][f]>g&&(A.ha[e][f]=g)};A.xa=function(e,f,g,h){for(var k in A.Y[g])A.tc(e+A.Y[g][k][0],f+A.Y[g][k][1],h)};A.bd=function(){var e,f,g,h;for(e=0;e<A.F.ua;e++)for(f=0;f<A.F.ta;f++)A.ha[e][f]=2;for(e in A.n)A.n[e].R==A.L&&(h=A.n[e],f=Math.round(h.B[0]),g=Math.round(h.B[1]),A.xa(f,g,0,0),1==h.La?A.xa(f,g,1,1):2==h.La?(A.xa(f,g,1,0),A.xa(f,g,2,1)):3==h.La&&(A.xa(f,g,1,0),A.xa(f,g,2,0),A.xa(f,g,3,1)))};A.jd=function(){A.A.I.setTransform(1, 0,0,1,0,0);A.A.I.fillStyle="#111";A.A.I.fillRect(0,0,A.A.A.width,A.A.A.height);try{0<A.la&&(A.A.I.translate(A.Ca(-A.la,A.la),A.Ca(-A.la,A.la)),A.la=Math.floor(A.la/2)),A.A.I.save(),A.A.I.translate(-A.scroll[0],-A.scroll[1]),A.ld()}catch(e){}try{A.A.I.restore(),A.md()}catch(f){}};A.ld=function(){var e,f,g,h,k,l;A.Ec();A.Fc();A.yc();for(e=0;e<A.F.ua;e++)for(f=0;f<A.F.ta;f++)try{g=[e-0.5,f-0.5],h=[e+0.5,f+0.5],A.Gc(g,h),k=A.oa(A.fa([e,f]),[32,16]),l=A.da(k,[55,28]),A.xc(k,l),A.Hc(k,l)}catch(n){}};A.md= function(){A.Bc();A.Cc();A.zc();A.Dc();A.Ac()};A.Mc=function(){A.D.sb=0;A.D.Ob=1};A.Mb=function(e){var f=A.A.A.getBoundingClientRect();A.D.sb=1;A.D.Ob=1;A.D.Q=[e.clientX-f.left,e.clientY-f.top];e.preventDefault()};A.Jc=function(){for(var e in A.N)if(A.Ja(A.D.Q,A.N[e][0],A.da(A.N[e][0],[24,24])))return A.N[e][3](A.N[e][4]),!0;return!1};A.Kc=function(){for(var e in A.n)if(0.5>A.pa(A.wa,A.n[e].B))return A.n[e].Vc(),!0;return!1};A.Lc=function(){var e=[Math.floor(A.wa[0]+0.5),Math.floor(A.wa[1]+0.5)]; if(2==A.L&&7==A.map[e[0]][e[1]]){for(i in A.n)if(2==A.n[i].R&&A.ic(e))return;A.ra[e[0]][e[1]]==A.lb&&(21==A.ka&&A.va(-200)?(A.ra[e[0]][e[1]]=A.Xa,B.send("object_create",[21,A.$a(),e])):22==A.ka&&A.va(-300)?(A.ra[e[0]][e[1]]=A.Xa,B.send("object_create",[22,A.$a(),e])):23==A.ka&&A.va(-400)&&(A.ra[e[0]][e[1]]=A.Xa,B.send("object_create",[23,A.$a(),e])))}};A.Ic=function(e){1==e.which&&(A.Mb(e),A.D.ja[0]|=1,A.D.ba=A.D.Q,A.D.ba[2]=1,A.Jc()||(A.D.ba[2]=2,A.Kc()||(A.D.ba[2]=3,A.Lc())),e.preventDefault())}; A.Nc=function(e){1==e.which&&(A.D.ja[0]&1&&(A.D.ja[0]|=2,3==A.D.ba[2]&&A.nd()),e.preventDefault())};A.Nb=function(){A.scroll[0]-=(window.innerWidth-A.A.A.width)/2;A.scroll[1]-=(window.innerHeight-A.A.A.height)/2;A.A.A.width=window.innerWidth;A.A.A.height=window.innerHeight};A.Oc=function(){A.A=A.Fb(1280,720);A.A.A.addEventListener("mousemove",A.Mb,!1);A.A.A.addEventListener("mousedown",A.Ic,!1);A.A.A.addEventListener("mouseup",A.Nc,!1);A.A.A.addEventListener("mouseout",A.Mc,!1);window.addEventListener("resize", A.Nb,!1);A.Nb();document.getElementById("container").appendChild(A.A.A)};A.Pc=function(){var e,f,g;A.ia=0;A.Na=[1E3,1E3];A.J=[[[0,1],1,40,40,[],0],[[0,14],1,40,40,[],0],[[6,19],0,40,40,[],0]];for(f=0;f<A.F.ua;f++)for(A.ha[f]=[],A.map[f]={},A.ra[f]={},e=0;e<A.F.ta;e++)A.ha[f][e]=2,A.map[f][e]=0,A.ra[f][e]=A.lb;A.mc();for(e=12;18>e;e++)for(f=2;14>f;f++)if(2==A.map[e][f]){for(g in A.Y[1])0==A.map[e+A.Y[1][g][0]][f+A.Y[1][g][1]]&&(A.map[e+A.Y[1][g][0]][f+A.Y[1][g][1]]=7);for(g in A.Y[2])0==A.map[e+A.Y[2][g][0]][f+ A.Y[2][g][1]]&&(A.map[e+A.Y[2][g][0]][f+A.Y[2][g][1]]=7)}A.n.push(new A.Db([17,6]));A.n.push(new A.Db([16,10]))};A.Qc=function(){A.C(0,"p23IJAoY/23/YoA.aAF",A.O);A.C(1,"p01IJAoY/23/YoA.",A.O);A.C(2,"p45IJAoY/23/YoA.aAF",A.O);A.C(3,"p67M2W5etkvq702wOhJPQIM.p87VUfdmR.",A.na);A.C(4,"p678lvybeHZEsQ0gt.",A.na);A.C(5,"p67MTcpwopV.",A.na);A.C(6,"p00eZYcamgonlmc.",A.O);A.C(7,"pb0IJAoY/23/YoA.aDM",A.O);A.C(8,"pggAAAkKWbW.",A.na);A.C(9,"p00IJAoY/23/YoA.aHK",A.O);A.C(10,"p00IJAoY/23/YoA.aAC",A.O);A.C(11,"pihLMElX40y7YnF.", A.O);A.C(12,"pkjMUKcTa.pkjjrizqw.pkjsOqVxT.",A.O);A.C(13,"pkjLMElX40y7YnF.",A.O);A.C(14,"popKaEjIyN5V2d6j5p0x646605m1bucqedhPe.pp1TjVqYj.pp1ljqqqj.",A.na);A.C(15,"popPxU9f1q9w0kt.",A.na);A.C(16,"popYearuvugnded.",A.na);A.C(17,"pqqIJAoY/23/YoA.",A.O);A.C(18,"pvwGQHlMtO7V3e0k7p8uu0nzXuNbJ.p8wVUfdmR.",A.na);A.C("a0","p00gSsesS.",A.O);A.C("a1","p00gssssg.",A.O);A.C("a2","p00SgSses.",A.O);A.C("a3","p00SSSeeS.",A.O);A.C("b0","p9agSsesS.",A.O);A.C("b1","p9agssssg.",A.O);A.C("b2","p9aSgSses.",A.O);A.C("b3", "p9aSSSeeS.",A.O);A.C(20,"pbb3337/s/o.aAFpdbY7Y/3733.aAFpdbAwA0Y/Y7.aAFpdbIlAwY733/oog.",A.Ba);A.C(21,"peebgYrftmrjg.pfeLiutmV.peecabgfjjgia.pfeaTUete.peeeRcafciagR.pcffIYMYQZRfUkRmOkK.",A.Ba);A.C(22,"pllbgYrftmrjg.pmlLiutmV.pllcabgfjjgia.pmlaTUete.plleRcafciagR.pcmfIYMYQZRfUkRmOkK.",A.Ba);A.C(23,"pxxbgYrftmrjg.pyxLiutmV.pxxcabgfjjgia.pyxaTUete.pxxeRcafciagR.pcyfIYMYQZRfUkRmOkK.",A.Ba);A.C("c1","pggRRR1chuh.",A.X);A.C("c2","pgghJZbGbbmQ2kp7xpg4WmW.",A.X);A.C("e3","p7gSSSttttS.",A.X);A.C("e4","ppgSSSttttS.", A.X);A.C("e5","pwgSSSttttS.",A.X);A.C("f3","pegSSSttttS.",A.X);A.C("f4","plgSSSttttS.",A.X);A.C("f5","pxgSSSttttS.",A.X);A.C("c0","p11RdRTcKjKuTuyRyRdqdqTjOcOVTVd.",A.X);A.C("cx","",A.X);A.C("ca","p1gdddhhhhd.",A.X);A.C("cb","pggdVdcVcVhdhdphphhphpdhdhV.",A.X);A.C("cc","pggUTUrZrZT.pgglTlrsrsT.",A.X);A.C("cd","pggXTXrof.",A.X);A.C("d1","puudEWcfZ.pttfZWcal.pssfZalji.puujialfr.pssalf5fr.prrjifrf5.prrfZjinZ.pssdEfZnZ.",A.Ba);A.C("d2","puuhGaUfT.prrfTaUai.puufTaifl.pttaib0fl.prrflb0kr.pssqcflkr.pttfTflrc.puunQfTrc.psshGfTmQ.", A.Ba)};A.sc=function(e,f){var g,h,k=[-1,-1,-1,-1],l=[9999,0,9999,0];for(g in A.n)1==A.n[g].R&&!A.n[g].za&&0<A.n[g].T[0]&&(h=A.pa(e,A.n[g].B),h>f||(h<l[0]&&(l[0]=h,k[0]=g),h>l[1]&&(l[1]=h,k[1]=g),A.n[g].T[0]<l[2]&&(l[2]=A.n[g].T[0],k[2]=g),A.n[g].T[0]>l[3]&&(l[3]=A.n[g].T[0],k[3]=g)));return k};A.eb=function(e,f,g,h){var k,l;for(k in A.n)A.n[k].status==A.Ua&&(l=A.pa(e,A.n[k].B),l>=g||(l=f*((g-l)/g),A.n[k].Wc(l,h)))};A.dd=function(){A.D.ja[0]&1||!A.D.sb||(50>A.D.Q[0]&&A.D.Q[1]>(1==A.L?146:52)?A.scroll[0]-= 200*A.ca:A.D.Q[0]>A.A.A.width-50&&(A.scroll[0]+=200*A.ca),50>A.D.Q[1]&&320<A.D.Q[0]?A.scroll[1]-=200*A.ca:A.D.Q[1]>A.A.A.height-50&&(A.scroll[1]+=200*A.ca));A.D.ja[0]&2&&(A.D.ja[0]=0);A.Sc.Q=A.D.Q;A.wa=A.lc()};A.fd=function(){var e,f;for(e in A.J)f=A.J[e],f[2]--,0==f[2]&&(f[2]=f[3],1==f[5]&&f[4][0]&&(B.send("object_create",[f[4][0],A.$a(),A.Eb(f[0]),f[1]]),f[4]=A.Ya(A.ea(f[4],0))),void 0==f[4][0]&&(f[5]=0))};A.gd=function(){var e,f;for(e in A.G)A.eb(A.G[e][0],A.G[e][5],A.G[e][6],A.G[e][7]),f=A.fa(A.G[e][0]), 0==(e+A.Ib)%2&&A.H.push([[f[0]+A.K(-10,10),f[1]+A.K(-10,10)],[A.G[e][1][0],A.G[e][1][0]-50],0.7,0.7]),A.G[e][0][0]+=A.G[e][1][0]*A.ca,A.G[e][0][1]+=A.G[e][1][1]*A.ca,A.G[e][1][0]*=A.G[e][2][0],A.G[e][1][1]*=A.G[e][2][1],A.G[e][4]--,0==A.G[e][4]&&(A.G=A.ea(A.G,e))};A.ed=function(){var e,f;for(e in A.n)A.n[e].fb();for(e in A.n)if(A.n[e].status==A.Va)for(f in A.n=A.ea(A.n,e),A.n)A.n[f].V==e&&(A.n[f].V=-1);for(e in A.n){if(2==A.n[e].R&&!A.n[e].za)for(f=0.6;f>A.n[e].T[0]/A.n[e].T[1];f-=0.2)A.H.push([[A.n[e].U[0]+ A.K(-5,5),A.n[e].U[1]+A.K(-20,0)],[A.K(5,25),-50],1.75,6]);A.n[e].status!=A.Va&&(A.n[e].gb=[A.n[e].B[0],A.n[e].B[1]],f=A.n[e].Sb*A.ca,0==A.n[e].W?A.n[e].B[1]-=f:1==A.n[e].W?A.n[e].B[0]+=f:2==A.n[e].W?A.n[e].B[1]+=f:3==A.n[e].W&&(A.n[e].B[0]-=f),A.n[e].U=A.fa(A.n[e].B))}};A.cd=function(){var e,f=0,g=0,h=0;A.ia+=A.ca;0==A.ma%(5*A.F.Yb)&&A.ia<=A.F.Fa&&A.va(100);A.ia>A.F.Fa&&A.N[2]&&(A.$(1),A.N=A.ea(A.N,2),A.N=A.ea(A.N,3),A.N=A.ea(A.N,4));if(1==A.L&&A.status==A.ib){for(e in A.n)1!=A.n[e].R||A.n[e].za? 2==A.n[e].R&&A.n[e].Kb&&f++:g++;for(e in A.J)h+=A.J[e][4].length;if(0==f)A.Qa(A.jb),B.send("game_status",A.zb);else if(A.ia>A.F.Fa&&0==g&&0==h||A.ia>A.F.Fa+A.F.Yc)A.Qa(A.jb),B.send("game_status",A.Ab)}};A.ad=function(){for(var e in A.H)A.H[e][2]-=A.Aa,0>A.H[e][2]&&(A.H=A.ea(A.H,e))};A.qd=function(){if(A.status==A.ib||A.status==A.jb)0==A.ma%15&&(A.G=A.Ya(A.G),A.M=A.Ya(A.M),A.H=A.Ya(A.H)),0==A.ma%100&&A.ma/100%2==A.L-1&&B.Zc(),A.ma++,B.hd(A.ma),A.dd(),A.fd(),A.gd(),A.ed(),A.cd(),A.ad()};A.kd=function(){var e= (new Date).getTime(),f=Math.floor((e-A.Oa)/A.xb),g;for(g=0;g<f;g++)A.qd();A.Ib++;A.Aa=(e-A.rb)/1E3;A.bd();A.rd();A.jd();A.Oa+=f*A.xb;A.rb=e};A.Rc=function(){A.Oa=(new Date).getTime();A.rb=A.Oa;window.setInterval(A.kd,A.uc)};A.ya=function(e){document.getElementById("overlay").style.display=""==e?"none":"block";document.getElementById("m1").innerHTML=e};A.qb=function(){A.Oc();A.Pc();A.Qc();A.Rc();A.Vb(1)};A.Qa=function(e){var f;e==A.zb?f=1==A.L?"Congratulations, you won!":"Red player won!":e==A.Ab&& (f=2==A.L?"Congratulations, you won!":"Blue player won!");A.status=e;A.ya(f)};B={Z:[],qc:10,socket:{},send:function(e,f){var g=JSON.stringify([A.ma+B.qc,e,f]);B.Rb(g);B.socket.emit("message",g)},Rb:function(e){B.Z.push(JSON.parse(e))},hd:function(e){for(var f in B.Z)B.Z[f][0]<=e&&("object_create"==B.Z[f][1]?A.Tc(B.Z[f][2]):"object_destroy"==B.Z[f][1]?A.Uc(B.Z[f][2]):"player1_switch_toggle"==B.Z[f][1]?A.$c(B.Z[f][2]):"game_status"==B.Z[f][1]&&A.Qa(B.Z[f][2]),B.Z=A.ea(B.Z,f))},qb:function(){A.Ub=document.getElementsByTagName("script")[0].src.replace("socket.io/socket.io.js", "")},Zc:function(){B.socket.emit("ping")},disconnect:function(){A.Qa(A.Bb);A.ya("Disconnected :(")},start:function(){if(0==document.URL.indexOf("file://"))A.ya("The game cannot run locally.");else{try{B.socket=io.connect(A.Ub,{wd:0})}catch(e){B.disconnect();return}B.socket.on("disconnect",B.disconnect);B.socket.on("game_disconnected",B.disconnect);B.socket.on("welcome",function(e){A.wb=e[0];(e=document.URL.match(/[?&]game=([0-9a-zA-Z-_]{20})/))?(A.ya("Joining to game..."),B.socket.emit("game_join", e[1])):(A.ya("Starting a new game..."),B.socket.emit("game_create"))});B.socket.on("game_created",function(){A.ya('Game created, give this URL to the other player:<br/><input type="text" value="'+A.Ub+"?game="+A.wb+'" readonly="readonly" />')});B.socket.on("game_started",function(e){A.Vb(e[0]==A.wb?1:2);A.Qa(A.ib);A.ya("")});B.socket.on("message",function(e){B.Rb(e)});B.socket.on("ping_request",function(e){B.socket.emit("ping_response",e)})}}};A.qb();B.qb();B.start()}; </script><style> html { font-family: Arial; background: #111; padding: 0; margin: 0; overflow: hidden; } #container, #overlay { position: fixed; top: 0; right: 0; bottom: 0; left: 0; cursor: none; } #overlay { padding: 20px; background: rgba(0,0,0,0.6); font-size: 16pt; cursor: default; color: #fff; text-align: justify; text-shadow: 1px 1px 3px #000; } #m1 { line-height: 2em; font-size: 20pt; text-align: center; } #overlay input { font-size: 16pt; width: 100%; } #overlay p, h1 { margin: 20pt auto; max-width: 800px; } h1 { text-align: center; font-size: 26pt; } a, a:visited { text-decoration: none; color: #0af; } a:hover { color: #ff0; } </style></head><body><div id="container"></div><div id="overlay"><h1>untitled13</h1><p id="m1">Initializing...</p><p>untitled13 is a multiplayer tower attack-defense game.</p><p>As the Red player you send the creatures to attack the Blue's base. Your mission is to destroy the crystals around the red markers. You have three entry points on the map, represented by three queues on the left.</p><p>As the Blue player you have to build towers to prevent the creatures from destroying the crystals and keep up until the time is up.</p><p>If the crystals are still there when the time is up, another one minute is added to the gameplay when no creatures and towers can be bought.</p><p>The game is also an entry to the <a href="http://2013.js13kgames.com">js13kGames 2013</a> game development competition.</p><p>See the full source and the latest version on the <a href="https://github.com/gheja/untitled13/">GitHub project page</a>.</p></div></body></html> 