var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var c,b=[];!(c=a.next()).done;)b.push(c.value);return b};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var c=function(){};c.prototype=a;return new c};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},c={};try{return c.__proto__=a,c.a}catch(b){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,c){a.__proto__=c;if(a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,c){a.prototype=$jscomp.objectCreate(c.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;b(a,c)}else for(b in c)if("prototype"!=b)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(c,b);d&&Object.defineProperty(a,b,d)}else a[b]=c[b];a.superClass_=c.prototype};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,b,d){var c=this.length||0;0>b&&(b=Math.max(0,c+b));if(null==d||d>c)d=c;d=Number(d);0>d&&(d=Math.max(0,c+d));for(b=Number(b||0);b<d;b++)this[b]=a;return this}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var c=this;c instanceof String&&(c=String(c));var e=c.length;b=b||0;for(0>b&&(b=Math.max(b+e,0));b<e;b++){var f=c[b];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");
var gameWidth=800,gameHeight=450,gameScale=1,Deg2Rad=Math.PI/180,Rad2Deg=180/Math.PI,canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),touch={x:0,y:0,up:!1,down:!1,held:!1,lastDown:1E4};window.addEventListener("mousedown",function(a){touch.up=!1;touch.down=!0;touch.held=!0;SetTouchPos(a);a.preventDefault()},{capture:!1,passive:!1});window.addEventListener("mouseup",function(a){touch.up=!0;touch.down=!1;touch.held=!1;a.preventDefault()},{capture:!1,passive:!1});
window.addEventListener("touchstart",function(a){touch.up=!1;touch.down=!0;touch.held=!0;SetTouchPos(a.touches[0]);a.preventDefault()},{capture:!1,passive:!1});window.addEventListener("touchend",function(a){touch.up=!0;touch.down=!1;touch.held=!1;a.preventDefault()},{capture:!1,passive:!1});window.addEventListener("touchcancel",function(a){touch.up=!0;touch.down=!1;touch.held=!1;a.preventDefault()},{capture:!1,passive:!1});
var SetTouchPos=function(a){touch.x=a.pageX-canvas.offsetLeft;touch.y=a.pageY-canvas.offsetTop};document.documentElement.addEventListener("mousedown",function(){"running"!==zzfxX.state&&zzfxX.resume()});document.documentElement.addEventListener("touchstart",function(){"running"!==zzfxX.state&&zzfxX.resume()});
var PushMatrix=function(a,c,b){b=void 0===b?0:b;ctx.save();ctx.translate(a,c);ctx.rotate(b*Deg2Rad)},PopMatrix=function(){ctx.restore()},DrawLine=function(a,c,b,d,e,f){f=void 0===f?1:f;ctx.save();ctx.strokeStyle=e;ctx.lineWidth=f;ctx.lineCap="round";ctx.beginPath();ctx.moveTo(a,c);ctx.lineTo(b,d);ctx.stroke();ctx.restore()},DrawBezierLine=function(a,c,b,d,e,f,g,h,k,l){ctx.save();ctx.strokeStyle=k;ctx.lineWidth=l;ctx.lineCap="round";ctx.beginPath();ctx.moveTo(a,c);ctx.bezierCurveTo(e,f,g,h,b,d);ctx.stroke();
ctx.restore()},DrawRect=function(a,c,b,d,e,f){f=void 0===f?0:f;b*=.5;d*=.5;ctx.save();ctx.translate(a+.5,c+.5);ctx.rotate(f*Deg2Rad);ctx.fillStyle=e;ctx.beginPath();ctx.moveTo(-b,-d);ctx.lineTo(b,-d);ctx.lineTo(b,d);ctx.lineTo(-b,d);ctx.lineTo(-b,-d);ctx.fill();ctx.restore()},DrawCircle=function(a,c,b,d,e,f){e=void 0===e?0:e;f=void 0===f?2*Math.PI:f;ctx.save();ctx.translate(a+.5,c+.5);ctx.fillStyle=d;ctx.beginPath();ctx.arc(a,c,b,e,f);ctx.fill();ctx.restore()},DrawText=function(a,c,b,d,e,f,g,h,k,
l,m,n){d=void 0===d?12:d;e=void 0===e?"#FFF":e;f=void 0===f?0:f;g=void 0===g?"Arial":g;h=void 0===h?"":h;k=void 0===k?"left":k;l=void 0===l?"bottom":l;m=void 0===m?0:m;n=void 0===n?"#000":n;ctx.save();ctx.translate(c,b);ctx.rotate(f*Deg2Rad);ctx.font=h+" "+d+"px "+g;ctx.fillStyle=e;ctx.textAlign=k;ctx.textBaseline=l;0<m&&(ctx.strokeStyle=n,ctx.lineWidth=m,ctx.lineJoin="round",ctx.strokeText(a,0,0));ctx.fillText(a,0,0);ctx.restore()},V2=function(a,c){this.x=void 0!=a?a:0;this.y=void 0!=c?c:0};
V2.prototype.Set=function(a,c){this.x=a;this.y=c};V2.prototype.SetV=function(a){this.x=a.x;this.y=a.y};V2.prototype.SetToFrom=function(a,c){this.x=c.x-a.x;this.y=c.y-a.y};V2.prototype.AddV=function(a){this.x+=a.x;this.y+=a.y};V2.prototype.SubV=function(a){this.x-=a.x;this.y-=a.y};V2.prototype.MulS=function(a){this.x*=a;this.y*=a};V2.prototype.DivS=function(a){this.x/=a;this.y/=a};V2.prototype.DistTo=function(a){return Math.sqrt(this.DistToSq(a))};
V2.prototype.DistToSq=function(a){var c=this.x-a.x;a=this.y-a.y;return c*c+a*a};V2.prototype.Len=function(){return Math.sqrt(this.LenSq())};V2.prototype.LenSq=function(){return this.x*this.x+this.y*this.y};V2.prototype.Normalize=function(){var a=this.Len();this.x/=a;this.y/=a};
var tkState=null,tkNextState=null,Enter=0,Tick=1,Draw=2,Exit=3,clearColor="#1A1A1AFF",gameLoopFixedTimeStep=1/60,gameLoopFrameTimeAccum=0,previousGameLoopTime=void 0,GameLoop=function(a){window.requestAnimationFrame(GameLoop);FitToScreen();for(gameLoopFrameTimeAccum+=Math.min((a-(previousGameLoopTime||a))/1E3,.2);gameLoopFrameTimeAccum>gameLoopFixedTimeStep;)gameLoopFrameTimeAccum-=gameLoopFixedTimeStep,null!=tkNextState&&(null!=tkState&&tkState(Exit),tkState=tkNextState,tkNextState=null,null!=tkState&&
tkState(Enter)),tkState&&tkState(Tick),touch.down?touch.lastDown=1:++touch.lastDown,touch.up=!1,touch.down=!1;ctx.save();ctx.setTransform(1,0,0,1,0,0);ctx.fillStyle=clearColor;ctx.fillRect(0,0,canvas.width,canvas.height);ctx.restore();tkState&&tkState(Draw);previousGameLoopTime=a},IsOnMobile=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||
navigator.userAgent.match(/Windows Phone/i)},actualWidth=gameWidth,actualHeight=gameHeight,FitToScreen=function(){var a=canvas.width/canvas.height,c=window.innerWidth,b=window.innerWidth/a;b>window.innerHeight&&(b=window.innerHeight,c=b*a);!IsOnMobile()&&b>1.5*gameHeight&&(b=1.5*gameHeight,c=b*a);if(c!==actualWidth||b!==actualHeight)canvas.style.width=c+"px",canvas.style.height=b+"px",actualWidth=c,actualHeight=b;window.scrollTo(0,0)};window.requestAnimationFrame(GameLoop);var enemySpawnInfo=[];
enemySpawnInfo.push({maxPlayerScore:0,possibleEnemyTypes:[0],minSpawnCount:1,maxSpawnCount:1,minSpawnDelay:0,maxSpawnDelay:0,minNextDelay:2,maxNextDelay:2.5});enemySpawnInfo.push({maxPlayerScore:2,possibleEnemyTypes:[0,1,2],minSpawnCount:1,maxSpawnCount:1,minSpawnDelay:0,maxSpawnDelay:0,minNextDelay:1.75,maxNextDelay:1.75});enemySpawnInfo.push({maxPlayerScore:6,possibleEnemyTypes:[0,2,3,4],minSpawnCount:2,maxSpawnCount:2,minSpawnDelay:.25,maxSpawnDelay:.5,minNextDelay:1.25,maxNextDelay:1.25});
enemySpawnInfo.push({maxPlayerScore:8,possibleEnemyTypes:[5,6],minSpawnCount:1,maxSpawnCount:1,minSpawnDelay:0,maxSpawnDelay:0,minNextDelay:1.25,maxNextDelay:1.5});enemySpawnInfo.push({maxPlayerScore:15,possibleEnemyTypes:[0,0,1,1,2,2,3,3,4],minSpawnCount:2,maxSpawnCount:2,minSpawnDelay:.75,maxSpawnDelay:1,minNextDelay:1.5,maxNextDelay:1.75});
enemySpawnInfo.push({maxPlayerScore:20,possibleEnemyTypes:[3,3,4,4,6,8],minSpawnCount:2,maxSpawnCount:2,minSpawnDelay:1,maxSpawnDelay:1.25,minNextDelay:1.5,maxNextDelay:1.75});enemySpawnInfo.push({maxPlayerScore:25,possibleEnemyTypes:[0,1,2,3,4],minSpawnCount:2,maxSpawnCount:3,minSpawnDelay:.5,maxSpawnDelay:.75,minNextDelay:1.75,maxNextDelay:1.75});
enemySpawnInfo.push({maxPlayerScore:35,possibleEnemyTypes:[1,2,3,4,1,2,3,4,7,8,6],minSpawnCount:2,maxSpawnCount:2,minSpawnDelay:.4,maxSpawnDelay:.6,minNextDelay:1.35,maxNextDelay:1.35});enemySpawnInfo.push({maxPlayerScore:50,possibleEnemyTypes:[0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,5,7,9],minSpawnCount:3,maxSpawnCount:4,minSpawnDelay:.3,maxSpawnDelay:.5,minNextDelay:1.25,maxNextDelay:1.25});
enemySpawnInfo.push({maxPlayerScore:100,possibleEnemyTypes:[0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,5,6,7,8,9],minSpawnCount:4,maxSpawnCount:6,minSpawnDelay:.25,maxSpawnDelay:.45,minNextDelay:1.1,maxNextDelay:1.2});
for(var enemyTimer,enemyIdxBag=[],lastSpawnInfoIdx=-1,testScore=-1,isFrenzy=!1,frenzyCooldown=0,CreateEnemy=function(){isFrenzy=!1;for(var a=0;a<enemySpawnInfo.length;++a){var c=enemySpawnInfo[a];void 0!=testScore&&0<testScore&&(player.score=testScore);if(player.score<=c.maxPlayerScore||a==enemySpawnInfo.length-1){a!=lastSpawnInfoIdx&&(lastSpawnInfoIdx=a,enemyIdxBag=[]);a=c.minSpawnCount+Math.floor(Math.random()*(c.maxSpawnCount-c.minSpawnCount)+.5);for(var b=0,d=0;d<a;++d){var e=-1,f=100;do e=Math.floor(Math.random()*
c.possibleEnemyTypes.length),--f;while((enemyIdxBag.includes(e)||5<=c.possibleEnemyTypes[e]&&0<frenzyCooldown)&&0<f);enemyIdxBag.push(e);enemyIdxBag.length==c.possibleEnemyTypes.length&&(enemyIdxBag=[]);switch(c.possibleEnemyTypes[e]){case 0:setTimeout(function(){objs.push(new Enemy_SlowRun);PlayEnemySpawnSFX()},1E3*b);break;case 1:setTimeout(function(){objs.push(new Enemy_FastRun);PlayEnemySpawnSFX()},1E3*b);break;case 2:setTimeout(function(){objs.push(new Enemy_DelayedAttack);PlayEnemySpawnSFX()},
1E3*b);break;case 3:setTimeout(function(){objs.push(new Enemy_LongJump);PlayEnemySpawnSFX()},1E3*b);break;case 4:setTimeout(function(){objs.push(new Enemy_SlowBounce);PlayEnemySpawnSFX()},1E3*b);break;case 5:for(b=0;6>b;++b)setTimeout(function(){objs.push(new Enemy_SlowRun);PlayEnemySpawnSFX()},2E3+400*b);d=a;b=5;isFrenzy=!0;break;case 6:for(b=0;7>b;++b)setTimeout(function(){objs.push(new Enemy_LongJump);PlayEnemySpawnSFX()},2E3+400*b);d=a;b=5;isFrenzy=!0;break;case 7:for(b=0;7>b;++b)setTimeout(function(){objs.push(new Enemy_SlowBounce);
PlayEnemySpawnSFX()},2E3+400*b);d=a;b=5;isFrenzy=!0;break;case 8:for(b=0;8>b;++b)setTimeout(function(){objs.push(new Enemy_FastRun);PlayEnemySpawnSFX()},2E3+300*b);d=a;b=5;isFrenzy=!0;break;case 9:for(b=0;6>b;++b)setTimeout(function(){objs.push(new Enemy_DelayedAttack);PlayEnemySpawnSFX()},2E3+300*b);d=a;b=5;isFrenzy=!0}b+=c.minSpawnDelay+Math.random()*(c.maxSpawnDelay-c.minSpawnDelay)}c=c.minNextDelay+Math.random()*(c.maxNextDelay-c.minNextDelay);0>=player.healthTimer&&(player.healthTimer=20,3>player.health&&
(setTimeout(function(){objs.push(new Enemy_LongJump);objs[objs.length-1].isHeart=!0;zzfx.apply(null,[,,60,.03,.01,.33,1,.53,-5.7,,,,,,,,,.76])},1E3*b+1250),c+=2.5));enemyTimer=setTimeout(CreateEnemy,1E3*(b+c));break}}isFrenzy?(frenzyCooldown=5,setTimeout(function(){zzfx.apply(null,[,,71,.04,.04,.25,2,1.53,1.1,,,,,,,.1,,.99])},0),setTimeout(function(){zzfx.apply(null,[,,71,.04,.04,.25,2,1.53,1.1,,,,,,,.1,,.99])},300),setTimeout(function(){zzfx.apply(null,[,,71,.04,.04,.25,2,1.53,1.1,,,,,,,.1,,.99])},
600),setTimeout(function(){zzfx.apply(null,[,,71,.04,.04,.25,2,1.53,1.1,,,,,,,.1,,.99])},900)):--frenzyCooldown},IsEnemyInBounceZone=function(){for(var a=1;a<objs.length;++a)if(void 0!=objs[a].IsInBounceZone&&objs[a].IsInBounceZone())return!0;return!1},PlayEnemySpawnSFX=function(){zzfx.apply(null,[,,90,.01,,.09,,2.92,,-43,53,.01,.01,,,,,.74,.02])},crowd=[],crowdColors="#331C16 #400101 #2A110A #28251E #152833 #333015 #06280D".split(" "),i=0;300>i;++i)crowd.push({x:Math.random()*gameWidth,y:Math.random()*
gameHeight*.5,col:Math.floor(Math.random()*crowdColors.length),off:Math.random(),spd:.003*Math.random()});
var flashes=[],nextFlashTime=Math.floor(100*Math.random()),DrawCrowd=function(){crowd.forEach(function(a){DrawRect(a.x,a.y+Math.abs(3*Math.sin(Date.now()*(.001+a.spd)+a.off)),10,10,crowdColors[a.col])});for(var a=0;a<flashes.length;++a){var c=flashes[a],b="F";2>c.t?b="4":5>c.t?b="8":10>c.t&&(b="A");DrawRect(c.x,c.y,25,25,"#FFF"+b);c.t--;0>=c.t&&flashes.splice(a,1)}nextFlashTime--;0>=nextFlashTime&&(nextFlashTime=Math.floor(50*Math.random()),flashes.push({x:Math.random()*gameWidth,y:Math.random()*
gameHeight*.3,t:15}))},DrawBackground=function(){DrawCrowd();DrawRect(.5*gameWidth,.5*gameHeight,gameWidth,100,"#383838");PushMatrix(0,.25*-player.bellyOffset.y,0);DrawLine(100,280,810,280,"#3A50BD",15);DrawLine(100,280,-10,460,"#3A50BD",13.5);DrawLine(100,240,810,240,"#EDF7F7",15);DrawLine(100,240,-10,405,"#EDF7F7",13.5);DrawLine(100,200,810,200,"#CE3B2F",15);DrawLine(100,200,-10,355,"#CE3B2F",13.5);DrawLine(110,190,110,315,"#111",30);ctx.beginPath();ctx.moveTo(95,315);ctx.lineTo(15,460);ctx.lineTo(810,
460);ctx.lineTo(810,315);ctx.closePath();ctx.fillStyle="#83839E";ctx.fill();ctx.beginPath();ctx.moveTo(100,320);ctx.lineTo(25,460);ctx.lineTo(810,460);ctx.lineTo(810,320);ctx.closePath();ctx.fillStyle="#BFBEE5";ctx.fill();PopMatrix()},DrawHeart=function(a,c,b,d){PushMatrix(a,c,0);DrawCircle(.23*-b,.25*-b,.75*b,"#000");DrawCircle(.23*b,.25*-b,.75*b,"#000");DrawRect(.38*-b,.08*-b,1.2*b,1*b,"#000",45);DrawRect(.38*b,.08*-b,1.2*b,1*b,"#000",-45);DrawRect(0,.11*b,1.25*b,1.25*b,"#000",45);DrawCircle(.23*
-b,.25*-b,.5*b,d);DrawCircle(.23*b,.25*-b,.5*b,d);DrawRect(.38*-b,.08*-b,b,.5*b,d,45);DrawRect(.38*b,.08*-b,b,.5*b,d,-45);DrawRect(0,.11*b,.75*b,.75*b,d,45);PopMatrix()},hudHeartScales=[];hudHeartScales.push(0);hudHeartScales.push(0);hudHeartScales.push(0);
var hudScoreScale=0,DrawHud=function(){for(var a=0;3>a;++a)hudHeartScales[a]*=.85,DrawHeart(50+55*a,40,20+20*hudHeartScales[a],player.health>a?"#F00":"#444");hudScoreScale*=.85;DrawText(player.score.toString(),gameWidth-40,50,40+20*hudScoreScale,"#FFF",0,"Arial","Bold","right","center",8);isFrenzy&&DrawText("Wrestler Rush!",.5*gameWidth,.2*gameHeight,36+10*Math.abs(Math.sin(.0075*Date.now())),"#FFD800",-2,"Arial","Bold","center","center",10)},particles=[],ParticleTypeHit=0,ParticleTypeDizzy=1,SpawnParticle=
function(a,c,b){switch(b){case ParticleTypeHit:b=360*Math.random();particles.push({x:a,y:c,vx:0,vy:0,w:50,h:50,vw:4,vh:4,a:b,va:1,lifetime:10,t:0,c:"#FFF",f:!0});particles.push({x:a,y:c,vx:0,vy:0,w:50,h:50,vw:4,vh:4,a:b+45,va:1,lifetime:10,t:0,c:"#FFF",f:!0});break;case ParticleTypeDizzy:b=360*Math.random(),particles.push({x:a,y:c,vx:4,vy:0,w:5,h:5,vw:0,vh:0,a:b,va:1,lifetime:17,t:0,c:"#FFF",f:!1}),particles.push({x:a,y:c,vx:4,vy:0,w:5,h:5,vw:0,vh:0,a:b+45,va:1,lifetime:17,t:0,c:"#FFF",f:!1}),particles.push({x:a+
50,y:c-5,vx:-4,vy:0,w:5,h:5,vw:0,vh:0,a:b,va:1,lifetime:17,t:0,c:"#FFF",f:!1}),particles.push({x:a+50,y:c-5,vx:-4,vy:0,w:5,h:5,vw:0,vh:0,a:b+45,va:1,lifetime:17,t:0,c:"#FFF",f:!1})}},DrawParticles=function(){for(var a=0;a<particles.length;++a){var c=particles[a];PushMatrix(c.x,c.y,c.a);var b=1-Math.min(Math.max(c.t/c.lifetime,0),1);b=Math.min(Math.floor(16*b),15);var d="0123456789ABCDEF".split("");DrawRect(0,0,c.w,c.h,c.c+(c.f?d[b]:"F"));PopMatrix();c.x+=c.vx;c.y+=c.vy;c.a+=c.va;c.w+=c.vw;c.h+=c.vh;
c.t++;c.t>=c.lifetime&&(particles.splice(a,1),--a)}},PlayerStateIdle=0,PlayerStateBelly=1,PlayerStateHit=2,PlayerStateDead=3,PlayerStateIntro=4,BellyBounceTime=45,BellyBounceAttackTime=8,PlayerHitTime=20,Player=function(){this.pos=new V2(200,-280);this.bellyOffset=new V2(0,0);this.bellyOffset.xLast=0;this.bellyOffset.yLast=0;this.Reset()};Player.prototype.Reset=function(){this.health=3;this.score=0;this.isHighScore=!1;this.healthTimer=15};
Player.prototype.Tick=function(){switch(this.state){case PlayerStateIdle:touch.down&&tkState!=RenderTest&&this.BellyBounce();break;case PlayerStateBelly:this.timer--;0==this.timer&&this.Idle();3>=touch.lastDown&&this.hitConfirm&&IsEnemyInBounceZone()&&this.BellyBounce();break;case PlayerStateHit:5>=touch.lastDown&&0<this.health&&IsEnemyInBounceZone()?this.BellyBounce():(this.timer--,0==this.timer&&(0==this.health?(this.bellyOffset.x=10,this.bellyOffset.y=10,tkNextState=GameOver,this.state=PlayerStateDead,
this.timer=15,zzfx.apply(null,[,,56,,.08,.46,3,2.52,,,,,,1.7,.7,.1,,.62,.01])):this.Idle()));break;case PlayerStateDead:this.timer--;0>=this.timer&&(SpawnParticle(this.pos.x-50,this.pos.y-120,ParticleTypeDizzy),this.timer=20);break;case PlayerStateIntro:this.pos.Set(this.pos.x,280-this.timer/22*560),this.timer--,0==this.timer&&(this.Idle(),this.bellyOffset.xLast=0,this.bellyOffset.yLast=0,this.bellyOffset.x=5,this.bellyOffset.y=15,zzfx.apply(null,[,,309,,.02,.32,2,.47,,,,,,1.1,.7,,.15,.99,.09]),zzfx.apply(null,
[,,511,.31,.1,1.75,4,2.74,.6,.6,,,,.7,,.2,,.75,.09]))}this.UpdateBellyPhysics()};Player.prototype.Idle=function(){this.pos=new V2(200,280);this.timer=this.angle=0;this.hitConfirm=!1;this.state=PlayerStateIdle};Player.prototype.Intro=function(){this.pos.Set(200,-280);this.timer=22;this.state=PlayerStateIntro;zzfx.apply(null,[,,806,.05,.08,.47,2,.62,-2.8,3.1,,,,,,,.04,.63,.01])};
Player.prototype.BellyBounce=function(){this.hitConfirm=!1;this.bellyOffset.xLast=0;this.bellyOffset.yLast=0;this.bellyOffset.x=15;this.bellyOffset.y=15;this.timer=BellyBounceTime;this.state=PlayerStateBelly;zzfx.apply(null,[,,596,.05,,.09,1,.18,,-2.7,-4,.17,.11,,-2.1,,.1,,.02])};Player.prototype.IsBellyBounceAttacking=function(){return this.state==PlayerStateBelly&&this.timer>=BellyBounceTime-BellyBounceAttackTime};
Player.prototype.OnBounce=function(a){this.hitConfirm=!0;this.bellyOffset.xLast=0;this.bellyOffset.yLast=0;this.bellyOffset.x=15;this.bellyOffset.y=15;this.score++;this.healthTimer--;hudScoreScale=1;a=localStorage.getItem("bigchamp.highscore");if(null==a||a<this.score)localStorage.setItem("bigchamp.highscore",this.score),this.isHighScore=!0;zzfx.apply(null,[,,235,,,.12,,.15,-4.2,-6.7,,,,1.4,,.1,,.85,.04]);0==this.score%10&&zzfx.apply(null,[,,714,.38,.15,1,4,4.72,.7,.2,,,,.1,.9,.2,,.89])};
Player.prototype.OnHit=function(a){a.isHeart?3>this.health&&(hudHeartScales[this.health]=1,this.health++,this.bellyOffset.x=5,this.bellyOffset.y=5,zzfx.apply(null,[,,716,,.02,.13,,1.71,,,636,.03,,.1,,.1,,.58,.01])):0<this.health&&(this.health--,hudHeartScales[this.health]=1,this.timer=PlayerHitTime,this.state=PlayerStateHit,this.bellyOffset.x=5,this.bellyOffset.y=5,zzfx.apply(null,[,,272,,,.16,3,2.99,-1.7,1.6,,,,1.4,-.7,.2,,.68,.03]))};
Player.prototype.UpdateBellyPhysics=function(){var a=this.bellyOffset.x-this.bellyOffset.xLast,c=this.bellyOffset.y-this.bellyOffset.yLast;this.bellyOffset.xLast=this.bellyOffset.x;this.bellyOffset.yLast=this.bellyOffset.y;this.bellyOffset.x+=a;this.bellyOffset.y+=c;a=this.bellyOffset.Len();0<a&&(a=(a-0)/a,a=new V2(this.bellyOffset.x*a*.2,this.bellyOffset.y*a*.2),this.bellyOffset.SubV(a))};
Player.prototype.Draw=function(){PushMatrix(this.pos.x,this.pos.y,this.angle);this.skinColor="#DC774F";this.outlineColor="#A3583A";this.outfitColor=this.bootColor="#111";this.eyeColor="#FFF";this.pupilColor="#000";this.mouthColor="#500";this.lacesColor="#FFF";switch(this.state){case PlayerStateIdle:this.DrawLeg(66,24,0);this.DrawBody(0,0,0);this.DrawHead(-10,-90,0);this.DrawOutfit(0,0,0);this.DrawLeg(-20,24,0);this.DrawArm(-68,-20,0);break;case PlayerStateBelly:this.DrawLeg(90,35,30);this.DrawBody(40,
-20,-15);this.DrawHead(-5,-100,-40);this.DrawOutfit(40,-20,-15);this.DrawLeg(25,35,30);this.DrawArm(-30,-22,10);break;case PlayerStateHit:this.DrawLeg(26,14,-30);this.DrawBody(-20,5,0);this.DrawHead(-10,-80,20);this.DrawOutfit(-20,5,0);this.DrawLeg(-50,24,-35);this.DrawArm(-88,-15,-50);break;case PlayerStateDead:this.DrawLeg(-6,24,-60);this.DrawBody(-40,15,0);this.DrawHead(-20,-60,40+5*Math.sin(.001*Date.now()));this.DrawOutfit(-40,15,0);this.DrawLeg(-80,42,-60);this.DrawArm(-108,-5,-20);break;case PlayerStateIntro:this.DrawLeg(66,
24,-30),this.DrawBody(0,0,0),this.DrawHead(-10,-90,0),this.DrawOutfit(0,0,0),this.DrawLeg(-20,45,30),this.DrawArm(-64,-25,30)}PopMatrix()};Player.prototype.DrawLeg=function(a,c,b){PushMatrix(a+.5*this.bellyOffset.x,c+.5*this.bellyOffset.y,b);DrawCircle(-10,8,20,this.skinColor);DrawRect(-20,46,40,60,this.skinColor);DrawRect(-20,56,42,42,this.bootColor);DrawRect(-10,45,14,4,this.lacesColor);DrawRect(-10,55,14,4,this.lacesColor);DrawRect(-10,65,14,4,this.lacesColor);PopMatrix()};
Player.prototype.DrawBody=function(a,c,b){PushMatrix(a+this.bellyOffset.x,c+this.bellyOffset.y,b);DrawCircle(0,0,80+1*this.bellyOffset.x,this.skinColor,Math.PI,2*Math.PI);DrawCircle(24,-10,6,this.outlineColor);DrawCircle(-4,-10,6,this.outlineColor);PopMatrix()};
Player.prototype.DrawOutfit=function(a,c,b){PushMatrix(a+this.bellyOffset.x,c+this.bellyOffset.y,b);DrawBezierLine(-46,-58,-20,20,-10,-20,-10,20,this.outfitColor,20);DrawCircle(-32,-9,28,this.outlineColor);DrawCircle(0,0,80+1*this.bellyOffset.x,this.outfitColor,0,Math.PI);PopMatrix()};Player.prototype.DrawArm=function(a,c,b){PushMatrix(a+.5*this.bellyOffset.x,c+.5*this.bellyOffset.y,b);DrawCircle(0,0,28,this.skinColor);DrawCircle(-6,16,20,this.skinColor);PopMatrix()};
Player.prototype.DrawHead=function(a,c,b){PushMatrix(a+.5*this.bellyOffset.x,c+.5*this.bellyOffset.y,b);DrawRect(0,0,70,70,this.skinColor);switch(this.state){case PlayerStateIdle:case PlayerStateIntro:DrawRect(4,0,12,20,this.eyeColor);DrawRect(22,0,12,20,this.eyeColor);DrawRect(6,4,8,12,this.pupilColor);DrawRect(24,4,8,12,this.pupilColor);DrawRect(10,20,40,4,this.mouthColor);break;case PlayerStateBelly:DrawRect(4,0,12,20,this.eyeColor);DrawRect(22,0,12,20,this.eyeColor);DrawRect(5,4,10,12,this.pupilColor);
DrawRect(23,4,10,12,this.pupilColor);DrawRect(10,20,40,10,this.mouthColor);break;case PlayerStateHit:DrawRect(4,0,12,20,this.eyeColor);DrawRect(22,0,12,20,this.eyeColor);DrawRect(0,4,10,12,this.pupilColor);DrawRect(28,-3,10,12,this.pupilColor);DrawRect(10,20,40,10,this.mouthColor);break;case PlayerStateDead:DrawRect(4,0,4,20,this.pupilColor,45),DrawRect(4,0,4,20,this.pupilColor,-45),DrawRect(22,0,4,20,this.pupilColor,45),DrawRect(22,0,4,20,this.pupilColor,-45),DrawRect(10,20,40,10,this.mouthColor)}PopMatrix()};
var EnemyStateMoveToPlayer=0,EnemyStateBounceOff=1,EnemyStyleLowerShorts=0,EnemyStyleLowerPants=1,EnemyStyleUpperNone=0,EnemyStyleUpperTankTop=1,EnemyStyleHeadBald=0,EnemyStyleHeadShortHair=1,EnemyStyleHeadLongHair=2,EnemyStyleHeadMask=3,EnemyFrameIdle=0,EnemyFrameRun01=1,EnemyFrameRun02=2,EnemyFrameRun03=3,EnemyFrameBounceOff=4,EnemyFrameSpin=5,EnemyFrameJump=6,EnemyAnimIdle={frames:[EnemyFrameIdle],counts:[1]},EnemyAnimRun={frames:[EnemyFrameRun01,EnemyFrameRun02,EnemyFrameRun03,EnemyFrameRun02],
counts:[9,9,9,9]},EnemyAnimBounceOff={frames:[EnemyFrameBounceOff],counts:[1]},EnemyAnimSpin={frames:[EnemyFrameSpin],counts:[1]},EnemyAnimJump={frames:[EnemyFrameJump],counts:[1]},Enemy=function(){this.pos=new V2(840,310);this.vel=new V2(0,0);this.state=EnemyStateMoveToPlayer;this.angle=0;this.color="000";this.bounceThreshold=player.pos.x+90;this.damageThreshold=player.pos.x-0;this.bounceOffAngleAdj=0;this.isHeart=!1;this.styleLower=EnemyStyleLowerShorts;this.styleUpper=EnemyStyleUpperTankTop;this.styleHead=
EnemyStyleHeadMask;this.skinColor="#DC774F";this.outlineColor="#A3583A";this.bootColor=this.outfitColor="#B00";this.lacesColor="#FFF";this.eyeColor="#000";this.hairColor="#663508";this.maskColor1="#B00";this.maskColor2="#FFF";this.chairColor="#666";this.frame=EnemyFrameIdle;this.SetAnim(EnemyAnimRun)};
Enemy.prototype.Tick=function(){switch(this.state){case EnemyStateMoveToPlayer:this.MoveToPlayer();this.pos.x<=this.bounceThreshold&&player.IsBellyBounceAttacking()?this.BounceOff():this.pos.x<=this.damageThreshold&&!player.IsBellyBounceAttacking()&&(player.OnHit(this),this.KillSelf(),SpawnParticle(this.pos.x-20*Math.random(),this.pos.y-20*Math.random(),ParticleTypeHit));break;case EnemyStateBounceOff:this.pos.AddV(this.vel),this.vel.y+=.8,this.angle+=this.bounceOffAngleAdj,this.pos.y>gameHeight&&
this.KillSelf()}this.Animate()};Enemy.prototype.Animate=function(){this.curAnimFrameCount++;this.curAnimFrameCount>=this.anim.counts[this.curAnimFrame]&&(this.curAnimFrameCount=0,this.curAnimFrame++,this.curAnimFrame>=this.anim.frames.length&&(this.curAnimFrame=0));this.frame=this.anim.frames[this.curAnimFrame]};Enemy.prototype.SetAnim=function(a){this.anim=a;this.curAnimFrame=this.curAnimFrameCount=0};Enemy.prototype.MoveToPlayer=function(){this.pos.AddV(this.vel)};
Enemy.prototype.BounceOff=function(){this.vel.Set(7+5*Math.random(),-11-4*Math.random());this.bounceOffAngleAdj=4+5*Math.random();.4>Math.random()&&(this.vel.x=-this.vel.x,this.vel.y*=1.5,this.bounceOffAngleAdj=-this.bounceOffAngleAdj);this.state=EnemyStateBounceOff;this.SetAnim(EnemyAnimBounceOff);player.OnBounce(this)};Enemy.prototype.KillSelf=function(){var a=objs.indexOf(this);-1<a&&objs.splice(a,1)};
Enemy.prototype.IsInBounceZone=function(){return this.state==EnemyStateMoveToPlayer&&this.pos.x<=this.bounceThreshold+20};
Enemy.prototype.Draw=function(){PushMatrix(this.pos.x,this.pos.y,this.angle);if(this.isHeart)DrawHeart(0,0,35,"#F00");else switch(this.frame){case EnemyFrameIdle:this.DrawLeg(-23,43,0);this.DrawBody(0,0,0);this.DrawHead(-10,-60,0);this.DrawOutfit(0,0,0);this.DrawLeg(27,43,0);this.DrawArm(20,-15,0);break;case EnemyFrameRun01:PushMatrix(0,0,-5);this.DrawLeg(-23,43,20);this.DrawArm(-30,-25,-55);this.DrawBody(0,0,0);this.DrawHead(-10,-60,0);this.DrawOutfit(0,0,0);this.DrawLeg(10,43,-40);this.DrawArm(20,
-25,55);PopMatrix();break;case EnemyFrameRun02:PushMatrix(0,-15,-5);this.DrawLeg(-23,43,0);this.DrawArm(-30,-25,0);this.DrawBody(0,0,0);this.DrawHead(-10,-60,0);this.DrawOutfit(0,0,0);this.DrawLeg(10,43,0);this.DrawArm(20,-25,0);PopMatrix();break;case EnemyFrameRun03:PushMatrix(0,0,-5);this.DrawLeg(-23,43,-20);this.DrawArm(-30,-25,55);this.DrawBody(0,0,0);this.DrawHead(-10,-60,0);this.DrawOutfit(0,0,0);this.DrawLeg(10,43,40);this.DrawArm(20,-25,-55);PopMatrix();break;case EnemyFrameBounceOff:PushMatrix(0,
0,-5);this.DrawLeg(-23,43,70);this.DrawArm(-30,-25,120);this.DrawBody(0,0,0);this.DrawHead(-10,-60,0);this.DrawOutfit(0,0,0);this.DrawLeg(10,43,-70);this.DrawArm(20,-25,-120);PopMatrix();break;case EnemyFrameSpin:PushMatrix(0,0,-5);this.DrawLeg(-23,33,120);this.DrawArm(-30,-25,45);this.DrawBody(0,0,0);this.DrawHead(-15,-55,-20);this.DrawOutfit(0,0,0);this.DrawLeg(10,33,120);this.DrawArm(20,-25,45);PopMatrix();break;case EnemyFrameJump:PushMatrix(0,0,-5),this.DrawLeg(-23,33,30),this.DrawArm(-30,-25,
110),this.DrawBody(0,0,0),this.DrawHead(-10,-60,5),this.DrawOutfit(0,0,0),this.DrawLeg(10,33,-30),this.DrawArm(20,-25,45),this.DrawChair(-80,-60,0),PopMatrix()}PopMatrix()};Enemy.prototype.DrawBody=function(a,c,b){PushMatrix(a,c,b);DrawRect(-5,0,60,80,this.skinColor);PopMatrix()};
Enemy.prototype.DrawOutfit=function(a,c,b){PushMatrix(a,c,b);switch(this.styleLower){case EnemyStyleLowerShorts:case EnemyStyleLowerPants:DrawRect(-5,35,60,30,this.outfitColor)}switch(this.styleUpper){case EnemyStyleUpperTankTop:DrawRect(-5,0,60,40,this.outfitColor),DrawRect(-25,-20,10,40,this.outfitColor),DrawRect(0,-20,10,40,this.outfitColor)}PopMatrix()};
Enemy.prototype.DrawLeg=function(a,c,b){PushMatrix(a,c,b);a=this.skinColor;switch(this.styleLower){case EnemyStyleLowerPants:a=this.outfitColor}DrawCircle(0,0,13,a);DrawRect(0,15,26,30,a);DrawRect(0,25,26,25,this.bootColor);DrawRect(-5,20,10,4,this.lacesColor);DrawRect(-5,27,10,4,this.lacesColor);PopMatrix()};
Enemy.prototype.DrawHead=function(a,c,b){PushMatrix(a,c,b);DrawRect(0,0,50,50,this.styleHead==EnemyStyleHeadMask?this.maskColor1:this.skinColor);switch(this.styleHead){case EnemyStyleHeadShortHair:DrawRect(0,-20,50,10,this.hairColor);DrawRect(20,-15,10,20,this.hairColor);break;case EnemyStyleHeadLongHair:DrawRect(0,-20,50,10,this.hairColor);DrawRect(20,-15,10,20,this.hairColor);DrawRect(30,-5,10,20,this.hairColor);DrawRect(38,-5,10,25,this.hairColor);break;case EnemyStyleHeadMask:DrawRect(-3,0,32,
20,this.maskColor2)}DrawRect(-12,0,9,15,this.eyeColor);DrawRect(5,0,9,15,this.eyeColor);PopMatrix()};Enemy.prototype.DrawArm=function(a,c,b){PushMatrix(a,c,b);DrawCircle(-1.5,1.5,19,this.outlineColor);DrawCircle(-1.5,13.5,12,this.outlineColor);DrawCircle(0,0,19,this.skinColor);DrawCircle(0,12,12,this.skinColor);PopMatrix()};
Enemy.prototype.DrawChair=function(a,c,b){PushMatrix(a,c,b);PushMatrix(-2,2,0);DrawRect(0,0,60,35,"#000");DrawRect(0,-40,60,20,"#000");DrawRect(-25,0,10,75,"#000");DrawRect(25,0,10,75,"#000");PopMatrix();DrawRect(0,0,60,35,this.chairColor);DrawRect(0,-40,60,20,this.chairColor);DrawRect(-25,0,10,75,this.chairColor);DrawRect(25,0,10,75,this.chairColor);PopMatrix()};
var Enemy_SlowRun=function(){Enemy.call(this);this.vel.Set(-12,0);this.styleLower=EnemyStyleLowerShorts;this.styleUpper=EnemyStyleUpperNone;this.styleHead=EnemyStyleHeadShortHair;this.skinColor="#CF7B41";this.outlineColor="#87502B";this.bootColor=this.outfitColor="#B00";this.lacesColor="#FFF";this.eyeColor="#000";this.hairColor="#663508";this.SetAnim(EnemyAnimRun)};$jscomp.inherits(Enemy_SlowRun,Enemy);
var Enemy_FastRun=function(){Enemy.call(this);this.vel.Set(-18,0);this.styleLower=EnemyStyleLowerPants;this.styleUpper=EnemyStyleUpperTankTop;this.styleHead=EnemyStyleHeadBald;this.skinColor="#D8A79E";this.outlineColor="#AA8077";this.bootColor=this.outfitColor="#025930";this.lacesColor="#FFF";this.eyeColor="#000";this.hairColor="#663508";this.SetAnim(EnemyAnimRun)};$jscomp.inherits(Enemy_FastRun,Enemy);
var Enemy_SlowBounce=function(){Enemy.call(this);this.color="#00F";this.pos.Set(this.pos.x+140,this.pos.y);this.vel.Set(-10,-16);this.styleLower=EnemyStyleLowerShorts;this.styleUpper=EnemyStyleUpperNone;this.styleHead=EnemyStyleHeadMask;this.skinColor="#C17920";this.outlineColor="#935C19";this.bootColor=this.outfitColor="#CCC";this.eyeColor=this.lacesColor="#000";this.maskColor1="#CCC";this.maskColor2="#BB0";this.SetAnim(EnemyAnimSpin);this.isBouncing=!0};$jscomp.inherits(Enemy_SlowBounce,Enemy);
Enemy_SlowBounce.prototype.MoveToPlayer=function(){this.vel.y+=.8;Enemy.prototype.MoveToPlayer.call(this);296<=this.pos.y&&(this.pos.y=296,this.vel.y=-16,this.pos.x<gameWidth&&(this.isBouncing=!1,this.SetAnim(EnemyAnimJump),this.angle=-30,zzfx.apply(null,[,,144,.01,,.12,1,1.53,9.2,,,,,,,.1,,.62,.04])));this.isBouncing&&(this.angle-=10)};
var Enemy_DelayedAttack=function(){Enemy.call(this);this.vel.Set(-12,0);this.subTimer=this.subState=0;this.styleLower=EnemyStyleLowerShorts;this.styleUpper=EnemyStyleUpperTankTop;this.styleHead=EnemyStyleHeadLongHair;this.skinColor="#A86741";this.outlineColor="#6D432A";this.bootColor=this.outfitColor="#00B";this.lacesColor="#FFF";this.eyeColor="#000";this.hairColor="#111";this.SetAnim(EnemyAnimRun)};$jscomp.inherits(Enemy_DelayedAttack,Enemy);
Enemy_DelayedAttack.prototype.MoveToPlayer=function(){Enemy.prototype.MoveToPlayer.call(this);switch(this.subState){case 0:640>=this.pos.x&&(this.pos.x=640,this.vel.x=0,this.subState=1,this.subTimer=40);break;case 1:0==Math.floor(this.subTimer/10)%2?(this.pos.Set(640,296),this.angle=0):(this.pos.Set(640,284),this.angle=20<this.subTimer?-15:15),this.subTimer--,0==this.subTimer&&(this.subState=2,this.pos.y=296,this.vel.x=-20)}};
var Enemy_LongJump=function(){Enemy.call(this);this.color="#FF0";this.pos.Set(this.pos.x+80,this.pos.y);this.vel.Set(-20,-20);this.angle=-10;this.styleLower=EnemyStyleLowerShorts;this.styleUpper=EnemyStyleUpperTankTop;this.styleHead=EnemyStyleHeadMask;this.skinColor="#6B5142";this.outlineColor="#44332A";this.bootColor=this.outfitColor="#6D59C8";this.lacesColor="#FFF";this.eyeColor="#000";this.hairColor="#663508";this.maskColor1="#6D59C8";this.maskColor2="#FFF";this.SetAnim(EnemyAnimSpin)};
$jscomp.inherits(Enemy_LongJump,Enemy);Enemy_LongJump.prototype.MoveToPlayer=function(){this.vel.y+=1;Enemy.prototype.MoveToPlayer.call(this);296<=this.pos.y&&(this.pos.y=296,this.vel.y=-18);this.angle-=10};var player=new Player,objs=[];objs.push(player);
var song=[[[,0,130.81,,2,,,,,,,,,,,,,.7,.05],[2,0,261.62,,2,,1,,,,,,.2,,,,.01,.8,.1],[4,0,523.25,,2,,1,,,,,,.2,,,,.01,.5,.01],[,0,261.62,.1,1,.5,,,,,,,,1,,,,.5,.1],[1,0,65.4,.02,1,,,.1,,,,,.2,,,,,.4,.05],[,0,65.4,.05,.3,.4,2,.4,,,,,,.2,,.06,,.7,.05],[3,0,65.4,,1,,1,2,,,,,.2,,,.1,.2,.2,.1,.8],[,0,84,,,.1,,.7,,,,.5,,6.7,1,.05],[,0,2200,,,.04,3,2,,,800,.02,,4.8,,.01,.1],[.8,0,2100,,,.3,3,3,,,-400,,,2],[,0,360,,,.12,2,2,,,,,,9,,.1],[3,0,130.81,,.5,.5,,2,,,,,.01,,,,.2,.5,.1,.4],[,,1046.5,,,.05,,27,13,
,,.3],[,0,60,.05,,.06,3,.7,2,-24,,,,,,,.01],[,0,1046.5,,.01,,1,,,,523.25,.03,,,,.09,.1],[,0,261.62,.01,1,,,,-32,,,,.2,,,.2,.01,,,1]],[[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[8,0,,,32,0,0,,32,,0,,32,,0,,32],[9,0,,,,,32,-1,,,,,,,32,-1,,]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[8,0,,,32,0,0,,32,,0,,32,,0,,32],[9,0,,,,,32,-1,,,,,,,32,-1,,],[5,0,16,-1,16,16,20,-1,16,-1,20,-1,16,-1,20,-1,21,-1]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[8,0,,,32,0,0,,32,,0,,32,,0,,32],[9,0,,,,,32,-1,,,,,,,32,
-1,,],[5,0,16,-1,16,-1,0,0,16,16,16,-1,16,-1,0,0,0,0],[10,0,35,0,0,0,0,0,35,35,35,0,0,0,35,0,35,0]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[8,0,,,32,0,0,,32,,0,,32,,0,,32],[9,0,,,,,32,-1,,,,,,,32,-1,,],[5,0,16,-1,19,-1,21,19,21,19,-1,23,22,21,16,-1,16,-1]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[8,0,,,32,0,0,,32,,0,,32,,0,,32],[9,0,,,,,32,-1,,,,,,,32,-1,,],[5,0,22,0,0,,21,0,0,0,19,0,0,21,16,-1,16,-1]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[8,0,,,32,0,0,,32,,0,,32,,0,,32],[9,0,,,,,32,
-1,,,,,,,32,-1,,],[5,0,16,-1,16,16,20,-1,16,-1,20,-1,16,-1,20,-1,21,-1],[10,0,35,0,0,0,0,0,35,35,35,0,0,0,35,0,35,0]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[9,0,,,,,32,-1,,,,,,,32,-1,,],[5,0,16,-1,19,-1,21,19,21,19,-1,23,22,21,16,-1,16,-1]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[9,0,,,,,32,-1,,,,,,,32,-1,,],[5,0,16,-1,16,-1,0,0,16,16,16,-1,16,-1,0,0,0,0],[10,0,35,0,0,0,0,0,35,35,35,0,0,0,35,0,35,0]],[[7,0,32,0,0,0,32,0,0,0,32,0,0,0,32,0,0,0],[8,0,,,32,0,0,,32,,0,,32,,0,,32],[9,0,,,,,32,
-1,,,,,,,32,-1,,],[5,0,16,-1,16,-1,0,0,16,16,16,-1,16,-1,0,0,0,0]]],[0,0,1,1,1,1,2,2,3,2,4,2,2,3,2,4,5,5,5,5,6,7,6,7,1,1,1,1,5,4,4,8],125],mySongData=zzfxM.apply(null,$jscomp.arrayFromIterable(song));localStorage["OS13kMusic,Big Champ"]=JSON.stringify(song);
var myAudioNode=void 0,musicOn=!0,sfxOn=!0,TouchState=function(a){switch(a){case Tick:touch.down&&(myAudioNode=zzfxP.apply(null,$jscomp.arrayFromIterable(mySongData)),myAudioNode.loop=!0,tkNextState=MainMenu);break;case Draw:DrawText("Tap",.5*gameWidth,.5*gameHeight,36,"#FFF",0,"Arial","Bold","center","center",12)}},MainMenu=function(a){switch(a){case Enter:isFrenzy=!1;setTimeout(function(){zzfx.apply(null,[,0,587,,,.28,3,.07,,,,,,,,.1,,.62,.1])},0);setTimeout(function(){zzfx.apply(null,[,0,587,,
,.28,3,.07,,,,,,,,.1,,.62,.1])},250);setTimeout(function(){zzfx.apply(null,[,0,587,,,.28,3,.07,,,,,,,,.1,,.62,.1])},500);break;case Tick:touch.down&&(touch.x>=.78*actualWidth&&touch.y>=.8*actualHeight?(a=sfxOn,sfxOn=!0,zzfx.apply(null,[,,523,.01,,.07,3,.11,46,10,,,,,,.1,.03,.32,.01]),(sfxOn=a)&&musicOn?(musicOn=sfxOn=!1,myAudioNode.stop()):sfxOn||musicOn?sfxOn?(sfxOn=!1,musicOn=!0,myAudioNode=zzfxP.apply(null,$jscomp.arrayFromIterable(mySongData)),myAudioNode.loop=!0):musicOn=sfxOn=!0:(sfxOn=!0,musicOn=
!1)):tkNextState=IntroState);break;case Draw:DrawBackground();objs.forEach(function(a){return a.Draw()});var c=Date.now()%400;a="#FF6A00";75>c?a="#FFD800":150>c&&(a="#FFA000");c=90+1.5*Math.abs(Math.sin(c/400*Math.PI));DrawText("Big Champ",.5*gameWidth,.3*gameHeight,c,"#FFF",0,"Arial","Bold","center","center",20,a);DrawText("Big Champ",.5*gameWidth,.3*gameHeight,c,"#FFF",0,"Arial","Bold","center","center",12,"#000");DrawText("Weighing in at 404 lbs!",.5*gameWidth,.45*gameHeight,32,"#FFF",0,"Arial",
"Bold","center","center",9,"#000");600>Date.now()%800&&DrawText("- Tap To Start -",.5*gameWidth,.85*gameHeight,32,"#FFD800",0,"Arial","Bold","center","center",9);DrawText("SFX: "+(sfxOn?"Yes":"No"),gameWidth-20,.9*gameHeight,24,"#FFF",0,"Arial","Bold","right","center",7);DrawText("MUSIC: "+(musicOn?"Yes":"No"),gameWidth-20,.97*gameHeight,24,"#FFF",0,"Arial","Bold","right","center",7)}},IntroState=function(a){switch(a){case Enter:player.Reset();player.Intro();break;case Tick:objs.forEach(function(a){return a.Tick()});
player.state==PlayerStateIdle&&(tkNextState=GameState);break;case Draw:DrawBackground(),objs.forEach(function(a){return a.Draw()}),DrawHud()}},GameState=function(a){switch(a){case Enter:setTimeout(CreateEnemy,2E3);break;case Tick:objs.forEach(function(a){return a.Tick()});break;case Draw:DrawBackground(),objs.forEach(function(a){return a.Draw()}),DrawHud(),DrawParticles()}},gameOverState=0,gameOverTimer,GameOver=function(a){switch(a){case Enter:clearTimeout(enemyTimer);gameOverState=0;gameOverTimer=
setInterval(function(){10>gameOverState&&(gameOverState++,2==gameOverState||4==gameOverState||6==gameOverState?zzfx.apply(null,[,,1983,,,.06,,.53,-68,,,,,,9,.2]):8==gameOverState&&player.isHighScore&&(zzfx.apply(null,[,,703,.02,.03,.19,,.92,-8,,,,,,,.1,,.63,.07]),setTimeout(function(){zzfx.apply(null,[,,703,.02,.03,.19,,.92,-8,,,,,,,.1,,.63,.07])},200),setTimeout(function(){zzfx.apply(null,[,,703,.02,.03,.19,,.92,-8,,,,,,,.1,,.63,.07])},400),setTimeout(function(){zzfx.apply(null,[,,511,.31,.1,1.75,
4,2.74,.6,.6,,,,.7,,.2,,.75,.09])},600)))},250);break;case Exit:clearInterval(gameOverTimer);break;case Tick:8<=gameOverState&&touch.down&&(tkNextState=MainMenu);objs.forEach(function(a){return a.Tick()});break;case Draw:DrawBackground(),objs.forEach(function(a){return a.Draw()}),DrawParticles(),2<=gameOverState&&DrawText("Game Over",.5*gameWidth,.3*gameHeight,72,"#DB0000",0,"Arial","Bold","center","center",12),4<=gameOverState&&DrawText("Eliminations: "+player.score,.5*gameWidth,.42*gameHeight,36,
"#FFF",0,"Arial","Bold","center","center",8),6<=gameOverState&&(a=localStorage.getItem("bigchamp.highscore"),null==a&&(a=0),DrawText("Best: "+a,.5*gameWidth,.52*gameHeight,36,"#FFF",0,"Arial","Bold","center","center",8)),8<=gameOverState&&player.isHighScore&&DrawText("New Best!",.5*gameWidth,.63*gameHeight,36+10*Math.abs(Math.sin(.005*Date.now())),"#04D84E",-10,"Arial","Bold","center","center",10)}},RenderTest=function(a){switch(a){case Enter:player.Reset();objs.push(new Enemy_SlowRun);objs[1].pos.x=
600;objs[1].pos.y=300;objs[1].SetAnim(EnemyAnimJump);break;case Tick:player.Tick();touch.down&&(player.state++,player.state>PlayerStateDead&&(player.state=PlayerStateIdle),SpawnParticle(.5*gameWidth,.5*gameHeight,ParticleTypeHit));objs[1].Animate();break;case Draw:DrawBackground(),objs.forEach(function(a){return a.Draw()}),DrawHud(),DrawParticles()}};tkNextState=TouchState;