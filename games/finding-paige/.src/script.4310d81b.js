parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"gg0M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.song=exports.errorsound=exports.successsound=void 0;var n={songData:[{i:[2,138,116,0,3,138,128,4,0,103,47,24,107,124,2,2,140,8,1,3,54,98,3,32,147,4,121,5],p:[1],c:[{n:[123],f:[]}]},{i:[0,100,104,1,0,56,104,0,1,229,4,40,21,0,0,0,231,6,1,3,46,15,0,32,232,4,123,6],p:[1],c:[{n:[123],f:[]}]}],rowLen:5513,patternLen:16,endPattern:0,numChannels:2};exports.successsound=n;var e={songData:[{i:[0,138,116,1,3,138,128,82,1,77,47,81,60,18,0,0,139,4,1,3,44,45,3,32,147,4,121,5],p:[1],c:[{n:[135],f:[]}]}],rowLen:5513,patternLen:16,endPattern:0,numChannels:1};exports.errorsound=e;var f={songData:[{i:[2,138,116,0,2,138,128,4,0,0,113,160,132,0,0,0,32,7,1,3,5,36,1,13,44,2,36,4],p:[1,2,1,2,1,2,1,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,4],c:[{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,5]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,143],f:[]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,137,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140],f:[]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138],f:[]}]},{i:[2,100,128,0,3,201,128,18,0,0,0,6,29,0,0,2,195,3,1,3,37,184,139,244,147,6,84,6],p:[,,,,,,,,,,,,,,,,,,,,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2],c:[{n:[111,,,111,,123,111,,111,,,111,,111,123,,111,,,111,,123,111,,111,,118,111,130,111,123,126],f:[]},{n:[111,,,111,,123,111,,111,,,111,,111,123,,111,,,111,,123,111,,111,,128,111,131,111,123,126],f:[]},{n:[109,,,109,,121,109,,109,,,109,,109,121,,109,,,109,,121,109,,109,,128,116,121,109,121],f:[]}]},{i:[0,69,128,0,0,64,128,12,0,0,12,0,72,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],p:[,,,,1,2,1,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2],c:[{n:[135,,,,,,,,,,130,,,,137,,138,,,,,,,,,,138,,,,137],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,143,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,137,,,,,,,,,,142,,,,,,,,,,,,,,,,133,,,,,,,,,,,,,,,,,,138,,,,,,,,,,143,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,142,,138],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,16,4,10,34,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,,,,,,,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[135,,135,,135,,135,,135,,135,,135,,135,,135,,147,,147,,147,,147,,147,,147,,147],f:[10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,61,,32,,16,,32,,61,,32,,16,,32,,61,,32,,16,,32,,61,,32,,16,,32]}]},{i:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,,,,,,,,,,,,,1,1,1,1,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,3],c:[{n:[135,,,,,,135,,,,,,135],f:[]},{n:[135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135],f:[]},{n:[135],f:[]}]},{i:[0,0,128,0,0,0,128,0,0,125,0,1,59,0,0,0,0,0,0,1,193,171,0,29,39,3,88,3],p:[],c:[]},{i:[3,113,140,0,1,92,128,3,0,0,103,59,59,0,0,2,151,3,1,3,4,35,11,32,31,3,157,6],p:[,,,,1,2,1,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,130],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135],f:[]}]},{i:[0,160,128,1,0,160,128,0,1,167,4,7,41,0,0,0,12,4,1,2,255,0,0,32,61,5,32,6],p:[,,,,,,,,,,,,,,,,,,,,1,1,1,2,1,1,1,1,3,1,1,1,1,1,1,1,4,1,1,3],c:[{n:[,,,,123,,,,,,,,123,,,,,,,,123,,,,,,,,123],f:[]},{n:[,,,,123,,,,,,,,123,,,,,,,,123,,,,,123,,,123,,123,123],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,123,,123,,123,123],f:[]},{n:[,,,,123,,,,,,,,123,,,,,,,,123,,,,,,,,123],f:[]}]},{i:[3,146,140,0,1,39,128,3,0,0,92,0,95,0,0,3,179,5,1,2,124,135,11,32,150,3,157,6],p:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,2,4,5,1,2,4,5,1,2,4,5],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,147,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,143,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,137,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,150],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,3,4,5,1,3,4,5,1,3,4,5],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,143,,,142,,,143,,143,142,140],f:[]},{n:[],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,137,,142,,138],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,137,,140,,138,,137],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142,,,,,,,,,,,,,,,,,138,143,,142],f:[]}]}],rowLen:7037,patternLen:32,endPattern:44,numChannels:10};exports.song=f;
},{}],"QgaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intro=void 0;var t={init:function(t,i){var e=this;this.g=t,this.showingIntro=!0,this.g.paige=t.gei("paige"),this.g.paige.style.opacity="1",this.g.eye=t.gei("eye"),this.introText=t.gei("introtext"),this.msgContainer=t.gei("messagecontainer"),this.msgContainer.style.width=Math.floor(.8*(t.w-2*t.xdiff))+"px",this.title=t.gei("title"),this.title.style.top="15%",this.title.innerHTML="<p class='titleanimation2'>Finding Paige</p>",this.g.paige.addEventListener("click",function(){e.showingIntro&&(e.showingIntro=!1,e.title.style.display="none",e.msgContainer.style.display="block",e.introText.style.display="block",e.msgContainer.style.background="rgba(0,0,0,0.8)",e.introText.addEventListener("click",function(){e.msgContainer.style.background="",e.title.style.top="50%",e.introText.style.display="none",i()}))})},outro:function(){this.title.style.top="15%",this.title.innerText="THANK YOU",this.title.style.display="block",this.g.solve.setupDraw(),this.g.solve.draw(),this.g.eye.style.display="block",this.g.paige.style.display="none"},stop:function(){this.g.ctx.clearRect(0,0,this.g.w,this.g.h),this.g.paige.style.display="none",this.title.style.display="none",this.msgContainer.style.top="50%"}};exports.intro=t;
},{}],"DQCU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.solve=void 0;var t={init:function(t,i){var h=this;this.g=t,this.fpsInterval=1e3/33,this.g.ctxe.strokeStyle="#f3f3f3",this.no01=t.gei("no01"),this.no02=t.gei("no02");var s=t.w>t.h?Math.floor(t.h/2):Math.floor(t.w/2);this.no01.style.fontSize="".concat(s,"px"),this.no02.style.fontSize="".concat(s,"px"),this.callback=i,t.gei("solve").addEventListener("click",function(){var i=t.room.getRoom(),s=t.room.currentCode[i[5]],e=s[3]().hashCode();s[1].some(function(t){return t===e})?(s[4](),t.room.currentRoom[t.pos][6]=0,t.navigation.update(),t.audioSuccessSound.play(),t.increaseChaos(),t.room.drawRoom(!0),t.solve.setupDraw(),t.solve.draw()):(h.fail(),t.audioErrorSound.play())}),String.prototype.hashCode=function(){var t=0;if(0==this.length)return t;for(var i=0;i<this.length;i++){t=(t<<5)-t+this.charCodeAt(i),t&=t}return t}},solving:function(){},setupDraw:function(){this.g.ce.style.display="block",this.i=0,this.drawing=!0,this.lengthx=this.g.w-2*this.g.xdiff,this.lengthy=this.g.h-2*this.g.ydiff,this.currentLengthx=0,this.currentLengthy=0,this.speedx=this.lengthx/10,this.speedy=this.lengthy/10,this.now=window.performance.now()},draw:function(t){if(!this.drawing)return this.g.ctxe.clearRect(0,0,this.g.w,this.g.h),void(this.g.ce.style.display="none");if(!t){var i,h;t=window.performance.now();for(var s=0;s<100;s++){this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.8*Math.random(),")");var e=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),n=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.h2,this.g.w2;this.g.ctxe.line(e,n,this.g.w2,this.g.h2);for(var g=0;g<40;g++)this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.line(e-g+2*Math.random()*g,n-g+2*Math.random()*g,e,n);Math.random()>.6&&i&&(this.g.ctxe.beginPath(),this.g.ctxe.fillStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.moveTo(this.g.w2,this.g.h2),this.g.ctxe.lineTo(e,n),this.g.ctxe.lineTo(i,h),this.g.ctxe.fill()),i=e,h=n}for(s=0;s<40;s++){var o=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),r=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(o-s+2*Math.random()*s,r-s+2*Math.random()*s,o,r)}}var a=t-this.now;if(this.drawing&&window.requestAnimationFrame(this.draw.bind(this)),this.g.ctxe.strokeStyle="rgba(255,255,255,1)",a>this.fpsInterval){this.now=t-a%this.fpsInterval,this.currentLengthx+=this.speedx,this.currentLengthy+=this.speedy,this.currentLengthx>this.lengthx&&(this.currentLengthx=this.lengthx,this.drawing=!1),this.currentLengthy>this.lengthy&&(this.currentLengthy=this.lengthy),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff+this.currentLengthx,this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff-this.currentLengthx,this.g.h-this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff,this.g.h-this.g.ydiff-this.currentLengthy),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff,this.g.ydiff+this.currentLengthy),this.g.ctxe.stroke();for(s=0;s<20;s++){var f=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),c=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(f-s+2*Math.random()*s,c-s+2*Math.random()*s,f,c)}this.g.ctxe.fillStyle="rgba(255,255,255,0.04)",this.g.ctxe.fillRect(this.g.xdiff,this.g.ydiff,this.g.w-2*this.g.xdiff,this.g.h-2*this.g.ydiff)}},stop:function(){this.drawing=!1,this.g.ctx.clearRect(0,0,this.g.w,this.g.h)},fail:function(){var t=this;this.no01.style.display="block",this.no02.style.display="block",setTimeout(function(){t.no01.style.display="none",t.no02.style.display="none"},500)}};exports.solve=t;
},{}],"wuKc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.navigation=void 0;var t={init:function(t){this.nav=t.gei("navigation"),this.nav.style.bottom="".concat(t.ydiff,"px"),this.nav.style.height="".concat(Math.floor(1.5*t.ydiff),"px"),Array.from(this.nav.getElementsByTagName("svg")).forEach(function(i){i.setAttribute("width","".concat(Math.floor(2*t.ydiff))),i.setAttribute("height","".concat(Math.floor(2*t.ydiff)))}),this.left=t.gei("nav-left"),this.right=t.gei("nav-right"),this.forward=t.gei("nav-forward"),this.right.innerHTML=this.left.innerHTML,this.left.style.opacity=1,this.right.style.opacity=1,this.g=t,this.left.addEventListener("click",function(i){t.room.turnLeft()}),this.right.addEventListener("click",function(i){t.room.turnRight()}),this.forward.addEventListener("click",function(i){t.room.moveForward()})},remove:function(){this.nav.style.display="none"},update:function(){this.forward.style.opacity=1,this.g.room.getRoom()[1]>0&&(this.forward.style.opacity=0)}};exports.navigation=t;
},{}],"U5Xy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.room=void 0;var t={init:function(t){var e=this;this.g=t,this.xdiff=Math.round(t.w>t.h?t.w/10:t.w/8),this.ydiff=Math.round(t.w>t.h?t.h/8:t.h/15),this.msg=t.gei("message"),this.msgContainer=t.gei("messagecontainer"),this.codeContainer=t.gei("codecontainer"),this.codeOverlay=t.gei("codeoverlay"),this.codeInput=t.gei("code"),this.teleportcontainer=t.gei("teleportcontainer"),this.body=t.gei("body"),this.cr="#F57A8D",this.cb="#68D0F7",this.cg="#898989",this.startRoom=[[1,0,1,1,this.cg,0,0,0,"You should not be here"],[1,0,1,0,this.cg,0,0,0,0],[1,1,1,0,this.cg,0,"code20Start",0,0],[1,0,1,0,this.cg,0,0,0,0],[1,1,1,0,this.cg,0,"code40Start",0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,"Andrea was always such a square",0],[1,1,1,0,this.cg,"3 square is 9","code70Start",0,0],[1,0,1,0,this.cg,0,0,"It was always so weird how they name our cat Charlie",0],[1,0,-1,0,this.cg,"My best friends lived on Ceadar Street, Main Street and Oxcrowl Street",0,this.cr,0],[-3,0,1,0,this.cg,this.cb,0,0,0],[1,1,1,0,this.cg,0,"code110Start",0,0],[1,1,1,0,this.cg,0,"code120Start",0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,"My step dad Harry basically raised me. My dad is half the man he is.",0,"In some ways Harry and Andrea were very similar",0],[1,1,1,0,this.cg,0,"code150Start",0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,"Peter<br/>He/Him",0,0,0],[1,1,1,0,this.cg,0,"code210Start",0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,"To the north I faced 1000 fears",0,0,0],[1,0,1,0,this.cg,"To the south I faced 1 fear",0,0,0],[1,0,1,0,this.cg,"To the west I faced 100 fears",0,0,0],[1,0,1,0,this.cg,"To the east I faced 10000 fears",0,0,0],[1,1,-10,0,this.cg,0,"My fears","#000000",0],[1,0,1,1,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,1,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,0,1,0,this.cg,0,0,0,0],[1,1,1,0,this.cg,0,0,0,0]],this.redRoom=[[1,0,1,1,this.cr,0,0,0,0],[1,0,1,0,this.cr,0,0,"Ceadar Street<br/>F0: Karen<br/>F1: Amanda<br/>F2: Joanne<br/>F3: Oliver<br/>F4: Isla<br/>",0],[1,0,1,0,this.cr,0,0,0,0],[1,0,-2,0,this.cr,"Help me<br/>. . . - - - . . .",0,this.cg,0],[1,1,1,0,this.cr,0,"code4Red",0,0],[1,1,1,0,this.cr,0,"Red color is unlocked",0,0]],this.blueRoom=[[1,0,1,1,this.cb,0,0,0,0],[1,0,1,0,this.cb,0,0,"Main Street<br/>F0: Callum<br/>F1: Reece<br/>F2: Damian<br/>F3: Patricia<br/>F4: Samantha<br/>",0],[1,0,1,0,this.cb,"Oxcrowl Street<br/>F0: Jake<br/>F1: John<br/>F2: Margaret<br/>F3: Susan<br/>F4: Sophie<br/>",0,0,0],[1,0,-2,0,this.cb,0,0,this.cg,0],[1,0,1,0,this.cb,"That pervert Mr Andrews was always looking at my legs",0,0,0],[1,1,1,0,this.cb,0,"code5Blue",0,0],[1,1,1,0,this.cb,0,"Blue color is unlocked",0,0]],this.blackRoom=[0,0,0,0,"#000000"],this.startRoomCode={code20Start:["c20",[51512],function(){return(e.generateSelect([4])+e.generateSelect([0])+e.generateSelect([4])).replace(/<select>/g,"<select style='width:33%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[2][1]=0}],code40Start:["c40",[51512],function(){var t=Array.from(Array(10).keys()),i=e.generateSelect(t);return(i+i+i).replace(/<select>/g,"<select style='width:33%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[4][1]=0}],code70Start:["c70",[46908944,49588],function(){var t=Array.from(Array(21).keys()),i=e.generateSelect(t);return("<p class='title'>Andrea</p>"+i+i+i).replace(/<select>/g,"<select style='width:33%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[7][1]=0}],code110Start:["c110",[51512],function(){var t=1===e.redRoom[4][1]?["Red"]:["4"],i=1===e.blueRoom[5][1]?["Blue"]:["0"];return"".concat(e.generateSelect(t)+e.generateSelect(i)+e.generateSelect(["4"])).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[11][1]=0}],code120Start:["c120",[-146555803],function(){var t=e.generateSelect(["Reece","Margaret","John","Damian","Sophie","Karen","Callum","Susan","Amanda","Patricia","Isla","Samantha","Joanne","Oliver"]);return"<p class='title'>Friends</p>".concat(t+t+t).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[12][1]=0}],code150Start:["c150",[1513197,49587],function(){var t=Array.from(Array(21).keys()),i=e.generateSelect(t);return"<p class='title'>Harry / ? / Dad</p>".concat(i+i+i).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[15][1]=0}],code210Start:["c210",[1169578626],function(){var t=Array.from(Array(2).keys()),i=e.generateSelect(t).replace(/<select>/g,"<select style='width:25%'>");return"<p class='title'>Peter</p>".concat(i+i+i+i,"<br />").concat(i+i+i+i,"<br />").concat(i+i+i+i)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[21][1]=0}],code4Red:["code4Red",[-1191407169],function(){var t=e.generateSelect([".","_"]),i=t+t+t+t+t;return"".concat(i,"<br/>").concat(i,"<br/>").concat(i).replace(/<select>/g,"<select style='width:20%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[4][1]=0}],code5Blue:["code5Blue",[1517551447],function(){return"<p class='title'>Mr Andrews</p>".concat(e.generateSelect(["Flamingo","King Crab","Horse","Peter","Scorpion"])+e.generateSelect(["Sea star","Black Widow","Elephant","Peter","Rattlesnake"])+e.generateSelect(["Cockroach","Charlie","Cobra","Molly","Penguin","Bullshark"])).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[5][1]=0}]},this.currentCode=this.startRoomCode,this.currentRoom=this.startRoom,t.ctx.line=t.ctxe.line=function(t,e,i,s){this.beginPath(),this.moveTo(t,e),this.lineTo(i,s),this.stroke()},t.ctx.drawWall=function(e,i,s,r,o,c,h,a,n,l,g){t.ctx.beginPath(),t.ctx.moveTo(e,i),t.ctx.lineTo(s,r),t.ctx.lineTo(o,c),t.ctx.lineTo(h,a),t.ctx.lineTo(e,i);var u=t.ctx.createLinearGradient(e,i,s,i);u.addColorStop(0,l),u.addColorStop(1,g),t.ctx.fillStyle=n,t.ctx.fill(),t.ctx.fillStyle=u,t.ctx.fill(),t.ctx.line(e,i,s,r),t.ctx.line(o,c,h,a)}},generateSelect:function(t){return"<select>".concat(t.reduce(function(t,e){return t+"<option>".concat(e,"</option>")},""),"</select>")},turnLeft:function(){this.g.dir--,this.g.dir<0&&(this.g.dir=3),this.drawRoom(!0)},turnRight:function(){this.g.dir++,this.g.dir>3&&(this.g.dir=0),this.drawRoom(!0)},moveForward:function(){if(this.currentRoom===this.blackRoom){switch(this.g.dir){case 0:this.fearCount+=1e3;break;case 1:this.fearCount+=1e4;break;case 2:this.fearCount+=1;break;case 3:this.fearCount+=100}return 404===this.fearCount&&(this.body.style.backgroundColor=this.cg,this.currentRoom=this.startRoom,this.g.pos=28,this.g.dir=0,this.drawRoom(!0)),void(this.fearCount>404&&(this.g.solve.fail(),this.body.style.backgroundColor=this.cg,this.currentRoom=this.startRoom,this.g.pos=27,this.g.dir=0,this.currentRoom[27][6]="I faced ".concat(this.fearCount," fears."),this.drawRoom(!0)))}var t=this.getRoom();if(t[1]<1){if(-1===t[1]?(this.body.style.backgroundColor=this.cr,this.currentRoom=this.redRoom,this.g.pos=0,this.g.dir=0):-2===t[1]?(this.body.style.backgroundColor=this.cg,this.currentRoom=this.startRoom,this.g.pos=9,this.g.dir=3):-3===t[1]?(this.body.style.backgroundColor=this.cb,this.currentRoom=this.blueRoom,this.g.pos=0,this.g.dir=0):-10===t[1]?(this.fearCount=0,this.body.style.backgroundColor="#000000",this.currentRoom=this.blackRoom,this.g.pos=0,this.g.dir=0):this.g.pos+=0===this.g.dir?1:-1,this.g.pos>=28){var e=28/this.g.pos;if(this.g.paige.style.display="block",this.g.paige.style.opacity=2*(1-e),this.g.c.style.transform="rotate(".concat(56-2*this.g.pos,"deg) scale(").concat(e,")"),37===this.g.pos)return this.g.intro.outro(),this.g.navigation.remove(),void(this.g.c.style.opacity="0")}this.drawRoom(!0)}},getRoom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=0===this.g.dir?this.g.pos+t:2===this.g.dir?this.g.pos-t:this.g.pos;var e=this.currentRoom[t];switch(this.g.dir){case 0:return[e[0],e[1],e[2],e[4],e[5],e[6],e[7]];case 1:return[e[1],e[2],e[3],e[4],e[6],e[7],e[8]];case 2:return[e[2],e[3],e[0],e[4],e[7],e[8],e[5]];case 3:return[e[3],e[0],e[1],e[4],e[8],e[5],e[6]]}},drawRoom:function(t){var e=this;if(t&&(this.msgContainer.style.display="none",this.codeContainer.style.display="none",this.teleportcontainer.style.display="none"),this.currentRoom!==this.blackRoom){this.g.ctx.clearRect(0,0,this.g.w,this.g.h);for(var i=0;i<3;i++){var s,r=this.getRoom(i),o=this.xdiff,c=this.ydiff,h=i*o,a=i*c;2==i&&(o=Math.floor(.7*o),c=Math.floor(.7*c)),o+=Math.floor((-1*this.g.chaos.level+2*this.g.chaos.level)*Math.random()*.3*this.g.chaos.level),c+=Math.floor((-1*this.g.chaos.level+2*this.g.chaos.level)*Math.random()*.2*this.g.chaos.level),this.g.ctx.fillStyle=this.getWallColor(r[3]),this.g.ctx.fillRect(h,a,this.g.w-2*h,c),(s=this.g.ctx.createLinearGradient(h,a,h,a+c)).addColorStop(0,this.g["alphaR".concat(i)]),s.addColorStop(1,this.g["alphaR".concat(i+1)]),this.g.ctx.fillStyle=s,this.g.ctx.fillRect(h,a,this.g.w-2*h,c),this.g.ctx.fillStyle=this.getWallColor(r[3]),this.g.ctx.fillRect(h,this.g.h-c-a,this.g.w-2*h,c),(s=this.g.ctx.createLinearGradient(0,this.g.h-a,0,this.g.h-a-c)).addColorStop(0,this.g["alphaR".concat(i)]),s.addColorStop(1,this.g["alphaR".concat(i+1)]),this.g.ctx.fillStyle=s,this.g.ctx.fillRect(h,this.g.h-c-a,this.g.w-2*h,c),this.g.ctx.beginPath(),this.g.ctx.moveTo(h,a),this.g.ctx.lineTo(this.g.w-h,a),this.g.ctx.lineTo(this.g.w-h,this.g.h-a),this.g.ctx.lineTo(h,this.g.h-a),this.g.ctx.lineTo(h,a),this.g.ctx.stroke();var n=this.getWallColor(r[3]);if(1===r[0]){if(this.g.ctx.line(h,a,h+o,a+c),this.g.ctx.line(h,this.g.h-a,h+o,this.g.h-a-c),this.g.ctx.drawWall(h,a,h+o,a+c,h+o,this.g.h-a-c,h,this.g.h-a,n,this.g["alphaR".concat(i)],this.g["alphaR".concat(i+1)]),0!==r[4]){var l=0===i?0:h+o/(10/i),g=0===i?o/2:o-2*o/(10/i);this.g.ctx.save(),this.g.ctx.rect(l,0,g,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=r[4].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(0,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(0,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else 0===i&&(this.g.ctx.fillStyle=n,this.g.ctx.fillRect(h,c,o,this.g.h-2*c)),this.g.ctx.fillStyle=this.g["alphaR".concat(i+1)],this.g.ctx.fillRect(h,a+c,o,this.g.h-a-c-a-c),this.g.ctx.line(h,a+c,h+o,a+c),this.g.ctx.line(h,this.g.h-a-c,h+o,this.g.h-a-c);if(n=this.getWallColor(r[3]),1===r[2]){if(this.g.ctx.line(this.g.w-h,a,this.g.w-h-o,a+c),this.g.ctx.line(this.g.w-h,this.g.h-a,this.g.w-h-o,this.g.h-a-c),this.g.ctx.drawWall(this.g.w-h,a,this.g.w-h-o,a+c,this.g.w-h-o,this.g.h-a-c,this.g.w-h,this.g.h-a,n,this.g["alphaR".concat(i)],this.g["alphaR".concat(i+1)]),0!==r[6]){var u=0===i?this.g.w-o/2:this.g.w-h-o+o/(10/i),d=0===i?o/2:o-2*o/(10/i);this.g.ctx.save(),this.g.ctx.rect(u,0,d,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=r[6].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(this.g.w,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(this.g.w,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else 0===i&&(this.g.ctx.fillStyle=n,this.g.ctx.fillRect(this.g.w-o,c,o,this.g.h-2*c)),this.g.ctx.fillStyle=this.g["alphaR".concat(i+1)],this.g.ctx.fillRect(this.g.w-h-o,a+c,o,this.g.h-a-c-a-c),this.g.ctx.line(this.g.w-h,a+c,this.g.w-h-o,a+c),this.g.ctx.line(this.g.w-h,this.g.h-a-c,this.g.w-h-o,this.g.h-a-c);if(n=this.getWallColor(r[3]),1===r[1]||2===i){this.g.ctx.fillStyle=n,this.g.ctx.fillRect(o+h,c+a,this.g.w-2*h-2*o,this.g.h-2*a-2*c),this.g.ctx.fillStyle=this.g["alphaR".concat(i+1)],this.g.ctx.fillRect(o+h,c+a,this.g.w-2*h-2*o,this.g.h-2*a-2*c),this.g.ctx.strokeRect(o+h,c+a,this.g.w-2*h-2*o,this.g.h-2*a-2*c),t&&this.drawWallDecorations(r,i);break}}t&&this.g.navigation.update(),!this.timeout&&this.g.chaos.level>0&&(this.timeout=setTimeout(function(){clearTimeout(e.timeout),e.timeout=void 0,e.drawRoom(!1)},this.g.chaos.updateTime))}else this.g.ctx.clearRect(0,0,this.g.w,this.g.h)},getWallColor:function(t){var e=t;return Math.random()<this.g.chaos.colorChance&&(e="#"+Math.floor(16777215*Math.random()).toString(16)),e},drawWallDecorations:function(t,e){0!=t[5]&&(t[5].startsWith("code")?(this.codeContainer.style.display="block",this.codeInput.innerHTML=this.currentCode[t[5]][2](),0===e?(this.codeOverlay.style.display="none",this.codeContainer.style.opacity="1",this.codeContainer.style.transform="translate(-50%,-50%) scale(1)"):(this.codeOverlay.style.display="block",this.codeContainer.style.opacity="".concat(1-.4*e),this.codeContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*e,")"))):t[1]<0?(this.teleportcontainer.style.backgroundColor=t[5],this.teleportcontainer.style.display="block"):(this.msg.innerHTML=t[5],this.msg.classList.remove("glitchanimation"),this.msgContainer.style.display="block",this.msgContainer.style.opacity="".concat(1-.4*e),this.msgContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*e,")"),0===e&&this.msg.classList.add("glitchanimation")))}};exports.room=t;
},{}],"DQ5G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CPlayer=void 0;var r=function(){var r,n,t,i,e,a=function(r){return Math.sin(6.283184*r)},o=function(r){return.003959503758*Math.pow(2,(r-128)/12)},f=function(r,n,t){var i,e,a,f,c,h,s,v=u[r.i[0]],p=r.i[1],w=r.i[3],M=u[r.i[4]],l=r.i[5],y=r.i[8],d=r.i[9],g=r.i[10]*r.i[10]*4,A=r.i[11]*r.i[11]*4,L=r.i[12]*r.i[12]*4,P=1/L,x=r.i[13],C=t*Math.pow(2,2-r.i[14]),I=new Int32Array(g+A+L),m=0,D=0;for(i=0,e=0;i<g+A+L;i++,e++)e>=0&&(e-=C,h=o(n+(15&(x=x>>8|(255&x)<<4))+r.i[2]-128),s=o(n+(15&x)+r.i[6]-128)*(1+8e-4*r.i[7])),a=1,i<g?a=i/g:i>=g+A&&(a-=(i-g-A)*P),f=h,w&&(f*=a*a),c=v(m+=f)*p,f=s,y&&(f*=a*a),c+=M(D+=f)*l,d&&(c+=(2*Math.random()-1)*d),I[i]=80*c*a|0;return I},u=[a,function(r){return r%1<.5?1:-1},function(r){return r%1*2-1},function(r){var n=r%1*4;return n<2?n-1:3-n}];this.init=function(a){r=a,n=a.endPattern,t=0,i=a.rowLen*a.patternLen*(n+1)*2,e=new Int32Array(i)},this.generate=function(){var o,c,h,s,v,p,w,M,l,y,d,g,A,L,P=new Int32Array(i),x=r.songData[t],C=r.rowLen,I=r.patternLen,m=0,D=0,_=!1,b=[];for(h=0;h<=n;++h)for(w=x.p[h],s=0;s<I;++s){var j=w?x.c[w-1].f[s]:0;j&&(x.i[j-1]=x.c[w-1].f[s+I]||0,j<16&&(b=[]));var O=u[x.i[15]],U=x.i[16]/512,W=Math.pow(2,x.i[17]-9)/C,k=x.i[18],q=x.i[19],z=43.23529*x.i[20]*3.141592/44100,B=1-x.i[21]/255,E=1e-5*x.i[22],F=x.i[23]/32,G=x.i[24]/512,H=6.283184*Math.pow(2,x.i[25]-9)/C,J=x.i[26]/255,K=x.i[27]*C&-2;for(d=(h*I+s)*C,v=0;v<4;++v)if(p=w?x.c[w-1].n[s+v*I]:0){b[p]||(b[p]=f(x,p,C));var N=b[p];for(c=0,o=2*d;c<N.length;c++,o+=2)P[o]+=N[c]}for(c=0;c<C;c++)(y=P[M=2*(d+c)])||_?(g=z,k&&(g*=O(W*M)*U+.5),D+=(g=1.5*Math.sin(g))*(A=B*(y-D)-(m+=g*D)),y=3==q?D:1==q?A:m,E&&(y=(y*=E)<1?y>-1?a(.25*y):-1:1,y/=E),_=(y*=F)*y>1e-5,L=y*(1-(l=Math.sin(H*M)*G+.5)),y*=l):L=0,M>=K&&(L+=P[M-K+1]*J,y+=P[M-K]*J),P[M]=0|L,P[M+1]=0|y,e[M]+=0|L,e[M+1]+=0|y}return++t/r.numChannels},this.createWave=function(){var r=44+2*i-8,n=r-36,t=new Uint8Array(44+2*i);t.set([82,73,70,70,255&r,r>>8&255,r>>16&255,r>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&n,n>>8&255,n>>16&255,n>>24&255]);for(var a=0,o=44;a<i;++a){var f=e[a];f=f<-32767?-32767:f>32767?32767:f,t[o++]=255&f,t[o++]=f>>8&255}return t},this.getData=function(r,n){for(var t=2*Math.floor(44100*r),i=new Array(n),a=0;a<2*n;a+=1){var o=t+a;i[a]=r>0&&o<e.length?e[o]/32768:0}return i}};exports.CPlayer=r;
},{}],"mpVp":[function(require,module,exports) {
"use strict";var e=c(require("./song.js")),o=require("./intro.js"),t=require("./solve.js"),n=require("./navigation.js"),i=require("./room.js"),r=require("./player_small");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=a();if(o&&o.has(e))return o.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=n?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,o&&o.set(e,t),t}var u={w:500,h:250,w2:250,h2:125,pos:0,dir:0,chaos:{level:1,updateTime:1e4,colorChance:.001},alphaR0:"rgba(0,0,0,0)",alphaR1:"rgba(0,0,0,0.2)",alphaR2:"rgba(0,0,0,0.7)",alphaR3:"rgba(0,0,0,0.9)",increaseChaos:function(){this.chaos.level++,this.chaos.level<4?(this.chaos.colorChance=.001,this.chaos.updateTime=3e3):this.chaos.level<10?(this.chaos.colorChance=.01,this.chaos.updateTime=800):(this.chaos.colorChance=.04,this.chaos.updateTime=200)},gei:function(e){return document.getElementById(e)}};function s(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function d(){var e=window.innerHeight-20,o=window.innerWidth-20;e>800&&(e=800),o>800&&(o=800),u.w=o,u.w2=Math.floor(o/2),u.h=e,u.h2=Math.floor(e/2),u.c.width=o,u.c.height=e,u.ce.width=o,u.ce.height=e,u.xdiff=Math.round(u.w>u.h?u.w/10:u.w/8),u.ydiff=Math.round(u.w>u.h?u.h/8:u.h/15)}function h(e,o){if(e.generate()>=1){var t=e.createWave(),n=new Blob([t],{type:"audio/wav"}),i=window.URL.createObjectURL(n);o(i)}else setTimeout(function(){return h(e,o)},100)}function l(){u.ctx=u.c.getContext("2d"),u.ctxe=u.ce.getContext("2d"),i.room.init(u),u.room=i.room,u.intro=o.intro,o.intro.init(u,function(){new(window.AudioContext||window.webkitAudioContext);u.audioSong.loop=!0,u.audioSong.play(),o.intro.stop(),u.ctx.strokeStyle="rgba(0,0,0,1)",n.navigation.init(u),u.navigation=n.navigation,t.solve.init(u),u.solve=t.solve,u.room.drawRoom(!0)})}s(function(){var o=new r.CPlayer;u.c=u.gei("canvas"),u.ce=u.gei("canvaseffect"),d(),o.init(e.song),u.audioSong=new Audio,u.audioErrorSound=new Audio,u.audioSuccessSound=new Audio,h(o,function(t){u.audioSong.src=t,o.init(e.errorsound),h(o,function(t){u.audioErrorSound.src=t,o.init(e.successsound),h(o,function(e){u.audioSuccessSound.src=e,l()})})})});
},{"./song.js":"gg0M","./intro.js":"QgaL","./solve.js":"DQCU","./navigation.js":"wuKc","./room.js":"U5Xy","./player_small":"DQ5G"}]},{},["mpVp"], null)
//# sourceMappingURL=script.4310d81b.js.map