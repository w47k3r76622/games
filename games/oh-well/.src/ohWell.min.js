(function(l,d,e){function f(d){d&&!d.setTargetAtTime&&(d.setTargetAtTime=d.setTargetValueAtTime)}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||
(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var d=this.internal_createGain();f(d.gain);return d},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(d){d=d?this.internal_createDelay(d):this.internal_createDelay();f(d.delayTime);return d},AudioContext.prototype.internal_createBufferSource=
AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var d=this.internal_createBufferSource();d.start||(d.start=function(d,k,e){k||e?this.noteGrainOn(d,k,e):this.noteOn(d)});d.stop||(d.stop=d.noteOff);f(d.playbackRate);return d},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var d=this.internal_createDynamicsCompressor();f(d.threshold);f(d.knee);
f(d.ratio);f(d.reduction);f(d.attack);f(d.release);return d},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var d=this.internal_createBiquadFilter();f(d.frequency);f(d.detune);f(d.Q);f(d.gain);return d},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var d=
this.internal_createOscillator();d.start||(d.start=d.noteOn);d.stop||(d.stop=d.noteOff);f(d.frequency);f(d.detune);return d}))})(window);var GA=GA||{};GA.plugins=void 0;GA.custom=void 0;function ga(l,d,e,f,k){return GA.create(l,d,e,f,k)}
GA.create=function(l,d,e,f,k){function p(){requestAnimationFrame(p,c.canvas);if(void 0===c._fps)n();else{var a=Date.now(),b=a-c._startTime;1E3<b&&(b=c._frameDuration);c._startTime=a;for(c._lag+=b;c._lag>=c._frameDuration;)n(),c._lag-=c._frameDuration;c.render(c.canvas,c._lag/c._frameDuration)}}function n(){c.state&&!c.paused&&c.state();if(0<c.buttons.length){c.canvas.style.cursor="auto";for(var a=c.buttons.length-1;0<=a;a--){var b=c.buttons[a];b.update(c.pointer,c.canvas);"over"!==b.state&&"down"!==
b.state||b.stage||(c.canvas.style.cursor="pointer")}}if(0<c.tweens.length)for(a=c.tweens.length-1;0<=a;a--)c.tweens[a].update();if(0<c.particles.length)for(a=c.particles.length-1;0<=a;a--)c.particles[a].update();c.dragAndDrop&&c.pointer.updateDragAndDrop()}function r(a){a.vx=0;a.vy=0;a._width=0;a._height=0;a.scaleX=1;a.scaleY=1;a.rotation=0;a.visible=!0;a.parent=void 0;a.stage=!1;a.shadow=!1;a.shadowColor="rgba(100, 100, 100, 0.5)";a.shadowOffsetX=3;a.shadowOffsetY=3;a.shadowBlur=3;a._alpha=1;a._draggable=
void 0;a._gx=0;a._gy=0;a._layer=0;a._circular=!1;a._interactive=!1;a._oldX=void 0;a._oldY=void 0;a.children=[];a.addChild=function(b){b.parent&&b.parent.removeChild(b);b.parent=a;a.children.push(b);a.calculateSize()};a.removeChild=function(b){if(b.parent===a)a.children.splice(a.children.indexOf(b),1);else throw Error(b+"is not a child of "+a);a.calculateSize()};a.calculateSize=function(){if(0<a.children.length&&!1===a.stage)for(var b=0;b<a.children.length-1;b++){var c=a.children[b];c.x+c.width>a._width&&
(a._width=c.x+c.width);c.y+c.height>a._height&&(a._height=c.y+c.height)}};a.swapChildren=function(b,c){var d=a.children.indexOf(b),s=a.children.indexOf(c);if(-1!==d&&-1!==s)b.childIndex=s,c.childIndex=d,a.children[d]=c,a.children[s]=b;else throw Error(child+" Both objects must be a child of the caller "+a);};a.add=function(b){var c=Array.prototype.slice.call(arguments);1<c.length?c.forEach(function(b){a.addChild(b)}):a.addChild(c[0])};a.remove=function(b){var c=Array.prototype.slice.call(arguments);
1<c.length?c.forEach(function(b){a.removeChild(b)}):a.removeChild(c[0])};a.setPosition=function(b,c){a.x=b;a.y=c};a.put={center:function(b,c,d){b.gx=a.gx+a.halfWidth-b.halfWidth+(c||0);b.gy=a.gy+a.halfHeight-b.halfHeight+(d||0)},top:function(b,c,d){b.gx=a.gx+a.halfWidth-b.halfWidth+(c||0);b.gy=a.gx+b.height+(d||0)},right:function(b,c,d){b.gx=a.gx+a.width+(c||0);b.gy=a.gy+a.halfHeight-b.halfHeight+(d||0)},bottom:function(b,c,d){b.gx=a.gx+a.halfWidth-b.halfWidth+(c||0);b.gy=a.gy+a.height+(d||0)},left:function(b,
c,d){b.gx=a.gx+b.width+(c||0);b.gy=a.gy+a.halfHeight-b.halfHeight+(d||0)}};Object.defineProperties(a,{gx:{get:function(){return a._gx},set:function(b){var c=a.gx;a.children&&0<a.children.length&&a.children.forEach(function(a){a.gx+=b-c});a._gx=b},enumerable:!0,configurable:!0},gy:{get:function(){return a._gy},set:function(b){var c=a.gy;a.children&&0<a.children.length&&a.children.forEach(function(a){a.gy+=b-c});a._gy=b},enumerable:!0,configurable:!0},x:{get:function(){return 0<a.parent.gx?a.gx-a.parent.gx:
Math.abs(a.parent.gx)+a.gx},set:function(b){a.gx=a.parent.gx+b},enumerable:!0,configurable:!0},y:{get:function(){return 0<a.parent.gy?a.gy-a.parent.gy:Math.abs(a.parent.gy)+a.gy},set:function(b){a.gy=a.parent.gy+b},enumerable:!0,configurable:!0},position:{get:function(){return{x:a.x,y:a.y}},set:function(b){a.x=b.x;a.y=b.y}},alpha:{get:function(){return a.parent._alpha*a._alpha},set:function(b){a._alpha=b},enumerable:!0,configurable:!0},halfWidth:{get:function(){return a.width/2},enumerable:!0,configurable:!0},
halfHeight:{get:function(){return a.height/2},enumerable:!0,configurable:!0},width:{get:function(){return a._width*a.scaleX},set:function(b){a._width=b},enumerable:!0,configurable:!0},height:{get:function(){return a._height*a.scaleY},set:function(b){a._height=b},enumerable:!0,configurable:!0},centerX:{get:function(){return a.x+a.halfWidth},enumerable:!0,configurable:!0},centerY:{get:function(){return a.y+a.halfHeight},enumerable:!0,configurable:!0},layer:{get:function(){return a._layer},set:function(b){a._layer=
b;a.parent.children.sort(J)},enumerable:!0,configurable:!0},circular:{get:function(){return a._circular},set:function(b){!0===b&&!1===a._circular&&(v(a),a._circular=!0);!1===b&&!0===a._circular&&(delete a.diameter,delete a.radius,a._circular=!1)},enumerable:!0,configurable:!0},draggable:{get:function(){return a._draggable},set:function(b){!0===b&&(c.draggableSprites.push(a),a._draggable=!0);!1===b&&c.draggableSprites.splice(c.draggableSprites.indexOf(a),1)},enumerable:!0,configurable:!0},interactive:{get:function(){return a._interactive},
set:function(b){!0===b&&(y(a),a._interactive=!0);!1===b&&(c.buttons.splice(c.buttons.indexOf(a),1),a._interactive=!1)},enumerable:!0,configurable:!0},localBounds:{get:function(){return{x:0,y:0,width:a.width,height:a.height}},enumerable:!0,configurable:!0},globalBounds:{get:function(){return rectangle={x:a.gx,y:a.gy,width:a.gx+a.width,height:a.gy+a.height}},enumerable:!0,configurable:!0},empty:{get:function(){return 0===a.children.length?!0:!1},enumerable:!0,configurable:!0}})}function v(a){Object.defineProperties(a,
{diameter:{get:function(){return a.width},set:function(b){a.width=b;a.height=b},enumerable:!0,configurable:!0},radius:{get:function(){return a.width/2},set:function(b){a.width=2*b;a.height=2*b},enumerable:!0,configurable:!0}})}function y(a){a.press=a.press||void 0;a.release=a.release||void 0;a.state="up";a.action="";a.pressed=!1;a.hoverOver=!1;c.buttons.push(a);a.update=function(b,d){var e=c.pointer.hitTestSprite(a);b.isUp&&(a.state="up","button"===a.subtype&&a.show(0));e&&(a.state="over",a.frames&&
3===a.frames.length&&"button"===a.subtype&&a.show(1),b.isDown&&(a.state="down","button"===a.subtype&&(3===a.frames.length?a.show(2):a.show(1))));"down"!==a.state||a.pressed||(a.press&&a.press(),a.pressed=!0,a.action="pressed");"over"===a.state&&(a.pressed&&(a.release&&a.release(),a.pressed=!1,a.action="released",c.pointer.tapped&&a.tap&&a.tap()),a.hoverOver||(a.over&&a.over(),a.hoverOver=!0));"up"===a.state&&(a.pressed&&(a.release&&a.release(),a.pressed=!1,a.action="released"),a.hoverOver&&(a.out&&
a.out(),a.hoverOver=!1))}}function x(a){var b={};b.code=a;b.isDown=!1;b.isUp=!0;b.press=void 0;b.release=void 0;b.downHandler=function(a){a.keyCode===b.code&&(b.isUp&&b.press&&b.press(),b.isDown=!0,b.isUp=!1);a.preventDefault()};b.upHandler=function(a){a.keyCode===b.code&&(b.isDown&&b.release&&b.release(),b.isDown=!1,b.isUp=!0);a.preventDefault()};window.addEventListener("keydown",b.downHandler.bind(b),!1);window.addEventListener("keyup",b.upHandler.bind(b),!1);return b}function J(a,b){return a.layer<
b.layer?-1:1}var c={};c.canvas=document.createElement("canvas");c.canvas.setAttribute("width",1*l);c.canvas.setAttribute("height",1*d);c.canvas.style.backgroundColor="black";document.body.appendChild(c.canvas);c.canvas.ctx=c.canvas.getContext("2d");c.stage=function(){var a={};r(a);a.stage=!0;a.width=c.canvas.width;a.height=c.canvas.height;a.gx=0;a.gy=0;return a.parent=a}();c.pointer=function(){var a={x:0,y:0};Object.defineProperties(a,{centerX:{get:function(){return a.x},enumerable:!0,configurable:!0},
centerY:{get:function(){return a.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:a.x,y:a.y}},enumerable:!0,configurable:!0}});a.isDown=!1;a.isUp=!0;a.tapped=!1;a.downTime=0;a.elapsedTime=0;a.dragSprite=null;a.dragOffsetX=0;a.dragOffsetY=0;a.moveHandler=function(b){var c=b.target;a.x=b.pageX-c.offsetLeft;a.y=b.pageY-c.offsetTop};a.touchmoveHandler=function(b){a.x=1*(b.targetTouches[0].pageX-c.canvas.offsetLeft);a.y=1*(b.targetTouches[0].pageY-c.canvas.offsetTop);b.preventDefault()};
a.downHandler=function(b){a.isDown=!0;a.isUp=!1;a.tapped=!1;a.downTime=Date.now()};a.touchstartHandler=function(b){a.x=b.targetTouches[0].pageX-c.canvas.offsetLeft;a.y=b.targetTouches[0].pageY-c.canvas.offsetTop;b.preventDefault();a.isDown=!0;a.isUp=!1;a.tapped=!1;a.downTime=Date.now()};a.upHandler=function(b){a.elapsedTime=Math.abs(a.downTime-Date.now());200>=a.elapsedTime&&(a.tapped=!0);a.isUp=!0;a.isDown=!1};a.touchendHandler=function(b){a.elapsedTime=Math.abs(a.downTime-Date.now());200>=a.elapsedTime&&
(a.tapped=!0);a.isUp=!0;a.isDown=!1};c.canvas.addEventListener("mousemove",a.moveHandler.bind(a),!1);c.canvas.addEventListener("mousedown",a.downHandler.bind(a),!1);c.canvas.addEventListener("mouseup",a.upHandler.bind(a),!1);window.addEventListener("mouseup",a.upHandler.bind(a),!1);c.canvas.addEventListener("touchmove",a.touchmoveHandler.bind(a),!1);c.canvas.addEventListener("touchstart",a.touchstartHandler.bind(a),!1);c.canvas.addEventListener("touchend",a.touchendHandler.bind(a),!1);window.addEventListener("touchend",
a.touchendHandler.bind(a),!1);c.canvas.style.touchAction="none";a.hitTestSprite=function(b){var d=!1;if(b.circular)var d=a.x-(b.gx+b.halfWidth)*c.scale,e=a.y-(b.gy+b.halfHeight)*c.scale,d=Math.sqrt(d*d+e*e)<b.radius;else var d=(b.gx+b.width)*c.scale,e=b.gy*c.scale,s=(b.gy+b.height)*c.scale,d=a.x>b.gx*c.scale&&a.x<d&&a.y>e&&a.y<s;return d};a.updateDragAndDrop=function(){if(a.isDown)if(null===a.dragSprite)for(var b=c.draggableSprites.length-1;-1<b;b--){var d=c.draggableSprites[b];if(a.hitTestSprite(d)&&
d.draggable){a.dragOffsetX=a.x-d.gx;a.dragOffsetY=a.y-d.gy;a.dragSprite=d;b=d.parent.children;b.splice(b.indexOf(d),1);b.push(d);break}}else a.dragSprite.x=a.x-a.dragOffsetX,a.dragSprite.y=a.y-a.dragOffsetY;a.isUp&&(a.dragSprite=null);c.draggableSprites.some(function(b){if(a.hitTestSprite(b)&&b.draggable)return c.canvas.style.cursor="pointer",!0;c.canvas.style.cursor="auto";return!1})};return a}();c.key=function(){var a={};a.leftArrow=x(37);a.upArrow=x(38);a.rightArrow=x(39);a.downArrow=x(40);a.space=
x(32);return a}();c.actx=new AudioContext;c.buttons=[];c.dragAndDrop=!1;c.draggableSprites=[];c.tweens=[];c.particles=[];c.state=void 0;c.load=k||void 0;c.setup=e||void 0;if(void 0===c.setup)throw Error("Please supply the setup function in the constructor");c.assetFilePaths=f||void 0;c.paused=!1;c._fps=60;c._startTime=Date.now();c._frameDuration=1E3/c._fps;c._lag=0;c.scale=1;c.start=function(){c.assetFilePaths?(c.assets.whenLoaded=function(){c.state=void 0;c.setup()},c.assets.load(c.assetFilePaths),
c.load&&(c.state=c.load)):c.setup();p()};c.pause=function(){c.paused=!0};c.resume=function(){c.paused=!1};c.hidePointer=function(){c.canvas.style.cursor="none"};c.showPointer=function(){c.canvas.style.cursor="auto"};Object.defineProperties(c,{fps:{get:function(){return c._fps},set:function(a){c._fps=a;c._startTime=Date.now();c._frameDuration=1E3/c._fps},enumerable:!0,configurable:!0},backgroundColor:{set:function(a){c.canvas.style.backgroundColor=a},enumerable:!0,configurable:!0}});c.remove=function(a){var b=
Array.prototype.slice.call(arguments);1<b.length?b.forEach(function(a){a.parent.removeChild(a)}):b[0].parent.removeChild(b[0])};c.group=function(a){var b={};r(b);c.stage.addChild(b);a&&Array.prototype.slice.call(arguments).forEach(function(a){b.addChild(a)});return b};c.rectangle=function(a,b,d,e,s,m,h){var f={};r(f);f.width=a||32;f.height=b||32;f.fillStyle=d||"red";f.strokeStyle=e||"none";f.lineWidth=s||0;c.stage.addChild(f);f.x=m||0;f.y=h||0;f.render=function(a){a.beginPath();a.rect(Math.floor(-f.halfWidth),
Math.floor(-f.halfHeight),f.width,f.height);"none"!==f.strokeStyle&&a.stroke();"none"!==f.fillStyle&&a.fill()};return f};c.circle=function(a,b,d,e,f,m){var h={};r(h);h.width=a||32;h.height=a||32;h.fillStyle=b||"red";h.strokeStyle=d||"none";h.lineWidth=e||"none";c.stage.addChild(h);h.x=f||0;h.y=m||0;v(h);h.render=function(a){a.beginPath();a.arc(0,0,h.radius,0,2*Math.PI,!1);"none"!==h.strokeStyle&&a.stroke();"none"!==h.fillStyle&&a.fill()};return h};c.line=function(a,b,d,e,f,m){var h={};r(h);d||0===
d||(d=0);e||0===e||(e=0);f||0===f||(f=32);m||0===m||(m=32);h.ax=d;h.ay=e;h.bx=f;h.by=m;h.strokeStyle=a||"red";h.lineWidth=b||1;h.lineJoin="round";c.stage.addChild(h);Object.defineProperties(h,{width:{get:function(){return Math.abs(h.bx-h.ax)},enumerable:!0,configurable:!0},height:{get:function(){return Math.abs(h.by-h.ay)},enumerable:!0,configurable:!0},gx:{get:function(){return Math.min(h.ax,h.bx)},set:function(a){var b=h.gx,c=a-b;h.ax===b?(h.ax=a,h.bx+=c):(h.bx=a,h.ax+=c)},enumerable:!0,configurable:!0},
gy:{get:function(){return Math.min(h.ay,h.by)},set:function(a){var b=h.gy,c=a-b;h.ay===b?(h.ay=a,h.by+=c):(h.by=a,h.ay+=c)},enumerable:!0,configurable:!0}});h.render=function(a){a.beginPath();h.ax>=h.bx?h.ay>=h.by?(a.moveTo(-h.halfWidth,-h.halfHeight),a.lineTo(h.halfWidth,h.halfHeight)):(a.moveTo(-h.halfWidth,h.halfHeight),a.lineTo(h.halfWidth,-h.halfHeight)):h.ay>=h.by?(a.moveTo(-h.halfWidth,h.halfHeight),a.lineTo(h.halfWidth,-h.halfHeight)):(a.moveTo(-h.halfWidth,-h.halfHeight),a.lineTo(h.halfWidth,
h.halfHeight));"none"!==h.strokeStyle&&a.stroke();"none"!==h.fillStyle&&a.fill()};return h};c.text=function(a,b,d,e,f){var m={};r(m);m.content=a||"Hello!";m.font=b||"12px sans-serif";m.fillStyle=d||"red";m.textBaseline="top";Object.defineProperties(m,{width:{get:function(){return c.canvas.ctx.measureText(m.content).width},enumerable:!0,configurable:!0},height:{get:function(){return c.canvas.ctx.measureText("M").width},enumerable:!0,configurable:!0}});c.stage.addChild(m);m.x=e||0;m.y=f||0;m.render=
function(a){a.translate(-m.halfWidth,-m.halfHeight);a.font=m.font;a.textBaseline=m.textBaseline;a.fillText(m.content,0,0)};return m};c.frame=function(a,b,c,d,e){var m={};m.image=a;m.x=b;m.y=c;m.width=d;m.height=e;return m};c.frames=function(a,b,c,d){var e={};e.image=a;e.data=b;e.width=c;e.height=d;return e};c.filmstrip=function(a,b,d,e){for(var f=g.assets[a],m=[],h=f.width/b,f=h*(f.height/d),k=0;k<f;k++){var l,p;l=k%h*b;p=Math.floor(k/h)*d;e&&0<e&&(l+=e+e*k%h,p+=e+e*Math.floor(k/h));m.push([l,p])}return c.frames(a,
m,b,d)};c.sprite=function(a){var b={};r(b);b.frames=[];b.loop=!0;b._currentFrame=0;if(void 0===a)throw Error("Sprites require a source");if(a.image)if(a.image&&!a.data){if(!(c.assets[a.image]instanceof Image))throw Error(a.image+" is not an image file");b.source=c.assets[a.image];b.sourceX=a.x;b.sourceY=a.y;b.width=a.width;b.height=a.height;b.sourceWidth=a.width;b.sourceHeight=a.height}else a.image&&a.data&&(b.source=c.assets[a.image],b.frames=a.data,b.sourceX=b.frames[0][0],b.sourceY=b.frames[0][1],
b.width=a.width,b.height=a.height,b.sourceWidth=a.width,b.sourceHeight=a.height);else a instanceof Array?c.assets[a[0]]&&c.assets[a[0]].source?(b.frames=a,b.source=c.assets[a[0]].source,b.sourceX=c.assets[a[0]].frame.x,b.sourceY=c.assets[a[0]].frame.y,b.width=c.assets[a[0]].frame.w,b.height=c.assets[a[0]].frame.h,b.sourceWidth=c.assets[a[0]].frame.w,b.sourceHeight=c.assets[a[0]].frame.h):(b.frames=a,b.source=c.assets[a[0]],b.sourceX=0,b.sourceY=0,b.width=b.source.width,b.height=b.source.width,b.sourceWidth=
b.source.width,b.sourceHeight=b.source.width):c.assets[a]instanceof Image?(b.source=c.assets[a],b.sourceX=0,b.sourceY=0,b.width=b.source.width,b.height=b.source.height,b.sourceWidth=b.source.width,b.sourceHeight=b.source.height):(b.tilesetFrame=c.assets[a],b.source=b.tilesetFrame.source,b.sourceX=b.tilesetFrame.frame.x,b.sourceY=b.tilesetFrame.frame.y,b.width=b.tilesetFrame.frame.w,b.height=b.tilesetFrame.frame.h,b.sourceWidth=b.tilesetFrame.frame.w,b.sourceHeight=b.tilesetFrame.frame.h);b.gotoAndStop=
function(a){if(0<b.frames.length)b.frames[0]instanceof Array?(b.sourceX=b.frames[a][0],b.sourceY=b.frames[a][1]):g.assets[b.frames[a]].frame?(b.sourceX=g.assets[b.frames[a]].frame.x,b.sourceY=g.assets[b.frames[a]].frame.y):(b.source=g.assets[b.frames[a]],b.sourceX=0,b.sourceY=0,b.width=b.source.width,b.height=b.source.height,b.sourceWidth=b.source.width,b.sourceHeight=b.source.height),b._currentFrame=a;else throw Error("Frame number "+a+"doesn't exist");};0<b.frames.length&&Object.defineProperty(b,
"currentFrame",{get:function(){return b._currentFrame},enumerable:!1,configurable:!1});c.stage.addChild(b);b.x=0;b.y=0;0<b.frames.length&&c.addStatePlayer(b);b.render=function(a){a.drawImage(b.source,b.sourceX,b.sourceY,b.sourceWidth,b.sourceHeight,Math.floor(-b.halfWidth),Math.floor(-b.halfHeight),b.width,b.height)};return b};c.button=function(a){a=c.sprite(a);a.subtype="button";y(a);return a};c.image=function(a){return c.assets[a]};c.json=function(a){return c.assets[a]};c.addStatePlayer=function(a){function b(b){d();
h=b[0];f=b[1];m=f-h;0===h&&(m+=1,e+=1);1===m&&(m=2,e+=1);a.fps||(a.fps=12);b=1E3/a.fps;a.gotoAndStop(h);l||(k=setInterval(c.bind(this),b),l=!0)}function c(){e<m?(a.gotoAndStop(a.currentFrame+1),e+=1):a.loop&&(a.gotoAndStop(h),e=1)}function d(){void 0!==k&&!0===l&&(l=!1,m=f=h=e=0,clearInterval(k))}var e=0,m=0,h=0,f=0,k=void 0,l=!1;a.show=function(b){d();"string"!==typeof b?a.gotoAndStop(b):a.gotoAndStop(a.frames.indexOf(b))};a.play=function(){b([0,a.frames.length-1])};a.stop=function(){d();a.gotoAndStop(a.currentFrame)};
a.playing=l;a.playSequence=b};c.render=function(a,b){function d(c){if(c.visible&&c.gx<a.width&&-1<c.gx+c.width&&c.gy<a.height&&-1<c.gy+c.height){e.save();e.strokeStyle=c.strokeStyle;e.lineWidth=c.lineWidth;e.fillStyle=c.fillStyle;e.globalAlpha=c.alpha;c.shadow&&(e.shadowColor=c.shadowColor,e.shadowOffsetX=c.shadowOffsetX,e.shadowOffsetY=c.shadowOffsetY,e.shadowBlur=c.shadowBlur);void 0===c._oldX&&(c._oldX=c.gx);void 0===c._oldY&&(c._oldY=c.gy);c.renderX=(c.gx-c._oldX)*b+c._oldX;c.renderY=(c.gy-c._oldY)*
b+c._oldY;!0===c.parent.stage?e.translate(c.renderX+c.halfWidth,c.renderY+c.halfHeight):e.translate(c.renderX+c.halfWidth-c.parent.renderX-c.parent.halfWidth,c.renderY+c.halfHeight-c.parent.renderY-c.parent.halfHeight);e.rotate(c.rotation);e.scale(c.scaleX,c.scaleY);c.render&&c.render(e);if(c.children&&0<c.children.length)for(var h=0;h<c.children.length;h++)d(c.children[h]);e.restore()}c._oldX=c.gx;c._oldY=c.gy}var e=a.ctx;e.clearRect(0,0,a.width,a.height);for(var f=0;f<c.stage.children.length;f++)d(c.stage.children[f])};
c.assets={toLoad:0,loaded:0,imageExtensions:["png","jpg","gif"],fontExtensions:["ttf","otf","ttc","woff"],audioExtensions:["mp3","ogg","wav","webm"],jsonExtensions:["json"],whenLoaded:void 0,load:function(a){console.log("Loading assets...");var b=this;b.toLoad=a.length;a.forEach(function(a){var d=a.split(".").pop();if(-1!==b.imageExtensions.indexOf(d))d=new Image,d.addEventListener("load",b.loadHandler.bind(b),!1),d.name=a,b[d.name]=d,d.src=a;else if(-1!==b.fontExtensions.indexOf(d)){var d=a.split("/").pop().split(".")[0],
e=document.createElement("style");e.appendChild(document.createTextNode("@font-face {font-family: '"+d+"'; src: url('"+a+"');}"));document.head.appendChild(e);b.loadHandler()}else if(-1!==b.audioExtensions.indexOf(d))d=c.makeSound(a,b.loadHandler.bind(b)),d.name=a,b[d.name]=d;else if(-1!==b.jsonExtensions.indexOf(d)){var f=new XMLHttpRequest,h={};f.open("GET",a,!0);f.addEventListener("readystatechange",function(){200===f.status&&4===f.readyState&&(h=JSON.parse(f.responseText),h.name=a,b[h.name]=h,
h.frames?b.createTilesetFrames(h,a):b.loadHandler())});f.send()}else console.log("File type not recognized: "+a)})},createTilesetFrames:function(a,b){var c=this,d=b.replace(/[^\/]*$/,""),e=new Image;e.addEventListener("load",function(){c[d+a.meta.image]=e;Object.keys(a.frames).forEach(function(b){c[b]=a.frames[b];c[b].source=e});c.loadHandler()},!1);e.src=d+a.meta.image},loadHandler:function(){this.loaded+=1;console.log(this.loaded);this.toLoad===this.loaded&&(console.log("Assets finished loading"),
this.loaded=this.toLoad=0,this.whenLoaded())}};c.makeSound=function(a,b){var d={};d.actx=c.actx;d.volumeNode=d.actx.createGain();d.panNode=d.actx.createPanner();d.panNode.panningModel="equalpower";d.soundNode=void 0;d.buffer=void 0;d.source=void 0;d.loop=!1;d.isPlaying=!1;d.loadHandler=void 0;d.panValue=0;d.volumeValue=1;d.startTime=0;d.startOffset=0;d.play=function(){d.startTime=d.actx.currentTime;d.soundNode=d.actx.createBufferSource();d.soundNode.buffer=d.buffer;d.soundNode.connect(d.panNode);
d.panNode.connect(d.volumeNode);d.volumeNode.connect(d.actx.destination);d.soundNode.loop=d.loop;d.soundNode.start(0,d.startOffset%d.buffer.duration);d.isPlaying=!0};d.pause=function(){d.isPlaying&&(d.soundNode.stop(0),d.startOffset+=d.actx.currentTime-d.startTime,d.isPlaying=!1)};d.restart=function(){d.isPlaying&&d.soundNode.stop(0);d.startOffset=0;d.play()};d.playFrom=function(a){d.isPlaying&&d.soundNode.stop(0);d.startOffset=a;d.play()};Object.defineProperties(d,{volume:{get:function(){return d.volumeValue},
set:function(a){d.volumeNode.gain.value=a;d.volumeValue=a},enumerable:!0,configurable:!0},pan:{get:function(){return d.panValue},set:function(a){var b=1-Math.abs(a);d.panNode.setPosition(a,0,b);d.panValue=a},enumerable:!0,configurable:!0}});d.load=function(){var c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.addEventListener("load",function(){d.actx.decodeAudioData(c.response,function(a){d.buffer=a;d.hasLoaded=!0;b&&b()},function(a){throw Error("Audio could not be decoded: "+
a);})});c.send()};d.load();return d};c.sound=function(a){return c.assets[a]};c.keyboard=x;c.makeDisplayObject=r;void 0!==GA.plugins&&GA.plugins(c);void 0!==GA.custom&&GA.custom(c);return c};
GA.custom=function(l){l.move=function(d){var e;if(!1===d instanceof Array)e=d,e.x+=e.vx,e.y+=e.vy;else for(var f=0;f<d.length;f++)e=d[f],e.x+=e.vx,e.y+=e.vy};l.random=function(d,e){return Math.floor(Math.random()*(e-d+1))+d};l.randomFloat=function(d,e){return d+Math.random()*(e-d)};l.wait=function(d,e){setTimeout(e,d)};l.slide=function(d,e,f,k){var p={};p.startX=d.x;p.startY=d.y;p.playing=!0;p.update=function(){if(p.playing){var n=e-d.x,r=f-d.y;if(0.5<=Math.sqrt(n*n+r*r))d.x+=n*k,d.y+=r*k;else{d.x=
e;d.y=f;p.playing=!1;if(p.onComplete)p.onComplete();l.tweens.splice(l.tweens.indexOf(p),1)}}};p.pause=function(){p.playing=!1};p.play=function(){p.playing=!0};l.tweens.push(p);return p};l.fadeOut=function(d,e,f){f=f||0;var k={playing:!0,update:function(){if(k.playing)if(d._alpha>f)d._alpha-=e,d._alpha<f&&(d._alpha=f);else{k.playing=!1;if(k.onComplete)k.onComplete();l.tweens.splice(l.tweens.indexOf(k),1)}},pause:function(){k.playing=!1},play:function(){k.playing=!0}};l.tweens.push(k);return k};l.fadeIn=
function(d,e,f){f=f||1;var k={playing:!0,update:function(){if(k.playing)if(d._alpha<f)d._alpha+=e,d._alpha>f&&(d._alpha=f);else{k.playing=!1;if(k.onComplete)k.onComplete();l.tweens.splice(l.tweens.indexOf(k),1)}},pause:function(){k.playing=!1},play:function(){k.playing=!0}};l.tweens.push(k);return k};l.fade=function(d,e,f){f=f||0;var k={playing:!0,update:function(){if(k.playing)if(f<d._alpha)if(d._alpha>f)d._alpha-=e,d._alpha<f&&(d._alpha=f);else{k.playing=!1;if(k.onComplete)k.onComplete();l.tweens.splice(l.tweens.indexOf(k),
1)}else if(d._alpha<f)d._alpha+=e,d._alpha>f&&(d._alpha=f);else{k.playing=!1;if(k.onComplete)k.onComplete();l.tweens.splice(l.tweens.indexOf(k),1)}},pause:function(){k.playing=!1},play:function(){k.playing=!0}};l.tweens.push(k);return k};l.pulse=function(d,e,f,k){function p(d,e,f,k){n.tween=l.fade(d,e,f);n.tween.onComplete=function(){l.wait(k,function(){1>d._alpha?p(d,e,1,k):p(d,e,0,k)})}}void 0===k&&(k=0);var n={};p(d,f,e,k);Object.defineProperty(n,"playing",{get:function(){return n.tween.playing},
enumerable:!1,configurable:!1});n.pause=function(){n.tween.playing=!1};n.play=function(){n.tween.playing=!0};return n};l.burst=function(d,e,f,k,p,n,r,v,y,x,J,c,a,b){function w(){var k=f();k.x=d;k.y=e;var m=l.randomFloat(p,n);k.width=m;k.height=m;k.scaleSpeed=l.randomFloat(y,x);k.alphaSpeed=l.randomFloat(J,c);k.rotationSpeed=l.randomFloat(a,b);m=l.randomFloat(r,v);k.vx=m*Math.cos(D*Math.PI/180);k.vy=m*Math.sin(D*Math.PI/180);k.update=function(){k.x+=k.vx;k.y+=k.vy;0<k.scaleX-k.scaleSpeed&&(k.scaleX-=
k.scaleSpeed);0<k.scaleY-k.scaleSpeed&&(k.scaleY-=k.scaleSpeed);k.rotation+=k.rotationSpeed;k.alpha-=k.alphaSpeed;0>=k.alpha&&(l.remove(k),l.particles.splice(l.particles.indexOf(k),1))};l.particles.push(k)}d=d||0;e=e||0;f=f||function(){return l.circle(10,"red")};p=p||4;n=n||16;k=k||10;r=r||0.1;v=v||1;y=y||0.01;x=x||0.05;J=J||0.02;c=c||0.02;a=a||0.01;b=b||0.03;var D;for(D=0;360>D;D+=Math.round(360/k))w()};l.contain=function(d,e,f,k){var l=e.x,n=e.y,r=e.width;e=e.height;f=f||!1;var v;d.x<l&&(f&&(d.vx*=
-1),d.mass&&(d.vx/=d.mass),d.x=l,v="left");d.y<n&&(f&&(d.vy*=-1),d.mass&&(d.vy/=d.mass),d.y=n,v="top");d.x+d.width>r&&(f&&(d.vx*=-1),d.mass&&(d.vx/=d.mass),d.x=r-d.width,v="right");d.y+d.height>e&&(f&&(d.vy*=-1),d.mass&&(d.vy/=d.mass),d.y=e-d.height,v="bottom");v&&k&&k(v);return v};l.hitTestRectangle=function(d,e,f){var k,l;void 0===f&&(f=!0);f?(k=d.gx+d.halfWidth-(e.gx+e.halfWidth),l=d.gy+d.halfHeight-(e.gy+e.halfHeight)):(k=d.centerX-e.centerX,l=d.centerY-e.centerY);f=d.halfWidth+e.halfWidth;d=
d.halfHeight+e.halfHeight;return Math.abs(k)<f?Math.abs(l)<d?!0:!1:!1};l.rectangleCollision=function(d,e,f,k){var l,n,r;void 0===f&&(f=!1);void 0===k&&(k=!0);k?(k=d.gx+d.halfWidth-(e.gx+e.halfWidth),r=d.gy+d.halfHeight-(e.gy+e.halfHeight)):(k=d.centerX-e.centerX,r=d.centerY-e.centerY);n=d.halfWidth+e.halfWidth;e=d.halfHeight+e.halfHeight;Math.abs(k)<n&&Math.abs(r)<e&&(n-=Math.abs(k),e-=Math.abs(r),n>=e?(0<r?(l="top",d.y+=e):(l="bottom",d.y-=e),f&&(d.vy*=-1)):(0<k?(l="left",d.x+=n):(l="right",d.x-=
n),f&&(d.vx*=-1)));return l};l.getIndex=function(d,e,f,k,l){return Math.floor(d/f)+Math.floor(e/k)*l};l.surroundingCells=function(d,e){return[d-e-1,d-e,d-e+1,d-1,d,d+1,d+e-1,d+e,d+e+1]};l.updateMap=function(d,e,f){var k=d.map(function(d){return 0});e instanceof Array?e.forEach(function(d){d.index=l.getIndex(d.centerX,d.centerY,f.tilewidth,f.tileheight,f.widthInTiles);k[d.index]=d.gid}):(e.index=l.getIndex(e.centerX,e.centerY,f.tilewidth,f.tileheight,f.widthInTiles),k[e.index]=e.gid);return k};l.scaleToFit=
function(d,e){var f,k;"width"===d&&(f=l.canvas.width/window.innerWidth,k=l.canvas.height/window.innerHeight);"height"===d&&(f=window.innerWidth/l.canvas.width,k=window.innerHeight/l.canvas.height);f=Math.min(f,k);l.canvas.style.transformOrigin="0 0";l.canvas.style.transform="scale("+f+")";document.body.style.backgroundColor=e;l.canvas.style.paddingLeft=0;l.canvas.style.paddingRight=0;l.canvas.style.marginLeft="auto";l.canvas.style.marginRight="auto";l.canvas.style.display="block";k=navigator.userAgent.toLowerCase();
-1==k.indexOf("safari")||-1<k.indexOf("chrome")||(l.canvas.style.maxHeight="100%",l.canvas.style.minHeight="100%");l.scale=f};l.shake=function(d,e){var f=1,k=d.x;startY=d.y;e=e||64;d.updateShake=function(){10>f&&(d.x=k,d.y=startY,e-=f,d.x=l.random(-e,e),d.y=l.random(-e,e),f+=1);10<=f&&(d.x=k,d.y=startY,l.particles.splice(l.particles.indexOf(d),1))};l.particles.push(d)}};
(function(){function l(){Q.content="score: "+q;currentLevelScoreText.content=u;0<z?(F.visible=!0,F.content="-"+z):F.visible=!1;currentLevelScoreText.fillStyle=0>=u-z&&F.visible?"red":"#7FFF00";m.update();b.frictionX=b.isOnGround?0.92:0.97;b.vx+=b.accelerationX;b.vy+=b.accelerationY;b.vx*=b.frictionX;b.vy+=b.gravity;c.pointer.x>b.x&&c.pointer.x<b.x+b.width&&c.pointer.isDown&&0!==Math.abs(b.vx)&&(b.accelerationX=0,b.vx*=0.9,w.stop());b.isOnGround||w.stop();c.move(b);var a=c.contain(b,h.localBounds);
"bottom"===a&&(b.isOnGround=!0,b.vy=-b.gravity);"top"===a&&(b.vy=0);b.index=c.getIndex(b.centerX,b.centerY,h.tilewidth,h.tileheight,h.widthInTiles);var k=c.surroundingCells(b.index,h.widthInTiles);t.children.forEach(function(a,d){a.vy+=a.gravity;0>=u-z&&0!==a.vy&&R&&(a.fillStyle="red");c.move(a);a.y+a.height>h.height&&(a.y=h.height-a.height,a.gravity=0,a.vy=0,a.gid=3,a.fillStyle=a.color);if(a.gid!==aa&&0!==k.indexOf(a.index))if("door"!==a.name){var l=c.rectangleCollision(b,a);if("bottom"===l&&0<=
b.vy){b.isOnGround=!0;b.vy=-b.gravity;var m=Math.floor((h.height-b.centerY)/h.tileheight);if(m>S&&!Y){var K=m-S;u+=K;q+=K;S=m;p(q,b.y-32,"#7FFF00");q>=lethalScoreValue&&(R=!0);m=parseInt(localStorage.getItem("highScore"));q>m&&localStorage.setItem("highScore",q)}}else"top"===l&&0>=b.vy&&0<b.alpha?(b.vy=0,0!==a.vy?(u-=z,q-=z,0>u&&(u=0),0>q&&(q=0),0===u&&R?e():f()):0<u&&(n(a,"white"),u-=1,q-=1,p(-1,b.y-64,"red"),0>u&&(u=0),0>q&&(q=0))):"right"===l&&0<=b.vx?b.vx=0:"left"===l&&0>=b.vx&&(b.vx=0);"bottom"!==
l&&0<b.vy&&(b.isOnGround=!1)}else c.hitTestRectangle(b,a)&&!Z&&(v(),Z=!0)});t.data=c.updateMap(t.data,t.children,h);var l=!1;t.data.forEach(function(a,b){var e=t.data[b];cellBelow=t.data[b+h.widthInTiles];cellRight=t.data[b+1];cellLeft=t.data[b+1];if(e===$&&cellBelow===ba||e===$&&cellBelow===aa){var f,k,m,K;t.children.forEach(function(a){a.index===b&&(f=a);a.index===b+h.widthInTiles&&(k=a);a.index===b+1&&(m=a);a.index===b-1&&(K=a)});"bottom"===c.rectangleCollision(f,k)&&0<=f.vy&&(f.vy=0,f.gravity=
0,f.gid=ba,f.fillStyle=f.color,z=d(),k&&k.color===f.color&&(n(f,"white"),n(k,"white")),m&&m.color===f.color&&0!==(b+1)%h.widthInTiles&&(n(f,"white"),n(m,"white")),K&&K.color===f.color&&0!==b%h.widthInTiles&&(n(f,"white"),n(K,"white")),f.index<3*h.widthInTiles&&(l=!0))}});l&&(Y=!0,m.finished||m.finish())}function d(){var a=Math.abs(Math.floor((0-b.centerY)/h.tileheight)),a=k().depth-a;return 0<a?a:0}function e(){function a(){N.content="Score: "+q;Q.content="score: 0";T.content="high score: "+parseInt(localStorage.getItem("highScore"));
c.slide(U,0,0,0.3);c.slide(B,-c.canvas.width,0,0.3);c.wait(4E3,function(){c.slide(U,c.canvas.width,0,0.3);c.slide(L,0,0,0.3);I.release=function(){y("restart");c.slide(L,c.canvas.width,0,0.3);c.slide(B,0,0,0.3).onComplete=function(){c.resume()}}})}x(b);c.shake(t);p(-z,b.y-64,"red");c.pause();m.finsihed=!0;m.pause();b.alpha=0;c.wait(3E3,function(){a()})}function f(){function a(){d();c.fadeIn(b,0.02).onComplete=function(){c.resume();b.gravity=b.GRAVITY;b.paused=!1;b.vx=0;b.vy=0;m.resume()}}function d(){var a=
k(),c=a.column*h.tilewidth+(h.tilewidth/2-b.halfWidth);b.y=h.height-200-(h.height-a.depth*h.tileheight);b.x=c}x(b);p(-z,b.y-64,"red");m.pause();b.paused=!0;b.alpha=0;b.vx=0;b.vy=0;b.gravity=0;c.wait(2E3,function(){c.pause();a()})}function k(){var a,b,d=0,e=0,f=[],k=[];for(a=a=0;a<h.widthInTiles;a++){for(b=d=0;b<h.heightInTiles;b++)t.data[b*h.widthInTiles+a]===ca&&(d+=1);d>e&&(e=d);f.push(d)}f.forEach(function(a,b){a===e&&k.push(b)});a=k[c.random(0,k.length-1)];return{column:a,depth:e}}function p(a,
d,e){if(a){var f=c.text(a,"24px Futura, sans-serif",e);f.alpha=0;f.setPosition(b.x+4,d);f.x>c.canvas.width-32&&(f.x=c.canvas.width-32);8>f.x&&(f.x=8);c.fadeIn(f,0.04).onComplete=function(){c.fadeOut(f,0.04)};f.update=function(){f.y-=0.5;0>=f.alpha&&(c.remove(f),c.particles.splice(c.particles.indexOf(f),1))};c.particles.push(f)}}function n(a,b){a.fillStyle=b;a.gid=aa;c.fadeOut(a,0.02,0.3).onComplete=function(){a.color="white"}}function r(){function a(){c.slide(resetTitleScene,0,0,0.3);c.slide(B,-c.canvas.width,
0,0.3);c.wait(2E3,function(){y("reset");c.slide(resetTitleScene,c.canvas.width,0,0.3);c.slide(B,0,0,0.3).onComplete=function(){c.resume()}})}c.pause();m.finished=!0;c.wait(1E3,function(){a()})}function v(){function a(){c.slide(M,0,0,0.3);c.slide(B,-c.canvas.width,0,0.3);if(99!==G)C.content="Level "+G+" Complete!",A.content="Score: "+q,O.release=function(){y();c.slide(M,c.canvas.width,0,0.3);c.slide(B,0,0,0.3).onComplete=function(){c.resume()}};else{C.content="You Finished!";C.x+=38;A.content="Final score: "+
q;A.x-=24;var b=parseInt(localStorage.getItem("highScore"));q>b&&localStorage.setItem("highScore",q);T.content="high score: "+parseInt(localStorage.getItem("highScore"));O.release=function(){c.slide(M,c.canvas.width,0,0.3);c.slide(L,0,0,0.3);I.release=function(){y("restart");c.slide(L,c.canvas.width,0,0.3);c.slide(B,0,0,0.3).onComplete=function(){c.resume()}}}}}c.fadeOut(b,0.15);c.wait(300,function(){c.pause();c.wait(1E3,function(){a()})})}function y(a){"reset"===a?0<=q-u?(q-=u,u=0):q=u=0:"restart"===
a?(G=1,P.content=G+"/99",q=0,R=!1,A.content="Final score: "+q,C.x=42,A.x=104,m.time=m.START_TIME):(G+=1,P.content=G+"/99");var d=parseInt(localStorage.getItem("highScore"));q>d&&localStorage.setItem("highScore",q);S=0;t.children=[];E.chldren=[];E.addChild(b);b.alpha=1;b.visible=!0;b.vy=0;b.vx=0;h.put.bottom(b,0,-(c.canvas.height/4));m.finished=!1;m.frameCounter=0;m.resume();Y=Z=!1;z=0;"reset"!==a&&(u=0,m.time-=m.increment,m.colorIndex+=1,m.colorIndex>m.colors.length-1&&(m.colorIndex=0));F.visible=
!1;currentLevelScoreText.fillStyle="#7FFF00";currentLevelScoreText.content=0}function x(a){c.burst(a.x,a.y,function(){return c.sprite(c.frame("tileset.png",80,0,16,16))},c.random(5,10),10,26,3,0.5,0.01,0.05,0.01,0.02,0.01,0.03)}function J(){X=c.rectangle(c.canvas.width,h.tileheight,"#2F2F2F");var a=c.line("#616161",1,0,h.tileheight-1,c.canvas.width,h.tileheight-1);Q=c.text("score: 0","20px Futura, sans-serif","white");Q.setPosition(72,6);currentLevelScoreText=c.text("0","20px Futura, sans-serif",
"#7FFF00");currentLevelScoreText.setPosition(8,6);F=c.text("0","20px Futura, sans-serif","yellow");F.setPosition(38,6);F.visible=!1;P=c.text("1/99","20px Futura, sans-serif","white");P.setPosition(226,6);V=c.text("reset","20px Futura, sans-serif","white");H=c.rectangle(64,h.tileheight-3,"#2F2F2F");H.addChild(V);V.setPosition(8,2);X.put.right(H,-H.width,0);H.interactive=!0;H.over=function(){V.fillStyle="#7FFF00"};H.out=function(){V.fillStyle="white"};H.release=function(){r()};X.add(a,currentLevelScoreText,
Q,F,P,H);resetTitleScene=c.rectangle(c.canvas.width,c.canvas.height,"black");resetMessageText=c.text("Resetting the level...","32px Futura, sans-serif","white");resetTitleScene.addChild(resetMessageText);resetMessageText.y=c.canvas.height/2-2*resetMessageText.height;resetMessageText.x=42;resetTitleScene.x=c.canvas.width;B=c.group(h,X);B.x=-c.canvas.width;M=c.rectangle(c.canvas.width,c.canvas.height,"black");C=c.text("Level 1 Complete!","32px Futura, sans-serif","white");C.y=c.canvas.height/4-2*C.height;
C.x=42;A=c.text("Score: 57","32px Futura, sans-serif","white");A.y=c.canvas.height/2-2*A.height;A.x=104;a=c.rectangle(2*h.tilewidth,h.tileheight+14,"#7FFF00");c.pulse(a,0,0.02);var b=c.text("Go!","32px Futura, sans-serif","white");O=c.group(a,b);b.x=8;b.y=4;M.put.bottom(O,0,-c.canvas.height/4);O.interactive=!0;M.add(C,A,O);M.x=c.canvas.width;var d=c.group(),b=c.text("A jumping game for children.","16px 'Book Antiqua', 'Big Caslon', serif","white"),a=c.text("Try and survive as long as you can!","16px 'Book Antiqua', 'Big Caslon', serif",
"white"),e=c.text("Made by Kittykatattack!","16px 'Book Antiqua', 'Big Caslon', serif","white"),f=c.text("(www.kittykatattack.com)","16px 'Book Antiqua', 'Big Caslon', serif","white"),k=c.text("Using the `Ga` game engine.","16px 'Book Antiqua', 'Big Caslon', serif","white"),n=c.text("(github.com/kittykatattack/ga)","16px 'Book Antiqua', 'Big Caslon', serif","white");d.add(b,a,e,f,k,n);b.x=20;a.y=b.y+28;e.y=a.y+200;e.x=40;f.y=e.y+28;f.x=34;k.y=f.y+28;k.x=28;n.y=k.y+28;n.x=18;d.setPosition(-c.canvas.width,
275);b=c.rectangle(2*h.tilewidth,h.tileheight+14,"#7FFF00");c.pulse(b,0,0.02);e=c.text("Go!","32px Futura, sans-serif","white");I=c.group(b,e);e.x=8;e.y=4;d.addChild(I);I.setPosition(96,a.y+52);I.interactive=!0;I.release=function(){c.slide(L,c.canvas.width,0,0.3);c.slide(B,0,0,0.3).onComplete=function(){m.resume();c.state=l}};a=parseInt(localStorage.getItem("highScore"));a||(a=0,localStorage.setItem("highScore",a));T=c.text("high score: "+a,"28px Futura, sans-serif","white");d.addChild(T);T.setPosition(32,
I.y+72);L=c.rectangle(c.canvas.width,c.canvas.height,"black");a=c.text("Oh","72px 'Book Antiqua', 'Big Caslon', serif","white");a.setPosition(c.canvas.width,96);var b=c.slide(a,96,96,0.3),p=c.text("Well!","72px 'Book Antiqua', 'Big Caslon', serif","white");p.setPosition(-75,164);b.onComplete=function(){c.slide(p,128,164,0.3).onComplete=function(){c.slide(d,52,275,0.3)}};L.add(a,p,d);U=c.rectangle(c.canvas.width,c.canvas.height,"black");W=c.text("Game Over!","32px Futura, sans-serif","white");N=c.text("Score: 0",
"32px Futura, sans-serif","white");U.add(W,N);W.y=c.canvas.height/2-2*W.height-64;W.x=86;N.y=c.canvas.height/2-2*N.height+64;N.x=112;U.x=c.canvas.width}var c=ga(360,640,function(){h=c.group();h.tilewidth=36;h.tileheight=36;h.width=c.canvas.width;h.topPadding=0;h.height=c.canvas.height;h.widthInTiles=h.width/h.tilewidth;h.heightInTiles=h.height/h.tileheight;t=c.group();t.height=h.height;t.width=h.width;E=c.group();E.height=h.height;E.width=h.width;h.add(t,E);t.data=[];E.data=[];for(var d=h.heightInTiles*
h.widthInTiles,e=0;e<d;e++)t.data[e]=0,E.data[e]=0;a=c.frames("tileset.png",[[0,0],[16,0]],16,16);w=c.sprite(a);w.states={right:0,left:1};D=c.frames("tileset.png",[[32,0],[48,0],[64,0]],16,16);s=c.sprite(D);s.states={left:0,right:1,middle:2};s.show(s.states.middle);b=c.group(w,s);E.addChild(b);b.accelerationX=0;b.accelerationY=0;b.frictionX=1;b.frictionY=1;b.GRAVITY=0.3;b.gravity=b.GRAVITY;b.jumpForce=-8.2;b.vx=0;b.vy=0;b.isOnGround=!0;b.paused=!1;b.gid=1;h.put.bottom(b,0,-(c.canvas.height/4));c.key.leftArrow.press=
function(){c.key.rightArrow.isUp&&!b.paused&&(s.show(s.states.left),w.show(w.states.left),b.accelerationX=-0.3)};c.key.leftArrow.release=function(){c.key.rightArrow.isUp&&(s.show(s.states.middle),b.accelerationX=0)};c.key.rightArrow.press=function(){c.key.leftArrow.isUp&&!b.paused&&(s.show(s.states.right),w.show(w.states.right),b.accelerationX=0.3)};c.key.rightArrow.release=function(){c.key.leftArrow.isUp&&(s.show(s.states.middle),b.accelerationX=0)};c.key.space.press=function(){b.isOnGround&&!b.paused&&
(b.vy+=b.jumpForce,b.isOnGround=!1,b.frictionX=1)};h.interactive=!0;h.press=function(){b.paused||(c.pointer.x<b.x&&(s.show(s.states.left),w.show(w.states.left),b.accelerationX=-0.3),c.pointer.x>b.x+b.width&&(s.show(s.states.right),w.show(w.states.right),b.accelerationX=0.3))};h.release=function(){s.show(s.states.middle);b.accelerationX=0};h.tap=function(){b.isOnGround&&!b.paused&&0===h.x&&(b.vy+=b.jumpForce,b.isOnGround=!1,b.frictionX=1)};m={finished:!1,paused:!1,START_TIME:60,time:60,increment:0.5,
frameCounter:0,lastPosition:void 0,positions:[],gravity:0.1,colorIndex:0,colors:[["#8EF38E","#F992CE","#15A2D1","#FF944D","#816DE4"],["#CC353A","#ADCC6B","#F1F690","#6A9674","#FFA825"],["#FFABAB","#FFDAAB","#DDFFAB","#ABE4FF","#D9ABFF"],["#9D7E79","#CCAC95","#9A947C","#748B83","#5B756C"],["#5E9FA3","#DCD1B4","#FAB87F","#F87E7B","#B05574"],["#FFD4DF","#FDF7DF","#C7C572","#7A69F6","#EE7A7A"],["#E3B0A6","#E3C4A6","#E8E3B3","#A8B8A3","#AEA3B8"],["#FDDE37","#CADBF1","#EE0BAB","#EEB8E7","#9233DA"],["#D8D79C",
"#8978F2","#D986E5","#EFB3C0","#E54773"],["#5779FF","#FEFF69","#C035FF","#FF2EC3","#5AFFC2"],["#001449","#012677","#005BC5","#00B4FC","#17F9FF"],["#F9BA15","#900402","#8EAC00","#127A97","#452B72"],["#899AA1","#BDA2A2","#FBBE9A","#FAD889","#FAF5C8"],["#2F2BAD","#AD2BAD","#E42692","#F7DB15","#58B5A8"],["#434367","#0A8690","#86BD55","#FBEC5F","#F9A600"],["#EB9D8D","#93865A","#A8BB9A","#C5CBA6","#EFD8A9"],["#67484D","#C5AB70","#F7DFB9","#DA9B97","#C95074"],["#AB505E","#D9A071","#CFC88F","#A5B090","#607873"],
["#B877A8","#B8008A","#FF3366","#FFCC33","#CCFF33"],["#FF0092","#FFCA1B","#B6FF00","#228DFF","#BA01FF"]],emit:function(){var a=this.colors[this.colorIndex][c.random(0,4)],b=c.rectangle(36,36,a);b.color=a;b.y=h.y-30;for(b.x=36*c.random(0,9);b.x===this.positions[this.positions.length-1]||b.x===this.positions[this.positions.length-2];)b.x=36*c.random(0,9);this.lastPosition=b.x;this.positions.push(b.x);b.gravity=this.gravity;b.gid=$;t.addChild(b)},finish:function(){this.finished=!0;var a=c.rectangle(36,
36,"#7FFF00");a.color="#7FFF00";a.y=h.y-30;for(a.x=36*c.random(0,9);a.x===this.lastPosition;)a.x=36*c.random(0,9);a.gravity=this.gravity;a.gid=$;a.name="door";c.pulse(a,0,0.02);t.addChild(a)},update:function(){this.frameCounter++;!this.finished&&!this.paused&&this.frameCounter>=this.time&&(this.emit(),this.frameCounter=0)},pause:function(){this.paused=!0},resume:function(){this.paused=!1},colorIndex:0};scoreParticles=[];J();z=u=q=0;lethalScoreValue=1;R=!1;S=0;G=1;P.content=G+"/99";Y=Z=!1},["tileset.png"]);
c.start();c.scaleToFit("height","#2C3539");window.addEventListener("resize",function(a){c.scaleToFit("height","#2C3539")});var a,b,w,D,s,m,h,t,E,X,Q,q,S,B,L,M,C,A,G,O,Z,P,V,H,I,T,R,U,W,N,Y,F,z,u,ca=0,$=2,ba=3,aa=4})();
