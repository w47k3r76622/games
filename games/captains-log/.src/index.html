<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><script>var G={};G.A=['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'];var E={};function A(n) {if(G.a){return;}G.a=1;E.a.src='data:audio/mp3;base64,'+G.A[n];E.a.load();E.a.play();}function F(n){return Math.floor(n);}function xr(x,y,a){return x*Math.cos(a)-y*Math.sin(a);}function yr(x,y,a){return x*Math.sin(a)+y*Math.cos(a);}function s(m,M){return Math.floor(Math.random()*(M-m)+m)*Math.cos(Math.PI*Math.round(Math.random()));}function r(a){return a*Math.PI/180;}function f(m,M){return Math.random()*(M-m)+m;}function Q(i,z,c,C){E[c]=document.createElement('canvas');E[C]=E[c].getContext('2d');E[c].id=i;E[c].style.zIndex=z;E[c].style.display='block';E[c].style.position='absolute';E[c].style.left=0;E[c].style.top=0;E.b.appendChild(E[c]);}function o(t){E.m.style.top=t;E.u.style.top=t;E.f.style.top=t;}function q(l){E.m.style.left=l;E.u.style.left=l;E.f.style.left=l;}function on(y){return parseInt(E.m.style.top)+y;}function oN(x){return parseInt(E.m.style.left)+x;}function n(y){return parseInt(E.m.style.top)*-1+y;}function N(x){return parseInt(E.m.style.left)*-1+x;}function P(c,p,x,y){return c.isPointInPath(p,x,y);}function V(r,R,g,G,b,B,m,M){return 'rgba('+F(f(r,R))+','+F(f(g,G))+','+F(f(b,B))+','+f(m,M)+')';}function w(a,b){a.fillStyle=b;}function j(a,b){a.fill(b);}function J(c,x,y,w,h){c.fillRect(x,y,w,h);}function Y(c,s){c.font=s+'px sans';}function T(c,t,x,y,w){c.fillText(t,x,y,w);}function g(c,a){c.textAlign=a;}function C(c,x,y,w,h){c.clearRect(x,y,w,h);}function K(c,a){c.strokeStyle=a;}function k(c,a){c.stroke(a);}function i(){E.i.width=G.W;E.i.height=G.H;G.I.w=G.W/(G.s*10)||1;G.I.W=G.I.w*G.s;G.I.h=G.H/(G.s*10)||1;G.I.H=G.I.h*G.s;G.I.f=16*G.I.h;G.I.b=new Path2D('M '+(G.I.W)+','+(G.I.H)+' '+(G.W-G.I.W)+','+(G.I.H)+' '+(G.W-G.I.W)+','+(G.H-G.I.H*3)+' '+(G.W-G.I.W*3)+','+(G.H-G.I.H*3)+' '+(G.W-G.I.W*3)+','+(G.I.H*2)+' '+(G.I.W)+','+(G.I.H*2)+' z');G.I.B=new Path2D('M '+(G.W-G.I.W*3)+','+(G.H-G.I.H*2)+' '+(G.W-G.I.W)+','+(G.H-G.I.H*2)+' '+(G.W-G.I.W)+','+(G.H-G.I.H)+' '+(G.W-G.I.W*3)+','+(G.H-G.I.H)+' z');G.i=1;G.I.F=new Path2D('M 1,1 '+(G.W-1)+',1 '+(G.W-1)+','+(G.H+1)+' 1,'+(G.H+1)+' z');}function I(){C(E.I,0,0,E.i.width,E.i.height);if(G.I.s){w(E.I,'#000');J(E.I,0,0,G.W,G.H);w(E.I,'#770');j(E.I,G.I.b);if(G.I.O){G.I.O--;w(E.I,'#707');G.i=1;}j(E.I,G.I.B);w(E.I,'#ddd');Y(E.I,G.I.f*3);g(E.I,'left');T(E.I,'Captain\'s Log',G.I.W,G.I.H*1.8,G.W-G.I.W*2);Y(E.I,G.I.f*2);g(E.I,'center');T(E.I,'START',G.W-G.I.W*2,G.H-G.I.H*1.3,G.I.W*2);g(E.I,'left');if(G.I.i){T(E.I,'Stardate 99298.79, while investigating a starbase',G.I.W*1.2,G.I.H*2.8,G.W-G.I.W*4.4);T(E.I,'appearance, we got dragged in what our new',G.I.W*1.2,G.I.H*3.4,G.W-G.I.W*4.4);T(E.I,'allies call a crossover. Now, both of us',G.I.W*1.2,G.I.H*4,G.W-G.I.W*4.4);T(E.I,'are trapped here looking a way back home.',G.I.W*1.2,G.I.H*4.6,G.W-G.I.W*4.4);T(E.I,'Our priority is to secure the quadrant.',G.I.W*1.2,G.I.H*5.2,G.W-G.I.W*4.4);}if(G.I.L){T(E.I,'You Won! People will know about two realities',G.I.W*1.2,G.I.H*2.8,G.W-G.I.W*4.4);T(E.I,'working togheter to save humanity.',G.I.W*1.2,G.I.H*3.4,G.W-G.I.W*4.4);T(E.I,'Wait a minute... thats a rip deeper in space! =P',G.I.W*1.2,G.I.H*4,G.W-G.I.W*4.4);}if(G.I.l){T(E.I,'You Lose! This tale will never be told.',G.I.W*1.2,G.I.H*2.8,G.W-G.I.W*4.4);}return;}K(E.I,'#000');E.I.lineWidth=4;k(E.I,G.I.F);w(E.I,'#770');if(G.I.O){G.I.O--;w(E.I,'#707');G.i=1;}j(E.I,G.I.B);w(E.I,'#ddd');Y(E.I,G.I.f*2);g(E.I,'center');T(E.I,'Next Turn',G.W-G.I.W*2,G.H-G.I.H*1.45,G.I.W*2);Y(E.I,G.I.f);T(E.I,'Turn: '+G.T,G.W-G.I.W*2,G.H-G.I.H*1.15,G.I.W*2);if(G.Z.c&&G.Z.p){li(E.I,oN(G.Z.m.x),on(G.Z.m.y),oN(G.Z.M.x),on(G.Z.M.y),G.Z.c);E.I.stroke(G.Z.p(oN(G.Z.M.x),on(G.Z.M.y),G.s*G.S,90));}}function li(c,x,y,X,Y,C){K(c,C);c.beginPath();c.moveTo(x,y);c.lineTo(X,Y);c.closePath();c.stroke();}function h(x,y,t,X,Y,S){let d=[[X+x,Y+y+S],[X+x+S,Y+y],[X+x,Y+y-S],[X+x-S,Y+y]];return new Path2D('M '+d.map(function(e){return e.join(',')}).join(' ')+' z');}function H(x,y,t){let d=[[x,y+t/2],[x+t/2,y+t/6],[x+t/2,y-t/6],[x,y-t/2],[x-t/2,y-t/6],[x-t/2,y+t/6]];return new Path2D('M '+d.map(function(e){return e.join(',')}).join(' ')+' z');}function at(x,y,t,a){var R=r(a);var d=[[x+xr(0,t/3,R),y+yr(0,t/3,R)],[x+xr(t/3,0,R),y+yr(t/3,0,R)],[x+xr(0,-t/3,R),y+yr(0,-t/3,R)],[x+xr(-t/3,0,R),y+yr(-t/3,0,R)],];return new Path2D('M '+d.map(function(e){return e.join(',')}).join(' ')+' z');}function uN(x,y,t,a){var R=r(a);var d=[[x+xr(0,t/12*5,R),y+yr(0,t/12*5,R)],[x+xr(t/6,t/4,R),y+yr(t/6,t/4,R)],[x+xr(t/12,t/12,R),y+yr(t/12,t/12,R)],[x+xr(t/12,-t/12,R),y+yr(t/12,-t/12,R)],[x+xr(t/6,-t/12,R),y+yr(t/6,-t/12,R)],[x+xr(t/6,0,R),y+yr(t/6,0,R)],[x+xr(t/4,0,R),y+yr(t/4,0,R)],[x+xr(t/4,-t/4,R),y+yr(t/4,-t/4,R)],[x+xr(t/6,-t/4,R),y+yr(t/6,-t/4,R)],[x+xr(t/6,-t/6,R),y+yr(t/6,-t/6,R)],[x+xr(-t/6,-t/6,R),y+yr(-t/6,-t/6,R)],[x+xr(-t/6,-t/4,R),y+yr(-t/6,-t/4,R)],[x+xr(-t/4,-t/4,R),y+yr(-t/4,-t/4,R)],[x+xr(-t/4,0,R),y+yr(-t/4,0,R)],[x+xr(-t/6,0,R),y+yr(-t/6,0,R)],[x+xr(-t/6,-t/12,R),y+yr(-t/6,-t/12,R)],[x+xr(-t/12,-t/12,R),y+yr(-t/12,-t/12,R)],[x+xr(-t/12,t/12,R),y+yr(-t/12,t/12,R)],[x+xr(-t/6,t/4,R),y+yr(-t/6,t/4,R)]];return new Path2D('M '+d.map(function(e){return e.join(',')}).join(' ')+' z');}function uB(x,y,t,a){var R=r(a);var d=[[x+xr(-t/12,t/3,R),y+yr(-t/12,t/3,R)],[x+xr(t/12,t/3,R),y+yr(t/12,t/3,R)],[x+xr(t/12,t/4,R),y+yr(t/12,t/4,R)],[x+xr(t/4,t/12,R),y+yr(t/4,t/12,R)],[x+xr(t/3,t/12,R),y+yr(t/3,t/12,R)],[x+xr(t/3,-t/12,R),y+yr(t/3,-t/12,R)],[x+xr(t/4,-t/6,R),y+yr(t/4,-t/6,R)],[x+xr(t/4,-t/4,R),y+yr(t/4,-t/4,R)],[x+xr(t/6,-t/4,R),y+yr(t/6,-t/4,R)],[x+xr(t/12,-t/3,R),y+yr(t/12,-t/3,R)],[x+xr(-t/12,-t/3,R),y+yr(-t/12,-t/3,R)],[x+xr(-t/12,-t/4,R),y+yr(-t/12,-t/4,R)],[x+xr(-t/4,-t/12,R),y+yr(-t/4,-t/12,R)],[x+xr(-t/3,-t/12,R),y+yr(-t/3,-t/12,R)],[x+xr(-t/3,t/12,R),y+yr(-t/3,t/12,R)],[x+xr(-t/4,t/6,R),y+yr(-t/4,t/6,R)],[x+xr(-t/4,t/4,R),y+yr(-t/4,t/4,R)],[x+xr(-t/6,t/4,R),y+yr(-t/6,t/4,R)],];return new Path2D('M '+d.map(function(e){return e.join(',')}).join(' ')+' z');}function uG(x,y,t,a){var R=r(a);var d=[[x+xr(t/12,-t/4,R),y+yr(t/12,-t/4,R)],[x+xr(t/12,-t/3,R),y+yr(t/12,-t/3,R)],[x+xr(t/6,-t/3,R),y+yr(t/6,-t/3,R)],[x+xr(t/6,-t/4,R),y+yr(t/6,-t/4,R)],[x+xr(t/4,-t/4,R),y+yr(t/4,-t/4,R)],[x+xr(t/4,t/12,R),y+yr(t/4,t/12,R)],[x+xr(t/12,t/12,R),y+yr(t/12,t/12,R)],[x+xr(t/12,t/6,R),y+yr(t/12,t/6,R)],[x+xr(t/6,t/6,R),y+yr(t/6,t/6,R)],[x+xr(t/12,t/3,R),y+yr(t/12,t/3,R)],[x+xr(-t/12,t/3,R),y+yr(-t/12,t/3,R)],[x+xr(-t/6,t/6,R),y+yr(-t/6,t/6,R)],[x+xr(-t/12,t/6,R),y+yr(-t/12,t/6,R)],[x+xr(-t/12,t/12,R),y+yr(-t/12,t/12,R)],[x+xr(-t/4,t/12,R),y+yr(-t/4,t/12,R)],[x+xr(-t/4,-t/4,R),y+yr(-t/4,-t/4,R)],[x+xr(-t/6,-t/4,R),y+yr(-t/6,-t/4,R)],[x+xr(-t/6,-t/3,R),y+yr(-t/6,-t/3,R)],[x+xr(-t/12,-t/3,R),y+yr(-t/12,-t/3,R)],[x+xr(-t/12,-t/4,R),y+yr(-t/12,-t/4,R)],];return new Path2D('M '+d.map(function(e){return e.join(',')}).join(' ')+' z');}function uF(x,y,t,a){var R=r(a);var d=[[x+xr(0,t/12*5,R),y+yr(0,t/12*5,R)],[x+xr(t/6,t/6,R),y+yr(t/6,t/6,R)],[x+xr(t/12,t/12,R),y+yr(t/12,t/12,R)],[x+xr(t/12,0,R),y+yr(t/12,0,R)],[x+xr(t/5,-t/6,R),y+yr(t/5,-t/6,R)],[x+xr(t/4,-t/12,R),y+yr(t/4,-t/12,R)],[x+xr(t/4,t/12,R),y+yr(t/4,t/12,R)],[x+xr(t/3,0,R),y+yr(t/3,0,R)],[x+xr(t/3,-t/6,R),y+yr(t/3,-t/6,R)],[x+xr(t/4,-t/3,R),y+yr(t/4,-t/3,R)],[x+xr(t/6,-t/3,R),y+yr(t/6,-t/3,R)],[x+xr(t/12,-t/4,R),y+yr(t/12,-t/4,R)],[x+xr(-t/12,-t/4,R),y+yr(-t/12,-t/4,R)],[x+xr(-t/6,-t/3,R),y+yr(-t/6,-t/3,R)],[x+xr(-t/4,-t/3,R),y+yr(-t/4,-t/3,R)],[x+xr(-t/3,-t/6,R),y+yr(-t/3,-t/6,R)],[x+xr(-t/3,0,R),y+yr(-t/3,0,R)],[x+xr(-t/4,t/12,R),y+yr(-t/4,t/12,R)],[x+xr(-t/4,-t/12,R),y+yr(-t/4,-t/12,R)],[x+xr(-t/5,-t/6,R),y+yr(-t/5,-t/6,R)],[x+xr(-t/12,0,R),y+yr(-t/12,0,R)],[x+xr(-t/12,t/12,R),y+yr(-t/12,t/12,R)],[x+xr(-t/6,t/6,R),y+yr(-t/6,t/6,R)],];return new Path2D('M '+d.map(function(e){return e.join(',')}).join(' ')+' z');}function u(){E.u.width=G.w;E.u.height=G.h;for(let p=0;p<G.p;p++){for(let i=0;i<G.U[p].length;i++){var u=G.U[p][i];u.x=G.M[u.Y][u.X].x;u.y=G.M[u.Y][u.X].y;u.d=u.P(u.x,u.y,G.s*G.S,u.r);}}G.u=1}function U(){C(E.U,0,0,E.m.width,E.m.height);for(let p=0;p<G.p;p++){for(let i=0;i<G.U[p].length;i++){var u=G.U[p][i];if(u.k){continue;}if(u.T){u.T--;E.U.save();E.U.setLineDash([4,G.s/6]);E.U.lineWidth=G.I.f/3;li(E.U,u.x,u.y,u.tx,u.ty,'rgba('+u.l+',0.9)');E.U.restore();}if(u.Q){u.Q--;E.U.lineWidth=G.I.f;li(E.U,u.sx,u.sy,u.x,u.y,'rgba('+u.l+',0.6)');}if(u.D){u.D=0;u.d=u.P(u.x,u.y,G.s*G.S,u.r);}w(E.U,u.c);j(E.U,u.d);E.U.lineWidth=G.I.f/6;K(E.U,'rgba('+u.l+','+(u.s/100)+')');k(E.U,u.d);if(u.S){u.S--;w(E.U,'rgba(255,255,255,0.6)');Y(E.U,G.I.f);J(E.U,u.x,u.y,G.I.f*3.2,G.I.f*5.4);w(E.U,'#000');T(E.U,u.n,u.x,u.y+G.I.f,G.I.f*3);T(E.U,'S: '+u.s,u.x,u.y+G.I.f*2.2,G.I.f*3);T(E.U,'P: '+u.w,u.x,u.y+G.I.f*3.2,G.I.f*3);T(E.U,'M: '+u.m,u.x,u.y+G.I.f*4.2,G.I.f*3);T(E.U,'A: '+u.a,u.x,u.y+G.I.f*5.2,G.I.f*3);}}}}function ua(p,i,x,y,P,c,n,M,A,w,s,v,l,t,q){G.U[p][i]={'p':p,'i':i,'n':n,'x':G.M[y][x].x,'y':G.M[y][x].y,'X':x,'Y':y,'P':P,'c':c,'r':-90,'M':M,'m':M,'A':A,'a':A,'s':s,'w':w,'v':v,'k':null,'l':l,'t':t,'q':q};G.M[y][x].u={'p':p,'i':i};if(p==0){ma(G.M[y][x],v);}}function um(s,t){if(!s||!s.u||!t||t.u){return;}let u=G.U[s.u.p][s.u.i];if(u.m>0){t.u=s.u;u.m--;u.Q=1;u.sx=u.x;u.sy=u.y;u.x=t.x;u.y=t.y;u.X=t.X;u.Y=t.Y;u.D=1;if(s.u&&s.u.p==0){ma(t,u.v);}s.u=null;G.m=1;}}function uk(S,T){if(!S||!S.u||!T||!T.u||S.u.p==T.u.p){return;}var s=G.U[S.u.p][S.u.i];var t=G.U[T.u.p][T.u.i];s.tx=T.x;s.ty=T.y;s.T=3;s.a--;t.s-=s.w;if(t.s<0){t.k=G.T;T.u=null;}G.u=1;}function m(){G.h=(G.s/3*2)*G.Y*G.S+G.s/3*G.S;G.w=G.s*G.X*G.S+G.s*G.S/2;E.m.width=G.w;E.m.height=G.h;E.f.width=G.w;E.f.height=G.h;for(let y=0;y<G.Y;y++){let o=(y%2)*G.s*G.S/2;for(let x=0;x<G.X;x++){let a=x*G.s*G.S+o+G.s*G.S/2;let b=y*G.s/3*2*G.S+G.s*G.S/2;G.M[y][x].x=a;G.M[y][x].y=b;G.M[y][x].d=H(a,b,G.s*G.S);G.M[y][x].b.d=h(a,b,G.s*G.S,G.M[y][x].b.x*G.S,G.M[y][x].b.y*G.S,G.M[y][x].b.s*G.S);}}G.m=1}function M(){w(E.F,'#000');J(E.M,0,0,E.m.width,E.m.height);C(E.F,0,0,E.m.width,E.m.height);for(let y=0;y<G.Y;y++){for(let x=0;x<G.X;x++){let t=G.M[y][x];if(!t.v){w(E.F,'#222');j(E.F,t.d);k(E.F,t.d);}else if(t.f){w(E.F,'#000');j(E.F,t.d);w(E.F,'rgba(200,200,200,0.8)');j(E.F,t.b.d);k(E.F,t.d);}else{E.M.save();w(E.M,V(240,250,180,200,160,180,0.6,0.9));E.M.scale(f(0.98,0.99),f(0.98,0.99));j(E.M,t.b.d);E.M.restore();E.M.setLineDash([2,G.s/6]);K(E.M,'#0a0');k(E.M,t.d);}}}}function ma(m,v){let a=mv(m,v);for(let i=0;i<a.length;i++){a[i].v=1;a[i].f=0;}}function mv(m,v){let o=m.Y%2;let a=[];for(let y=m.Y-1*v;y<=m.Y+1*v;y++){let xu=m.X-1+1*v+o;let xl=m.X-1*v+o;if(y==m.Y){xl-=o;xu+=1-o}for(xl;xl<xu+1;xl++){if((xl>-1&&xl<G.X)&&(y>-1&&y<G.Y)){a.push(G.M[y][xl]);}}}return a;}function O(x,y){let ly=Math.floor(n(y)/(G.s/4*3*G.S));let lx=Math.floor(N(x)/(G.s*G.S));for(let ty=ly;ty<ly+2;ty++){for(let tx=lx-1;tx<lx+2;tx++){if(ty<G.Y&&tx<G.X&&G.M[ty][tx]&&P(E.M,G.M[ty][tx].d,N(x),n(y))){return G.M[ty][tx];}}}return null;}function mn(s,t){if(!s||!t){return 181;}var o=0;if(s.Y%2){o=1;};if(s.Y==t.Y&&s.X+1==t.X){return -90;}else if(s.Y==t.Y&&s.X-1==t.X){return 90;}else if(s.Y-1==t.Y&&(!o&&s.X-1==t.X||(o&&s.X==t.X))){return 144;}else if(s.Y-1==t.Y&&(!o&&s.X==t.X||(o&&s.X+1==t.X))){return -144;}else if(s.Y+1==t.Y&&(!o&&s.X-1==t.X||(o&&s.X==t.X))){return 36;}else if(s.Y+1==t.Y&&(!o&&s.X==t.X||(o&&s.X+1==t.X))){return -36;}else{return 181;}}function S(){G.T=1;G.M=[];for(let y=0;y<G.Y;y++){G.M[y]=[];for(let x=0;x<G.X;x++){G.M[y][x]={'X':x,'Y':y,'v':0,'f':1,'b':{'x':s(3,8),'y':s(3,8),'s':s(3,4)}};}}m();G.U=[];for(let p=0;p<G.p;p++){G.U[p]=[];}ua(0,0,1,8,uB,'#777','B5',0,1,35,100,2,'0,0,255',2,0);ua(0,1,7,8,uN,'#777','1701d',3,1,55,200,3,'0,0,255',2,0);for(let i=0;i<24;i+=3){ua(1,i,G.X-1-i,6,uF,'#999','Cyl',1,1,30,100,1,'255,0,0',4,3);ua(1,i+1,G.X-1-i,8,uF,'#999','Cyl',1,1,30,100,1,'255,0,0',4,3);ua(1,i+2,G.X-1-i,10,uF,'#999','Cyl',1,1,30,100,1,'255,0,0',4,3);}u();G.I.i=0;G.I.L=0;G.I.l=0;G.I.s=0;G.I.J=0;G.i=1;G.J=setInterval(function(){G.m=1;},500);G.K=setInterval(function(){G.u=1;},200);}function nt(){PM();G.T++;if(G.T==10){ua(0,2,10,1,uG,'#777','BSG',2,1,45,100,2,'0,0,255',2,5);G.U[0][2].D=1;}for(let x=0;x<G.X;x++){for(let y=0;y<G.Y;y++){G.M[y][x].f=1;}}var a=[0,0];for(let p=0;p<G.p;p++){for(let i=0;i<G.U[p].length;i++){let u=G.U[p][i];u.a=u.A;u.m=u.M;if(!u.k){a[p]++;}if(p==0){ma(G.M[u.Y][u.X],u.v);}}}if(G.U[0][0].k||G.U[0][1].k){G.I.l=1;p();}if(a[1]<1){G.I.L=1;p();}G.I.J=0;}function PM(){for(let i=0;i<G.U[1].length;i++){let u=G.U[1][i];if(u.k){continue;}let m=u.m;let k=0;for(m;m>0;m--){let b=mv(G.M[u.Y][u.X],u.v);for(let t=0;t<b.length;t++){if(u.a>0&&b[t].u&&b[t].u.p==0){u.r=mn(G.M[u.Y][u.X],b[t]);u.D=1;uk(G.M[u.Y][u.X],b[t]);A(3);k=1;}}if(k){break;}let gx=u.X;let gy=u.Y;if(gx==0){if(gy>8){gy--;}else{gy++;}}else{gx--;}let r=mn(G.M[u.Y][u.X],G.M[gy][gx]);u.r=r;u.D=1;um(G.M[u.Y][u.X],G.M[gy][gx]);}}}function p(){clearInterval(G.J);clearInterval(G.K);G.I.s=1;G.i=1;}function l(){if(G.i){G.i=0;I();}if(G.m){G.m=0;M();}if(G.u){G.u=0;U();}requestAnimationFrame(l);}function L(){E.b=document.body;E.b.style.margin=0;E.b.style.padding=0;E.b.style.width='100%';E.b.style.height='100%';E.b.style.overflow='hidden';Q('m',10,'m','M');Q('u',20,'u','U');Q('f',40,'f','F');Q('i',50,'i','I');E.a=document.createElement('audio');E.b.appendChild(E.a);E.a.addEventListener('ended',function(){G.a=0;});E.i.addEventListener('mousedown',d);E.i.addEventListener('mousemove',v);E.i.addEventListener('mouseup',D);E.i.addEventListener('wheel',W);window.addEventListener("resize",R);G.s=64;G.S=2;G.X=32;G.Y=16;G.p=2;G.W=E.b.clientWidth;G.H=E.b.clientHeight;G.Z={};G.I={};G.I.s=1;G.I.i=1;i();setTimeout(l,10);}function R(){G.W=E.b.clientWidth;G.H=E.b.clientHeight;i();}function W(e){if(G.I.s){return;}if(e.deltaY>0){G.S-=0.1;}else{G.S+=0.1;}m();u();}function d(e){G.Z.x=e.clientX;G.Z.y=e.clientY;if(G.I.s){return;}G.Z.m=O(G.Z.x,G.Z.y);if(G.Z.m&&G.Z.m.u){G.Z.u=G.U[G.Z.m.u.p][G.Z.m.u.i];}G.i=1;}function v(e){G.Z.X=e.clientX;G.Z.Y=e.clientY;if(P(E.I,G.I.B,G.Z.X,G.Z.Y)){E.i.style.cursor='pointer';G.I.O=4;G.i=1;}else{E.i.style.cursor='default';}if(!G.Z.m||G.I.s){return;}G.Z.M=O(G.Z.X,G.Z.Y);if(G.Z.u&&G.Z.M){if(G.Z.u.p==1){return;}let a=mn(G.Z.m,G.Z.M);if(a<181){G.Z.u.r=a;G.Z.u.D=1;if(G.Z.u.a>0&&G.Z.M.u&&G.Z.M.u.p==1){G.Z.U=G.U[G.Z.M.u.p][G.Z.M.u.i];G.Z.c='#f00';G.Z.p=at;}else if(G.Z.u.m>0&&a<181&&G.Z.M&&!G.Z.M.u){G.Z.c='#0f0';G.Z.p=at;}}else{G.Z.c=null;G.Z.p=null;}G.i=1;}else{let t=-n(0)+(G.Z.Y-G.Z.y)/6;let l=-N(0)+(G.Z.X-G.Z.x)/6;if(t>0){o(0)}else if(t<G.H-G.h){o(G.H-G.h)}else{o(t)}if(l>0){q(0)}else if(l<G.W-G.w){q(G.W-G.w)}else{q(l)}}}function D(e){G.Z.X=e.clientX;G.Z.Y=e.clientY;if(G.Z.x-G.Z.X+G.Z.y-G.Z.Y==0){if(G.I.s){if(P(E.I,G.I.B,G.Z.X,G.Z.Y)){S();}return;}else if(P(E.I,G.I.B,G.Z.X,G.Z.Y)&&!G.I.J){G.I.J=1;nt();}else if(G.Z.u&&G.Z.m.v&&!G.Z.m.f){G.Z.u.S=10;A(G.Z.u.t);}}if(G.Z.u&&G.Z.u.p==0){if(G.Z.U){uk(G.Z.m,G.Z.M);A(G.Z.u.q);}else if(G.Z.M&&mn(G.Z.m,G.Z.M)<181){um(G.Z.m,G.Z.M);A(1);}}G.Z={};G.i=1;}</script></head><body onload="L()"></body></html>
