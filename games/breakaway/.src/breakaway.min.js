addEventListener("load",function(){var x=2,e=5,t=32,m=!1,r=function(e,t){(this[t]>0&&x>this[t]||0>this[t]&&this[t]>-x)&&(this[t]=0),this[t]>0?this[t]-=x*e:0>this[t]&&(this[t]+=x*e)};Turtle.init({container:"#g",block:t,height:20,width:30,collisionHandler:function(x,e,t){x.is("entity")&&e.is("block")&&("bottom"==t&&(x.y=e.y-x.h,x.inAir=!1,x.sy=0,x.is("player")&&(e.is("d")?e.sy=3:e.is("u")?e.sy=-3:e.is("l")?e.sx=-3:e.is("r")&&(e.sx=3))),"top"==t&&(x.y=e.y+e.h,x.sy=0),"left"==t&&(x.x=e.x+e.w,x.sx=0),"right"==t&&(x.x=e.x-x.w,x.sx=0)),x.is("player")&&!x.dead&&(e.is("key")&&(x.collect("key"),e.destroy(),Turtle.sound.play("hurt")),e.is("exit")&&e.has("open")&&(f("WELL DONE!",!0,"LEVEL "+k+" COMPLETED!"),++k,Turtle.sound.play("hurt")),e.is("mob")&&!e.dead&&(Turtle.sound.play("hurt"),x.y<e.y-7?(e.dead=100,x.sy=-15,e.sy=-15,Turtle.sound.play("jump")):(x.dead=500,Turtle.sound.play("hurt"),m=!0,setTimeout(function(){f("OH NO! YOU DIED!",!1,"password: "+p[k].msg,6e3),setTimeout(function(){location.reload()},6e3)},2e3)))),x.is("mob")&&!x.dead&&e.is("block")&&Math.random()>.95&&(x.sy=-15)},objectBehavior:{pre:function(x){this.is("entity")&&(this.sy+=e*x,this.sy>33&&(this.sy=33)),this.y+=this.sy*x,this.x+=this.sx*x,r.apply(this,[x,"sx"]),this.is("block")&&r.apply(this,[x,"sy"])},post:function(){"p1"!=this.id||this.dead||(Turtle.controls.isKeyPressed(Turtle.keyCodes.RIGHT)&&(this.sx=10),Turtle.controls.isKeyPressed(Turtle.keyCodes.LEFT)&&(this.sx=-10),Turtle.controls.isKeyPressed(Turtle.keyCodes.UP)&&!this.inAir&&0===this.sy&&(this.sy+=-20,this.inAir=!0,Turtle.sound.play("jump"))),this.is("mob")&&(this.dead||(this.dir?Math.random()>.99&&(this.dir=-this.dir):this.dir=15,this.sx=this.dir)),this.is("entity")&&(1===this.dead?this.destroy():this.dead--)}}});var n={ps:{x:0,y:0},pjr:{x:288,y:0},pjl:{x:320,y:0},pr:{x:32,y:0,nr:4},pl:{x:160,y:0,nr:4},pd:{x:324,y:32},bx:{x:0,y:32},bd:{x:32,y:32},bl:{x:64,y:32},bu:{x:96,y:32},br:{x:128,y:32},k:{x:160,y:32},e:{x:192,y:32},eo:{x:224,y:32},m:{x:256,y:32,nr:2},md:{x:305,y:32}},s=function(x,e){return new Turtle.Object("p1",{type:["entity","player"],x:x*t,y:e*t,zIndex:10,sprite:function(){var x;return x=this.dead?n.pd:this.inAir||this.sy>10?0>this.sx?n.pjl:n.pjr:this.sx>0?n.pr:0>this.sx?n.pl:n.ps}})},i=function(x,e,m){return new Turtle.Object("block",{type:["block",m],x:x*t,y:e*t,zIndex:"x"==m?1:-1,sprite:function(){return n["b"+m]}})},d=function(x,e){return new Turtle.Object("key",{type:["key"],x:x*t,y:e*t,sprite:function(){return n.k}})},u=function(x,e){return new Turtle.Object("exit",{type:["exit"],x:x*t,y:e*t,zIndex:-10,sprite:function(){return this.has("open")?n.eo:n.e}})},o=function(x,e,m){return new Turtle.Object("mob"+m,{type:["mob","entity"],h:25,w:25,x:x*t,y:e*t,animspeed:.3,zIndex:5,sprite:function(){return this.dead?n.md:n.m}})},a=function(x){if(document.getElementById("g").style.opacity=1,m=!1,x==p.length)return f("THE END",!1,"Bubu return safe to home",!0),void 0;var e,t,r=0,n=0,l=new Turtle.Scene("level"+x,{update:function(){t&&!t.has("open")&&r==e.has("key")&&t.collect("open"),!m&&Turtle.controls.isKeyPressed(Turtle.keyCodes.R)&&a(k)}}),h=Turtle.Map.fromStrings(p[x].map,{x:function(x,e){return i(x,e,"x")},d:function(x,e){return i(x,e,"d")},u:function(x,e){return i(x,e,"u")},r:function(x,e){return i(x,e,"r")},l:function(x,e){return i(x,e,"l")},p:function(x,t){return e=s(x,t)},k:function(x,e){return r++,d(x,e)},e:function(x,e){return t=u(x,e)},m:function(x,e){return++n,o(x,e,n)}});l.addObject(h);var y=400,c=600;l.center={getX:function(){return e.x-c/2},getY:function(){return e.y-y/2},getW:function(){return c},getH:function(){return y}},Turtle.addScene(l);var b="";p[x].msg&&(b="password: "+p[x].msg),f("LEVEL "+x,!1,b),setTimeout(function(){Turtle.runScene("level"+x)},600)},p=[{map:["                              ","                              ","                              ","                              ","                              ","                              ","                              ","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxx                 xxxxxx","xxxxxxx                 xxxxxx","xxxxxxx                 xxxxxx","xxxxxxxp               exxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","                              ","                              "]},{map:["x                            x","x                            x","x                            x","x                            x","x                            x","x                            x","x                            x","xp                          ex","xx                          xx","xxx                        xxx","xxxx               m      xxxx","xxxxx   xxxxxxxxxxxxxx   xxxxx","xxxxxx   xxxxxxxxxxxx   xxxxxx","xxxxxxx   xxxxxxxxxx   xxxxxxx","xxxxxxxx   xxxxxxxx   xxxxxxxx","xxxxxxxxx   xxxxxx   xxxxxxxxx","xxxxxxxxxx   xxxx   xxxxxxxxxx","xxxxxxxxxxx   xx   xxxxxxxxxxx","xxxxxxxxxxxx  k   xxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"3 + 5",pwd:"8"},{map:["                              ","                              ","                              ","                              ","x            x x             x","x           xx xx            x","x          xxx xxx           x","x         xxxx xxxx          x","x        xxxxx xxxxx         x","x       xxxxxx xxxxxx        x","x      xxxxxxx xxxxxxx       x","x     xxxxxxxx xxxxxxxx      x","x    xxxxxxxxx      xxxx     x","x  pxxxk  xxxx xxxx xxxxx    x","x  xxxxxx  xxx xxxx xxxxxx   x","x xxxxxxxx     xxxx    xxxx  x","xxxxxxxxxxxxxx xxxxxxx xxxxxmx","xxxxxxxxxxxxxx xxxxxxx xxxxxxx","xxxxxxxxxxxxxxuxxxxxxx   mexxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"the country with pyramids",pwd:"egypt"},{map:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                            x","x                xxxxxxxxxxx x","x              xxxxxxxxxxxxx x","xp           xxxxxxxxxxxxxxx x","xxxxxxxxxxxxxxxxxxxxxxxxxxxx x","x                xxxxxxxxxxx x","x         x      xxxxxxxxxxx x","x         xx     xxxxxxxxxxx x","x    m    xxxx   x           x","x         xxx  xxx  xxxxxx   x","x         xxxx  m   xxxxxxx  x","xxdxxxxxxxxxxxxxxxxxxxxxxxxx x","x                            x","x                            x","x    k                       x","x   xxx                      x","x                            x","x           m             e  x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"1989 Queen album",pwd:"the miracle"},{map:["x                            x","x                            x","x                           px","x x x x x x x x x x x xxxxxxxx","x x x xmxmxmxmxmxmxmx xxxxxxxx","xdxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                            x","x                            x","x                            x","x   xx                       x","x        xx                  x","x             xx             x","x                  xx        x","x                      xx   kx","x                          xxx","x                            x","x                            x","x                            x","x                           ex","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"Pizza Margherita white ingredient",pwd:"mozzarella"},{map:["x                            x","x                            x","x                            x","x                            x","x                            x","x                            x","x                            x","xp                           x","xxxxr                        x","x                            x","x                            x","x                  k         x","x  x        lxxxxxxxxxxxxxxxxx","x  x        xxxxxxxxxxxxxxxxxx","x  xmmmmmm  xxxxxxxxxxxxxxxxxx","x  xxxxxxxxxxxxxxxxxxxxxxxxxxx","x                            x","x                            x","x                          e x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"Batman butler",pwd:"alfred"},{map:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxx                        px","x      x               lxxxxxx","x      xk  mxxxxxxxxxxxxxxxxxx","x xxxxxxxxxx   x    x   x    x","x            x x  x   x   x  x","xxxxxxxxxxxxxxe  xxxxxxxxxx  x","x     k      xxxxxxxxxxxxxx  x","x   xxxxxx   x               x","x  xxxxxxxx  x               x","xdxxxxxxxxxx x               x","x xxxxxxxxxx x               x","x xxxxxxxxxx x               x","x xxxxxxxxxx x   xxxxxxxxxxx x","x xxxxxxxxxx x   x           x","x xxxxxxxxxx     x           x","xk          u    xm          x","xxxxxxxxxxxxxxxxuxxxxxxxxxxxux"],msg:"WWI end",pwd:"1918"},{map:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                            x","x                            x","x                            x","x                            x","xp                          ex","xxxxxxxxxxxx rrrrxxxxxxxxxxxxx","xxxxxxxxxxx  rrrrxxxxxxxxxxxxx","xxxxxxxxxx   rrrrxxxxxxxxxxxxx","xxxxxxxxx    rrrrxxxxxxxxxxxxx","x         xxx                x","x        xx                  x","x       xx                   x","xk     xx                   kx","xx    xx mmmmmmmmm          xx","xxx  xx                    xxx","xxxx                      xxxx","xxxxx                    xxxxx","xxxxxx                  xxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"the answer to life the universe and everything",pwd:"42"},{map:["xxxxxxxxxxxxxx               x","x            x   xxx r       x","xp           x   xxx       x x","xxxxxxxxxxxxd  uxxxx       x x","xxxxxxxxxxxxxxxxxxxxxxxxxxxx x","x                  xxx       x","x     xxxxxxxxxxx  xxx xxxxxxx","x    xxk          xxxx       x","x   xxxxxxx  x xxxxxxxxxxxxx x","x   xxxxxxxx   xxxxx       x x","x        xxxx        xxxx  x x","xxxxxxxx xxxxxxxxxxxx     xx x","x        xxxxxxxxxxx  xxxxxx x","x xxxxxxxxxxxxxxxxxxx     kx x","x x                  l  xxxx x","x x  xxr         xx  xl    x x","x   xxx    m     xx  x l   x x","xxxxxxxxxxxxxxxxxxx  xm l  x x","xe                   xk  l  mx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"Napoli number 10",pwd:"maradona"},{map:["x                        xxx x","x                      xxxxx x","x  xr              lxxxxxxxx x","x  x  m           m xxxxxxxx x","x  xxxxxxxxxxxxxxxxxxxxxxxxx x","x  x                xxxxx    x","x  x                 xxxx    x","x  x   xxxxx           xx    x","xu    xxxxxxx           x    x","xxxxxxxxxxxxxx          x    x","xxxxxxxxxxxxxxx         x    x","x             x  x      x    x","x             x     x x x    x","x             x       x x    x","x             xxxxxxxx  x    x","x                       x    x","xk   m      m     xxxxxux e  x","xxxxxxxxxxxxxxxxxxxxxxxxx x  x","xp                          ux","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"π",pwd:"3.14"},{map:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                            x","x             x              x","x             x              x","x             x              x","x             x              x","x             x              x","x             x              x","x             x              x","xe   mmmmmm   x              x","xxxxxxxxxxxxxxxuddddddxxxx   x","x                        x   x","x             x     k    xu  x","x           x x     x       xx","x         x x x            xxx","x       x x x x           xxxx","x     x x x x x          xxxxx","xp  x x x x x x         xxxxxx","xxx x x x x xmx   mmmmmxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"Guybrush Threepwood",pwd:"monkey island"},{map:["xk                           x","xxx                         lx","x                            x","x                            x","x                            x","x                            x","x                            x","x                            x","x                            x","x                         u  x","x                     u      x","x                 u          x","x             u              x","x         u                  x","x     u                   x  x","xpu                       x ex","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"Son Goku specie",pwd:"saiyan"},{map:["x                            x","x px  dd  dd  dd  dd  dd  x  x","xex                       x  x","xxx          m            x  x","xxxxxxxxxxxxxxxxxxxxxxxxxxx  x","x                            x","x x                          x","x x x x x x x x x x x x      x","x x                    x     x","x x      m               x   x","x xxxxxxxxxxxxxxxxxx  x  x   x","x x               kx  x  x   x","x x               xx  x  x   x","x x              xxk  x  x   x","x               xxxxx x  x   x","xr             xxxx   x  x   x","x             l       x  x   x","xu                   ux  x  ux","x       m             x  x   x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"Doctor Who enemies",pwd:"daleks"},{map:["x    x                       x","x    x                       x","x    x                       x","x k  x                       x","x x  xkm                     x","x    xxxx                    x","x    xxxx x                  x","x    xxxx x x               kx","x    xxxx x x x             ux","x    xxxxxxxx xxxx     lr    x","x                        d   x","x   xxxxxx                  xx","x        xx             xxl  x","xu     x x              xxxx x","x     xx x                   x","x    xxx x                   x","x   xxxx x                   x","x  xxxxx x                   x","xpxxxxxx      e     m       ux","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"1984 main character",pwd:"winston"},{map:["x                             ","x                            k","xpx                          x","xxxd              m      l   x","x   d          xxxxxxx       x","x    d              ex       x","x     d       r   xxxx       x","x      d                     x","x       d                    x","x        d                   x","x         d                  x","xk         d                 x","xx          d                x","xxx         x                x","xxx         xl               x","x           x  x             x","x           xl xx            x","x           x  xxx           x","x k   m      d         m     x","xxxxxxxxxxxxx xxxxxxxxxxxxxxux"],msg:"js13k 2012 winner",pwd:"spacepi"},{map:["x                            x","xp                           x","xxxxx                        x","x                           kx","x                           xx","x    r r r r r r             x","xk    l l l l l              x","xx                           x","xx                           x","x                            x","x              k             x","x              x             x","x                            x","x                            x","x                            x","x                      m    ex","x          m      xxxxxxxxxxxx","x      xxxxxxxxxx            x","x    xu        kxd          kx","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"~",pwd:"tilde"},{map:["x                             ","x      xxxxxxxxxxxxxxxx     xx","x     xxxxxxxxxxxxxxxxx     x ","x    xxxxxxxxxxxxxxxxxx     xp","x   xxxxxxxxxxxxxxxxxxx  e  xx","x   x                 x  x  x ","x   x xxxxxxxxxxxxxx  x     x ","x   x x              xx     xx","x   x x  xxxxxxxxxxxxxx     x ","x   x xx                    xk","x   x xxxxxxxxxxxxxxxxx     xx","x                    kx     x ","x  x     r          lxx     x ","x  xxx     x          x     xx","x  x         x        x     x ","x  x           x      x     x ","x  x             x    x     x ","x   x  mmmmmmmmm   x  x       ","xu  kx mmmmmmmmm     xx   u   ","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],msg:"22 Ti",pwd:"titanium"},{map:["x                            x","x                           ex","x xxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                            x","x                            x","xrrxxxxxxxxxxxxxxxxxxxxxllx  x","x           mmmmmm        x  x","x                         x  x","x   x    mxm   mxm    x   x  x","x  xxx   xxx   xxx   xxx  x  x","x xxxxx xxxxxkxxxxx xxxxx x  x","xuxxxxxxxxxxxxxxxxxxxxxxxxx  x","x                            x","x                            x","x     x                      x","x    xx                      x","x   xxx                      x","x  xxxxx mmmmmmmmmmmmmmmmmmm x","xpxxxx  ummmmmmmmmmmmmmmmmmm x","xxxxxx  xxxxxxxxxxxxxxxxxxxxux"],msg:"localhost",pwd:"127.0.0.1"}],l="data:audio/wav;base64,UklGRs8CAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0YasCAACkpKSkfVtbW1uBpKSkoFtbW1tdpKSkpHtbW1tbhKSkpJxbW1tbY6SkpKR0W1tbW4ykpKSTW1tbW22kpKSkaVtbW1uZpKSkhltbW1t8pKSkoltbW1thpKSkpHRbW1tbkKSkpI1bW1tbd6SkpKRdW1tbX6SkpKR0W1tbW5GkpKSLW1tbW3ukpKSfW1tbW2ekpKSka1tbW1ubpKSkflxcXFyHo6OjkVxdXV12o6KioV1dXV1moqKiom1eXl5em6GhoXpeXl9fjaGhoIhfX19fgaCgoJNgYGBgdp+fn51gYGBgbJ+fn59pYWFhZJ6enp5yYmJiYpmenZ14YmJiYpKdnZ1/Y2NjY4ycnJyDY2NkZIecnJyIZGRkZIKbm5uMZWVlZX+bmpqPZWVlZXyampqQZmZmZnuZmZmRZmZnZ3qZmZmSZ2dnZ3qYmJiQaGhoaHuXl5ePaGhoaH2Xl5eNaWlpaX+WlpaKaWpqaoGWlpWHampqaoSVlZWEa2tra4eUlJSAa2trbIqUlJR9bGxsbI6Tk5N4bW1tbZOTk5J0bW1tc5KSkpJvbm5ueJGRkY1ubm5ufpGRkYdvb29vg5CQkIFvcHBwiZCQj3twcHBwj4+Pj3VxcXF3jo6OjHFxcXF+jo6OhHJycnKFjY2NfnJzc3OLjY2Md3Nzc3iMjIyKdHR0dH+Li4uDdHR0dIaLi4t8dXV1d4qKiop1dXV2foqKiYN2dnZ2hImJiX13d3d4iIiIiHd3d3d/iIiIgnh4eHiEh4eHfHh4eHuHh4eFeXl5eYGGhoZ/eXl6eoaFhYV6enp6f4WFhYF7e3t7g4SEhH17e3t+hISEgXx8fHyBg4ODfnx8fH6DgoKBfX19fYGCgoJ/fX1+foGBgYB+fn5+gIGBgX9/f39/gICAgH9/f3+AgA==";Turtle.sound.add("jump",l);var h="data:audio/wav;base64,UklGRr0AAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0YZkAAACuh29gVouvinNlXG3CmX9vZF5byaaJd2xlYmCZvJqFd29raGdmeMmmj4F4c3BubW1tbm+9r5iJgHp3dXR0c3R0dHV1dnZ3p7Gcj4aBfXt6enl5eXp6enp7e3t7fHx8fH19fX19fX5+fn5+fn5+f39/f39/f39/gJ6Si4aDgYCAf39/f39/f39/f39/f39/f39/f39/f39/f38=";Turtle.sound.add("hurt",h);var y=document.createElement("div");y.id="msg",document.body.appendChild(y);var c=document.createElement("div");c.id="m",c.innerHTML="<span>Press H for help</span><div class='h'>Bubu while doing the poo unfortunately finds himself on a strange planet,<br>and now he need your help to escape from here!<br><br>ARROWS: move Bubu<br>H: show/hide this menu<br>R: restart current level (if you stuck)<br>P: enter password<br><br>Jump on enemy to kill him, collect keys to open the door.</div>",document.body.appendChild(c);var f=function(x,e,t,m,r){Turtle.pause(1),y.className="",y.innerHTML=x+"<span>"+(t||"")+"</span>",m||setTimeout(function(){y.className="h",Turtle.pause(0),e&&a(k)},r||4e3)};document.addEventListener("keypress",function(x){if(104==x.charCode&&(c.className=c.className?"":"s"),115==x.charCode&&-1===k&&a(k=0),!m&&112==x.charCode){for(var e=prompt("PASSWORD")||"",t=1;p.length>t;t++)if(p[t].pwd.toLowerCase()==e.toLowerCase())return a(k=t),void 0;alert("wrong password!")}});var k=-1;f("BREAKAWAY",!1,"Press 'S' to start",!0)},!1);