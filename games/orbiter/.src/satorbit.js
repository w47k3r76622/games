function PlayStars(){try{let d={paused:!1,over:!1,score:0,scores:[0]},c=DOMHelp.TAGN("sbd",0),p=0;var t={active:!1},a=document.getElementById("canvas"),r=a.getContext("2d"),e=a.width=screen.width,o=a.height=window.innerHeight;a.style.marginTop=0,a.style.marginLeft=0;var i=e,n=o;MHelp.resultantOf(i,n);let u,M,m,y,w,x,b,g=new CDraw.useScene(r),v="#000012",f=r.createLinearGradient(0,0,0,n);f.addColorStop(1,v),f.addColorStop(0,"black");let C,D,S,X,H,O,_,T,k,A=function(t,a,r,e){let o=new CDraw.arc(t,a,r,0,6.28,"_"+e);g.add(o),b.y=n/2-3*r;let i=.04*Math.random()-.02,h=[];for(let t=0;20>t;t++){let a=new CDraw.arc(0,0,Math.random()*o.radius/6,0,6.3,"_black");a.x=a.rx=o.x-o.radius+Math.random()*o.radius*2,a.y=a.ry=o.y-o.radius+Math.random()*o.radius*2,Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2))>o.radius?t--:(g.add(a),h.push(a))}let s=()=>{h.map(t=>{t.rotation.about=o.center,t.rotation.rad+=i})};return{arc:o,spots:h,remove:()=>{g.remove(o)},rotate:s,rot:i,use:()=>{s()}}};function h(){let t=i/15,a=t+(i/6-t)*C/13;D.remove(),D=new A(i/2,n/2,a,["#322323","#233223","#232332","#232323","#321212","#123212","#121232","#121212","#431212","#124312","#121243","#434343","#324312"][C]),S=D.arc,C++}function s(t,a,r,e=!0){return e?t>a-r&&t<a+r:t>a&&t<r}let q=(t,a,r)=>{let e={rad:r,tx:i/2,ty:n/2,trMin:0,trMax:0,ltime:0,trails:[],hit:!1,active:!0,trail:function(){this.ltime++;let r=this.trails.length,e=this.rad%6.28,o=S.radius/10*(r/13),i=b.rotation.rad%6.28;if(this.hit=this.hit||s(e,i,.1)&&s(t.hyp,this.trMin,this.trMax,!1),this.hit&&(t.crash=!0),r<14&&this.ltime>a&&!this.hit&&this.active){this.ltime=0,this.trMax=Math.sqrt(Math.pow(S.x-this.tx,2)+Math.pow(S.y-this.ty,2)),this.trails.push(new CDraw.arc(this.tx,this.ty,o,0,6.25,"_white"));let t=this.trails[r];t.alpha=.45,g.add(t),this.tx+=6*o*Math.cos(e-1.57),this.ty+=6*o*Math.sin(e-1.57)}else if(r>0&&this.ltime>a){this.active=!1,this.ltime=0,this.trMin=Math.sqrt(Math.pow(S.x-this.trails[0].x,2)+Math.pow(S.y-this.trails[0].y,2));let t=this.trails[0];g.remove(t),this.trails.shift()}}};T.push(e)};function l(){g.allChildren.map(t=>{g.remove(t)}),d.over=!1,d.score=0,u=new CDraw.rect(0,i,0,n,["",f]),g.add(u),M=[];for(let t=0;60>t;t++){let t=MHelp.randOpt("white","crimson","goldenrod"),a=new CDraw.arc(i/2,n/2,i/5,0,6.3,"_"+t);a.x=Math.random()*i*2,a.y=Math.random()*n,a.radius=.05+.2*Math.random(),a.GCParams.shadow=[.1,.1,"transparent",0],a.alpha=1,a.rotationSpeed=5e-4*Math.random()*MHelp.randOpt(1,-1),a.speedX=(.1+.1*Math.random())*MHelp.randOpt(-1,1),M.push(a),g.add(a)}m="#bb112b",y=new CDraw.rect(0,20,0,20,"_"+m),w=new CDraw.rect(0,20,0,20,"_"+m),x=new CDraw.rect(0,20,0,20,"_"+m),b=new CDraw.arc(i/2,n/3,i/40,0,6.28,"_"+m),C=0,D=new A(i/2,n/2,i/15,"#232332"),S=D.arc,h(),X=.01,H=S.center,O=0,_={},b.xx=b.x,b.yy=b.y,g.add(x),g.add(y),g.add(w),g.add(b),b.crash=!1,T=[],k=[];for(let t=0;130>t;t++)k.push(314*t+314*Math.random());p=0,b.rotation.rad=0}l(),function a(){p++,d.score=Math.floor(50*C+5*T.length),b.crash&&!d.over&&(d.over=!0,d.scores.push(d.score),console.log(d.scores));let r=Math.floor(b.rotation.rad/6.28);M.map(t=>{t.x-=t.speedX,(t.x<0||t.x>i)&&(t.speedX*=-1,t.y=Math.random()*n,t.radius=.2+.9*Math.random(),t.color=MHelp.randOpt("white","crimson","goldenrod"))}),D.use(),T.map(t=>{t.trail()}),k.map((t,a)=>{p!=Math.floor(t)||b.crash||q(b,6-5*(C+r/14)/14,b.rotation.rad+100*X)}),x.lengthX=5*b.radius,x.x=b.x-x.lengthX/2,x.y=b.y-x.breadthY/2,x.breadthY=b.radius/3,y.lengthX=y.breadthY=w.lengthX=w.breadthY=2*b.radius,y.x=x.x-y.lengthX/2,w.x=x.x+x.lengthX/1-w.lengthX/2,y.y=w.y=b.y-y.breadthY/2;let e=b,o=e.rotation.about.x,s=e.rotation.about.y;e.hyp=Math.sqrt(Math.pow(o-e.xx,2)+Math.pow(s-e.yy,2)),e.xxx=o+e.hyp*Math.cos(O),e.yyy=s+e.hyp*Math.sin(O);let l=[x,b,y,w];!t.active&&X>.01&&(X-=.001),t.active&&X<.05&&(X+=.001),b.crash&&(X/=10),O+=X,Math.floor(b.rotation.rad/6.28)>12&&(h(),console.log(g.allChildren.length),O=0),l.map(t=>{t.rotation.rad=O,t.rotation.about=H,b.crash&&(t.alpha=.5)});let u=d.score>=Math.max(...d.scores);c.innerHTML="Satellite Completed: <b>"+r+"/13 orbits</b>&nbsp;|&nbsp;About:  <b>"+C+"/13 Planets</b><br>Survived <b>"+T.length+"/"+k.length+" shots </b><br>"+(u?"***High":"")+"Score: <b>"+d.score+"</b> Rank: <b>"+C+"P"+T.length+"S</b><br>"+(b.crash?"<b>GAMEOVER</b><br>":"")+"TAP TO RESTART",d.paused||requestAnimationFrame(a)}(),c.onclick=function(){l()},a.ontouchstart=function(a){t={active:!0}},a.ontouchend=function(a){t.active=!1},document.onkeypress=(a=>{t={active:!0}}),document.onkeyup=(a=>{t.active=!1})}catch(t){console.log(t)}}