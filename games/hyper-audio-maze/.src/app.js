!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cellSize:20,endColor:"rgba(046, 204, 113, 0.25)",backgroundColor:"#ecf0f1",wallsColor:"#ccc",wallsWidth:2,playerSize:5,playersColors:["rgba(231, 076, 060, 1.0)","rgba(052, 152, 219, 1.0)","rgba(046, 204, 113, 1.0)","rgba(241, 196, 015, 1.0)"],playersControls:["keyboard-1","keyboard-2","gamepad-1","gamepad-2"]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),a=function(){function e(e){var t=this;this.clear=function(){t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height)},this.font=function(e,i,n,a,l,r){void 0===n&&(n=0),void 0===a&&(a=0),void 0===l&&(l=12),void 0===r&&(r="Arial"),t.ctx.font=l.toString()+"px "+r,t.ctx.fillStyle=i,t.ctx.fillText(e,n,a)},this.circle=function(e,i,n,a,l){void 0===i&&(i=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===l&&(l=0),t.ctx.fillStyle=e,t.ctx.lineWidth=i,t.ctx.beginPath(),t.ctx.arc(n,a,l,0,2*Math.PI),t.ctx.fill()},this.rectangle=function(e,i,n,a,l){void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=t.canvas.width),void 0===l&&(l=t.canvas.height),t.ctx.fillStyle=e,t.ctx.fillRect(i,n,a,l)},this.line=function(e,i,n,a,l,r){void 0===i&&(i=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===r&&(r=0),t.ctx.strokeStyle=e,t.ctx.lineWidth=i,t.ctx.beginPath(),t.ctx.moveTo(n,a),t.ctx.lineTo(l,r),t.ctx.stroke()},this.id=e;var i=document.createElement("canvas");i.setAttribute("id",this.id),document.getElementById("game").appendChild(i),this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(window.innerWidth/n.default.cellSize)*n.default.cellSize,this.canvas.height=Math.floor((window.innerHeight-64)/n.default.cellSize)*n.default.cellSize}return e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),new(i(3).default)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),a=i(5),l=i(6),r=function(){function e(){var e=this;this.chrono=new n.default(this),this.players=[],this.isFinished=!1,this.isStarted=!1,this.gameMod="versus",this.init=function(){e.isFinished=!1;for(var t=document.getElementById("game");t.firstChild;)t.removeChild(t.firstChild);e.labyrinth=new l.default,e.chrono.init(),0==e.players.length&&e.addPlayer(),e.players.map(function(t){t.labyrinth=e.labyrinth,t.hasFinished=!1,t.init()})},this.loop=function(){e.players.map(function(e){return e.loop()}),"versus"==e.gameMod&&e.players.filter(function(e){return e.hasFinished}).length>0?(e.stop(),e.chrono.stop()):"coop"==e.gameMod&&0==e.players.filter(function(e){return!e.hasFinished}).length?(e.stop(),e.chrono.stop()):e.start()},this.start=function(){e.isStarted=!0,e.loopID=window.requestAnimationFrame(e.loop)},this.stop=function(){new Audio(Synth.generate(0,"C",4,1)).play(),e.isFinished=!0,e.isStarted=!1,e.loopID&&window.cancelAnimationFrame(e.loopID),e.players.map(function(e){e.canvas.clear(),e.drawHistory(),e.draw()})},this.addPlayer=function(){e.players.push(new a.default(e.labyrinth,e.players.length,e.players.length))},window.addEventListener("resize",this.init),this.init(),document.addEventListener("keyup",function(t){13==t.keyCode&&e.players.length<4&&e.addPlayer()})}return e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.diffTime=0,this.stopped=!1,this.init=function(){document.getElementById("versus").innerHTML="Versus",document.getElementById("message").innerHTML=" / ",document.getElementById("coop").innerHTML="Coop",document.getElementById("seconds").innerHTML="",document.getElementById("milliseconds").innerHTML=""},this.start=function(){t.stopped=!1,t.startTime=new Date,t.actualize()},this.stop=function(){t.stopped=!0},this.actualize=function(){var e=t.diffTime;t.diffTime=Math.abs((new Date).getTime()-t.startTime.getTime()),~~(t.diffTime/1e3)!=~~(e/1e3)&&new Audio(Synth.generate(0,"C#",1,1)).play(),t.stopped||requestAnimationFrame(t.actualize),t.display()},this.display=function(){document.getElementById("versus").innerHTML="",document.getElementById("message").innerHTML="",document.getElementById("coop").innerHTML="",document.getElementById("seconds").innerHTML=((t.diffTime-t.diffTime%1e3)/1e3).toString()+"s ",document.getElementById("milliseconds").innerHTML=("00"+(t.diffTime%1e3).toString()+"0").slice(-4,-1)},this.game=e,this.init(),document.getElementById("versus").addEventListener("click",function(e){e.stopPropagation(),t.game.gameMod="versus",t.start(),t.game.start()}),document.getElementById("coop").addEventListener("click",function(e){e.stopPropagation(),t.game.gameMod="coop",t.start(),t.game.start()}),document.getElementById("chrono").addEventListener("click",function(e){t.game.isStarted||t.game.init()})}return e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),a=i(1),l=function(){function e(e,t,i){void 0===i&&(i=0);var l=this;this.size=n.default.playerSize,this.moves=[!1,!1,!1,!1],this.history=[],this.hasFinished=!1,this.gamePadFlag=!1,this.init=function(){l.history=[],l.canvas=new a.default(l.id.toString()),l.x=l.labyrinth.cellSize*(.5+l.randInt(0,l.labyrinth.width-1)),l.y=l.labyrinth.cellSize*(.5+l.randInt(0,l.labyrinth.height-1))},this.loop=function(){l.gamePadFlag&&l.gamepadControls(l.gamePadIdx),l.move(),l.canvas.clear(),l.draw()},this.controls=function(){if("keyboard"==n.default.playersControls[l.config].split("-")[0]){var e="1"==n.default.playersControls[l.config].split("-")[1]?[38,39,40,37]:[90,68,83,81];document.addEventListener("keydown",function(t){e.map(function(e,i){t.keyCode==e&&(l.moves[i]=!0)})}),document.addEventListener("keyup",function(t){e.map(function(e,i){t.keyCode==e&&(l.moves[i]=!1)})})}else l.gamePadIdx=parseInt(n.default.playersControls[l.config].split("-")[1]),l.gamePadFlag=!0},this.gamepadControls=function(e){var t=navigator.getGamepads()[e];l.moves=[!1,!1,!1,!1],t.axes[0]<-.7&&(l.moves[3]=!0),t.axes[1]>.7&&(l.moves[2]=!0),t.axes[0]>.7&&(l.moves[1]=!0),t.axes[1]<-.7&&(l.moves[0]=!0)},this.draw=function(){l.canvas.circle(n.default.playersColors[l.id],1,l.x,l.y,l.size),l.canvas.circle(n.default.backgroundColor,1,l.x,l.y,l.size-1),l.canvas.circle(n.default.playersColors[l.id].substr(0,20)+"0.5)",1,l.x,l.y,l.size-1)},this.drawHistory=function(){l.history.map(function(e,t){l.history[t+1]&&l.canvas.line(n.default.playersColors[l.id].substr(0,20)+"0.5)",2,e[0],e[1],l.history[t+1][0],l.history[t+1][1])})},this.move=function(){if(l.getCell(l.x,l.y).isEnd)l.hasFinished=!0;else{var e=l.x,t=l.y;l.moves[0]&&t--,l.moves[1]&&e++,l.moves[2]&&t++,l.moves[3]&&e--,l.legalMove(e,t)&&(l.x=e,l.y=t),l.history.unshift([l.x,l.y])}},this.getCell=function(e,t){return l.labyrinth.grid[Math.floor(t/l.labyrinth.cellSize)][Math.floor(e/l.labyrinth.cellSize)]},this.legalMove=function(e,t){var i=l.getCell(e,t);return e%l.labyrinth.cellSize<=n.default.wallsWidth?t%l.labyrinth.cellSize<=n.default.wallsWidth?!i.walls[0]&&!i.walls[3]:t%l.labyrinth.cellSize>=l.labyrinth.cellSize-n.default.wallsWidth?!i.walls[2]&&!i.walls[3]:!i.walls[3]:e%l.labyrinth.cellSize>=l.labyrinth.cellSize-n.default.wallsWidth?t%l.labyrinth.cellSize<=n.default.wallsWidth?!i.walls[0]&&!i.walls[1]:t%l.labyrinth.cellSize>=l.labyrinth.cellSize-n.default.wallsWidth?!i.walls[1]&&!i.walls[2]:!i.walls[1]:t%l.labyrinth.cellSize<=n.default.wallsWidth?!i.walls[0]:!(t%l.labyrinth.cellSize>=l.labyrinth.cellSize-n.default.wallsWidth)||!i.walls[2]},this.randInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},this.id=t,this.labyrinth=e,this.config=i,this.name="Player "+(t+1).toString(),hyperapp.app({state:{id:this.id},view:function(e){return hyperapp.h("div",{class:"menu-player player_background player_"+(e.id+1).toString()})}}),hyperapp.app({state:{id:this.id,name:this.name},view:function(e){return hyperapp.h("div",{class:"menu-player player_"+(e.id+1).toString()},e.name)}}),this.controls(),this.init()}return e}();t.default=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),a=i(1),l=i(7),r=function(){function e(){var e=this;for(this.canvas=new a.default("labyrinth"),this.width=Math.floor(window.innerWidth/n.default.cellSize),this.height=Math.floor((window.innerHeight-64)/n.default.cellSize),this.cellSize=n.default.cellSize,this.grid=[],this.createGrid=function(){for(var t=0;t<e.height;t++){e.grid.push([]);for(var i=0;i<e.width;i++)e.grid[t].push(new l.default(i+t*e.width))}},this.generateLabyrinth=function(){var t=e.randInt(0,e.height-1),i=e.randInt(0,e.width-1),n=e.randInt(0,3);if(!(0==t&&0==n||0==i&&3==n||t==e.height-1&&2==n||i==e.width-1&&1==n)&&e.grid[t][i].walls[n]){var a=void 0;switch(n){case 0:a=e.grid[0==t?e.height-1:t-1][i];break;case 1:a=e.grid[t][i==e.width-1?0:i+1];break;case 2:a=e.grid[t==e.height-1?0:t+1][i];break;case 3:a=e.grid[t][0==i?e.width-1:i-1]}e.grid[t][i].id!=a.id&&(e.grid[t][i].walls[n]=!1,a.walls[(n+2)%4]=!1,e.updateGroupId(e.grid[t][i].id,a.id))}},this.selectEnd=function(){e.grid[Math.floor(e.height/2)][Math.floor(e.width/2)].isEnd=!0},this.updateGroupId=function(t,i){e.grid.map(function(e,n){e.map(function(e,n){e.id==i&&(e.id=t)})})},this.isGenerated=function(){for(var t=0;t<e.height;t++)for(var i=0;i<e.width;i++)if(e.grid[t][i].id!=e.grid[0][0].id)return!1;return!0},this.drawLabyrinth=function(){e.grid.map(function(t,i){t.map(function(t,a){t.isEnd&&e.canvas.rectangle(n.default.endColor,e.cellSize*a,e.cellSize*i,e.cellSize,e.cellSize),t.walls.map(function(t,l){t&&e.canvas.line(n.default.wallsColor,n.default.wallsWidth,e.cellSize*(a+(1==l?1:0)),e.cellSize*(i+(2==l?1:0)),e.cellSize*(a+(3!=l?1:0)),e.cellSize*(i+(0!=l?1:0)))})})})},this.randInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},this.createGrid();!this.isGenerated();)this.generateLabyrinth();this.selectEnd(),this.drawLabyrinth()}return e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.isEnd=!1,this.walls=[!0,!0,!0,!0],this.countWalls=function(){return t.walls.filter(function(e){return e}).length},this.id=e}return e}();t.default=n}]);