parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"rJ8+":[function(require,module,exports) {
"use strict";function t(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"square",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;try{e=new AudioContext}catch(c){return}var r=e.createGain();for(var a in t){var i=e.createOscillator();i.type=o,t[a]&&(i.connect(r),r.connect(e.destination),i.start(a*n),i.frequency.setValueAtTime(440*Math.pow(1.06,13-t[a]),a*n),r.gain.setValueAtTime(1,a*n),r.gain.setTargetAtTime(1e-4,a*n+(n-.02),.005),i.stop(a*n+(n-.01)))}setTimeout(function(){e.close()},t.length*n*1e3)}var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.playMelodyOnce=t,exports.ZZFX=exports.playMonsterShout=void 0;try{e=new AudioContext}catch(a){console.warn("Web Audio API not supported")}var o=.5,n=function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;if(e){var l=44100,d=Math.PI;r*=2*d/l,r*=1+n*(2*Math.random()-1),c*=1e3*d/Math.pow(l,2),i*=0|(a=0<a?l*(10<a?10:a)|0:1),u*=2*d/l,h*=d,n=[];for(var v=0,p=0,f=0;f<a;++f)n[f]=t*o*Math.cos(v*r*Math.cos(p*u+h))*(f<i?f/i:1-(f-i)/(a-i)),v+=1+s*(2*Math.random()-1),p+=1+s*(2*Math.random()-1),r+=c;return t=e.createBuffer(1,a,l),r=e.createBufferSource(),t.getChannelData(0).set(n),r.buffer=t,r.connect(e.destination),r.start(),r}};exports.ZZFX=n;var r=function(){return n(4,.1,2e3,3,.53,-1,3.9,0,.6)};exports.playMonsterShout=r;
},{}],"MuPq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FONT_HEIGHT=exports.levels=void 0;var e=[{goal:700,warning:"MONSTER",strings:"hero;shoot;kill;save;family;help;quick;gun;home;protect;earth;child;love;nature;ego;lost;fight;tears;trash;pollution;revenge;catastrophe;chaos;last;chance;WE;FIGHT;BACK"},{goal:1500,warning:"INCOMING MONSTER",strings:"fighting heroes;final frontier;combined efforts;total apocalypse;giant creatures;no questions;find vulnerability;not ready;need ammo;breached barrier;hurt monstrosity;damaged planet;seeks revenge;endless fight;everlasting battle;lost friends;forgotten tears;but whatever comes;we fight back"},{goal:2e3,warning:"A MONSTER BREACHED THE BORDER!",strings:"We are the heroes.;We fight off monsters.;The city is protected by us.;Our scientists extracted their genes;and found dangerous mutations.;They are wild creatures.;The industrial trash caused;modifications to life forms;on earth.;They will kill us all.;Watch your back.;Can you image the destruction;that follows each attack?;Human society was harvesting;resources beyond what mother;earth could provide.;The unbalanced ecosystem became;uncontrollable for surviving;tribes.;Cleaning up the mistakes;of former generations is;certainly impossible;at this point.;But whatever happens,;we fight back!"},{goal:100,warning:"monster?",strings:"Test;Test"}];exports.levels=e;var t=10;exports.FONT_HEIGHT=t;
},{}],"z7wM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./constants.js"),e=require("./audio.js");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var s=function(){function r(t){i(this,r),this.strings=t.split(";"),this.currentPosition=0,this.currentFloater=0,this.wheelPosition=0}return n(r,[{key:"onKeyPress",value:function(t){if(!this.sequenceDone()){var i=this.strings[this.currentFloater].substr(this.currentPosition,1).toLowerCase();return t.toLowerCase()==i&&(this.currentPosition++,this.wordDone()&&((0,e.playMelodyOnce)([,9,8,6]),this.sequenceDone()||(this.currentFloater++,this.currentPosition=0)),!0)}}},{key:"_startFloater",value:function(t){this.currentFloater=t,this.currentPosition=0}},{key:"wordDone",value:function(){return this.currentPosition==this.strings[this.currentFloater].length}},{key:"sequenceDone",value:function(){return this.currentFloater==this.strings.length-1&&this.wordDone()}},{key:"stringsLeft",value:function(){return this.strings.length-this.currentFloater}},{key:"start",value:function(){this.wheelPosition=0}},{key:"act",value:function(t){this.wheelPosition<this.currentFloater&&(this.wheelPosition=Math.min(this.wheelPosition+2*t,this.currentFloater))}},{key:"draw",value:function(e){for(var i=Math.floor(this.wheelPosition-2);i<Math.floor(this.wheelPosition+4);i++)if(!(i<0||i>=this.strings.length)){var r=this.strings[i],n=15*(i-this.wheelPosition)+20;if(i===this.currentFloater){e.fillStyle="#000";e.fillRect(5,n-5,e.measureText(r).width+10,t.FONT_HEIGHT+10),e.fillStyle="#fff"}else{var s=Math.abs(this.wheelPosition-i),o=1-Math.min(s/3,1);e.fillStyle="rgba(0,0,0,".concat(o,")")}e.fillText(r,10,n+t.FONT_HEIGHT),i===this.currentFloater&&(e.fillStyle="#0f0",e.fillText(r.substr(0,this.currentPosition),10,n+t.FONT_HEIGHT))}}}]),r}(),o=s;exports.default=o;
},{"./constants.js":"MuPq","./audio.js":"rJ8+"}],"7rjG":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function e(){t(this,e),this.shots=[],this.particles=[]}return i(e,[{key:"fire",value:function(t){var e=t.origin,i=t.target;this.shots.push({origin:e,target:i})}},{key:"draw",value:function(t){t.fillStyle="#fff",t.strokeStyle="#aa0",t.lineWidth=1,t.beginPath(),this.shots.forEach(function(e){t.moveTo(e.origin[0],e.origin[1]),t.lineTo(e.target[0],e.target[1]),t.fillRect(e.origin[0],e.origin[0]-1,5,3)}),t.stroke(),this.shots=[],this.particles.forEach(function(e){t.fillStyle="#ff0";var i=e.pos;t.fillRect(i[0],i[1],3,3)})}}]),e}();exports.default=r;
},{}],"HZCD":[function(require,module,exports) {
module.exports="berlin-border.24712779.png";
},{}],"zp94":[function(require,module,exports) {
module.exports="brandenburger-tor.a9e4555b.png";
},{}],"T5Nj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../images/berlin-border.png")),t=r(require("../images/brandenburger-tor.png"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Math.floor(Math.random()*(t-e+1))+e}var l=new Image;l.src=e.default;var i=new Image;function o(e,t){e.fillStyle="#aaa";var r=new Path2D;r.moveTo(4,0),r.lineTo(1,-112),r.lineTo(0,-112),r.lineTo(-4,0),r.closePath(),e.fill(r),e.beginPath(),e.arc(0,-70,7,7,0,4),e.fill(),e.beginPath(),e.rect(-3,-86,6,10),e.fill()}i.src=t.default;var n=function(){return{width:a(70,100),height:a(40,50)}};function f(e,t){var r=t.width,a=t.height;e.fillStyle="#888",e.fillRect(1,0,r-2,-a);for(var l=-a;l<-7;l+=8)e.fillRect(0,l,r,1)}function s(e,t){e.save(),e.translate(Math.floor(t/16-35),150),o(e),e.restore(),e.save(),e.translate(Math.floor(t/2-100),150),e.drawImage(i,0,-i.height),e.restore(),h.forEach(function(r,a){e.save(),e.translate(t-105*a+20,150),f(e,r),e.restore()});for(var r=0;r<400;r++)e.save(),e.translate(8*t-50*r,150),e.fillStyle="#000",e.fillRect(0,-19,1,20),e.fillRect(-4,-18,9,1),e.fillRect(-4,-20,2,3),e.fillRect(3,-20,2,3),e.restore();e.save(),e.translate(8*t+65,150),e.drawImage(l,0,1.5*-l.height,1.5*l.width,1.5*l.height),e.restore()}var h=[];h.push({width:75,height:20});for(var u=0;u<20;u++)h.push(n());var c=s;exports.default=c;
},{"../images/berlin-border.png":"HZCD","../images/brandenburger-tor.png":"zp94"}],"BDSj":[function(require,module,exports) {
module.exports="vancouver-border.3a3979bb.png";
},{}],"XlPC":[function(require,module,exports) {
module.exports="habour-centre.00bba69b.png";
},{}],"veJ1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../images/vancouver-border.png")),t=r(require("../images/habour-centre.png"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function l(e,t){return Math.floor(Math.random()*(t-e+1))+e}var o=new Image;o.src=e.default;var f=new Image;f.src=t.default;var u=40,h=20,c=function(){function e(){a(this,e)}return i(e,[{key:"draw",value:function(e){e.fillStyle="#ddd",e.fillRect(0,-h-3,1e3,3);for(var t=0;t<1e3;t+=u)e.fillRect(t,-h,5,h)}}]),e}(),s=function(){return{width:l(35,40),height:l(70,100)}};function d(e,t){var r=t.width,a=t.height;e.fillStyle="#888",e.fillRect(2,0,r-2,-a);for(var n=-6;n>-a;n-=6)e.fillRect(0,n,2,1)}function v(){ctx.fillRect(2,0,width-2,-height);for(var e=-6;e>height;e-=6)ctx.fillRect(0,e,2,1)}function g(e,t){e.save(),e.translate(t/2-300,150),w.draw(e),e.restore(),e.save(),e.translate(Math.floor(t/4-200),150),e.drawImage(f,0,-f.height),e.restore(),p.forEach(function(r,a){e.save(),e.translate(t-45*a+100,150),d(e,r),e.restore()});for(var r=0;r<800;r++)r%8!=1&&r%8!=2||(e.save(),e.translate(8*t-25*r,150),e.fillStyle="#000",e.fillRect(0,-20,1,20),e.fillRect(-2,-20,5,7),e.restore());e.save(),e.translate(8*t+60,150),e.drawImage(o,0,1.5*-o.height,1.5*o.width,1.5*o.height),e.restore()}var w=new c,p=[];p.push({width:35,height:40}),p.push({width:35,height:45}),p.push({width:35,height:40});for(var m=0;m<50;m++)p.push(s());var y=g;exports.default=y;
},{"../images/vancouver-border.png":"BDSj","../images/habour-centre.png":"XlPC"}],"NHX2":[function(require,module,exports) {
module.exports="rex_black.6e76d820.png";
},{}],"6yjy":[function(require,module,exports) {
module.exports="rex_dead.4513ffaa.png";
},{}],"ddQx":[function(require,module,exports) {
module.exports="rex_running.2506aaa9.png";
},{}],"OlTh":[function(require,module,exports) {
module.exports="truck.86e6689a.png";
},{}],"IEHn":[function(require,module,exports) {
"use strict";var e=require("./audio.js"),t=u(require("./text-typer.js")),n=u(require("./bullet-module.js")),l=u(require("./berlin.js")),a=u(require("./vancouver.js")),i=u(require("../images/rex_black.png")),r=u(require("../images/rex_dead.png")),o=u(require("../images/rex_running.png")),f=u(require("../images/truck.png")),s=require("./constants.js");function u(e){return e&&e.__esModule?e:{default:e}}var c=3,d=5,m=2,y=1,w=6,g=0,x=!1,T=!1;window.onblur=function(){T=!0},window.onfocus=function(){T=!1,window.requestAnimationFrame(ie)};var p=new Image;p.src=i.default;var h=new Image;h.src=r.default;var v=new Image;v.src=o.default;var S=new Image;S.src=f.default;var M=function(e){return e?"on ":"off"},q=document.getElementById("fg"),b=q.getContext("2d");b.font="".concat(s.FONT_HEIGHT,"px monospace"),b.imageSmoothingEnabled=!1;var I,D,k,P,j,F,O,_,z,R,W,A=(new Date).getTime(),B=A,E=new t.default("pirate"),H=!1,K=function(){return document.monetization&&"started"===document.monetization.state||H},C=new n.default,L=0,Y=!1,Z=!1,G=70;function N(e){for(var t,n,l=e.length;0!==l;)n=Math.floor(Math.random()*l),t=e[l-=1],e[l]=e[n],e[n]=t;return e}function X(){C.fire({origin:[30,138],target:[20+(F-L)/F*180+V(5,25),138+V(-5,5)]}),(0,e.ZZFX)(1,.1,1454,.1,.02,7.7,3.8,0,.84)}function J(e){I=e,B=(new Date).getTime(),W=!1,e==c&&(L=0)}function Q(e){J(d);var n=s.levels[e];k=!1,D=!1,O=0,L=0,F=n.goal,z=0,R=0,(j=new t.default(n.warning)).start();var l=n.strings;Y&&(l=N(l.split(";")).join(";")),(P=new t.default(l)).wheelPosition=-2}function U(){setInterval(le,16),window.requestAnimationFrame(ie)}function V(e,t){return Math.floor(Math.random()*(t-e+1))+e}function $(e){Z?(0,l.default)(e,L):(0,a.default)(e,L)}function ee(){J(g),_=F-L,z=20+(F-L)/F*180}function te(){J(y),(0,e.playMonsterShout)()}function ne(e){return((e=e||(new Date).getTime())-B)/1e3}function le(){var e=(new Date).getTime();ae((e-A)/1e3,ne(e)),A=e}function ae(t,n){T||(I==d?(n>.2&&!D&&(D=!0,(0,e.playMonsterShout)()),n>2&&!k&&(k=!0),j.sequenceDone()&&(J(m),(0,e.playMonsterShout)()),j.act(t)):I==m?(P.sequenceDone()&&ee(),P.act(t),O=Math.min(O+20*t,G),(L+=O/3.6*t)>=F&&te()):I==g?(O=Math.max(.95*O,0),L+=O/3.6*t,n>2&&!W&&(W=!0)):I==y&&n>2&&!W&&(W=!0))}function ie(){if(!T){if(b.clearRect(0,0,240,160),$(b),b.drawImage(S,10,136),I==d){var e=Math.min(ne()/2,1);b.drawImage(p,240-40*e,96),k&&(b.fillStyle="#000",b.fillText("Type to warn your city!!!",50,50),j.draw(b))}else if(I==m)if(O>45){var t=Math.floor(L/2)%4;b.drawImage(v,96*t,0,96,56,20+(F-L)/F*180,96,96,56)}else b.drawImage(p,20+(F-L)/F*180,96);else I==g&&b.drawImage(h,z+(L-_),96);if(C.draw(b),b.fillStyle="#000",b.fillRect(-64,150,512,64),I==d||I==m){b.fillStyle="#000";var n=(F-L).toFixed(1).padStart(6);b.fillText("".concat(n," m"),190,10)}I==m&&P.draw(b),I==g&&(b.fillStyle="#000",b.fillText("The city is save... for now.",20,50),b.fillText("Meters to your base: ".concat(_.toFixed(1)),20,70),b.fillText("Incorrect characters: ".concat(R),20,90)),I==y&&(b.fillStyle="#000",b.fillRect(0,0,240,160),b.fillStyle="#a11",b.fillText("The monster reached your base.",20,50),b.fillText("You saw it kill some friends",20,70),b.fillText("... suddenly it was eyeing you.",20,90),W&&(b.fillStyle="#aaa",b.fillText("Press H to reveal your progress",20,110),b.fillText("Press Space to return",20,130))),I==w&&(b.fillStyle="#000",b.fillRect(0,0,240,160),b.fillStyle="#a11",b.fillText("You can kill the monster!",20,50),b.fillText("Strings left: ".concat(P.stringsLeft()),20,70),b.fillStyle="#aaa",b.fillText("Press Space to return",20,130)),I==c&&(b.fillStyle="#000",b.fillText("We fight back",80,20),b.fillText("Press a number",20,40),b.fillText("1  Words",20,60),b.fillText("2  Word pairs",20,80),b.fillText("3  Sentences",20,100),x&&b.fillText("4  Debug",20,120),K()&&(b.fillText("Bonus for Web",140,40),b.fillText("Monitization",140,60),b.fillText("".concat(M(Y)," (S)huffled"),140,80),b.fillText("".concat(M(Z)," (B)erlin"),140,100))),window.requestAnimationFrame(ie)}}document.onkeypress=function(t){var n="Spacebar"==(t=t||window.event).key?" ":t.key.toLowerCase();if((I==c||x)&&(1==n&&Q(0),2==n&&Q(1),3==n&&Q(2),4==n&&Q(3),E.sequenceDone()||E.onKeyPress(n),E.sequenceDone()&&(H=!0)),x&&(5==n&&(0,e.playMelodyOnce)([7,,12,,7,,12,,7,,12,,7,,12,,9,,14,,9,,14,,9,,14,,9,,14,,7,,14,,9,,12,,14,,7,,7]),8==n&&X(),9==n&&(L+=8),"0"==n&&(L-=8)),K()&&I==c&&("b"==n&&(Z=!Z),"s"==n&&(Y=!Y))," "==n&&[g,y,w].includes(I)&&J(c),"h"==n&&I==y&&J(w),/[a-z\.!? ]/i.test(n)){if(I==d)j.onKeyPress(n)?((0,e.playMelodyOnce)([5],"sawtooth"),k=!0):(0,e.playMelodyOnce)([30]);if(I==m)P.onKeyPress(n)?((0,e.playMelodyOnce)([5],"sawtooth"),X()):((0,e.playMelodyOnce)([30]),R++)}},I=c,U();
},{"./audio.js":"rJ8+","./text-typer.js":"z7wM","./bullet-module.js":"7rjG","./berlin.js":"T5Nj","./vancouver.js":"veJ1","../images/rex_black.png":"NHX2","../images/rex_dead.png":"6yjy","../images/rex_running.png":"ddQx","../images/truck.png":"OlTh","./constants.js":"MuPq"}]},{},["IEHn"], null)