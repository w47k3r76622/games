<head><title>Lovely Drive</title><meta id="viewport" name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><style>#c,body{height:100%}#c,#l{width:100%}#c,#m,#p{transition:opacity 2s}#d,#l,#m,#p,#s{position:absolute}body{margin:0;background-color:#000;color:#fff;-webkit-user-select:none;user-select:none}#c{opacity:0}#d,#l,#m,#p{z-index:9}#d,#m{font-family:Verdana}#d span,#m{font-size:16px}#l{top:50%;margin-top:-140px;text-align:center;font-family:cursive;font-size:80px}#l span{font-size:30px;vertical-align:middle}#m{bottom:10px;left:20px}#p{bottom:0;left:0;background-color:#149be8;height:4px}#d{top:0;right:10px;font-size:25px;text-align:right}#s,#s:after,#s:before{border-radius:50%;width:1em;height:1em;-webkit-animation:load 1.8s infinite ease-in-out;animation:load 1.8s infinite ease-in-out}#s{font-size:10px;margin:-38px 0 0 90px;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}#s:before{left:-1.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}#s:after{left:1.5em}#s:after,#s:before{content:"";position:absolute;top:0}@-webkit-keyframes load{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em #fff}40%{box-shadow:0 2.5em 0 0 #fff}}@keyframes load{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em #fff}40%{box-shadow:0 2.5em 0 0 #fff}}</style></head><canvas id="c"></canvas><div id="l"><span>It's a</span><br>Lovely <span>day<br>for<br>a</span> Drive</div><div id="m">Loading<div id="s"></div></div><div id="p"></div><div id="d"></div><script>function a(a){if(!E&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){var b=new AudioContext,c=function(){var d=b.createBufferSource();d.buffer=b.createBuffer(1,1,22050),d.connect(b.destination),d.start?d.start(0):d.noteOn(0),setTimeout(function(){(d.playbackState===d.PLAYING_STATE||d.playbackState===d.FINISHED_STATE)&&(E=1,document.removeEventListener("touchstart",c,!1),a())},0)};return document.addEventListener("touchstart",c,!1),1}}function b(a,b){var c=a[0],d=a[1],e=a[2],f=a[4],g=a[5],h=a[6],i=a[8],j=a[9],k=a[10];a[0]=c*b[0]+f*b[1]+i*b[2],a[1]=d*b[0]+g*b[1]+j*b[2],a[2]=e*b[0]+h*b[1]+k*b[2],a[4]=c*b[4]+f*b[5]+i*b[6],a[5]=d*b[4]+g*b[5]+j*b[6],a[6]=e*b[4]+h*b[5]+k*b[6],a[8]=c*b[8]+f*b[9]+i*b[10],a[9]=d*b[8]+g*b[9]+j*b[10],a[10]=e*b[8]+h*b[9]+k*b[10],a[12]+=c*b[12]+f*b[13]+i*b[14],a[13]+=d*b[12]+g*b[13]+j*b[14],a[14]+=e*b[12]+h*b[13]+k*b[14]}function c(a,c){a.set(F),a[0]=c[0],a[1]=c[4],a[2]=c[8],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[8]=c[2],a[9]=c[6],a[10]=c[10],G.set(F),G[12]=-c[12],G[13]=-c[13],G[14]=-c[14],b(a,G)}function d(a,b,c,d){a[12]+=b*a[0]+c*a[4]+d*a[8],a[13]+=b*a[1]+c*a[5]+d*a[9],a[14]+=b*a[2]+c*a[6]+d*a[10]}function e(a,c){G.set([Math.cos(c),0,-Math.sin(c),0,0,1,0,0,Math.sin(c),0,Math.cos(c),0,0,0,0,1]),b(a,G)}function f(){(H.canvas.width!=H.canvas.clientWidth||H.canvas.height!=H.canvas.clientHeight)&&(H.viewport(0,0,H.canvas.width=H.canvas.clientWidth,H.canvas.height=H.canvas.clientHeight),H.uniformMatrix4fv(K,0,new Float32Array([Math.tan(.5*Math.PI-.5*(Math.PI/2))/(H.canvas.clientWidth/H.canvas.clientHeight),0,0,0,0,Math.tan(.5*Math.PI-.5*(Math.PI/2)),0,0,0,0,55*(1/-53),-1,0,0,54*(1/-53)*2,0])))}function g(a,b){return Math.max(Math.min(a+(Math.random()-.5)*b,1),0)}function h(a,b){return Math.max(Math.min(a+(Math.random()-.5)*b,1),-1)}function i(a){return a/2}function j(a,b,c,d,e){P[b+c/2][a+c/2]=e((P[b][a]+P[b+c][a]+P[b][a+c]+P[b+c][a+c])/4,d)}function k(a,b,c,d,e){P[b][a]=P[b%O][a%O]=e((P[b][(a-c+O)%O]+P[(b-c+O)%O][a]+P[b][(a+c)%O]+P[(b+c)%O][a])/4,d)}function l(a,b,c,d,e,f){k(a+c/2,b,c/2,d,e),k(a,b+c/2,c/2,d,e),k(a+c,b+c/2,c/2,d,e),k(a+c/2,b+c,c/2,d,e),c/=2,d=f(d),c>1&&(j(a,b,c,d,e),j(a+c,b,c,d,e),j(a,b+c,c,d,e),j(a+c,b+c,c,d,e),R.push([a,b,c,d,e,f]),R.push([a+c,b,c,d,e,f]),R.push([a,b+c,c,d,e,f]),R.push([a+c,b+c,c,d,e,f]))}function m(a,b,c,d){for(P[0][0]=P[0][O]=P[O][0]=P[O][O]=a,j(0,0,O,b,c),l(0,0,O,b,c,d);R.length;)l.apply(l,R.shift())}function n(a,b){T=S.getImageData(482+a,b,60,1024),tmp=0;for(var c=0;1024>c;c++)for(var d=0;60>d;d++)ba=T.data[tmp],ba>20&&(d>2&&20>d&&(a||b||512>c)||d>40&&58>d&&(!a||b||512>c))||ba>28&&(22>d&&(a||b||512>c)||d>38&&(!a||b||512>c))?(ba=ba/55+.2,T.data[tmp++]=230*ba+20*Math.random(),T.data[tmp++]=183*ba+5*Math.random(),T.data[tmp++]=22*ba+5*Math.random(),tmp++):tmp+=4;S.putImageData(T,482+a,b)}function o(a){T=S.getImageData(a,0,22,2048),tmp=0;for(var b=0;2048>b;b++)for(var c=0;22>c;c++)if(ba=T.data[tmp],ba>20&&c>2&&20>c||ba>28&&22>c){ba=ba/55+.2;var d=20*Math.random();T.data[tmp++]=200*ba+d,T.data[tmp++]=200*ba+d,T.data[tmp++]=200*ba+d,tmp++}else tmp+=4;S.putImageData(T,a,0)}function p(a){function b(b){return[h,i,j,1,c,e,(-3+b)*ca,ca-2*a+12,g,h,i,j,1,d,e,(3+b)*ca,ca-2*a+12,g,h,i,j,1,c,f,(-3+b)*ca,2*-a+12,g,h,i,j,1,c,f,(-3+b)*ca,2*-a+12,g,h,i,j,1,d,e,(3+b)*ca,ca-2*a+12,g,h,i,j,1,d,f,(3+b)*ca,2*-a+12,g]}var c=8/2048,d=.5-c,e=1/8*a+c,f=1/8*(a+1)-c,g=3*a-51,h=71/255*1.125*((7-a)/7*.8+.2),i=28/255*1.125*((7-a)/7*.8+.2),j=14/255*1.125*((7-a)/7*.8+.2);return b(-12).concat(b(-6),b(0),b(6),b(12),[h,i,j,1,c,f,-300,2*-a+12,g,h,i,j,1,c,f,300,2*-a+12,g,h,i,j,1,c,f,-300,-120-2*a+12,g,h,i,j,1,c,f,-300,-120-2*a+12,g,h,i,j,1,c,f,300,2*-a+12,g,h,i,j,1,c,f,300,-120-2*a+12,g])}function q(a){function b(a){return[h,i,j,1,c,e,(-2+a)*da,ea,g,h,i,j,1,d,e,(2+a)*da,ea,g,0,0,0,0,c,f,(-2+a)*da,0,g,0,0,0,0,c,f,(-2+a)*da,0,g,h,i,j,1,d,e,(2+a)*da,ea,g,0,0,0,0,d,f,(2+a)*da,0,g]}var c=.50390625,d=1-8/2048,e=a/4+8/2048,f=e+.25,g=8*a-ea,h=[239,102,62,221][a]/255,i=[137,145,22,148][a]/255,j=[44,220,121,92][a]/255;return b(-4).concat(b(0),b(4))}function r(){for(var a=[ja[5],ja[14],ja[23],ja[32],ja[41],ja[50]],b=1;ga>b;b++)for(var c=0;6>c;c++){var d=6*(b-1)*9+9*c+5,e=6*b*9+9*c+5;ja.set(ja.slice(e,e+4),d)}for(var f=ma(),b=0;6>b;b++)ja.set([a[b]].concat(f[b]),1458+9*b+5);H.bufferSubData(34962,13176,ja)}function s(){function a(a){var b=a/ga,c=(a+1)/ga,d=a%4/8,e=d+1/8;return[b,b,b,b,.5,d,0,0,0,b,b,b,b,1,d,0,0,0,c,c,c,c,.5,e,0,0,0,c,c,c,c,.5,e,0,0,0,b,b,b,b,1,d,0,0,0,c,c,c,c,1,e,0,0,0]}for(var b=[],c=0;ga>c;c++){for(var d=a(c),e=ma(),f=0;6>f;f++)d.splice.apply(d,[9*f+6,3].concat(e[f]));b=b.concat(d)}return ja.set(b),b}function t(a){return function(b){var c=b.code||oa[b.which];/ArrowLeft|KeyA/.test(c)&&na.steering<=0&&(na.steering=a?Math.max(na.steering-.2*a,-1):0),/ArrowRight|KeyD/.test(c)&&na.steering>=0&&(na.steering=a?Math.min(na.steering+.2*a,1):0),/ArrowDown|KeyS/.test(c)&&(na.throttle=a)}}function u(a){return function(){na.throttle=a}}function v(){var a;return function(b){var c=b.alpha||0,d=window.orientation||0;"undefined"==typeof a&&(a=c-d||0),na.steering=-Math.sin((a-c-d)*Math.PI/180)}}function w(a,b){b=Math.pow(10,b);var c,d=""+Math.floor(a*b)/b;if(d.indexOf("e")>=0)return d;if((c=d.indexOf("."))<0)return d+".000";for(c=4-(d.length-c);c--;)d+="0";return d}function x(a){var b=va.createBufferSource(),c=document.getElementById("m"),d=document.getElementById("p");b.buffer=a,b.loop=1,b.connect(va.destination),b.start(0),xa.setVolume(0),xa.regenerate(),xa.start(),c.style.opacity=0,d.style.opacity=0,document.body.firstChild.style.opacity=1,A(),setTimeout(function(){ua=0,document.body.removeChild(c),document.body.removeChild(d)},1e3)}function y(){playerControl=1,document.body.removeChild(document.getElementById("l")),qa.set(ha),d(qa,1,0,0)}function z(){if(!playerControl)return void(!ua&&na.throttle&&y());velocity=Math.max(velocity+.001*na.throttle,-.5);var a=velocity-5e-4;velocity=a>0?a:0,heading=na.steering*velocity*.3,xa.setSpeed(2*velocity+.3),xa.setVolume(velocity/2+.1),score+=velocity,ta=Math.max(ta,score),ya.innerHTML="distance: "+w(score,3)+"m<br><span>high: "+w(ta,3)+"m</span>";var b=qa[12],c=qa[14],d=ja[1491]-b,e=ja[1493]-c,f=ja[1509]-b,g=ja[1511]-c,h=d*d+e*e,i=f*f+g*g;if(h>36||i>36){playerControl=anim=velocity=heading=score=0,localStorage.setItem("highScore",ta),xa.setVolume(0),ua=1,setTimeout(function(){ua=0},1e3);var j=document.createElement("div");j.setAttribute("id","l"),j.innerHTML="Lovely&nbsp; &nbsp; <br>&nbsp; &nbsp; Crash!",document.body.appendChild(j)}else Math.sqrt(h)+Math.sqrt(i)<6.1&&r()}function A(){if(pa(),f(),z(),N.set(F),H.uniformMatrix4fv(L,0,N),H.uniform1i(M,0),H.drawArrays(4,0,6),N[12]=Date.now()/-250%320,H.uniformMatrix4fv(L,0,N),H.uniform1i(M,1),H.drawArrays(4,6,72),sa+=playerControl?10*heading:ka,N[12]=sa%120,H.uniformMatrix4fv(L,0,N),H.drawArrays(4,78,288),playerControl)e(qa,heading),d(qa,0,0,velocity),c(ra,qa);else{anim%za||r();var a=anim%za/za;ra.set(F),e(ra,-ka*a),d(ra,-1,0,-a),c(qa,ha),b(ra,qa),anim++}N.set(ra),H.uniformMatrix4fv(L,0,N),H.uniform1i(M,2),H.drawArrays(4,366,168),requestAnimationFrame(A)}var B=function(){var a=0;const b=8;return function(){document.getElementById("p").style.width=++a/b*100+"%"}}(),C;!function(){"use strict";function a(a){return Math.sin(6.283184*a)}function b(b){return a(b)<0?-1:1}function c(a){return a%1-.5}function d(a){var b=a%1*4;return 2>b?b-1:3-b}function e(a){return.00390625*Math.pow(1.059463094,a-128)}function f(a,b){setTimeout(function(){var c=new Uint8Array(a*i*2),d=c.length-2,e=function(){for(var a=new Date,f=0;d>=0;)if(c[d]=0,c[d+1]=128,d-=2,f+=1,f%1e3===0&&new Date-a>j)return void setTimeout(e,0);setTimeout(function(){b(c)},0)};setTimeout(e,0)},0)}function g(a,b,c,d,e){var f=c.fx_delay_time*d>>1,g=c.fx_delay_amt/255,h=0,i=function(){for(var c=new Date,d=0;b-f>h;){var k=4*h,l=4*(h+f),m=a[l]+(a[l+1]<<8)+(a[k+2]+(a[k+3]<<8)-32768)*g;if(a[l]=255&m,a[l+1]=m>>8&255,m=a[l+2]+(a[l+3]<<8)+(a[k]+(a[k+1]<<8)-32768)*g,a[l+2]=255&m,a[l+3]=m>>8&255,++h,d+=1,d%1e3===0&&new Date-c>j)return void setTimeout(i,0)}setTimeout(e,0)};setTimeout(i,0)}C={};var h=44100,i=2,j=33,k=null,l=[a,b,c,d];C.AudioGenerator=function(a){this.mixBuf=a,this.waveSize=a.length/i/2},C.AudioGenerator.prototype.getWave=function(){var a,b,c,d,e,f,g,h=this.mixBuf,j=this.waveSize,k=j*i*2;for(e=k-8,f=e-36,d=String.fromCharCode(82,73,70,70,255&e,e>>8&255,e>>16&255,e>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&f,f>>8&255,f>>16&255,f>>24&255),a=0;k>a;){for(c="",b=0;256>b&&k>a;++b,a+=2)g=4*(h[a]+(h[a+1]<<8)-32768),g=-32768>g?-32768:g>32767?32767:g,c+=String.fromCharCode(255&g,g>>8&255);d+=c}return d},C.AudioGenerator.prototype.getAudio=function(){var a=this.getWave(),b=new Audio("data:audio/wav;base64,"+btoa(a));return b.preload="none",b.load(),b},C.AudioGenerator.prototype.getAudioBuffer=function(a){null===k&&(k=new AudioContext);var b=this.mixBuf,c=this.waveSize,d=k.createBuffer(i,this.waveSize,h),e=d.getChannelData(0),f=d.getChannelData(1),g=0,l=function(){for(var h=new Date,i=0;c>g;){var k=4*(b[4*g]+(b[4*g+1]<<8)-32768);if(k=-32768>k?-32768:k>32767?32767:k,e[g]=k/32768,k=4*(b[4*g+2]+(b[4*g+3]<<8)-32768),k=-32768>k?-32768:k>32767?32767:k,f[g]=k/32768,g+=1,i+=1,i%1e3===0&&new Date-h>j)return void setTimeout(l,0)}setTimeout(function(){a(d)},0)};setTimeout(l,0)},C.SoundGenerator=function(a,b){this.instr=a,this.rowLen=b||5605,this.osc_lfo=l[a.lfo_waveform],this.osc1=l[a.osc1_waveform],this.osc2=l[a.osc2_waveform],this.attack=a.env_attack,this.sustain=a.env_sustain,this.release=a.env_release,this.panFreq=Math.pow(2,a.fx_pan_freq-8)/this.rowLen,this.lfoFreq=Math.pow(2,a.lfo_freq-8)/this.rowLen},C.SoundGenerator.prototype.genSound=function(b,c,d){for(var f=(new Date,0),g=0,i=e(b+12*(this.instr.osc1_oct-8)+this.instr.osc1_det)*(1+8e-4*this.instr.osc1_detune),j=e(b+12*(this.instr.osc2_oct-8)+this.instr.osc2_det)*(1+8e-4*this.instr.osc2_detune),k=this.instr.fx_resonance/255,l=0,m=0,n=this.attack+this.sustain+this.release-1;n>=0;--n){var o=n+d,p=this.osc_lfo(o*this.lfoFreq)*this.instr.lfo_amt/512+.5,q=1;n<this.attack?q=n/this.attack:n>=this.attack+this.sustain&&(q-=(n-this.attack-this.sustain)/this.release);var r=i;this.instr.lfo_osc1_freq&&(r+=p),this.instr.osc1_xenv&&(r*=q*q),f+=r;var s=this.osc1(f)*this.instr.osc1_vol;r=j,this.instr.osc2_xenv&&(r*=q*q),g+=r,s+=this.osc2(g)*this.instr.osc2_vol,this.instr.noise_fader&&(s+=(2*Math.random()-1)*this.instr.noise_fader*q),s*=q/255;var t=this.instr.fx_freq;this.instr.lfo_fx_freq&&(t*=p),t=1.5*Math.sin(3.141592*t/h),l+=t*m;var u=k*(s-m)-l;switch(m+=t*u,this.instr.fx_filter){case 1:s=u;break;case 2:s=l;break;case 3:s=m;break;case 4:s=l+u}if(r=a(o*this.panFreq)*this.instr.fx_pan_amt/512+.5,s*=39*this.instr.env_master,o=4*o,o+3<c.length){var v=c[o]+(c[o+1]<<8)+s*(1-r);c[o]=255&v,c[o+1]=v>>8&255,v=c[o+2]+(c[o+3]<<8)+s*r,c[o+2]=255&v,c[o+3]=v>>8&255}}},C.SoundGenerator.prototype.getAudioGenerator=function(a,b){var c=this.attack+this.sustain+this.release-1+32*this.rowLen,d=this;f(c,function(e){d.genSound(a,e,0),g(e,c,d.instr,d.rowLen,function(){b(new C.AudioGenerator(e))})})},C.SoundGenerator.prototype.createAudio=function(a,b){this.getAudioGenerator(a,function(a){b(a.getAudio())})},C.SoundGenerator.prototype.createAudioBuffer=function(a,b){this.getAudioGenerator(a,function(a){a.getAudioBuffer(b)})},C.MusicGenerator=function(a){this.song=a,this.waveSize=h*a.songLen},C.MusicGenerator.prototype.generateTrack=function(a,b,c){var d=this;f(this.waveSize,function(e){var f=d.waveSize,h=d.waveSize*i*2,k=d.song.rowLen,l=d.song.endPattern,m=new C.SoundGenerator(a,k),n=0,o=0,p=0,q=function(){for(var b=new Date;;)if(32!==p){if(o===l-1)return void setTimeout(r,0);var c=a.p[o];if(c){var d=a.c[c-1].n[p];d&&m.genSound(d,e,n)}if(n+=k,p+=1,new Date-b>j)return void setTimeout(q,0)}else p=0,o+=1},r=function(){g(e,f,a,k,t)},s=0,t=function(){for(var a=new Date,d=0;h>s;){var f=b[s]+(b[s+1]<<8)+e[s]+(e[s+1]<<8)-32768;if(b[s]=255&f,b[s+1]=f>>8&255,s+=2,d+=1,d%1e3===0&&new Date-a>j)return void setTimeout(t,0)}setTimeout(c,0)};setTimeout(q,0)})},C.MusicGenerator.prototype.getAudioGenerator=function(a){var b=this;f(this.waveSize,function(c){var d=0,e=function(){d<b.song.songData.length?(d+=1,b.generateTrack(b.song.songData[d-1],c,e)):a(new C.AudioGenerator(c))};e()})},C.MusicGenerator.prototype.createAudio=function(a){this.getAudioGenerator(function(b){a(b.getAudio())})},C.MusicGenerator.prototype.createAudioBuffer=function(a){this.getAudioGenerator(function(b){b.getAudioBuffer(a)})}}(),function(a){var b=function(a,b){this.currentFrame=0,this.context=a,this.speed=.6,this.isPlaying=!1,this.generator=b,this.scriptNode=a.createScriptProcessor(1024),this.scriptNode.onaudioprocess=this.process.bind(this),this.gainNode=a.createGain(),this.gainNode.gain.value=.5,this.scriptNode.connect(this.gainNode),this.regenerate()};b.prototype.start=function(){this.gainNode.connect(this.context.destination)},b.prototype.stop=function(){this.gainNode.disconnect(this.context.destination)},b.prototype.regenerate=function(){this.data=this.generator.generate()},b.prototype.setVolume=function(a){this.gainNode.gain.value=a},b.prototype.setGenerator=function(a){this.generator=a,this.regenerate()},b.prototype.setSpeed=function(a){this.speed=a},b.prototype.process=function(a){for(var b,c=a.outputBuffer.getChannelData(0),d=a.outputBuffer.getChannelData(1),e=0;e<c.length;++e)this.currentFrame+=this.speed,b=Math.floor(this.currentFrame)%this.data.length,c[e]=d[e]=this.data[b];this.currentFrame%=this.data.length};var c=function(a){for(this.dataLength=1024;a>1;)a/=10;this.seed=a};c.prototype.random=function(){return this.seed+=Math.E,this.seed%1},c.prototype.pushLinear=function(a,b,c){for(var d=a.length-1,e=a.pop(),f=c-d,g=(b-e)/f,h=0;f>h;h++)a.push(e+g*h);return a},c.prototype.generate=function(){var a,b,c=[],d=1;c.push(d);for(var e=.05;1>e;e+=this.random()/8+.01)b=Math.floor(e*this.dataLength),a=2*this.random()-1,this.pushLinear(c,a,b);return this.pushLinear(c,1,this.dataLength),c},a.MotorSound=b,a.MotorSound.DeterministicGenerator=c}(window);var D={rowLen:5513,endPattern:29,songData:[{osc1_oct:8,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:0,osc1_waveform:0,osc2_oct:8,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:0,osc2_waveform:0,noise_fader:255,env_attack:1e5,env_sustain:1e5,env_release:1e5,env_master:92,fx_filter:2,fx_freq:2500,fx_resonance:16,fx_delay_time:2,fx_delay_amt:157,fx_pan_freq:1,fx_pan_amt:88,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:2,lfo_amt:51,lfo_waveform:0,p:[1,1,1,0,0,1,1,0,1,1,0,0,0,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1],c:[{n:[135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:255,osc1_waveform:2,osc2_oct:8,osc2_det:0,osc2_detune:18,osc2_xenv:0,osc2_vol:255,osc2_waveform:2,noise_fader:0,env_attack:1e5,env_sustain:56363,env_release:1e5,env_master:75,fx_filter:2,fx_freq:200,fx_resonance:128,fx_delay_time:8,fx_delay_amt:24,fx_pan_freq:0,fx_pan_amt:0,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:0,lfo_amt:0,lfo_waveform:0,p:[0,1,2,1,2,1,2,0,0,0,1,2,1,1,0,0,0,1,2,0,0,1,2,0,0,1,2],c:[{n:[128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,123,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:192,osc1_waveform:0,osc2_oct:4,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:127,osc2_waveform:3,noise_fader:0,env_attack:100,env_sustain:150,env_release:13636,env_master:97,fx_filter:2,fx_freq:5839,fx_resonance:143,fx_delay_time:6,fx_delay_amt:52,fx_pan_freq:6,fx_pan_amt:147,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:6,lfo_amt:195,lfo_waveform:0,p:[0,0,0,1,2,1,0,0,0,2,1,2,0,0,0,0,2,1,2,1,2,1,2,1,2,1,2],c:[{n:[168,0,0,0,0,0,171,0,0,0,0,0,173,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[168,0,0,0,0,0,171,0,0,0,0,0,168,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},{osc1_oct:8,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:0,osc1_waveform:0,osc2_oct:8,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:0,osc2_waveform:0,noise_fader:60,env_attack:50,env_sustain:419,env_release:4607,env_master:33,fx_filter:1,fx_freq:10332,fx_resonance:120,fx_delay_time:4,fx_delay_amt:16,fx_pan_freq:5,fx_pan_amt:108,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:5,lfo_amt:187,lfo_waveform:0,p:[0,0,1,1,1,2,2,2,1,0,1,2,1,1,2,0,0,0,0,0,0,0,0,1,2,1,1],c:[{n:[171,0,0,0,0,0,0,0,0,0,0,171,0,171,0,0,0,0,0,0,0,0,0,0,171,0,0,0,0,0,171,0]},{n:[171,0,0,0,171,0,0,0,0,0,0,171,0,0,0,0,171,0,0,0,0,0,0,0,171,0,0,0,171,0,0,0]}]},{osc1_oct:6,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:255,osc1_waveform:0,osc2_oct:6,osc2_det:0,osc2_detune:0,osc2_xenv:1,osc2_vol:255,osc2_waveform:0,noise_fader:8,env_attack:50,env_sustain:150,env_release:8181,env_master:97,fx_filter:2,fx_freq:5900,fx_resonance:240,fx_delay_time:6,fx_delay_amt:66,fx_pan_freq:0,fx_pan_amt:0,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:0,lfo_amt:0,lfo_waveform:0,p:[0,0,0,0,1,1,0,0,0,0,2,1,2,2,1,1,1,2,1,0,1,2,1,0,1,2,1],c:[{n:[0,0,0,0,147,0,0,0,0,0,0,147,0,0,150,0,0,0,0,0,135,0,151,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,147,0,0,150,0,0,0,147,0,0,150,0,0,0,0,0,135,0,151,0,0,0,0,0,135,0,151,0]}]},{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:192,osc1_waveform:0,osc2_oct:7,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:201,osc2_waveform:0,noise_fader:0,env_attack:100,env_sustain:150,env_release:13636,env_master:81,fx_filter:2,fx_freq:5839,fx_resonance:147,fx_delay_time:6,fx_delay_amt:108,fx_pan_freq:6,fx_pan_amt:147,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:6,lfo_amt:195,lfo_waveform:0,p:[0,0,0,0,0,0,1,2,1,3,0,0,1,2,1,1,1,2,1,3,1,2,1,1,1,2,1,3],c:[{n:[164,0,0,0,168,0,0,0,166,0,0,0,163,0,0,0,164,0,0,0,168,0,0,0,166,0,0,0,163,0,0,0]},{n:[164,0,0,0,168,0,0,0,166,0,0,0,163,0,0,0,164,0,0,0,171,0,0,0,168,0,0,0,163,0,0,0]},{n:[164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]}],songLen:117};window.AudioContext||(AudioContext=webkitAudioContext),Float32Array.prototype.slice||(Float32Array.prototype.slice=function(a,b){return new Float32Array(Array.prototype.slice.call(this,a,b))});var E=0,F=new Float32Array(16),G=new Float32Array(F);F[0]=F[5]=F[10]=F[15]=1;var H=document.body.firstChild.getContext("webgl",{alpha:0}),I=H.createProgram();tmp=H.createShader(35633),H.shaderSource(tmp,"attribute vec4 c;attribute vec2 u;attribute vec4 v;uniform mat4 p;uniform mat4 m;varying vec4 i;varying vec2 t;void main(void){i=c;t=u;gl_Position=p*m*v;}"),H.compileShader(tmp),H.attachShader(I,tmp),tmp=H.createShader(35632),H.shaderSource(tmp,"precision highp float;uniform sampler2D s;varying vec4 i;varying vec2 t;void main(void){gl_FragColor=texture2D(s,t)*i;}"),H.compileShader(tmp),H.attachShader(I,tmp),H.linkProgram(I),H.useProgram(I),H.enable(3042),H.blendFunc(1,771),H.pixelStorei(37441,1);var J=H.getExtension("EXT_texture_filter_anisotropic")?H.getParameter(34047):0;H.vertexAttribPointer(H.getAttribLocation(I,"v"),3,5126,H.vertexAttribPointer(H.getAttribLocation(I,"u"),2,5126,H.enableVertexAttribArray(H.vertexAttribPointer(H.getAttribLocation(I,"c"),4,5126,H.enableVertexAttribArray(1),36,H.bindBuffer(34962,H.createBuffer()))),36,16),36,24),H.enableVertexAttribArray(2);var K=H.getUniformLocation(I,"p"),L=H.getUniformLocation(I,"m"),M=H.getUniformLocation(I,"s"),N=new Float32Array(F);B();for(var O=128,P=[],Q=0;O>=Q;Q++)P[Q]=[];var R=[],S=document.createElement("canvas").getContext("2d");S.canvas.width=S.canvas.height=2048;var T=S.createImageData(1008,1008);H.texImage2D(3553,H.bindTexture(3553,H.createTexture()),6408,1,1,0,6408,5121,new Uint8Array([255,255,255,255])),H.texParameteri(3553,10241,H.NEAREST),H.texParameteri(3553,10240,H.NEAREST);for(var U=0;2>U;U++){m(.3,2,g,i),tmp=0;for(var Q=0;1008>Q;Q++)for(var V=0;1008>V;V++){var W=V/1008*O,X=Q/1008*O,Y=P[~~X][~~W],Z=P[~~X][~~W+1],$=P[~~X+1][~~W],_=P[~~X+1][~~W+1],aa=((Y+(Z-Y)*(W%1))*(1-X%1)+(Y+($-Y)*(X%1))*(1-W%1)+($+(_-$)*(W%1))*(X%1)+(Z+(_-Z)*(X%1))*(W%1))/2;T.data[tmp++]=T.data[tmp++]=T.data[tmp++]=255,T.data[tmp++]=255*aa}for(var V=4;8>V;V++)S.putImageData(T,1024+V,1024*U+8);for(var V=12;V>=8;V--)S.putImageData(T,1024+V,1024*U+8);B()}m(.5,2,g,i),S.save(),S.translate(8,8);for(var U=0;8>U;U++){for(var Q=0;16>Q;Q++){S.beginPath(),S.fillStyle="rgb("+~~(255*((16-Q)/16*.125+.875))+","+~~(255*((16-Q)/16*.125+.875))+",255)",S.moveTo(-4,244),S.lineTo(-4,240*(1-(P[Q+16*U][0]*((8-U)/16+.5)*.8+.2))+Q/16*.2*240);for(var V=0;O>=V;V++)S.lineTo(V/O*1008,240*(1-(P[Q+16*U][V]*((8-U)/16+.5)*.8+.2))+Q/16*.2*240);S.lineTo(1012,240*(1-(P[Q+16*U][0]*((8-U)/16+.5)*.8+.2))+Q/16*.2*240),S.lineTo(1012,244),S.fill()}S.translate(0,256)}S.restore(),H.activeTexture(33985),H.texImage2D(3553,H.bindTexture(3553,H.createTexture()),6408,6408,5121,S.canvas),H.texParameteri(3553,10241,H.LINEAR),B(),S.canvas.width=S.canvas.height=2048,S.putImageData(T,0,0),S.save(),S.globalCompositeOperation="copy",S.drawImage(S.canvas,0,0,1008,1008,0,0,1024,1024),S.restore(),T=S.getImageData(0,0,1024,1024),tmp=0;for(var Q=0;1024>Q;Q++)for(var V=0;1024>V;V++){var ba=Math.min(Math.max((T.data[tmp+3]/(16/3)+104)*(2*Math.random()-1),0),255);Q&&(ba=(ba+T.data[tmp-4]+T.data[tmp-4096])/3),T.data[tmp++]=T.data[tmp++]=T.data[tmp++]=ba,T.data[tmp++]=255}tmp=0;for(var V=0;1024>V;V++)ba=(T.data[tmp]+T.data[tmp-4&1023]+T.data[tmp-4096&1048575])/3,T.data[tmp++]=T.data[tmp++]=T.data[tmp++]=ba,tmp++;tmp=0;for(var Q=0;1024>Q;Q++)for(var V=0;1024>V;V++)ba=T.data[tmp],(T.data[tmp-4&1023]<64||T.data[tmp-4096&1023]<64)&&(ba+=64),T.data[tmp++]=T.data[tmp++]=T.data[tmp++]=ba/4,tmp++;S.putImageData(T,0,0),S.putImageData(T,1024,0),S.putImageData(T,0,1024),S.putImageData(T,1024,1024),B(),n(0,0),n(0,1024),n(1024,0),n(1024,1024),o(20),o(982),o(1044),o(2006),H.activeTexture(33986),H.texImage2D(3553,H.bindTexture(3553,H.createTexture()),6408,6408,5121,S.canvas),H.generateMipmap(3553),H.texParameteri(3553,10241,9987),J&&H.texParameteri(3553,34046,J),B();const ca=20,da=80,ea=52,fa=navigator.userAgent.indexOf("Firefox/")>0,ga=28;var ha=new Float32Array(F),ia=new Float32Array(F),ja=new Float32Array(1512),ka=0;m(0,.2,h,eval);var la=function(){var a=0;return function(){return ka=P[~~(a/O)%O][a++%O]*Math.PI/8}}(),ma=function(){var a,b,c,f,g=-3,h=3,i=z4=0;return function(){return fa?(a=0+g,b=0+i,c=0+h,f=0+z4):(a=g,b=i,c=h,f=z4),ha.set(ia),e(ia,la()),d(ia,-3,0,1),g=ia[12],i=ia[14],d(ia,6,0,0),h=ia[12],z4=ia[14],d(ia,-3,0,0),[[a,-1,b],[c,-1,f],[g,-1,i],[g,-1,i],[c,-1,f],[h,-1,z4]]}}();H.bufferData(34962,new Float32Array([61/255,92/255,134/255,1,0,0,-265,53,-53,61/255,92/255,134/255,1,0,0,265,53,-53,1,223/255,145/255,1,0,0,-265,10,-53,1,223/255,145/255,1,0,0,-265,10,-53,61/255,92/255,134/255,1,0,0,265,53,-53,1,223/255,145/255,1,0,0,265,10,-53].concat(q(0)).concat(q(1)).concat(q(2)).concat(q(3)).concat(p(0)).concat(p(1)).concat(p(2)).concat(p(3)).concat(p(4)).concat(p(5)).concat(p(6)).concat(p(7)).concat(s())),35048),B();var na={throttle:0,steering:0};const oa={37:"ArrowLeft",39:"ArrowRight",40:"ArrowDown",65:"KeyA",68:"KeyD",83:"KeyS"};window.addEventListener("keydown",t(1)),window.addEventListener("keyup",t(0)),window.addEventListener("touchstart",u(1)),window.addEventListener("touchend",u(0)),window.addEventListener("touchcancel",u(0)),window.addEventListener("pointerdown",u(1)),window.addEventListener("pointerup",u(0)),window.addEventListener("pointercancel",u(0)),window.addEventListener("deviceorientation",v());var pa=navigator.getGamepads?function(){var a=navigator.getGamepads();if(a[0])if(na.throttle=0,"standard"==a[0].mapping){for(var b=0;8>b;b++)a[0].buttons[b].value&&(na.throttle=Math.max(na.throttle,a[0].buttons[b].value));na.steering=-a[0].buttons[14].value||(a[0].axes[0]<-.1?a[0].axes[0]:0)||a[0].buttons[15].value||(a[0].axes[0]>.1?a[0].axes[0]:0)}else{for(var b=0;b<a[0].buttons.length;b++)a[0].buttons[b].value&&(na.throttle=Math.max(na.throttle,a[0].buttons[b].value));na.steering=(a[0].axes[0]<-.1?a[0].axes[0]:0)||(a[0].axes[0]>.1?a[0].axes[0]:0)}}:function(){},qa=new Float32Array(16),ra=new Float32Array(16),sa=velocity=heading=playerControl=anim=score=0,ta=+localStorage.getItem("highScore")||0,ua=1,va=new AudioContext,wa=new C.MusicGenerator(D),xa=new MotorSound(va,new MotorSound.DeterministicGenerator(.1)),ya=document.getElementById("d");const za=10;wa.createAudioBuffer(function(b){B();var c=a(function(){x(b)});c?document.getElementById("m").innerText="Tap to start...":x(b)});</script>