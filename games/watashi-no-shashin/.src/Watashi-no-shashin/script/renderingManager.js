var Rendering=function(){var e,h,r,g={},u=[],n=!1;function o(t,e,n,a,r){var o,i,c,l,f;h.globalAlpha=r,h.fillStyle=e,h.strokeStyle=n,o=t.x,i=t.y,c=t.width,l=t.height,c<2*(f=a)&&(f=c/2),l<2*f&&(f=l/2),h.beginPath(),h.moveTo(o+f,i),h.arcTo(o+c,i,o+c,i+l,f),h.arcTo(o+c,i+l,o,i+l,f),h.arcTo(o,i+l,o,i,f),h.arcTo(o,i,o+c,i,f),h.closePath(),h.fill(),h.stroke()}function c(t,e,n,a,r,o,i){var c=g[n],l=c.src[a],f=c.w,s=c.h;h.setTransform(r,0,0,r,t,e),h.rotate(o),h.globalAlpha=i,h.drawImage(u[c.tag],l.x,l.y,f,s,-f/2,-s/2,f,s)}return{Init:function(t){e=t.spritesheet,h=t.context,g=t.spriteData,r=t.onReady,n=t.centerBased||n;var a=e.length;e.forEach(function(t){if(t.recol)--a;else{var e=new Image;e.src=t.src;var n=t.tag;e.onload=function(){u[n]=e,0==--a&&r&&r()}}}),h.imageSmoothingEnabled=!1},SetContext:function(t,e){h.setTransform(t,0,0,e,0,0)},Clear:function(){h.clearRect(0,0,640,480)},Sprite:function(t,e,n,a,r,o,i){c(t,e,n,a,r,o,i)},Tile:function(t,e,n){var a,r,o,i,c,l;h.setTransform(1,0,0,1,0,0),a=t,r=e,o=0,i=!1,c=g[n],l=c.src[o],i&&(a-=c.w/2,r-=c.h/2),h.drawImage(u[c.tag],l.x,l.y,c.w,c.h,a,r,c.w,c.h)},RawTile:function(t,e,n){c(t,e,n,0,4,0,1)},DrawBox:function(t,e,n,a,r){o(t,e,n,a,r)},DrawText:function(t,e,n,a,r){h.font=a,h.fillStyle=r,h.fillText(t,e,n)}}};