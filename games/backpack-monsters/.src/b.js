!function t(e,n,r){function o(i,c){if(!n[i]){if(!e[i]){var h="function"==typeof require&&require;if(!c&&h)return h(i,!0);if(a)return a(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[i]={exports:{}};e[i][0].call(l.exports,function(t){var n=e[i][1][t];return o(n||t)},l,l.exports,t,e,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){var r,o=new function(){var t,e,n,r,o,a=function(t){return Math.sin(6.283184*t)},i=function(t){return.003959503758*Math.pow(2,(t-128)/12)},c=function(t,e,n){var r,o,a,c,s,l,u,d=h[t.i[0]],f=t.i[1],m=t.i[3],p=h[t.i[4]],y=t.i[5],w=t.i[8],g=t.i[9],v=t.i[10]*t.i[10]*4,M=t.i[11]*t.i[11]*4,b=t.i[12]*t.i[12]*4,x=1/b,E=t.i[13],I=n*Math.pow(2,2-t.i[14]),C=new Int32Array(v+M+b),z=0,B=0;for(r=0,o=0;r<v+M+b;r++,o++)o>=0&&(o-=I,l=i(e+(15&(E=E>>8|(255&E)<<4))+t.i[2]-128),u=i(e+(15&E)+t.i[6]-128)*(1+8e-4*t.i[7])),a=1,r<v?a=r/v:r>=v+M&&(a-=(r-v-M)*x),c=l,m&&(c*=a*a),s=d(z+=c)*f,c=u,w&&(c*=a*a),s+=p(B+=c)*y,g&&(s+=(2*Math.random()-1)*g),C[r]=80*s*a|0;return C},h=[a,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var e=t%1*4;return e<2?e-1:3-e}];this.init=function(a){t=a,e=a.endPattern,n=0,r=a.rowLen*a.patternLen*(e+1)*2,o=new Int32Array(r)},this.generate=function(){var i,s,l,u,d,f,m,p,y,w,g,v,M,b,x=new Int32Array(r),E=t.songData[n],I=t.rowLen,C=t.patternLen,z=0,B=0,k=!1,S=[];for(l=0;l<=e;++l)for(m=E.p[l],u=0;u<C;++u){var L=m?E.c[m-1].f[u]:0;L&&(E.i[L-1]=E.c[m-1].f[u+C]||0,L<16&&(S=[]));var T=h[E.i[15]],A=E.i[16]/512,O=Math.pow(2,E.i[17]-9)/I,H=E.i[18],N=E.i[19],q=43.23529*E.i[20]*3.141592/44100,D=1-E.i[21]/255,P=1e-5*E.i[22],U=E.i[23]/32,Z=E.i[24]/512,R=6.283184*Math.pow(2,E.i[25]-9)/I,W=E.i[26]/255,Y=E.i[27]*I&-2;for(g=(l*C+u)*I,d=0;d<4;++d)if(f=m?E.c[m-1].n[u+d*C]:0){S[f]||(S[f]=c(E,f,I));var j=S[f];for(s=0,i=2*g;s<j.length;s++,i+=2)x[i]+=j[s]}for(s=0;s<I;s++)(w=x[p=2*(g+s)])||k?(v=q,H&&(v*=T(O*p)*A+.5),B+=(v=1.5*Math.sin(v))*(M=D*(w-B)-(z+=v*B)),w=3==N?B:1==N?M:z,P&&(w=(w*=P)<1?w>-1?a(.25*w):-1:1,w/=P),k=(w*=U)*w>1e-5,b=w*(1-(y=Math.sin(R*p)*Z+.5)),w*=y):b=0,p>=Y&&(b+=x[p-Y+1]*W,w+=x[p-Y]*W),x[p]=0|b,x[p+1]=0|w,o[p]+=0|b,o[p+1]+=0|w}return++n/t.numChannels},this.createWave=function(){var t=44+2*r-8,e=t-36,n=new Uint8Array(44+2*r);n.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&e,e>>8&255,e>>16&255,e>>24&255]);for(var a=0,i=44;a<r;++a){var c=o[a];c=c<-32767?-32767:c>32767?32767:c,n[i++]=255&c,n[i++]=c>>8&255}return n},this.getData=function(t,e){for(var n=2*Math.floor(44100*t),r=new Array(e),a=0;a<2*e;a+=1){var i=n+a;r[a]=t>0&&i<o.length?o[i]/32768:0}return r}};o.init({songData:[{i:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[135,,,,,,,,135,,,,,,,,135,,,,,,,,135],f:[]}]},{i:[0,91,128,0,1,11,128,12,0,0,0,0,40,0,0,0,0,0,0,2,255,0,0,32,83,3,75,4],p:[1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2],c:[{n:[111,,,,111,,,,111,,,,111,,,,111,,,,111,,,,111,,,,111],f:[]},{n:[121,,,,121,,,,121,,,,121,,,,121,,,,121,,,,121,,,,121],f:[]}]},{i:[0,53,128,1,0,25,130,0,1,139,0,7,59,0,0,0,60,4,1,2,255,0,0,19,61,5,0,6],p:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,,,,,,,147,,,,,,,,,,,,,,,,147],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,6,58,0,0,0,195,6,1,2,92,35,0,32,147,6,13,4],p:[1,2,3,4,1,2,3,4,1,,,,1,,3,,1,2,3,,,,,,,,,,1,2,3,4],c:[{n:[147,,,,,,,,,,,,154],f:[]},{n:[152,,,,,,,,151,,,,,,,,149,,,,151,,,,147],f:[]},{n:[145,,,,,,,,,,,,152],f:[]},{n:[150,,,,,,,,149,,,,,,,,147,,,,149,,,,145],f:[]}]},{i:[1,65,128,0,2,44,116,9,0,0,0,9,34,0,0,0,69,3,1,1,9,167,0,32,77,6,3,6],p:[1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2],c:[{n:[139,,140,,142,,147,,139,,140,,142,,147,,139,,140,,142,,147,,139,,140,,142,,147],f:[,,,,27,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[145,,144,,145,,142,,145,,144,,145,,142,,145,,144,,145,,142,,145,,144,,145,,142],f:[]}]}],rowLen:2363,patternLen:32,endPattern:31,numChannels:5});var a=!1;setInterval(function(){if(!a&&(a=o.generate()>=1)){var t=o.createWave();(r=document.createElement("audio")).loop=!0,r.src=URL.createObjectURL(new Blob([t],{type:"audio/wav"})),document.getElementById("loading").style.display="none",document.getElementById("intro").style.display="block"}},100);var i,c=(i=13312,function(){return(2147483647&(i=0|Math.imul(16807,i)))/2147483648}),h={int:function(t){return c()*(t||268435455)|0},range:function(t,e){return t===e?t:this.int(e-t)+t},of(t){return t[this.int(t.length)]}},s={int:function(t){return Math.round(Math.random()*t)},of(t){return t[this.int(t.length)]}},l={head:[{h:62,w:74,cx:37,cy:31,rx:35,ry:30,shpath:"M37,51 a 39.81,39.81 0 0 0 34.47,-19.46 c 0,15.84 -15.43,28.69 -34.47,28.69 -19.04,0 -34.48,-12.85 -34.48,-28.69 a 39.74,39.74 0 0 0 34.48,19.46 z",anchors:{ear:[20,-25]}},{h:60,w:58,cx:29,cy:30,rx:28,ry:29,shpath:"m 28.215001,49.78733 c 19.18,0 27.16,-19.82 27.16,-19.82 0,15.66 -12.16,28.35 -27.16,28.35 -15,0 -27.1200004,-12.69 -27.1200004,-28.35 0,0 7.82,19.82 27.1200004,19.82 z",anchors:{ear:[15,-25]}},{h:57,w:83,path:"M81.26,26.49c4.36,13.72,2.56,29.92-39.91,29.92S-1.19,40.62,1.43,26.49C4.37,10.69,26,.5,41.35.5S76.05,10.12,81.26,26.49Z",shpath:"m 80.65,26.5 c 4.51,13.89 2.56,29.38 -39.32,29.38 -41.88,0 -42,-15.11 -39.3,-29.38 0,0 3,20 39.3,20 36.5,0 39.32,-20 39.32,-20 z",anchors:{ear:[25,-25]}},{h:54,w:60,cx:30,cy:27,rx:30,ry:26,shpath:"m 30.4,44.88 a 32.68,32.68 0 0 0 29.38,-17.1 c 0,14 -13.15,25.32 -29.38,25.32 -16.23,0 -29.38,-11.34 -29.38,-25.32 a 32.75,32.75 0 0 0 29.38,17.1 z",anchors:{ear:[21,-21]}}],eye:[{h:22,w:20,path:"M.69.5,18.92,16.07S14.69,24.9,5.79,20.62,1.32,4.11,4,3.3",f:"white",p2:"M8.35,7.54S6,11.43,7.47,13.71s6.26-2.07,6.26-2.07",anchor:[10,10]},{h:20,w:10,cx:5,cy:10,rx:4,ry:9,rotate:-10,c2:{cx:4,cy:5,rx:2,ry:2,f:"white"},shpath:"M 5.5,14.8 C 8.8,14.6 9.2,9.5 9.2,9.5 9.6,14.7 8.3,18.5 5.8,18.6 3.4,18.8 1.6,15.3 1.3,10.2 c 0,0 0.9,5 4.3,4.7 z"},{h:22,w:20,path:"M2.38,18.63c2.82,1.47,7.75.89,9.68-2.87S9.69-.44,4.8.56-.67,17,2.38,18.63Z",c2:{cx:6,cy:5,rx:2,ry:3,f:"white"},shpath:"m 2.6,18.3 c 2.5,1.3 7.3,0.8 9,-2.7 a 8.7,8.7 0 0 0 0.1,-4.9 c 0,0 0.1,4.2 -5.3,5.4 a 4.4,4.4 0 0 1 -5.5,-3.6 c 0,2.8 0.6,5.2 1.6,5.8 z"},{h:12,w:12,cx:6,cy:6,rx:5,ry:5,c2:{cx:6,cy:4,rx:2,ry:2,f:"white"}}],body:[{h:45,w:54,cx:27,cy:23,rx:26,ry:22,anchor:[26,30],shpath:"m 26.9,36 c 20,0 25.9,-13.1 25.9,-13.1 0,11.1 -11.6,21.3 -25.9,21.3 -14.3,0 -25.9,-10.2 -25.9,-21.3 0,0 5.9,13.1 25.9,13.1 z"},{h:47,w:52,path:"M51.06,20.36c0,14.33-11.32,25.94-25.28,25.94S.5,34.69.5,20.36,11.82.5,25.78.5,51.06,6,51.06,20.36Z",anchor:[26,30],shpath:"m 50.54,20.5 c 0,14 -11.06,25.36 -24.76,25.36 -13.7,0 -24.76,-11.36 -24.76,-25.36 0,0 6.83,17.06 24.76,17.06 17.93,0 24.76,-17.06 24.76,-17.06 z"},{h:51,w:47,path:"M46,23.73C48.43,36,47.42,50.47,23.5,50.47S-.45,36.36,1,23.73C2.68,9.61,14.85.5,23.5.5S43,9.1,46,23.73Z",anchor:[24,24],shpath:"m 45.48,23.5 c 2.52,12.26 1.35,26.2 -22,26.2 -23.35,0 -23.47,-13.62 -22,-26.2 0,0 1.25,17 22,17 20.75,0 22,-17 22,-17 z"}],tail:[{none:!0},{none:!0},{h:50,w:38,path:"m 2.4568452,35.251488 5.102677,7.559525 c 0,0 20.9776798,0.94494 26.8363108,-8.126489 5.858629,-9.071429 -0.755954,-34.01785746 -0.755954,-34.01785746 0,0 1.13393,31.75000046 -8.693451,33.26190446 C 15.119046,35.440476 3.0238102,30.715774 3.0238102,30.715774 l -0.755955,5.291666",anchor:[8,40]},{h:80,w:55,path:"m 1.3116855,57.596694 7.7121056,12.50019 c 0,0 27.4208319,4.375065 36.2754749,-10.625161 8.85464,-15.000227 3.141967,-59.06339016 3.141967,-59.06339016 0,0 -15.995482,41.87563216 -30.848431,44.37566816 C 2.7398514,47.284039 2.1685875,50.096582 2.1685875,50.096582 l -1.1425385,8.75013",anchor:[11,70]}],horn:[{none:!0},{none:!0},{h:20,w:14,path:"M 7.3705357,14.462797 2.8348215,3.3124997 11.717262,10.116071 c 0,0 1.889881,4.91369 -4.3467263,4.346726 z",f:"white",anchor:[10,16]},{h:23,w:15,path:"m 10.4,17.5 c 0,0 -11,-8.5 -9.5,-10 C 2.5,5.5 10.8,1 10.8,1 c 0,0 -5.5,4.3 -4,7.5 1.5,3.2 7,5 7,5 0,0 0.7,5 -3.5,3.5 z",f:"white",anchor:[12,20]},{h:26,w:15,path:"m 10,20 c 0,0 -10,-8 -9,-10 1,-1 2,-9 2,-9 0,0 1,7 3,10 1,3 7,5 7,5 0,0 0,5 -3,3 z",f:"white",anchor:[12,22]},{h:26,w:5,path:"m 2,21 c 0,0 -2,-4 -1,-9 C 1,7 3,0 3,0 c 0,0 -2,13 -0,15 1,2 2,3 2,3 0,0 0,2 -2,2 z",f:"white",anchor:[4,24]},{h:24,w:30,path:"m 5,0 c 0,1 -7,9 -3,13 3,4 10,4 10,4 l 13,0 c 0,0 4,-4 0,-4 -6,0 -14,0 -14,0 0,0 -6,0 -7,-3 C 3,7 5,0 5,0 Z",f:"white",anchor:[25,20]},{h:36,w:11,path:"m 6,30 c 0,0 -5,-5 -3,-12 1,-6 5,-16 5,-16 0,0 -3,20 -0,23 2,3 1,3 1,3 0,0 1,3 -3,2 z",f:"white",anchor:[8,32]},{h:12,w:9,path:"m 2,7 c 0,0 -4,-9 1,-6 6,2 4,1 4,1 0,0 0,6 -5,4 z",f:"white",anchor:[5,9]},{h:32,w:18,path:"m 17,16 c 0,0 -4,-23 -13,-13 -7,9 0,9 0,9 0,0 3,0 2,-2 C 5,7 4,9 4,9 c 0,0 3,2 -1,1 -3,0 3,-11 6,-9 1,1 5,9 5,12 0,2 0,3 0,3 1,0 2,0 2,0 z",anchor:[16,20]},{h:16,w:14,path:"M 13,10 C 12,10 12,-4 3,2 -3,7 4,7 3,7 10,2 3,3 3,6 0,6 5,0 8,2 c 1,1 2,2 2,5 0,2 0,3 0,3 1,0 2,0 2,0 z",anchor:[12,14]},{h:12,w:9,path:"m 2,7 c 0,0 -4,-9 1,-6 6,2 4,1 4,1 0,0 0,6 -5,4 z",anchor:[5,9]}],mouth:[{none:!0},{h:8,w:46,path:"M.5.8S3.85,6.11,13.25,4.39c3.62-.67,7.79,3.12,9.93,3.12,3.37,0,6-3.57,10.07-3.28,6.88.49,10.5-.46,12.22-3.73",anchor:[22,4],line:!0},{h:7,w:44,path:"M.5.5S7.61,5.66,21.88,5.66,43.3.52,43.3.52",line:!0},{h:11,w:35,path:"M.5,10.12a57.31,57.31,0,0,1,34,0",line:!0,polys:["2.73 9.5 3.92 0.93 9.13 8.19","25.64 8 29.95 0.5 32.06 9.18"]},{h:5,w:34,path:"M.5.5q8,7.41,16,0c5.47,5,11,4.87,16.63,0",line:!0}],arm:[{none:!0},{h:25,w:28,path:"M22.81.5S-2.46,10.22.79,20.28s23.36-.88,26.42-5.87",anchor:[21,21],shpath:"m 26,10.5 c -11,14.5 -24.5,9.6 -24.5,9.6 3.4,10 23.3,-1.7 25.7,-6.5"},{h:19,w:22,path:"M21.06.5C13,5.3.26,2.66.5,10s20.56,8.35,20.56,8.35",anchor:[20,15],shpath:"m 21,11 v 6.7 c 0,0 -19.8,-1.1 -20,-7.7 0,0 17.7,9.35 20,1 z"},{h:19,w:18,path:"M13.38.5S-2.17,5.62.9,12.79s16.49,4.76,16.49,4.76",anchor:[13,16],shpath:"m 1.3,12.4 c 0,0 10.2,7 14.8,-0.16 l 1.15,4.82 c 0,0 -13.4,2.27 -16,-4.6 z"}],ear:[{none:!0},{h:20,w:25,path:"M3.62,19.15S-4.44,6.63,5.35,1.34c7.32-4,14.52,7.51,19,5.92",anchor:[9,9],shpath:"m 4.1,18.8 19.2,-11 a 8.59,8.59 0 0 1 -4.1,-1.61 l -16.6,9.7 a 20.49,20.49 0 0 0 1.54,2.91 z"},{h:37,w:37,path:"M36.09,29.6C31.23,15.79,10.69-6,2.22,2.36c-8.64,8.55,17.67,32.09,25.26,33.78",anchor:[28,30],shpath:"m 35.70637,29.950083 a 27.34,27.34 0 0 0 -2.19,-5 c -2.1,-3.91 -8.87,-8.66 -13,-5.39 -4.13,3.27 -2.8,10.42 1.42,13.2 4.89,3.22 6.11,3.11 6.11,3.11 z"}],feet:[{none:!0},{h:34,w:34,path:"M8.49,29.84c8.45,4.14,14.86,5,20.51.24s4.51-10,1-20.94C26.91-.35,13.8-2.15,5.62,4.38S-.46,25.45,8.49,29.84Z",anchor:[16,16],shpath:"m 8.589476,29.806167 c 7.73,3.81 14.46,5.29 20.06,0.49 3.75,-3.21 4.39,-6.3 3.42,-11.47 0,0 -0.8,8 -14.55,7.27 -12.74,-0.64 -16,-6.05 -16,-6.05 0.99,4.13 3.11,7.8 7.07,9.76 z"},{h:26,w:22,cx:11,cy:13,rx:9,ry:12,rotate:20,shpath:"m 12,18 c 5.9,-1.3 8.2,-5.2 8.2,-5.2 0.4,3 -3.6,7 -5.7,8.7 -3.6,2.9 -9.4,1 -11.8,-4.7 3,1.6 6,2 9,1 z"}]};const u=[{tail:[0,0],arm:[20,0],body:[0,0],feet:[20,20],ear:[25,-60],head:[0,-40],horn:[15,-55],eye:[15,-40],mouth:[0,-20]},{arm:[20,0],feet:[20,20],ear:[15,-40],head:[0,0],horn:[15,-15],eye:[15,0],mouth:[0,15]}],d=["da575d","007976","000000","222222"];function f(t){return(e=t.toString(16))<10?"0"+e:e;var e}const m="aeiou",p="bcdfgjklmnprstx";function y(){const t=h.range(2,4);let e="";for(let n=0;n<t;n++)e+=h.of(p)+h.of(m)+(h.int(100)>50?h.of(p):"");return e.charAt(0).toUpperCase()+e.substring(1)}let w=0;function g(){return{id:w++,name:y(),type:h.of(u),rarity:w>145?"unique":w>100?"rare":w>40?"common":"vermin",bps:{tail:v(l.tail),arm:v(l.arm),body:v(l.body),feet:v(l.feet),ear:v(l.ear),head:v(l.head),eye:v(l.eye),mouth:v(l.mouth),horn:v(l.horn)},colors:{default:"hsla("+~~h.int(360)+",70%,70%,1)",eye:(t=d,"#"+h.of(t))}};var t}function v(t){return h.int(t.length)}const M=[];for(let t=0;t<151;t++)M.push(g());const b=["Red","Blue","Yellow","Green","Cyan","Magenta","Saffron","Obsidian","Viridian"],x=["Pond","Forest","Lake","Town","Cave","City","Shrine","Temple","Tower","Lagoon","Mountain"];let E=1;function I(){switch(h.int(3)){case 0:return h.of(b)+" "+h.of(x);case 1:return h.of(x)+" of "+y();case 2:return"Road "+E++}return h.of(x)}const C=[];for(let t=0;t<10;t++){C[t]=[];for(let e=0;e<10;e++)C[t][e]={name:I(),m:[]}}function z(t){const e=h.range(0,9),n=h.range(0,9);C[e][n].m.push(t)}function B(t,e){for(let n=0;n<e;n++)M.filter(e=>e.rarity==t).forEach(t=>z(t))}function k(){const t=document.getElementById("buttons");function e(e,n){var r=document.createElement("button");r.innerHTML=e,t.appendChild(r),r.addEventListener("click",n)}e("North",()=>S(0,-1)),e("South",()=>S(0,1)),e("West",()=>S(-1,0)),e("East",()=>S(1,0)),e("Catch",()=>(function(){P&&U();if(!L)return void D("Nothing to catch!");if(R.p<5)return void D("You need 5 AP to attempt capturing the monster. Wait for them to recover!");if(R.m[L.id])return void D("You already have this monster.");if(s.int(100)>function(t){switch(t){case"unique":return 10;case"rare":return 40;case"common":return 65;default:return 85}}(L.rarity))return D("You failed!"),R.p-=5,Y(),void q();document.getElementById("buttons").style.display="none",R.m[L.id]=!0,R.p-=5,D("You catch the "+L.name+"!");const t=L.id;L=!1,Y(),q(),setTimeout(()=>{D(""),U(t),Z(!1)},2e3)})()),e("Toggle Sound",()=>void(W?(r.play(),W=!1):(r.pause(),W=!0)))}function S(t,e){R.p<1?D("Not enough action points"):(P=!1,Z(!0),D("Walking..."),document.getElementById("container").innerHTML="",setTimeout(()=>{R.x+=t+10,R.y+=e+10,R.x=Math.abs(R.x)%10,R.y=Math.abs(R.y)%10,R.p--,Y(),G(),Z(!1)},1e3))}let L;function T(t,e){return'<path fill="'+t+'" stroke="#222222" stroke-width="1" d="'+e+'"/>'}function A(t,e,n){return n?'<ellipse fill="'+t+'" cx="'+e.cx+'" cy="'+e.cy+'" rx="'+e.rx+'" ry="'+e.ry+'"/>':'<ellipse fill="'+t+'" stroke="#222222" stroke-width="1" cx="'+e.cx+'" cy="'+e.cy+'" rx="'+e.rx+'" ry="'+e.ry+'"/>'}function O(t,e,n,r,o,a,i){Array.isArray(e)||(e=[e]);const c=e[0];if(c.none)return;c.transform;const h=!!a&&"scale(-1,1)",s=!!c.rotate&&"rotate("+(a?-c.rotate:c.rotate)+")";let l="";(s||h)&&(l=' transform="'+(s||"")+" "+(h||"")+'" '),c.anchor||(c.anchor=[c.w/2,c.h/2]);const u=a?c.w-c.anchor[0]:c.anchor[0];var d='<svg width = "'+c.w+'" height = "'+c.h+'" style = "position: absolute; left: '+(r-u)+"; top: "+(o-c.anchor[1])+'"'+l+">";const m=n[t]||n.default;var p;e.forEach((t,e)=>{t.path?t.line?d+='<path fill="none" stroke="#222222" stroke-width="1" d="'+t.path+'"/>':d+=T(t.f||m,t.path):d+=A(t.f||m,t),t.shpath&&(d+=function(t,e){return'<path fill="'+t+'" d="'+e+'"/>'}(function(t,e){if(0==t.indexOf("hsla"))return"hsla("+t.substring(t.indexOf("(")+1,t.indexOf(","))+",70%,60%,1)";t=t.substr(1);var n=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16);return n=Math.floor(n-(256-n)*e/100),r=Math.floor(r-(256-r)*e/100),o=Math.floor(o-(256-o)*e/100),n<0&&(n=0),r<0&&(r=0),o<0&&(o=0),"#"+f(n)+f(r)+f(o)}(m,20),t.shpath)),t.p2&&(d+=T(t.f2||m,t.p2)),t.c2&&(d+=A(t.c2.f||m,t.c2,!0)),t.polys&&t.polys.forEach(t=>d+=(p=t,'<polyline points="'+p+'" fill="white" stroke="#222222" stroke-width="1"/>'))}),d+="</svg>",i.innerHTML+=d}M.forEach(t=>z(t)),B("rare",2),B("common",4),B("vermin",10);const H={ear:"head"};function N(t,e,n,r,o){Object.keys(t.type).forEach(o=>{let a=t.type[o][0],i=t.type[o][1];if(H[o]){const e=l[H[o]][t.bps[H[o]]];a=t.type[H[o]][0]+e.anchors[o][0],i=t.type[H[o]][1]+e.anchors[o][1]}O(o,l[o][t.bps[o]],t.colors,e-a,n+i,!1,r),a&&O(o,l[o][t.bps[o]],t.colors,e+a,n+i,!0,r)})}function q(){document.getElementById("energyL").innerHTML="AP "+R.p,document.getElementById("location").innerHTML=C[R.x][R.y].name,P||(document.getElementById("container").innerHTML="",L&&N(L,0,100,document.getElementById("container")))}function D(t){document.getElementById("message").innerHTML=t}let P=!1;function U(t){if(P=!P){document.getElementById("backo").style.display="block",document.getElementById("bpo").style.display="none",document.getElementById("buttons").style.display="none",document.getElementById("message").style.display="none",document.getElementById("container").innerHTML="",count=0;var e=document.createElement("p");document.getElementById("container").appendChild(e),Object.keys(R.m).forEach(t=>{if(M[t]){var e=document.createElement("div");e.id="mi"+M[t].id,e.style.position="relative",e.style.display="inline-block",e.style.width="120px",e.style.height="180px",e.style.border="1px solid #333",e.style.borderRadius="10px",e.style.margin="5px",e.style.verticalAlign="top",N(M[t],60,140,e);var n=document.createElement("a");n.name="m"+M[t].id,e.appendChild(n);var r=document.createElement("p");r.style.textAlign="center",r.innerHTML="#"+M[t].id+" - "+M[t].name,e.appendChild(r),document.getElementById("container").appendChild(e),count++}}),e.innerHTML=Math.round(count/151*100)+"% of monsters captured.",t&&(document.getElementById("mi"+t).style.backgroundColor="#ccc",location.hash="#m"+t)}else document.getElementById("backo").style.display="none",document.getElementById("bpo").style.display="block",document.getElementById("message").style.display="block",document.getElementById("buttons").style.display="block",q()}function Z(t){for(var e=document.getElementsByTagName("button"),n=0;n<e.length;n++)e[n].disabled=t?"disabled":""}let R,W=!1;function Y(){localStorage.setItem("bpmSave",JSON.stringify(R))}let j=2e4;function G(){D((L=s.of(C[R.x][R.y].m))?"There's a "+L.name+" here!":"Nothing here."),q()}window.init=function(){!function(){if(R=localStorage.getItem("bpmSave"))try{R=JSON.parse(R)}catch(t){}R||(R={x:5,y:5,p:40,m:{},lastGrant:+new Date})}(),k()},window.start=function(){if(setInterval(()=>(function(){if(R.p>=40)return;const t=+new Date,e=t-R.lastGrant;let n=j-e;n<0&&(n=0),document.getElementById("am").style.width=Math.round(100*(1-n/j))+"%";const r=Math.floor(e/j);r>0&&(R.p+=r,R.p>40&&(R.p=40),R.lastGrant=t,Y(),q())})(),1e3),document.getElementById("intro").style.display="none",document.getElementById("game").style.display="block",r.play(),G(),document.monetization){function t(){return"started"===document.monetization.state&&(alert("As a Coil Subscriber, your Action Points will recover much quicker!"),j=15e3,!0)}t()||document.monetization.addEventListener("monetizationstart",t)}},window.bpm={backpack:U}},{}]},{},[1]);