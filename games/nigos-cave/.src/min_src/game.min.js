
document.getElementById("gc").getContext("2d").imageSmoothingEnabled = false;	
document.getElementById("gc").getContext("2d").mozImageSmoothingEnabled = false;
document.getElementById("gc").getContext("2d").oImageSmoothingEnabled = false;
document.getElementById("gc").getContext("2d").webkitImageSmoothingEnabled = false;
levels={a:[[1,1,1,1,0,0,1],[1,0,0,0,0,0,1],[1,1,1,0,0,0,1],[1,0,0,0,1,1,1],[0,0,0,0,0,0,1],[1,1,0,0,0,0,1],[1,1,1,0,0,0,0]],b:[[1,1,1,1,0,0,0],[1,0,0,0,0,0,0],[1,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,1,1,1,1,1],[0,0,0,0,0,1,1],[1,1,1,0,0,1,0]],c:[[1,1,1,1,1,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,0],[0,0,1,0,0,0,0],[0,0,1,0,0,0,1],[0,0,0,0,0,1,0]],d:[[1,1,1,1,0,1,1],[1,1,0,0,0,0,1],[1,0,0,0,0,0,1],[0,0,0,0,1,1,1],[0,0,0,1,1,1,0],[0,0,0,0,0,0,0],[0,1,1,1,1,0,0]],e:[[0,0,0,0,1,1,1],[0,0,0,0,0,
0,1],[0,1,0,0,0,0,1],[1,1,1,1,1,1,1],[0,0,0,0,0,1,0],[0,0,0,1,1,1,0],[0,0,1,0,0,0,0]],f:[[1,1,1,1,0,0,0],[0,0,0,1,0,0,1],[1,1,0,0,0,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,0],[1,0,0,0,0,0,1],[1,1,1,0,0,1,0]],g:[[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[1,1,0,1,1,1,1],[0,1,0,0,1,0,0],[0,1,0,1,1,0,0],[0,1,0,0,0,0,0]],h:[[1,1,1,1,1,0,0],[0,0,1,0,0,0,1],[0,0,0,0,0,0,1],[0,0,0,0,1,1,1],[1,1,1,0,0,0,1],[1,0,0,0,0,0,0],[1,1,1,0,1,1,1]]};

var a=document.getElementById("gc").getContext("2d"),f=800,h=480,m=document,aa=window,t=new Audio,ba=new Audio,ca=new Audio,da=new Audio;ba.src="data:audio/wav;base64,UklGRuQAAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0YcAAAACkpI9cXFxcXV1dXV1ehKGhal5fX19fYGBgYGifn4ZhYWFiYmJiY2NjjJ2cZGRkZGRlZWVlZXeamnpmZ2dnZ2doaGholpiLaWlpampqampra4aVlW5sbGxsbG1tbW16k5N8bm5ub29vb29wcZCQhXFxcXFxcXJycnKIjotzc3N0dHR0dHR1gYuLeHZ2dnZ2dnd3d32JiH14eHh4eXl5eXl7hoaAenp7e3t7e3x8fIODgX19fX19fX5+fn6AgYB/f38=";da.src="data:audio/wav;base64,UklGRoYBAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0YWIBAACUlJSUlHFra2tra3CUlJSUkWtra2tra4CUlJSUfWtra2trcJSUlJSIa2tra2trk5SUlIpra2tra26UlJSUgmtra2tre5SUlJRya2tra2uQlJSUgWtra2trhZSUlIpra2tra4KUlJSJa2tra2uFlJSUgmtra2trkZSUlHRra2tre5SUlIdra2tra5SUlJNra2tra4uUlJRxa2trbImUlJNxbGxsbYyTk5FtbW1tcJKSkoVubm5uf5GRkXZvb29vkJCQhHBwcHCEj4+McHFxcX2Pjo5zcXFye46OjnVycnJ8jY2NdHNzc4CMjIh0dHR0houLgHR1dXiLiop3dXV1g4qKgXZ2dnuJiYh3d3d3h4iIe3d4eIOIh354eHiBh4d/eXl5gYaGf3l6eoGFhX16enqDhYV8e3t8hISCe3x8f4ODf3x8fIKDg319fX+Cgn99fn6BgYF+fn6AgYF/f39/gIB/f38=";
t.src="data:audio/wav;base64,UklGRpEBAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0YW0BAAAAAnxUhnfbbK9pdrJh///JIh8vjU9Ce76XsYQAXZRY2Q/QN2BctkN+rbVlkLfoLcNvlcrdwGyngEuAy8PAZmvigtb4tGGQaHhPUnGINo9aZXiWsmnMO1xhuS8rwrmZQj1IhV9QRVJ8uX+FodOWpViKqLy9d68ngNh6ld8cf9J4N7txdzNxZpOgRS6js4yVUGKK1z6ZtJ89osJyulg0UbupoXhuwKJ5pYpOeSmxUKJyLyZ0nlohOFxza3lTtm59V7Kib2y9eYeH04VVZJ9Id2idap99n1VIxnhQQ6DFe6+GSmxspc+nX8GjlIJIkY16u612RIl3e1d+srKTi4eCroxci3F6tIWlanqUsp16mIyQnZ5nWaVzlUpNl6+IkVtrp5tvgJJWY4p8a4uHeoKcoX5yd2t8kZGacmeEm351hHdqfpGUm5iNe3uEdouIc3FrbYR1jop8fYiDhoV7dn2Hg3t8goOFfn+DgoKCgoGAfw==";
ca.src="data:audio/wav;base64,UklGRtIBAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0Ya4BAACkpKSkpIhbW1tbW4mkpKSkiltbW1tboqSkpKFbW1tbW6CkpKSNW1tbW4GkpKSaW1tbW4akpKSEW1tbZKSkpJZbW1thpKSkjFtbW3mkpKRoW1thpKSkdFtbYKOjo2tcXHSjo5RdXV2boqJmXV2LoaFuXl6MoaFnX3dnX19fX1+boJ+fn4BgYGBhYZyenp6eaWFhYmKJnZ2dnWliYmNjm5ycnIFjY2Rkkpubm3tkZGVtm5qalGVlZWWWmpmVZmZma5mZmYNnZ2eGmJiRaGhof5eXkGhoaYaXloJpaWyWlpZqamqKlZV0amuHlJRya2uMlJSUlI9sbGxsbHeTk5KSkm9tbW1tf5KRkZGAbm5ubnuQkJCQem9vb3CKj4+Pg3BwcHCIjo6OfHFxcXiOjo2GcnJydo2NjYRzc3N9jIyMeXR0dIuLi390dHWJiop9dXV5ioqJdnZ2g4mJfnZ3foiIgHd3fYiIf3h4gYeHh4eHenl5eXl7hoaGhoV7enp6en+FhYWEgHt7e3t/hISDg358fHx8goOCgn99fX19goKCgX5+fn5/gYGBf39/f3+AgIB/";
function u(){return(new Date).getTime()}function v(b){a.fillStyle=b||"#fff"}function ea(b,c,d,e,g,k,l,p,r,n,s){var q;e=e||0;g=g||1;k=k||1;l=l||0;p=p||0;r=r||0;q=0;n=n||8;s=s||8;a.save();a.translate(c,d);a.rotate(e);a.scale(g,k);a.translate(-c-l,-d-p);a.drawImage(b,r,q,n,s,c,d,n,s);a.restore()}
function fa(b,c){var d=[];d[d.length]=[];for(var e=0;e<b.group[b.s.charAt(0)][0].length*c+2;e++)d[0][d[0].length]=1;for(e=0;e<b.group[b.s.charAt(0)].length*b.s.length/c;e++){for(var g=[],k=0;k<d[0].length;k++)g[g.length]=0==k||k==d[0].length-1?1:0;d[d.length]=g}d[d.length]=[];for(e=0;e<b.group[b.s.charAt(0)][0].length*c+2;e++)d[d.length-1][d[d.length-1].length]=1;return d}
function ga(){var b=ha,c=w,d,e,g,k=[ia,ja],l=x,p=y,r=ka,n=0,s=0;g=e=d=0;for(var q=fa(b,c),R=0;R<b.s.length;R++){for(var $=b.group[b.s.charAt(R)],I=0;I<$.length;I++)for(var P=0;P<$[I].length;P++)switch($[I][P]){case 1:var U=new la(d+n+P*(16+g),e+s+I*(16+g),k[0],1,16,16);U.alpha=1;l.push(U)}n+=$[0].length*(16+g);n>=c*$[0].length*(16+g)&&(n=0,s+=$.length*(16+g))}if(q)for(I=0;I<q.length;I++)for(P=0;P<q[I].length;P++)1==q[I][P]?(U=new la(d-(16+g)+P*(16+g),e-(16+g)+I*(16+g),k[0],1,16,16),U.alpha=1,p.push(U)):
(U=new la(d-(16+g)+P*(16+g),e-(16+g)+I*(16+g),k[1],2,16,16),U.alpha=1,r.push(U))}function ma(b,c,d){a.beginPath();a.arc(b,c,d,0,2*Math.PI);a.fill();a.closePath()}function z(b,c,d,e,g,k){d=d||0;e=e||0;return b.a.x+b.width-d>c.a.x&&b.a.x-d<c.a.x+c.width-(g||0)&&b.a.y+b.height-e>c.a.y&&b.a.y-e<c.a.y+c.height-(k||0)}
function na(b,c,d,e){d=d||0;e=e||0;var g=Math.max(b.a.x-d,c.a.x),k=Math.max(b.a.y-e,c.a.y);d=Math.min(b.a.x+b.width-d,c.a.x+c.width)-g;b=Math.min(b.a.y+b.height-e,c.a.y+c.height)-k;return{x:g,y:k,width:d,height:b}}function oa(b,c){var d=A.x,e=A.y,g,k,l,p,r,n,s,q,R;g=Math.abs(b-d);k=Math.abs(c-e);l=d;p=e;r=b>=d?d=1:d=-1;n=c>=e?e=1:e=-1;g>=k?(n=d=0,s=g,q=g/2,R=k):(e=r=0,s=k,q=k/2,R=g,g=k);for(k=0;k<=g;k++)a.fillRect(l,p,1,1),q+=R,q>=s&&(q-=s,l+=d,p+=e),l+=r,p+=n}
function B(b,c){return Math.floor(Math.random()*(c-b+1)+b)}function pa(){for(var b=levels,c=qa.split(""),d="";c.length;)d+=c.splice(B(0,c.length),1);for(var c={s:d,group:{}},e=0;e<d.length;e++)c.group[d.charAt(e)]=b[d.charAt(e)];return c}
var A={b:{x:0,y:0},m:{x:0,y:0},x:0,y:0,k:0,scale:{x:1,y:1},width:0,height:0,c:null,L:!1,alpha:1,a:{x:0,y:0},frame:0,W:[0,1],aa:[1],Z:[0],ca:!1,S:0,Y:100,p:[0],A:1,T:0,V:0,M:-1,w:1,d:10,B:10,g:{left:!1,right:!1,top:!1,bottom:!1},o:0,$:function(b,c){A.c=new Image;A.c.src="player.png";this.c.onload=function(){A.L=!0;A.width=6;A.height=8};A.x=b||0;A.y=c||0;A.a.x=A.x;A.a.y=A.y},h:function(){A.L&&(a.globalAlpha=A.alpha,ea(A.c,A.x,A.y,0,A.A,1,3,4,6*A.p[A.frame],6,8),a.globalAlpha=1,0<A.M&&(a.globalAlpha=
A.w,ma(A.x,A.y,12),A.w-=0.05,0>A.w&&(A.w=0),500<u()-A.M&&(A.M=-1)))},v:function(b,c){return Math.sqrt((b-A.x)*(b-A.x)+(c-A.y)*(c-A.y))},C:function(b,c){return Math.atan2(b-A.x,c-A.y)+90*Math.PI/180},P:function(b,c){if(A.L&&(A.b.x+=A.m.x,A.a.x+=A.b.x,ra||(A.b.y+=A.m.y),A.b.y>A.height/2&&(A.b.y=A.height/2),A.a.y+=A.b.y,A.g.left=A.g.right=A.g.top=A.g.bottom=!1,!ra)){for(var d=0;d<c.length;d++)if(1==c[d].id&&z(A,c[d],3,4)){var e=na(A,c[d],3,4);if(e.width>e.height)if(A.a.y<c[d].y)A.a.y-=e.height,!C&&(1<
e.width||2!=A.o)&&(A.b.y=0),C=!1,A.g.bottom=!0;else{A.a.y+=e.height;if(1<e.width||2!=A.o)A.b.y=0;A.g.top=!0}else A.a.x<c[d].x?(A.a.x-=e.width,A.b.x=0,A.g.right=!0):(A.a.x+=e.width,A.b.x=0,A.g.left=!0)}for(d=0;d<b.length;d++)if(1==b[d].id&&z(A,b[d],3,4))if(e=na(A,b[d],3,4),e.width>e.height)if(A.a.y<b[d].y)A.a.y-=e.height,!C&&(1<e.width||2!=A.o)&&(A.b.y=0),A.g.bottom=!0;else{A.a.y+=e.height;if(1<e.width||2!=A.o)A.b.y=0;A.g.top=!0}else A.a.x<b[d].x?(A.a.x-=e.width,A.b.x=0,A.g.right=!0):(A.a.x+=e.width,
A.b.x=0,A.g.left=!0)}},j:function(){C&&(100<u()-A.T&&!sa)&&(C=!1);0!=A.b.y||C||A.g.top?(A.p=A.aa,A.o=2):0!=A.b.x||C?0==A.b.x||C||(A.p=A.W,A.o=1):(A.p=A.Z,A.o=0);A.frame<A.p.length&&u()-A.S>A.Y&&(A.frame++,A.S=u());A.frame>A.p.length-1&&(A.frame=0);A.x=A.a.x;A.y=A.a.y;A.g.bottom&&(C=!1)}};function ta(b,c,d){for(var e=0;e<d.length;e++){var g=d[e],k=b,l=c,p=g.x,r=g.y;if(k>p&&k<p+g.width&&l>r&&l<r+g.height&&0<g.id)return g}return null}
function ua(b,c,d){return(b-d.x)*(b-d.x)+(c-d.y)*(c-d.y)<=d.n*d.n&&d.visible?(d.G(),!0):!1}var C=!1,sa=!1,D={},ra=!1;m.onkeydown=function(b){D[b.keyCode||b.which]=!0};m.onkeyup=function(b){var c=b.keyCode||b.which;delete D[c];if(ra){if(87==c||83==c||38==c||40==c||90==c)A.b.y=0;if(65==c||63==c||37==c||39==c||81==c)A.b.x=0}else{if(87==b.keyCode||38==c||90==c)sa=C=!1;if(65==b.keyCode||68==b.keyCode||37==c||39==c||81==c)A.b.x=0}};
function va(b,c,d,e){this.c=b;this.k=c;this.alpha=1;this.x=d;this.y=e;this.Q=0.1}va.prototype.h=function(){if(this.alpha>this.Q){a.globalAlpha=this.alpha;var b=this.x*E,c=this.y*E,d=16*E;b>F-16*E&&(c>G-d&&b<F+f&&c<G+h)&&ea(this.c,this.x,this.y,this.k,1,1,1,1,0,2,2);a.globalAlpha=1}};va.prototype.j=function(){this.alpha-=this.Q;this.alpha<this.Q&&(this.alpha=0)};
function wa(b){this.k=0;this.c=m.createElement("canvas");this.f=this.c.getContext("2d");this.c.width=this.c.height=2;this.f.fillStyle=b||"#9c775a";this.f.fillRect(0,0,2,2);this.b={x:0,y:0};this.i=!1;this.m={x:0,y:0.1};this.y=this.x=0;this.alpha=1;this.X=B(1,4);this.R=0.01;this.a={x:0,y:0};this.l=[];this.width=this.height=2}wa.prototype.h=function(){this.i&&(this.x=this.a.x,this.y=this.a.y,a.globalAlpha=this.alpha,ea(this.c,this.x,this.y,this.k,1,1,1,1,0,2,2),a.globalAlpha=1)};
function xa(b){for(var c=0;c<b.l.length;c++)b.l[c].j(),b.l[c].h()}wa.prototype.j=function(){if(this.i){this.l[this.l.length]=new va(this.c,this.k,this.a.x,this.a.y);for(var b=0;b<this.l.length;b++)0>this.l[b].alpha&&this.l.splice(b,1);this.alpha-=this.R;this.k+=this.X;this.b.x+=this.m.x;this.b.y+=this.m.y;this.a.x+=this.b.x;this.a.y+=this.b.y;this.alpha<this.R&&(this.l.splice(0,this.l.length),this.i=!1)}};
wa.prototype.start=function(b,c){this.i||(this.b.x=5*Math.random()+-2,this.b.y=2.9*Math.random()+-2,this.a.x=b,this.a.y=c,this.x=b,this.y=c,this.alpha=1,this.k=0,this.i=!0)};
function ya(){this.c=m.createElement("canvas");this.c.width=this.c.height=3;this.f=this.c.getContext("2d");this.f.fillStyle="#000";this.f.fillRect(0,0,3,3);this.r={x:0.4,y:0.4};this.m={x:0,y:0.2};this.b={x:0,y:0};this.a={x:0,y:0};this.y=this.x=0;this.n=12;this.i=!1;this.alpha=this.U=0;this.width=this.height=3;this.K=this.D=0}
ya.prototype.P=function(b,c,d){var e,g;if(this.i){if(600<u()-this.U){var k=50*(A.v(this.x,this.y)/100);100<k&&(k=100);t.volume=1;t.play();for(var l=0;8>l;l++){e=0.785*l;g=this.n;for(var p=b,r=[],n=H=J=0;n<=g;){H=this.x+Math.cos(e)*n;J=this.y+Math.sin(e)*n;if(ta(H,J,p)||ta(H,J,r))break;n++}e=H;g=J;p=0.785*l;r=this.n;for(n=H=J=0;n<=r;){H=this.x+Math.cos(p)*n;J=this.y+Math.sin(p)*n;var s;s=H;var q=J,R=A.d-1;s<A.x+A.width/2&&s>A.x-A.width/2&&q<A.y+A.height/2&&q>A.y-A.height/2?(A.d=R,s=!0):s=!1;if(s)break;
n++}if(d)for(p=0;p<d.length;p++)for(r=0.785*l,n=this.n,s=d[p],q=H=J=0;q<=n;){H=this.x+Math.cos(r)*q;J=this.y+Math.sin(r)*q;if(ua(H,J,s))break;q++}if(e=ta(e,g,b))e.G(),e.id=0}za=!0;Aa=u();this.i=!1;Ba=Ca=4*((100-k)/100)}this.b.x+=this.m.x;this.b.y+=this.m.y;this.a.x+=this.b.x;this.a.y+=this.b.y;for(d=0;d<c.length;d++)k=c[d],1==k.id&&z(this,k,0,0)&&(1<Math.abs(this.b.x+this.b.y)&&ba.play(),l=na(this,k,0,0),l.width>l.height?this.a.y>k.y?(this.a.y+=l.height,this.b.y=0):(this.a.y-=l.height,this.b.y*=-this.r.y,
this.b.x*=this.r.x):(this.a.x=this.a.x>k.x?this.a.x+l.width:this.a.x-l.width,this.b.x*=-this.r.y));for(d=0;d<b.length;d++)k=b[d],1==k.id&&z(this,k,0,0)&&(1<Math.abs(this.b.x+this.b.y)&&ba.play(),l=na(this,k,0,0),l.width>l.height?this.a.y>k.y?(this.a.y+=l.height,this.b.y=0):(this.a.y-=l.height,this.b.y*=-this.r.y,this.b.x*=this.r.x):(this.a.x=this.a.x>k.x?this.a.x+l.width:this.a.x-l.width,this.b.x*=-this.r.y))}};ya.prototype.j=function(){this.i&&(this.x=this.a.x,this.y=this.a.y)};
ya.prototype.h=function(){this.i?(a.drawImage(this.c,this.x,this.y),0==this.D&&(a.fillStyle="#ffff00",a.fillRect(this.x,this.y,3,3),a.fillStyle="#fff",1==this.D),50<u()-this.K&&(this.D=0==this.D?1:0,this.K=u())):!this.i&&0<this.alpha&&(a.globalAlpha=this.alpha,ma(this.x,this.y,this.n),a.globalAlpha=1,this.alpha-=0.02)};ya.prototype.start=function(b,c,d,e){this.i||(this.i=!0,this.alpha=1,this.b.x=b,this.b.y=c,this.a.x=d,this.a.y=e,this.U=u(),this.K=u())};
function Da(b,c){this.c=m.createElement("canvas");this.f=this.c.getContext("2d");this.c.width=this.c.height=5;this.e=[];this.f.fillStyle="#e04d4d";this.f.fillRect(0,0,5,5);this.k=0;this.q={x:1,y:1};this.H=2.5;this.a={x:b,y:c};this.x=b;this.y=c;this.visible=!0;this.d=5;this.n=2.5;for(var d=0;10>d;d++)this.e[this.e.length]=new wa("#e04d4d");this.speed=0.7;this.F=0;this.u=!1}Da.prototype.G=function(){this.u||(this.visible=!1,this.u=!0,t.volume=1,t.play())};
Da.prototype.update=function(){this.u||(this.x=this.a.x,this.y=this.a.y)};function Ea(b,c){this.c=m.createElement("canvas");this.f=this.c.getContext("2d");this.width=this.c.width=6;this.height=this.c.height=8;this.f.fillStyle="#84cce1";this.a={x:b,y:c};this.f.fillRect(0,0,this.width,this.height);this.f.fillStyle="#1a1a1a";this.f.fillRect(this.width-2,this.height/2,1,1)}Ea.prototype.h=function(){a.drawImage(this.c,this.a.x,this.a.y);z(A,this,A.width/2,A.height/2)&&!K&&(K=!0,ca.play())};
function la(b,c,d,e,g,k){this.x=b;this.y=c;this.c=d;this.I=m.createElement("canvas");this.I.width=this.I.height=g;this.f=this.I.getContext("2d");this.width=g;this.height=k;this.scale={x:1,y:1};this.alpha=1;this.id=e;this.a={x:b,y:c};this.visible=!0;this.e=[];for(d=0;5>d;d++)this.e[this.e.length]=new wa;this.O=0;1==this.id&&(this.t=new Fa(b+g/2-1,c+k/2-1));this.J=!1;this.d=100;this.N=!1}
la.prototype.h=function(){a.globalAlpha=this.alpha;a.drawImage(this.c,this.x,this.y);a.drawImage(this.I,this.x,this.y);a.globalAlpha=1};la.prototype.G=function(){if(this.visible){this.visible=!1;for(var b=0;b<this.e.length;b++)this.e[b].start(this.x+this.width/2,this.y+this.height/2);this.visible=!1;this.id=0;this.O=u();var b=950,c=B(0,1E3);2>=L&&(b=700);L==M.length-1&&(b=1E3);this.t&&c>b&&(this.J=!0)}};
la.prototype.j=function(){if(!this.visible&&2E3>u()-this.O)for(var b=0;b<this.e.length;b++)this.e[b].j();this.J&&this.t&&this.t.j()};function Fa(b,c){this.c=m.createElement("canvas");this.c.width=this.c.height=2;this.f=this.c.getContext("2d");this.width=this.height=2;this.f.fillStyle="#ffff00";this.f.fillRect(0,0,2,2);this.x=b;this.y=c;this.a={x:b,y:c};this.visible=!0}
Fa.prototype.j=function(){this.visible&&(z(A,this,A.width/2,A.height/2)&&L<M.length-1&&this.visible)&&(ba.play(),L++,this.visible=!1,parent.J=!1)};Fa.prototype.h=function(){this.visible&&a.drawImage(this.c,this.x,this.y)};
function Ga(b){for(var c=0;c<b.length;c++){var d=b[c],e=d.x*E,g=d.y*E,k=d.width*E,l=d.height*E;d.j();e>F-l&&g>G-k&&e<F+f&&g<G+h&&d.visible&&d.h();if(!d.visible&&(e=d,!e.visible&&2E3>u()-e.O))for(g=0;g<e.e.length;g++){var k=e.e[g].x*E,l=e.e[g].y*E,p=16*E,r=16*E;xa(e.e[g]);k>F-r&&(l>G-p&&k<F+f&&l<G+h)&&e.e[g].h()}d.J&&d.t&&d.t.h()}}for(var M=[],N=0;5>N;N++)M[M.length]=new ya;
var L=M.length-1,Ha=0,Ia=1E3/60,qa="aecefgeaahdhbbdhcgbgcdhcecfgbdafhfghfggbgcdhcgbgcdhcecfgbdafhfghfggbgcbgfeaebdgaedbbcchgdhcecfgbdafhccfghfggbgcbgfeaebdg",w=5,ha=pa();fa(ha,w);var ia=m.createElement("canvas");ia.width=ia.height=16;var Ja=ia.getContext("2d");Ja.fillStyle="#5a4738";Ja.fillRect(0,0,16,16);Ja.fillStyle="#9c775a";var Ka=B(2,4);Ja.fillRect(0,0,16,Ka);for(N=0;20>N;N++){var H=B(0,16),J=B(Ka,6);Ja.fillRect(H,J,2,2)}
for(N=0;10>N;N++){var H=B(0,16),J=B(8,14),La=B(1,2);Ja.fillRect(H,J,La,La)}var ja=m.createElement("canvas");ja.width=ja.height=16;var Ma=ja.getContext("2d");Ma.fillStyle="#2f251d";Ma.fillRect(0,0,16,16);Ma.fillStyle="#523e2f";for(N=0;10>N;N++)H=B(1,15),J=B(1,15),La=B(1,2),Ma.fillRect(H,J,La,La);var Na=m.createElement("canvas"),O=null,Oa=0,Pa={x:0,y:0},Qa=0,Ra=0,x=[],y=[],ka=[];ga();A.$(17,17);A.m.y=0.05;var E=10;a.ba=!1;a.da=!1;a.ea=!1;a.fa=!1;
var F=0,G=0,Aa=0,Ba=4,Ca=4,za=!1,Sa=0,Ta=0,Ua=!1,Va=10,Wa=10,Xa=0,Ya=0,Za=0,Q=!1,$a=!1,S=100;a.canvas.onmousedown=function(b){0==b.button?(Q=Ua=!0,$a=!1):2==b.button&&(Ua=!1,$a=Q=!0)};a.canvas.onmousemove=function(b){Ya=b.clientX-a.canvas.offsetLeft;Za=b.clientY-a.canvas.offsetTop};a.canvas.onmouseup=function(){$a=Q=!1};
function ab(){if(1<w){w--;bb+=5E3;T.clearRect(0,0,T.canvas.width,T.canvas.height);var b=1;3==w?b=2:2==w?b=3:1==w&&(b=4);T.fillText("Level "+b,T.canvas.width/2,T.canvas.height/2+18);ha=null;ha=pa();fa(ha,w);x.splice(0,x.length);y.splice(0,y.length);ka.splice(0,ka.length);ga();A.a.x=112*w/2;A.a.y=17;A.d=A.B;M.splice(0,M.length);for(b=0;5>b;b++)M[M.length]=new ya;L=M.length-1;cb=Sa=Ta=db=0;eb=u();b=y[B(y.length-1-7*w,y.length-2)];V.a.x=b.x+8-V.width/2;V.a.y=b.y-V.height;fb=0;K=!1;gb=1;W.splice(0,W.length);
for(b=0;40>b;b++){var c=new Da(B(20,112*w-20),B(200,V.a.y));W[W.length]=c}}else hb(),alert("Congratulations! you've made it. Now breath in peace.")}for(var db=0,X=[],N=0;50>N;N++)X[X.length]=new wa("#ff0000");function hb(){ib=!1;jb=0;kb=A.alpha=0;w=5;lb=!1;mb=nb}var W=[],ob=!1,pb=0,nb=0,qb=1,mb=0,kb=0;a.textAlign="center";a.font="1px Verdana";A.alpha=0;var rb=new Image;rb.src="logo.png";var ib=!1,jb=0,eb=0,sb=0,cb=0,K=!1,V=new Ea(A.x,A.y),fb=0,bb=2E4,gb=1,T=m.createElement("canvas").getContext("2d");
T.canvas.width=f/E;T.canvas.height=h/E;T.font="10px Verdana";T.textAlign="center";T.fillStyle="#ffffff";T.fillRect(0,0,2,2);T.fillText("Level 1",T.canvas.width/2,T.canvas.height/2+18);var Y=m.createElement("canvas").getContext("2d");Y.canvas.width=f/8;Y.canvas.height=h/8;Y.fillStyle="#bc3a3a";Y.font="7px Verdana";Y.textAlign="center";Y.fillText("click to play",Y.canvas.width/2,Y.canvas.height/2+18);var Z=m.createElement("canvas").getContext("2d");Z.canvas.width=f/E;Z.canvas.height=h/E;
Z.fillStyle="#fff";Z.font="7px Verdana";Z.textAlign="right";digSTimer=0;Na.width=10;Na.height=5;O=Na.getContext("2d");Pa={x:5,y:2.5};O.fillStyle="#fff";O.fillRect(0,1,7,3);O.beginPath();O.moveTo(10,2.5);O.lineTo(7,5);O.lineTo(7,0);O.lineTo(10,2.5);O.fill();O.closePath();new Da(0,0);var lb=!1;
function tb(){var b,c=a.fillStyle;a.fillStyle=b||"#000";a.fillRect(0,0,f,h);a.fillStyle=c;switch(mb){case nb:a.save();a.scale(8,8);A.x=f/8/2;A.y=h/8/2+4;A.p=A.W;A.frame=1;ib||A.h();a.globalAlpha=kb;a.drawImage(rb,A.x-rb.width/2,A.y-rb.height/2-2*A.height);a.drawImage(Y.canvas,0,0);A.alpha+=0.01;1<=A.alpha&&(A.alpha=1,kb+=0.01,lb||(ca.play(),lb=!0));if(1<kb){kb=1;if(Q&&!ib)for(ib=!0,t.volume=1,t.play(),b=0;b<X.length;b++)X[b].start(A.x,A.y);if(ib)for(b=0;b<X.length;b++)X[b].j(),xa(X[b]),X[b].h()}ib&&
(v("#000"),a.globalAlpha=jb,a.fillRect(0,0,f,h),jb+=0.01,1<jb&&(Ua=Q=!1,ab(),mb=qb));a.restore();break;case qb:u()-eb>bb&&!K&&(eb=u(),A.d-=1);mb==qb&&D["27"]&&hb();if(ra){if(D["87"]||D["38"]||D["90"])A.b.y=-2.5;else if(D["83"]||D["40"])A.b.y=2.5;if(D["65"]||D["37"]||D["81"])A.b.x=-2.5,A.A=-1;else if(D["68"]||D["39"])A.b.x=2.5,A.A=1}else if((D["87"]||D["38"]||D["90"])&&(0==A.b.y&&!C&&!sa&&A.g.bottom)&&(A.b.y=-2,C=!0,A.T=u(),sa=!0,da.play()),D["65"]||D["37"]||D["81"]?A.g.left||(A.b.x=-1,A.A=-1,A.V=
Math.PI):!D["68"]&&!D["39"]||A.g.left||(A.b.x=1,A.A=1,A.V=0),A.g.left||A.g.right)A.b.x=0;v();0<A.d&&!K&&A.P(x,y);a.save();0==Sa&&0==Ta&&(Sa=A.a.x,Ta=y[0].y+4+h/E/2);A.a.x>y[0].x+3+f/E/2&&A.a.x<y[7*w+1].x+16-f/E/2&&(Sa=A.a.x);A.a.y>y[0].y+4+h/E/2&&A.a.y<y[y.length-1].y+16-h/E/2&&(Ta=A.a.y);F=(Sa-A.width/2)*E-f/2;G=(Ta-A.height/2)*E-h/2;za&&(F+=Ba,G+=Ca,Ba*=-1,Ca*=-1,500<u()-Aa&&(za=!1));a.translate(-F,-G);a.scale(E,E);Ga(ka);if(0<A.d&&!K){A.j();A.h(x,y);if(Ua&&1E3<u()-Ha&&0<L){var d=F+Ya,e=G+Za,d=
d/E,e=e/E,c=-A.C(d,e);b=A.v(d,e);10<b&&(b=10);d=A.x+Math.cos(c)*-b;c=A.y+Math.sin(c)*-b;a.fillStyle="#ffff00";oa(d,c);a.fillStyle="#ffffff";Q||(Ua=!1,d=F+Ya,e=G+Za,d/=E,e/=E,c=-A.C(d,e),d=A.a.x,e=A.a.y,1E3<u()-Ha&&0<=L&&M[L].start(Math.cos(c)*-(0.29*b),Math.sin(c)*-(0.29*b),d,e),L--,0>=L&&(L=0),Ha=u(),Va=0,Xa=u())}else if($a){d=F+Ya;e=G+Za;d/=E;e/=E;c=-A.C(d,e);b=A.v(d,e);10<b&&(b=10);d=A.x+Math.cos(c)*-b;c=A.y+Math.sin(c)*-b;a.fillStyle="#00ffff";oa(d,c);a.fillStyle="#ffffff";var e=ta(d,c,x),g=!1;
for(b=0;b<W.length;b++)g=ua(d,c,W[b]);if(e||g){za=!0;Aa=u();if(e){e.N=!0;e.d--;if(75==e.d)for(b=0;20>b;b++)e.f.fillStyle="#2f251d",e.f.fillRect(B(0,e.width-1),B(0,e.height-1),1,1);if(25==e.d)for(b=0;20>b;b++)e.f.fillStyle="#2f251d",e.f.fillRect(B(0,e.width-1),B(0,e.height-1),1,1);0>e.d&&e.G()}e&&(e.N=!0);S--;digSTimer=0;100<u()-digSTimer&&(t.volume=0.5,t.play());0>S&&(sb=u(),S=0,za=$a=!1)}!Q&&e&&(e.N=!1)}else 100<u()-sb&&100>S&&(100>S?S++:S=100,sb=u());for(b=0;b<M.length;b++)M[b].P(x,y,W),M[b].j(),
M[b].h()}Ga(y);Ga(x);for(b=0;b<W.length;b++){c=W[b];if(!c.u)if(c.visible){if(c.k+=0.01,40>A.v(c.a.x,c.a.y)||0<c.F)if(d=-A.C(c.a.x,c.a.y),c.a.x+=Math.cos(d)*c.speed,c.a.y+=Math.sin(d)*c.speed,c.q.x+=0.004,c.q.y+=0.004,c.n*c.q.x,z(A,c,A.width/2,A.height/2,c.H,c.H)&&(A.d-=0.5),0==c.F&&(c.F=u()),3E3<u()-c.F)for(t.volume=1,t.play(),d=0;d<c.e.length;d++)c.e[d].start(c.a.x,c.a.y),c.visible=!1}else for(d=0;d<c.e.length;d++)c.e[d].j(),e=c.e[d],e.i&&z(A,e,A.width/2,A.height/2,1,1)&&(e.l.splice(0,e.l.length),
e.i=!1,A.d-=1);W[b].update();c=W[b];if(!c.u)if(c.visible)ea(c.c,c.x,c.y,c.k,c.q.x,c.q.y,c.H,c.H,0,5,5);else for(d=0;d<c.e.length;d++)xa(c.e[d]),c.e[d].h()}V.h();Qa=A.x;Ra=A.y;a.globalAlpha=0.5;Oa=Math.atan2(V.a.x+V.width/2-Qa,V.a.y+V.height/2-Ra)+90*Math.PI/180;ea(Na,Qa,Ra-20,-Oa,-1,1,Pa.x,Pa.y,0,Na.width,Na.height);a.globalAlpha=1;a.restore();a.save();a.scale(E,E);a.globalAlpha=1;Z.clearRect(0,0,f/E,h/E);Z.fillText(Math.floor(A.v(V.a.x,V.a.y)),f/E-1,7);a.drawImage(Z.canvas,0,0);a.restore();0.01<
gb&&(a.save(),a.scale(E,E),a.globalAlpha=gb,a.drawImage(T.canvas,0,0),a.globalAlpha=1,a.restore(),gb-=0.01);Va<Wa&&100<u()-Xa&&(Va++,Va>Wa&&(Va=Wa),Xa=u());if(0>=A.d&&!ob){ob=!0;for(b=0;b<X.length;b++)X[b].start(A.x,A.y);db++}else{A.d>A.B/1.5&&A.d>A.B/2?v("#00ff00"):A.d>A.B/2?v("#ffff00"):v("#ff0000");a.globalAlpha=0.5;a.fillRect(E,E,A.B*E,E);a.globalAlpha=1;b=A.d;0>b&&(b=0);a.fillRect(E,E,b*E,E);v("#00ffff");a.globalAlpha=0.5;a.fillRect(E,3*E,100,E);a.globalAlpha=1;a.fillRect(E,3*E,S,E);for(b=0;b<
M.length-1;b++)a.globalAlpha=0.2,v("#ffff00"),a.fillRect(E+20*b,5*E,18,18);for(b=0;b<L;b++)a.globalAlpha=1,a.fillRect(E+20*b,5*E,18,18)}2>A.d&&(cb=0.2>cb?cb+0.005:0.2,a.globalAlpha=cb,v("#ff0000"),a.fillRect(0,0,f,h),a.globalAlpha=1);if(ob){a.globalAlpha=pb;v("#000");a.fillRect(0,0,f,h);a.globalAlpha=1;pb+=0.015;if(1<pb&&(db++,1<db))for(hb(),ob=!1,b=pb=0;b<X.length;b++)X[b].i=!1;for(b=0;b<X.length;b++)X[b].j(),a.save(),F=(Sa-A.width/2)*E-f/2,G=(Ta-A.height/2)*E-h/2,a.translate(-F,-G),a.scale(E,E),
xa(X[b]),X[b].h(),a.restore()}K&&(v("#fff"),a.globalAlpha=fb,a.fillRect(0,0,f,h),a.globalAlpha=1,1>fb?fb+=0.01:(fb=1,ab()));v("#fff")}setTimeout(tb,Ia)}aa.onload=function(){tb()};