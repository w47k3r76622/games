for(var applySeq=function(e,t,o){for(var n=0;n<o;n++)Array.prototype.push.apply(e,t)},ac=new AudioContext,tempo=240,note2=new Note("E4 q"),c3=new Note("C3 q"),d3=new Note("D3 q"),e3=new Note("E3 q"),f3=new Note("F3 q"),g3=new Note("G3 q"),a3=new Note("A3 q"),b3=new Note("B3 q"),c4=new Note("C4 q"),d4=new Note("D4 q"),e4=new Note("E4 q"),f4=new Note("F4 q"),g4=new Note("G4 q"),titleSeq1=[new Note("A3 h"),e4,e4,e4,e4,d4,c4],notes=[],i=0;i<3;i++)Array.prototype.push.apply(notes,titleSeq1),i<2&&notes.push(d4);notes.push(new Note("D4 h"),new Note("D4 e"),new Note("E4 e"),new Note("D4 e"),new Note("C4 h"),b3);var titleSequence=new Sequence(ac,tempo,notes),mazeNotes=[],maze1=[new Note("A3 h"),b3,c4],maze2=[new Note("E3 h"),f3,g3],maze3=[a3,e4,d4,b3,c4,new Note("A3 h")];applySeq(mazeNotes,maze1,2),mazeNotes.push(new Note("F3 h"),g3,a3,g3,f3,g3),applySeq(mazeNotes,maze2,2),mazeNotes.push(a3),applySeq(mazeNotes,maze3,3),mazeNotes.pop(),mazeNotes.push(a3,new Note("Ab3 h"),new Note("Ab3 q"),a3,b3);var mazeSequence=new Sequence(ac,tempo,mazeNotes),battleNotes=[],battle1=[a3,a3,new Note("A3 e"),new Note("C4 e"),new Note("B3 e"),new Note("A3 e")],battle2=[f3,f3,new Note("F3 e"),new Note("A3 e"),new Note("G3 e"),new Note("F3 e")];applySeq(battleNotes,battle1,2),applySeq(battleNotes,battle2,2),battleNotes.push(f3,f3,new Note("F3 e"),new Note("G3 e"),new Note("A3 e"),new Note("F3 e"),g3,g3,new Note("G3 e"),new Note("A3 e"),new Note("Bb3 e"),new Note("C4 e"));for(var battleSequence=new Sequence(ac,tempo,battleNotes),vicNotes=[new Note("G4 h"),g4,g4,f4,e4,f4,d4,new Note("F4 e"),new Note("F4 e"),f4,e4,d4,e4,c4,new Note("E4 e"),new Note("E4 e"),e4,d4,c4,new Note("D4 q"),new Note("B3 h"),b3,d4,c4,b3,c4],vicSequence=new Sequence(ac,tempo,vicNotes),bossNotes=[new Note("A2 q"),new Note("E3 e"),new Note("D3 e"),new Note("C3 e"),new Note("B2 e"),c3,d3,d3,new Note("A3 e"),new Note("G3 e"),new Note("F3 e"),new Note("E3 e"),new Note("F3 e"),g3,g3,new Note("D4 e"),new Note("C4 e"),new Note("B3 e"),new Note("A3 e"),new Note("B3 e"),c4,c4,b3,b3],bossSequence=new Sequence(ac,tempo,bossNotes),shopNotes=[a3,e3,c4,b3,c4,e3,d3,d3,b3,a3,b3,d3,c3,c3,a3,g3],shopSequence=new Sequence(ac,300,shopNotes),loseNotes=[new Note("A2 q"),e3,d3,new Note("B2 q"),new Note("C3 h"),new Note("A2 q"),e3,d3,new Note("B2 q"),new Note("C3 h"),new Note("A2 q"),new Note("Ab2 h"),new Note("Ab2 q"),new Note("A2 q"),new Note("B2 h")],loseSequence=new Sequence(ac,tempo,loseNotes),playMusic=!0,activeSeq=0,sequences=[titleSequence,mazeSequence,bossSequence,vicSequence,battleSequence,shopSequence,loseSequence],i=0;i<sequences.length;i++)sequences[i].loop=!0,sequences[i].staccato=.1,sequences[i].gain.gain.value=.01,3===i?sequences[i].createCustomWave([-1,0,1,0,-1,0,1]):sequences[i].createCustomWave([-.8,1,.8,.8,-.8,-.8,-1]);var playTitle=function(){playMusic&&(stopMusic(),titleSequence.play(ac.currentTime+60/tempo*2),activeSeq=0)},playMaze=function(){playMusic&&(stopMusic(),mazeSequence.play(ac.currentTime+60/tempo*1),activeSeq=1)},playBattle=function(){playMusic&&(stopMusic(),bossSequence.play(ac.currentTime+60/tempo*1),activeSeq=2)},playVictory=function(){playMusic&&(stopMusic(),vicSequence.play(ac.currentTime+60/tempo*1),activeSeq=3)},playBoss=function(){playMusic&&(stopMusic(),battleSequence.play(ac.currentTime+60/tempo*1),activeSeq=4)},playShop=function(){playMusic&&(stopMusic(),shopSequence.play(ac.currentTime+60/tempo*1),activeSeq=5)},playLose=function(){playMusic&&(stopMusic(),loseSequence.play(ac.currentTime+60/tempo*1),activeSeq=6)},stopMusic=function(){sequences[activeSeq].stop()},toggleMusic=function(){playMusic?sequences[activeSeq].stop():sequences[activeSeq].play(),playMusic=!playMusic};