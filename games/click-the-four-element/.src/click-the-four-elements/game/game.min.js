var a=["earth","water","air","fire"];state="menu";score=0;mG();document.getElementsByTagName("html")[0].onclick=function(){if(state==="menu")gameS1();else if(state==="gameS1")gameS2();else if(state==="waitReplay")gameS1()};
function mG(){state="menu";document.body.innerHTML="";var iH1=document.createElement("h1");iH1.id="h1";iH1.innerHTML="Click the four elements";var iP=document.createElement("p");iP.id="pitch";iP.innerHTML="In this game, hand made by robomatix rebirth, you have to remember in which order to click or tap the elements... Click or tap anywhere on the screen to start playing... Memorize the order of the elements and then click or tap anywhere on the screen and then click or tap the elements in the order you remember it... Thirty three seconds is the maximum duration of this game...";document.getElementsByTagName("body")[0].appendChild(iH1);
    var h1=document.getElementById("h1");insertAfter(iP,h1)}function insertAfter(newNode,referenceNode){referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)}function o2a(o,nA){Object.getOwnPropertyNames(o).forEach(function(val,idx,array){nA[idx]=o[val]})}
function shuffle(array){var currentIndex=array.length,temporaryValue,randomIndex;while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue}return array}
function addEl(e,w){var iDiv=document.createElement("div");iDiv.id=e;iDiv.className="el "+w;var iP=document.createElement("p");iP.innerHTML=e;document.getElementsByTagName("body")[0].appendChild(iDiv).appendChild(iP)}function elClkd(e){document.getElementById(e).onclick=function(){if(e===sA1[cC]){var audio=new Audio("click.wav");audio.play()}else gameOver();cC++;if(cC===4){score++;mG()}}}
function gameS1(){state="gameS1";document.body.innerHTML="";if(score===0)countDown=setTimeout(function(){endGame()},33E3);shuffle(a);var dB=new Object;dB.el1=a[0];dB.el2=a[1];dB.el3=a[2];dB.el4=a[3];sA1=new Array;o2a(dB,sA1);i=0;for(tot=sA1.length;i<tot;i++)addEl(sA1[i],"w100")}
function gameS2(){state="gameS2";document.body.innerHTML="";shuffle(a);var dG=new Object;dG.el1=a[0];dG.el2=a[1];dG.el3=a[2];dG.el4=a[3];sA2=new Array;o2a(dG,sA2);i=0;for(tot=sA2.length;i<tot;i++)addEl(sA2[i],"w50");cC=0;elClkd("earth");elClkd("water");elClkd("air");elClkd("fire")}
function gameOver(){state="gameOver";clearTimeout(countDown);document.body.innerHTML="";var audio=new Audio("gameover.wav");audio.play();var iH1=document.createElement("h1");iH1.id="h1";iH1.innerHTML="GAME OVER !!!";var iP=document.createElement("p");iP.id="score";iP.innerHTML="Your score : "+score;var iPr=document.createElement("p");iPr.id="replay";iPr.innerHTML="Please wait few seconds before clicking or taping to replay";document.getElementsByTagName("body")[0].appendChild(iH1);var h1=document.getElementById("h1");
    insertAfter(iP,h1);insertAfter(iPr,iP);setTimeout(function(){iPr.innerHTML="Click or tap the screen to replay";state="waitReplay"},3E3);score=0}
function endGame(){state="endGame";document.body.innerHTML="";var iH1=document.createElement("h1");iH1.id="h1";iH1.innerHTML="The thirty three seconds are over !!!";var iP=document.createElement("p");iP.id="score";iP.innerHTML="Your score : "+score;var iPr=document.createElement("p");iPr.id="replay";iPr.innerHTML="Please wait few seconds before clicking or taping to replay";document.getElementsByTagName("body")[0].appendChild(iH1);var h1=document.getElementById("h1");insertAfter(iP,h1);insertAfter(iPr,
    iP);setTimeout(function(){iPr.innerHTML="Click or tap the screen to replay";state="waitReplay"},3E3);score=0};