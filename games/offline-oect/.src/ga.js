!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){var n=n||{};n.VERSION="0.0.1",n.plugins=void 0,n.custom=void 0,n.create=function(e,t,n,i,r){var a,o={};if(o.canvas=document.createElement("canvas"),o.canvas.setAttribute("width",1*e),o.canvas.setAttribute("height",1*t),o.canvas.style.backgroundColor="black",document.body.appendChild(o.canvas),o.canvas.ctx=o.canvas.getContext("2d"),o.canvas.ctx.textBaseline="middle",o.canvas.ctx.textAlign="center",o.stage=(h(a={}),a.stage=!0,a.width=o.canvas.width,a.height=o.canvas.height,a.x=0,a.y=0,a.parent=void 0,a),o.key=function(){var e={};return e.a=u(65),e.d=u(68),e.leftArrow=u(37),e.upArrow=u(38),e.rightArrow=u(39),e.downArrow=u(40),e.space=u(32),e}(),o.buttons=[],o.dragAndDrop=!1,o.draggableSprites=[],o.tweens=[],o.state=void 0,o.load=r||void 0,o.setup=n||void 0,void 0===o.setup)throw new Error("Please supply the setup function in the constructor");function s(){if(requestAnimationFrame(s,o.canvas),void 0===o._fps)d(),o.render(o.canvas,0);else{var e=Date.now(),t=e-o._startTime;for(t>1e3&&(t=o._frameDuration),o._startTime=e,o._lag+=t;o._lag>=o._frameDuration;)l(),d(),o._lag-=o._frameDuration;var n=o._lag/o._frameDuration;o.render(o.canvas,n)}}function l(){o.stage.children.forEach(function(e){!function e(t){t._previousX=t.x;t._previousY=t.y;t.children&&t.children.length>0&&t.children.forEach(function(t){e(t)})}(e)})}function d(){if(o.buttons.length>0){o.canvas.style.cursor="auto";for(var e=o.buttons.length-1;e>=0;e--){var t=o.buttons[e];t.update(o.pointer,o.canvas),"over"!==t.state&&"down"!==t.state||t.stage||(o.canvas.style.cursor="pointer")}}if(o.dragAndDrop&&o.pointer.updateDragAndDrop(),o.state&&!o.paused&&o.state(),0!==o.updateFunctions.length)for(var n=0;n<o.updateFunctions.length;n++){(0,o.updateFunctions[n])()}}function h(e){e.x=0,e.y=0,e.vx=0,e.vy=0,e.width=0,e.height=0,e.scaleX=1,e.scaleY=1,e.pivotX=.5,e.pivotY=.5,e.rotation=0,e.visible=!0,e.parent=void 0,e.stage=!1,e.shadow=!1,e.shadowColor="rgba(100, 100, 100, 0.5)",e.shadowOffsetX=3,e.shadowOffsetY=3,e.shadowBlur=3,e.blendMode=void 0,e._alpha=1,e._draggable=void 0,e._layer=0,e._circular=!1,e._interactive=!1,e._previousX=void 0,e._previousY=void 0,e.children=[],e.addChild=function(t){t.parent&&t.parent.removeChild(t),t.parent=e,e.children.push(t)},e.removeChild=function(t){if(t.parent!==e)throw new Error(t+"is not a child of "+e);e.children.splice(e.children.indexOf(t),1)},e.swapChildren=function(t,n){var i=e.children.indexOf(t),r=e.children.indexOf(n);if(-1===i||-1===r)throw new Error(child+" Both objects must be a child of the caller "+e);t.childIndex=r,n.childIndex=i,e.children[i]=n,e.children[r]=t},e.add=function(t){var n=Array.prototype.slice.call(arguments);n.length>1?n.forEach(function(t){e.addChild(t)}):e.addChild(n[0])},e.remove=function(t){var n=Array.prototype.slice.call(arguments);n.length>1?n.forEach(function(t){e.removeChild(t)}):e.removeChild(n[0])},e.setPosition=function(t,n){e.x=t,e.y=n};var t=e;e.putCenter=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.halfWidth-n.halfWidth+i,n.y=t.y+t.halfHeight-n.halfHeight+r,e.compensateForParentPosition(t,n)},e.putTop=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.halfWidth-n.halfWidth+i,n.y=t.y-n.height+r,e.compensateForParentPosition(t,n)},e.putRight=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.width+i,n.y=t.y+t.halfHeight-n.halfHeight+r,e.compensateForParentPosition(t,n)},e.putBottom=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.halfWidth-n.halfWidth+i,n.y=t.y+t.height+r,e.compensateForParentPosition(t,n)},e.putLeft=function(n,i,r){i=i||0,r=r||0,n.x=t.x-n.width+i,n.y=t.y+t.halfHeight-n.halfHeight+r,e.compensateForParentPosition(t,n)},e.compensateForParentPosition=function(e,t){0===t.parent.gx&&0===t.parent.gy||(t.x-=e.gx,t.y-=e.gy)},Object.defineProperties(e,{gx:{get:function(){return this.parent?this.x+this.parent.gx:this.x},enumerable:!0,configurable:!0},gy:{get:function(){return this.parent?this.y+this.parent.gy:this.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:e.x,y:e.y}},enumerable:!0,configurable:!0},alpha:{get:function(){return e.parent._alpha*e._alpha},set:function(t){e._alpha=t},enumerable:!0,configurable:!0},halfWidth:{get:function(){return e.width/2},enumerable:!0,configurable:!0},halfHeight:{get:function(){return e.height/2},enumerable:!0,configurable:!0},centerX:{get:function(){return e.x+e.halfWidth},enumerable:!0,configurable:!0},centerY:{get:function(){return e.y+e.halfHeight},enumerable:!0,configurable:!0},layer:{get:function(){return e._layer},set:function(t){e._layer=t,e.parent.children.sort(byLayer)},enumerable:!0,configurable:!0},circular:{get:function(){return e._circular},set:function(t){!0===t&&!1===e._circular&&(makeCircular(e),e._circular=!0),!1===t&&!0===e._circular&&(delete e.diameter,delete e.radius,e._circular=!1)},enumerable:!0,configurable:!0},draggable:{get:function(){return e._draggable},set:function(t){!0===t&&(o.draggableSprites.push(e),e._draggable=!0,!1===o.dragAndDrop&&(o.dragAndDrop=!0)),!1===t&&o.draggableSprites.splice(o.draggableSprites.indexOf(e),1)},enumerable:!0,configurable:!0},interactive:{get:function(){return e._interactive},set:function(t){!0===t&&(makeInteractive(e),e._interactive=!0),!1===t&&(o.buttons.splice(o.buttons.indexOf(e),1),e._interactive=!1)},enumerable:!0,configurable:!0},localBounds:{get:function(){return{x:0,y:0,width:e.width,height:e.height}},enumerable:!0,configurable:!0},globalBounds:{get:function(){return rectangle={x:e.gx,y:e.gy,width:e.gx+e.width,height:e.gy+e.height},rectangle},enumerable:!0,configurable:!0},empty:{get:function(){return 0===e.children.length},enumerable:!0,configurable:!0}})}function u(e){var t={};return t.code=e,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(e){e.keyCode===t.code&&(t.isUp&&t.press&&t.press(),t.isDown=!0,t.isUp=!1),e.preventDefault()},t.upHandler=function(e){e.keyCode===t.code&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0),e.preventDefault()},window.addEventListener("keydown",t.downHandler.bind(t),!1),window.addEventListener("keyup",t.upHandler.bind(t),!1),t}o.assetFilePaths=i||void 0,o.paused=!1,o._fps=60,o._startTime=Date.now(),o._frameDuration=1e3/o._fps,o._lag=0,o.interpolate=!0,o.updateFunctions=[],o.scale=1,o.start=function(){o.assetFilePaths?(o.assets.whenLoaded=function(){o.state=void 0,o.setup()},o.assets.load(o.assetFilePaths),o.load&&(o.state=o.load)):o.setup(),s()},o.pause=function(){o.paused=!0},o.resume=function(){o.paused=!1},o.remove=function(e){var t=Array.prototype.slice.call(arguments);if(t[0]instanceof Array){var n=t[0];if(n.length>0)for(var i=n.length-1;i>=0;i--){var r=n[i];r.parent.removeChild(r),n.splice(n.indexOf(r),1)}}else t.length>1?t.forEach(function(e){e.parent.removeChild(e)}):t[0].parent.removeChild(t[0])},o.group=function(e){var t={};(h(t),t.addChild=function(e){e.parent&&e.parent.removeChild(e),e.parent=t,t.children.push(e),t.calculateSize()},t.removeChild=function(e){if(e.parent!==t)throw new Error(e+"is not a child of "+t);t.children.splice(t.children.indexOf(e),1),t.calculateSize()},t.calculateSize=function(){t.children.length>0&&(t._newWidth=0,t._newHeight=0,t.children.forEach(function(e){e.x+e.width>t._newWidth&&(t._newWidth=e.x+e.width),e.y+e.height>t._newHeight&&(t._newHeight=e.y+e.height)}),t.width=t._newWidth,t.height=t._newHeight)},o.stage.addChild(t),e)&&Array.prototype.slice.call(arguments).forEach(function(e){t.addChild(e)});return t},o.line=function(e,t,n,i,r,a){var s={};return h(s),n||0===n||(n=0),i||0===i||(i=0),r||0===r||(r=32),a||0===a||(a=32),s.ax=n,s.ay=i,s.bx=r,s.by=a,s.strokeStyle=e||"red",s.lineWidth=t||1,s.lineJoin="round",o.stage.addChild(s),s.render=function(e){e.strokeStyle=s.strokeStyle,e.lineWidth=s.lineWidth,e.lineJoin=s.lineJoin,e.beginPath(),e.moveTo(s.ax,s.ay),e.lineTo(s.bx,s.by),"none"!==s.strokeStyle&&e.stroke(),"none"!==s.fillStyle&&e.fill()},s},o.text=function(e,t,n,i,r){var a={};return h(a),a.content=e,a.font=t,a.fillStyle=n,Object.defineProperties(a,{width:{get:function(){return o.canvas.ctx.measureText(a.content).width},enumerable:!0,configurable:!0},height:{get:function(){return o.canvas.ctx.measureText("M").width},enumerable:!0,configurable:!0}}),o.stage.addChild(a),a.x=i||0,a.y=r||0,a.render=function(e){e.strokeStyle=a.strokeStyle,e.lineWidth=a.lineWidth,e.fillStyle=a.fillStyle,0===a.width&&(a.width=e.measureText(a.content).width),0===a.height&&(a.height=e.measureText("M").width),e.translate(-a.width*a.pivotX,-a.height*a.pivotY),e.font=a.font,e.textBaseline=a.textBaseline,e.fillText(a.content,o.canvas.width/2,0)},a},o.frame=function(e,t,n,i,r){var a={};return a.image=e,a.x=t,a.y=n,a.width=i,a.height=r,a},o.sprite=function(e){var t={};if(void 0===e)throw new Error("Sprites require a source");return h(t),t.frames=[],t.loop=!0,t._currentFrame=0,t.setTexture=function(e){if(e.image)if(e.image&&!e.data){if(!(o.assets[e.image].source instanceof Image))throw new Error(e.image+" is not an image file");t.source=o.assets[e.image].source,t.sourceX=e.x,t.sourceY=e.y,t.width=e.width,t.height=e.height,t.sourceWidth=e.width,t.sourceHeight=e.height}else e.image&&e.data&&(t.source=o.assets[e.image].source,t.frames=e.data,t.sourceX=t.frames[0][0],t.sourceY=t.frames[0][1],t.width=e.width,t.height=e.height,t.sourceWidth=e.width,t.sourceHeight=e.height);else e instanceof Array?(t.frames=e,t.source=o.assets[e[0]].source,t.sourceX=o.assets[e[0]].frame.x,t.sourceY=o.assets[e[0]].frame.y,t.width=o.assets[e[0]].frame.w,t.height=o.assets[e[0]].frame.h,t.sourceWidth=o.assets[e[0]].frame.w,t.sourceHeight=o.assets[e[0]].frame.h):(t.tilesetFrame=o.assets[e],t.source=t.tilesetFrame.source,t.sourceX=t.tilesetFrame.frame.x,t.sourceY=t.tilesetFrame.frame.y,t.width=t.tilesetFrame.frame.w,t.height=t.tilesetFrame.frame.h,t.sourceWidth=t.tilesetFrame.frame.w,t.sourceHeight=t.tilesetFrame.frame.h)},t.setTexture(e),t.gotoAndStop=function(e){if(!(t.frames.length>0))throw new Error("Frame number "+e+"doesn't exist");t.frames[0]instanceof Array?(t.sourceX=t.frames[e][0],t.sourceY=t.frames[e][1]):o.assets[t.frames[e]].frame&&(t.source=o.assets[t.frames[e]].source,t.sourceX=o.assets[t.frames[e]].frame.x,t.sourceY=o.assets[t.frames[e]].frame.y,t.sourceWidth=o.assets[t.frames[e]].frame.w,t.sourceHeight=o.assets[t.frames[e]].frame.h,t.width=o.assets[t.frames[e]].frame.w,t.height=o.assets[t.frames[e]].frame.h),t._currentFrame=e},t.x=0,t.y=0,t.frames.length>0&&(o.addStatePlayer(t),Object.defineProperty(t,"currentFrame",{get:function(){return t._currentFrame},enumerable:!1,configurable:!1})),o.stage.addChild(t),t.render=function(e){e.drawImage(t.source,t.sourceX,t.sourceY,t.sourceWidth,t.sourceHeight,-t.width*t.pivotX,-t.height*t.pivotY,t.width,t.height)},t},o.image=function(e){return o.assets[e]},o.render=function(e,t){var n=e.ctx;n.clearRect(0,0,e.width,e.height);for(var i=0;i<o.stage.children.length;i++){r(o.stage.children[i])}function r(i){if("air"!==i.name&&i.visible&&i.gx<e.width+i.width&&i.gx+i.width>=-i.width&&i.gy<e.height+i.height&&i.gy+i.height>=-i.height){if(n.save(),o.interpolate?(void 0!==i._previousX?i.renderX=(i.x-i._previousX)*t+i._previousX:i.renderX=i.x,void 0!==i._previousY?i.renderY=(i.y-i._previousY)*t+i._previousY:i.renderY=i.y):(i.renderX=i.x,i.renderY=i.y),n.translate(i.renderX+i.width*i.pivotX,i.renderY+i.height*i.pivotY),n.globalAlpha=i.alpha,n.rotate(i.rotation),n.scale(i.scaleX,i.scaleY),i.shadow&&(n.shadowColor=i.shadowColor,n.shadowOffsetX=i.shadowOffsetX,n.shadowOffsetY=i.shadowOffsetY,n.shadowBlur=i.shadowBlur),i.blendMode&&(n.globalCompositeOperation=i.blendMode),i.render&&i.render(n),i.children&&i.children.length>0){n.translate(-i.width*i.pivotX,-i.height*i.pivotY);for(var a=0;a<i.children.length;a++){r(i.children[a])}}n.restore()}}},o.assets={toLoad:0,loaded:0,imageExtensions:["png"],whenLoaded:void 0,load:function(e){var t=this;t.toLoad=e.length,e.forEach(function(e){var n=e.split(".").pop();if(-1!==t.imageExtensions.indexOf(n)){var i=new Image;i.addEventListener("load",function(){i.name=e,t[i.name]={source:i,frame:{x:0,y:0,w:i.width,h:i.height}},t.loadHandler()},!1),i.src=e}else if(-1!==t.fontExtensions.indexOf(n)){var r=e.split("/").pop().split(".")[0],a=document.createElement("style"),s="@font-face {font-family: '"+r+"'; src: url('"+e+"');}";a.appendChild(document.createTextNode(s)),document.head.appendChild(a),t.loadHandler()}else if(-1!==t.audioExtensions.indexOf(n)){var l=o.makeSound(e,t.loadHandler.bind(t));l.name=e,t[l.name]=l}else if(-1!==t.jsonExtensions.indexOf(n)){var d=new XMLHttpRequest,h={};d.open("GET",e,!0),d.addEventListener("readystatechange",function(){200===d.status&&4===d.readyState&&((h=JSON.parse(d.responseText)).name=e,t[h.name]=h,h.frames?t.createTilesetFrames(h,e):t.loadHandler())}),d.send()}})},loadHandler:function(){this.loaded+=1,this.toLoad===this.loaded&&(this.toLoad=0,this.loaded=0,this.whenLoaded())}},o.keyboard=u,o.makeDisplayObject=h,o.tileTypes={air:"air",floor:"floor",ladder:"ladder",door:"door",battery:"battery"},o.getSpriteIndex=function(e){return o.getIndex(e.x,e.y,32,32,32)},o.getIndex=function(e,t,n,i,r){var a={};return a.x=Math.floor(e/n),a.y=Math.floor(t/i),a.x+a.y*r},o.getAdjacentTiles=function(e){return{c:o.getAdjacentTile(e,"c"),u:o.getAdjacentTile(e,"u"),r:o.getAdjacentTile(e,"r"),d:o.getAdjacentTile(e,"d"),l:o.getAdjacentTile(e,"l"),dl:o.getAdjacentTile(e,"dl"),dr:o.getAdjacentTile(e,"dr")}},o.getAdjacentTile=function(e,t){switch(tileIndex=void 0,t){case"u":e<world.widthInTiles?tileIndex=null:tileIndex=e-32;break;case"r":tileIndex=(e+1)%32==0?null:e+1;break;case"d":e>=world.widthInTiles*world.heightInTiles-world.widthInTiles?tileIndex=null:tileIndex=e+32;break;case"l":tileIndex=e%32==0?null:e-1;break;case"dl":leftTile=o.getAdjacentTile(e,"l"),downTile=o.getAdjacentTile(e,"d"),tileIndex=leftTile?downTile.index-1:null;break;case"dr":rightTile=o.getAdjacentTile(e,"r"),downTile=o.getAdjacentTile(e,"d"),tileIndex=rightTile?downTile.index+1:null;break;default:tileIndex=e}return type=world.tileTypes[world.objects[0].data[tileIndex]-1],{index:tileIndex,type:type?type.name:void 0,isStable:type?type.isStable:void 0}},o.getTile=function(e,t,n){var i={};return i.gid=t[e],i.width=n.tilewidth,i.height=n.tileheight,i.halfWidth=n.tilewidth/2,i.halfHeight=n.tileheight/2,i.x=e%n.widthInTiles*n.tilewidth+n.x,i.y=Math.floor(e/n.widthInTiles)*n.tileheight+n.y,i.gx=i.x,i.gy=i.y,i.centerX=i.x+n.tilewidth/2,i.centery=i.y+n.tileheight/2,i},o.wait=function(e,t){return setTimeout(t,e)},o.fadeOut=function(e,t){return void 0===t&&(t=60),o.tweenProperty(e,"alpha",e.alpha,0,t,"sine")},o.fadeIn=function(e,t){return void 0===t&&(t=60),o.tweenProperty(e,"alpha",e.alpha,1,t,"sine")},o.tweenProperty=function(e,t,n,i,r,a,s,l){void 0===r&&(r=60),void 0===a&&(a="smoothstep"),void 0===s&&(s=!1),void 0===l&&(l=0);var d={},h=a.split(" ");return"bounce"===h[0]&&(d.startMagnitude=parseInt(h[1]),d.endMagnitude=parseInt(h[2])),d.start=function(e,t){d.startValue=JSON.parse(JSON.stringify(e)),d.endValue=JSON.parse(JSON.stringify(t)),d.playing=!0,d.totalFrames=r,d.frameCounter=0,o.tweens.push(d)},d.start(n,i),d.update=function(){var n;if(d.playing)if(d.frameCounter<d.totalFrames){var i=d.frameCounter/d.totalFrames;n="bounce"!==h[0]?c[a](i):c.spline(i,d.startMagnitude,0,1,d.endMagnitude),e[t]=d.endValue*n+d.startValue*(1-n),d.frameCounter+=1}else d.end()},d.end=function(){d.playing=!1,d.onComplete&&d.onComplete(),o.tweens.splice(o.tweens.indexOf(d),1),s&&o.wait(l,function(){d.start(d.endValue,d.startValue)})},d.play=function(){d.playing=!0},d.pause=function(){d.playing=!1},d},o.updateTweens=function(){if(o.tweens.length>0)for(var e=o.tweens.length-1;e>=0;e--){var t=o.tweens[e];t&&t.update()}},o.updateFunctions.push(o.updateTweens),o.cubicBezier=function(e,t,n,i,r){var a=e*e;return t+(3*-t+e*(3*t-t*e))*e+(3*n+e*(-6*n+3*n*e))*e+(3*i-3*i*e)*a+r*(a*e)};var c={sine:function(e){return Math.sin(e*Math.PI/2)},spline:function(e,t,n,i,r){return.5*(2*n+(-t+i)*e+(2*t-5*n+4*i-r)*e*e+(3*n-t-3*i+r)*e*e*e)}};return o.makeTiledWorld=function(e,t){e=JSON.parse(e);var n=o.group();n.tileheight=e.tileheight,n.tilewidth=e.tilewidth,n.width=e.width*e.tilewidth,n.height=e.height*e.tileheight,n.widthInTiles=e.width,n.heightInTiles=e.height,n.tileTypes=e.tilesets[0].tileproperties,n.objects=[];var i=e.tilesets[0].spacing,r=Math.floor(e.tilesets[0].imagewidth/(e.tilewidth+i));return e.layers.forEach(function(a){var s=o.group();Object.keys(a).forEach(function(e){"width"!==e&&"height"!==e&&(s[e]=a[e])}),s.alpha=a.opacity,n.addChild(s),n.objects.push(s),"tilelayer"===a.type&&a.data.forEach(function(a,l){var d,h,u,c,f,g,p,m,w,v;if(0!==a){p=l%n.widthInTiles,m=Math.floor(l/n.widthInTiles),u=p*n.tilewidth,c=m*n.tileheight,w=(a-1)%r,v=Math.floor((a-1)/r),f=w*n.tilewidth,g=v*n.tileheight,i>0&&(f+=i+i*((a-1)%r),g+=i+i*Math.floor((a-1)/r)),h=o.frame(t,f,g,n.tilewidth,n.tileheight);var y=e.tilesets[0].tileproperties,x=String(a-1);y[x]&&y[x].name?(d=o.sprite(h),Object.keys(y[x]).forEach(function(e){d[e]=y[x][e]}),n.objects.push(d)):d=o.sprite(h),d.x=u,d.y=c,d.index=l,d.gid=a,s.addChild(d)}})}),n.getObject=function(e){return this.searchForObject=function(){var t;if(n.objects.some(function(n){if(n.name&&n.name===e)return t=n,!0}),t)return t},this.searchForObject()},n.getObjects=function(e){var t=Array.prototype.slice.call(arguments),i=[];return n.objects.forEach(function(e){e.name&&-1!==t.indexOf(e.name)&&i.push(e)}),i.length,i},n},o.shakingSprites=[],o.updateShakingSprites=function(){if(o.shakingSprites.length>0)for(var e=o.shakingSprites.length-1;e>=0;e--){var t=o.shakingSprites[e];t.updateShake&&t.updateShake()}},o.updateFunctions.push(o.updateShakingSprites),o.shake=function(e,t,n,i){void 0===t&&(t=16),void 0===n&&(n=!1);var r=1,a=i,s=e.x,l=e.y,d=e.rotation,h=t/a,u=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};-1===o.shakingSprites.indexOf(e)&&(o.shakingSprites.push(e),e.updateShake=function(){n?function(){r<a&&(e.rotation=d,t-=h,e.rotation=t*c,r+=1,c*=-1);r>=a&&(e.rotation=d,o.shakingSprites.splice(o.shakingSprites.indexOf(e),1))}():function(){r<a&&(e.x=s,e.y=l,t-=h,e.x+=u(-t,t),e.y+=u(-t,t),r+=1);r>=a&&(e.x=s,e.y=l,o.shakingSprites.splice(o.shakingSprites.indexOf(e),1))}()});var c=1},o},window.ga=n.create}]);