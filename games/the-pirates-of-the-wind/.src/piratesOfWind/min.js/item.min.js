function item(){this.posX=-1;this.posY=-1;this.width=0;this.height=0;this.col=-1;this.row=-1;this.fillColor="";this.lineColor="";this.type="";this.context=undefined;this.canvas=undefined;this.inclination=0;this.animable=false}item.prototype.toString=function(){return"item"};item.prototype.setLocation=function(b,a){if(typeof b=="number"&&((b+this.width)<=this.canvas.width)&&b>=0){this.posX=b}if(typeof a=="number"&&((a+this.height)<=this.canvas.height)&&a>=0){this.posY=a}};item.prototype.setDimension=function(a,c,b){this.width=a;this.height=c};item.prototype.draw=function(){this.context.lineWidth=1;if(this.type=="player"){this.drawPlayer()}else{if(this.type=="spiral"){this.drawSpiral()}else{if(this.type=="wind"){this.drawWind()}else{if(this.type=="island"){this.drawIsland()}else{if(this.type=="skull"){this.drawSkull()}else{if(this.type=="winner"){this.drawWinner()}}}}}}if(this.fillColor){this.context.fillStyle=this.fillColor;this.context.fill()}this.context.lineColor=this.lineColor;this.context.stroke()};item.prototype.drawPlayer=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.save();this.context.beginPath();var c=this.posX;var b=this.posY;if(this.inclination!=0){this.context.translate(this.posX,this.posY);this.context.rotate(this.inclination*Math.PI/180);this.posX=0;this.posY=0}var a=this.posX+(this.width*0.125);var d=this.posY+(this.height/2);this.context.moveTo(a,d);a=this.posX+this.width-(this.width*0.125);d=this.posY+(this.height/2);this.context.lineTo(a,d);a=this.posX+(this.width*0.75);d=this.posY+this.height-(this.height*0.25);this.context.lineTo(a,d);a=this.posX+(this.width*0.25);d=this.posY+this.height-(this.height*0.25);this.context.lineTo(a,d);this.context.closePath();a=this.posX+(this.width/2);d=this.posY+(this.height*0.125);this.context.moveTo(a,d);a=this.posX+(this.width*0.375);d=this.posY+(this.height/2);this.context.lineTo(a,d);a=this.posX+(this.width*0.625);d=this.posY+(this.height/2);this.context.lineTo(a,d);this.context.closePath();this.context.restore();this.posX=c;this.posY=b};item.prototype.drawSpiral=function(){this.cleanSlate();this.context.strokeStyle="lightblue";this.context.lineWidth=3;for(var k in this.CartesianCoordinates){var f=this.CartesianCoordinates[k];var j=f[0];var g=f[1];var c=j*game.cellWidth+(game.cellWidth/2);var l=g*game.cellHeight+(game.cellHeight/2);this.context.moveTo(c,l);var h=this.width*this.height;var b=t=1.6;for(var e=0;e<100;e++){var d=this.spin+e*2*Math.PI/30;this.context.lineTo(c+b*Math.cos(d),l+b*Math.sin(d));b+=0.24}}};item.prototype.drawWind=function(){this.cleanSlate();this.context.lineWidth=3;for(coordinates in this.AbsoluteCoordinates){var a=this.AbsoluteCoordinates[coordinates][0];var b=this.AbsoluteCoordinates[coordinates][1];this.context.globalAlpha=this.alpha;this.context.strokeStyle="blue";switch(game.level.direction){case"east":this.context.moveTo(5+a,28+b);this.context.bezierCurveTo(-10+a,28+b,55+a,32+b,66+a,22+b);this.context.bezierCurveTo(83+a,6+b,50+a,12+b,48+a,21+b);break;case"west":this.context.moveTo(88+a,51+b);this.context.bezierCurveTo(73+a,51+b,22+a,63+b,27+a,49+b);this.context.bezierCurveTo(30+a,40+b,56+a,39+b,43+a,46+b);break;case"north":this.context.moveTo(30+a,58+b);this.context.bezierCurveTo(30+a,43+b,20+a,16+b,35+a,17+b);this.context.bezierCurveTo(45+a,18+b,48+a,37+b,35+a,30+b);break;case"south":this.context.moveTo(23+a,15+b);this.context.bezierCurveTo(22+a,0+b,20+a,43+b,26+a,57+b);this.context.bezierCurveTo(30+a,67+b,50+a,53+b,34+a,42+b);break}}};item.prototype.drawIsland=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var c=this.posX+(this.width/2);var b=this.posY+(this.height/2);var a=this.height/2;this.context.beginPath();this.context.arc(c,b,a,0,2*Math.PI,false);this.context.lineWidth=2;this.context.moveTo(this.posX+(this.height/2),this.posY);this.context.lineTo(this.posX+this.width-(this.height/2),this.posY+this.height);this.context.moveTo(this.posX+this.width-(this.height/2),this.posY);this.context.lineTo(this.posX+(this.height/2),this.posY+this.height);this.context.lineJoin="round";this.context.stroke()};item.prototype.drawSkull=function(){this.context.clearRect(0,0,this.canvas.width-this.width,this.canvas.height);with(this.context){beginPath();translate(this.posX+game.cellWidth/2,this.posY);moveTo(0,0);moveTo(12.120982,37.155834);bezierCurveTo(12.120982,37.155834,4.9519448,34.264607,1.8984661999999997,29.510146);bezierCurveTo(-2.7609612,18.736245,4.9899066,6.0332994,13.846862,4.1958508);bezierCurveTo(33.024521,0.5105534,41.406722,11.869055,39.137627,28.674902);bezierCurveTo(38.407448,29.510146,31.039271,37.155834,31.039271,37.155834);lineTo(31.43755,47.307251);lineTo(26.392673,47.5);lineTo(12.320119,47.435747);fill();moveTo(8.3842858,14.590029);bezierCurveTo(8.3842858,14.590029,8.952063200000001,30.171878,19.346746000000003,15.999544);moveTo(24.489543,15.397967);bezierCurveTo(24.489543,15.397967,29.955957,27.104699,34.539493,15.558114);moveTo(17.0331,37.54133);lineTo(17.165860000000002,47.371501);moveTo(23.339197,37.926827);lineTo(23.272817,47.307251);moveTo(20.338983,24.338983);bezierCurveTo(20.338983,24.338983,25.016949999999998,28.610169,18.237285,31.59322);stroke();fill()}};item.prototype.drawWinner=function(){};item.prototype.cleanSlate=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.beginPath()};