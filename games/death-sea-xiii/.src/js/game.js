(()=>{var e=e=>{var r=0===e.indexOf("song");return{songData:[{i:[1,192,128,0,1,191,116,9,0,0,6,22,34,0,0,r?0:25,0,69,r?3:90,1,1,23,167,0,32,77,r?2:90,r?25:3,r?1:2],p:[1],c:[{n:"song-intro"===e?[137,137,,137,137,137,137,,142,,137,137,137,137,,142,142,,142,,144,144,144,144,,144,144,144,144,144]:"song-scores"===e?[139,139,139,142,142,142,142,142,142,142,142,137,137,137,142,142,142,142,142,142,142,142]:"bonus"===e?[147,149,151,152]:"explosion"===e?[135]:"damage"===e?[149]:[],f:[]}]}],rowLen:5513,patternLen:32,endPattern:0,numChannels:1}};const x={IMAGES:{COVER_SHIP:{res:{w:90,h:81},compressed:[-15,80,-16,2,64,-3,9,64,-16,41,-3,2,128,-16,2,164,-3,40,-17,32,-3,2,-17,2,-4,128,-17,32,-3,8,-17,10,-4,128,-16,10,170,-3,8,-16,2,170,168,-2,2,168,-16,2,170,-3,170,164,-16,10,170,-2,18,168,16,-15,2,169,96,-1,4,10,-1,64,-14,2,170,88,64,1,-1,160,1,-14,2,169,86,1,-1,64,10,-1,4,-14,169,85,96,4,16,-1,160,-1,16,-13,42,85,86,-1,20,-1,10,-2,64,-12,2,149,85,96,1,64,-1,160,-1,1,-13,37,85,86,-1,65,-1,10,-2,170,-12,10,85,85,168,16,4,-1,160,-1,2,-13,165,85,90,132,-1,16,10,-2,32,-12,10,85,85,90,-2,64,160,32,2,-13,149,170,170,168,-1,1,10,168,-1,32,-6,64,-5,10,104,10,2,160,2,170,168,-1,2,-6,9,64,-4,1,40,-1,170,162,-1,10,170,-1,170,32,-6,170,64,-4,64,2,170,168,128,-2,170,170,2,-6,10,165,-4,16,42,170,149,96,-1,10,170,166,128,32,-6,153,-4,4,10,160,5,104,-1,170,170,149,96,2,-6,8,-4,1,74,160,21,90,-1,170,170,85,90,-1,32,8,-5,128,-4,26,160,21,86,128,170,170,85,85,128,2,-1,160,-4,8,-4,6,160,21,85,160,170,169,85,81,96,-1,32,10,160,-4,128,-3,1,160,5,85,106,42,165,85,85,42,10,170,170,168,-4,8,-4,26,1,85,90,170,169,85,85,82,162,170,170,168,-5,128,-3,6,128,85,85,170,169,85,85,85,42,170,170,-1,42,168,-3,8,-4,160,21,85,90,170,85,85,85,81,168,170,170,170,168,-4,128,-3,26,5,85,85,170,21,21,85,85,22,128,2,170,128,-4,8,-3,4,165,85,85,90,161,81,85,85,81,72,-1,170,8,-5,128,-2,1,10,85,85,85,106,20,21,85,85,6,128,10,160,128,-4,8,-3,64,165,85,85,86,165,69,85,85,84,170,-1,150,8,-5,128,-2,16,10,21,85,85,82,148,85,85,85,74,160,9,96,160,-4,10,160,-1,4,-1,161,85,85,85,74,69,80,-1,20,170,-1,150,10,128,-2,2,170,168,-1,1,-1,10,21,85,85,85,40,80,-2,22,160,41,96,166,-3,10,168,-2,64,-1,161,64,2,170,170,164,-3,90,2,86,138,88,-4,128,-1,16,-1,2,42,170,170,170,170,170,170,161,-1,160,37,88,165,160,-3,8,128,4,-2,42,-1,2,170,170,170,170,170,129,106,2,85,138,88,128,-3,170,1,-3,128,-2,40,170,128,-1,42,42,128,37,88,165,130,-2,2,170,128,64,-5,2,10,170,168,-1,42,128,2,85,138,96,4,-2,10,160,16,-5,2,160,-1,32,-1,2,160,-1,37,88,168,-1,16,-2,8,4,-4,42,170,160,21,88,-2,10,-1,2,85,138,170,130,-3,161,-4,10,-2,5,86,-5,32,26,170,168,32,-3,128,-4,128,-1,20,85,128,-2,9,84,1,170,170,-1,2,-3,2,-4,8,-1,85,69,88,-2,2,-1,85,104,165,160,-1,32,-2,2,8,-3,2,-1,85,84,85,128,-2,149,85,90,137,90,-1,2,-3,40,32,-3,33,85,85,69,88,-2,85,85,86,168,149,160,-1,32,-2,2,170,128,-2,6,21,85,84,85,128,1,85,85,85,166,137,90,-1,2,-3,10,170,-2,1,33,85,85,69,88,-1,85,85,85,105,104,149,160,-1,160,-3,170,152,-2,66,21,85,84,85,128,85,85,85,90,86,137,90,128,10,-3,2,165,96,-1,16,32,85,85,69,86,9,85,85,86,169,160,149,168,-1,160,-4,149,128,4,-1,129,21,84,21,90,165,85,85,106,154,9,90,128,10,-4,2,86,5,-1,2,1,85,81,85,106,149,85,85,169,128,149,168,-1,160,-4,41,89,64,-1,168,-1,21,5,85,170,85,85,22,88,9,90,128,10,168,-3,2,165,104,42,170,165,85,85,85,86,169,80,80,89,128,149,170,170,170,160,-3,38,165,106,170,106,149,85,85,85,90,165,85,-1,106,170,90,170,170,170,-4,150,149,106,169,106,128,-3,2,170,170,170,170,170,170,170,170,160,-3,2,90,149,106,165,170,170,170,170,170,170,170,170,170,170,170,170,170,170,-4,9,90,85,106,149,106,170,170,170,170,170,170,170,170,170,170,170,170,152,-4,37,105,85,170,165,106,170,170,170,170,170,170,170,170,170,170,170,165,128,-4,149,169,85,170,165,106,170,170,170,170,170,170,170,170,170,170,165,104,-4,2,85,169,85,106,165,106,170,170,170,170,170,170,170,170,170,149,105,128,-4,9,85,169,85,106,165,170,170,170,170,170,170,170,170,170,165,106,88,-5,37,85,169,85,90,170,170,170,170,170,170,170,170,165,85,106,90,128,-5,149,85,170,85,85,169,86,170,170,170,170,170,165,90,169,90,152,-5,2,169,85,106,165,85,106,170,170,170,170,170,170,170,149,106,150,128,-5,42,169,85,86,169,85,85,85,85,85,85,85,85,85,106,86,168,-6,165,170,85,85,170,85,85,85,85,85,85,85,85,105,86,166,-6,10,85,106,85,85,106,165,85,85,85,85,85,90,169,90,165,128,-6,170,85,106,85,85,90,170,170,170,170,170,170,149,106,149,104,-6,10,106,85,106,149,85,106,170,170,170,170,170,170,170,85,104,-7,41,106,165,86,170,85,85,85,85,85,85,85,85,85,106,-6,2,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,-2,42,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170]},ARROW:{res:{w:16,h:16},compressed:[-1,26,148,-2,26,160,-1,4,2,128,64,6,2,130,128,26,170,170,144,-1,2,128,-1,24,2,128,96,170,2,130,169,170,2,130,169,24,2,128,96,24,2,128,96,26,2,128,160,10,150,150,128,2,170,170,-2,6,144,-2,1,64,-1]},TITLE_SEA:{res:{w:800,h:60},c1:"#05647b",c2:"#08172e",data:(()=>{var r=[];for(let e=0;e<800;e++)for(let e=0;e<4;e++)r.push(2);for(let e=0;e<800;e++)for(let e=0;e<56;e++)r.push(1);return r})()},BULLET_BONUS:{res:{w:26,h:13},compressed:[170,170,170,170,170,170,168,42,168,-2,10,170,136,170,138,170,170,-1,168,162,168,-2,10,170,138,106,170,170,170,170,168,166,136,138,138,130,2,138,40,136,168,168,168,168,10,136,138,138,138,138,138,40,136,168,168,40,168,169,136,138,138,138,138,138,152,136,168,168,168,168,2,128,128,128,130,138,170,170,170,170,170,170]},LIFE_BONUS:{res:{w:26,h:13},compressed:[170,170,170,170,170,170,170,166,170,170,170,170,170,166,166,154,170,170,170,169,153,153,170,106,170,170,154,105,154,170,170,170,169,170,153,170,101,89,90,150,165,154,166,106,154,170,153,169,170,101,105,106,154,105,154,166,106,154,170,106,105,170,102,169,170,169,154,149,102,106,149,170,166,170,170,170,170,170,170,170,170,170,170,170]},SHIP_1:{res:{w:32,h:32},c1:"#85867a",c2:"#5c2e22",generateInverted:!0,compressed:[-20,42,-7,37,160,-6,42,-7,32,-7,32,-7,32,-7,32,-6,1,164,-6,4,164,-6,22,36,-6,72,36,-5,1,24,36,-5,4,88,36,-5,16,88,36,-5,64,88,36,-4,1,-1,88,36,-4,4,-1,88,36,-4,16,-1,24,36,-4,64,-1,8,36,-2,32,26,64,-1,2,36,42,170,160,-1,168,-2,164,149,85,160,-1,38,170,160,38,85,85,160,-1,41,85,90,169,86,170,128,-1,2,170,165,85,90,170,-3,42,170,170,170,170,-3,42,170,170,170,168,-3,10,170,170,170,168,-3,2,170,170,170,160,-4,170,170,170,128,-9]},SHIP_2:{res:{w:32,h:32},c1:"#85867a",c2:"#5c2e22",generateInverted:!0,compressed:[-20,42,-7,38,128,-6,42,-7,32,-7,32,-7,32,-7,32,-6,1,164,-6,4,164,-6,22,36,-6,72,36,-5,1,24,36,-5,4,24,36,-5,16,24,36,-5,64,24,36,-4,1,-1,24,36,-4,4,-1,24,36,-4,16,-1,24,36,-4,64,-1,8,36,-2,32,10,64,-1,2,36,42,170,170,2,168,-2,164,149,85,168,-1,166,170,160,38,85,85,160,-1,41,85,90,169,85,86,128,-1,10,165,85,85,86,170,-2,2,170,85,85,90,170,-3,170,170,170,170,168,-3,42,170,170,170,168,-3,2,170,170,170,160,-4,170,170,170,128,-9]},BULLET:{res:{w:4,h:8},compressed:[130,130,130,130,65,65,65,65]},HEART:{c1:"#FE3333",c2:"#000",res:{w:18,h:18},compressed:[2,168,2,168,0,170,128,42,128,41,86,9,90,10,85,90,85,106,165,85,165,85,170,85,85,85,90,165,85,85,85,170,85,85,85,90,165,85,85,85,162,149,85,85,104,10,85,85,90,0,41,85,86,128,0,165,85,160,0,2,149,104,0,0,10,90,0,0,0,42,128,0,0,0,160,0,0,0,10,0,0]},ENEMY_1_1:{c1:"#c5454c",c2:"#000",res:{w:32,h:32},compressed:[-128,10,128,-5,168,37,96,160,-2,2,130,90,165,90,152,-2,9,169,106,41,86,150,-2,37,165,168,10,86,149,138,168,149,165,160,2,149,165,101,86,86,150,160,-1,165,105,101,86,90,90,128,-1,41,90,149,85,169,106,-2,10,86,101,86,101,168,-2,10,89,169,90,153,160,-2,10,89,101,86,89,128,-2,2,150,85,85,101,128,-2,2,165,153,89,150,128,-2,2,170,149,85,170,128,-4,37,86,-6,10,168,-3]},ENEMY_1_2:{c1:"#c5454c",c2:"#000",res:{w:32,h:32},compressed:[-49,128,-5,128,2,160,-4,2,160,10,168,-4,10,104,41,106,-4,41,90,165,86,128,-3,165,88,41,85,160,-2,2,165,96,2,85,104,-2,10,149,88,9,85,90,-2,42,85,106,37,85,90,128,-1,170,85,168,10,165,85,160,2,169,86,-2,37,85,160,2,149,85,128,-1,149,165,160,2,150,149,96,2,86,153,160,2,153,165,160,9,86,150,160,2,165,165,128,9,86,149,170,170,149,166,-1,37,85,165,101,86,86,168,-1,10,165,105,101,86,90,96,-2,42,170,149,85,169,96,-3,2,101,86,102,160,-3,9,169,90,152,-4,9,101,86,88,-4,2,85,85,96,-5,153,89,128,-5,149,85,128,-5,37,86,-6,10,168,-3]},ENEMY_1_3:{c1:"#c5454c",c2:"#000",res:{w:32,h:32},compressed:[-1,8,-4,8,-2,42,-4,42,-2,166,128,-3,166,128,2,149,160,-2,2,149,160,10,85,104,-2,10,85,104,41,89,90,-2,41,85,138,149,86,86,128,-1,165,86,106,37,85,149,160,2,149,90,104,41,85,101,104,10,85,105,96,9,85,105,90,41,85,165,96,9,85,90,86,37,85,149,96,9,85,86,86,37,90,85,104,10,165,101,86,37,89,90,170,-1,37,101,86,37,85,90,170,-1,37,105,86,37,89,86,-2,165,86,86,37,105,86,-2,149,85,170,37,165,86,-1,2,149,165,90,37,86,150,128,10,86,153,86,37,89,170,128,-1,170,150,86,37,101,168,-2,2,149,154,169,149,160,-3,165,101,86,86,128,-3,41,101,86,90,-4,10,149,85,168,-4,2,101,86,96,-4,9,169,90,152,-4,9,101,86,88,-4,2,85,85,96,-5,153,89,128,-5,149,85,128,-5,37,86,-6,10,168,-3]},WATER_1:{c1:"#4ebcb9",c2:"#349aa4",res:{w:24,h:24},compressed:[85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,86,85,85,89,85,85,85,85,85,86,149,85,85,85,89,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,169,85,85,85,85,86,86,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,89,85,85,89,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,149,85,85,105,85,85,85,85,85,85,85,85,86,86,85,85,85,85,85,169,85,85,89,85,85,85,85,85,85]},WATER_2:{c1:"#4ebcb9",c2:"#349aa4",res:{w:24,h:24},compressed:[85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,89,85,85,101,85,85,90,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,86,86,85,85,85,85,85,169,85,85,85,85,85,85,85,85,85,89,85,85,89,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,86,85,85,85,85,85,85,85,85,85,85,85,85,85,85,86,85,169,85,85,85,85,86,86,85,85,85,85,85,85,85,85,105,85,85,85,85,85,85]},EXPLOSION_1:{res:{w:32,h:32},c1:"#716e00",c2:"#000",compressed:[-27,64,-18,4,0,0,16,-26,16,-14,26,64,-6,42,165,-4,4,0,42,106,-6,41,90,0,1,-4,105,89,-6,169,89,-6,106,106,-6,26,169,-6,6,144,-6,1,64,-4,1,-30,1,-3,64,-9,16,-28,64,-3,16,-8]},EXPLOSION_2:{res:{w:32,h:32},c1:"#fff33c",c2:"#000",compressed:[-3,16,-29,16,-4,64,-20,4,-6,64,9,9,-5,36,10,105,1,64,20,0,0,26,90,170,89,0,64,0,0,10,170,170,168,-4,6,170,170,169,-3,1,26,170,170,170,-4,106,170,170,169,-4,42,170,106,169,-4,42,169,90,170,165,-3,106,170,106,170,84,0,4,0,106,170,170,169,-3,1,170,170,170,164,0,4,0,6,90,170,170,164,-4,6,170,170,85,-4,6,170,86,64,-4,4,5,6,64,-5,1,1,64,-7,64,-19,80,-4,4,-4,1,-20]},EXPLOSION_3:{res:{w:32,h:32},c1:"#fff33c",c2:"#000",compressed:[-8,20,0,1,0,0,64,-9,4,-11,80,4,-4,128,0,16,20,0,20,0,4,36,0,5,64,1,160,0,0,9,0,26,148,1,128,0,0,6,70,170,169,164,-4,26,170,170,168,0,0,16,1,170,170,170,169,0,1,0,6,170,169,170,169,2,0,0,10,170,170,165,170,65,0,2,74,169,169,170,170,128,0,0,6,170,89,150,170,128,0,0,6,170,153,106,170,144,0,0,10,170,150,90,170,160,64,4,10,169,101,106,170,165,148,0,6,170,166,101,170,144,0,1,134,170,154,106,170,64,0,6,166,170,106,106,169,-3,2,170,170,170,169,0,1,0,0,106,170,170,164,0,64,0,64,26,170,170,144,80,0,0,1,133,170,169,64,96,0,0,2,0,25,100,-6,20,6,-3,4,0,0,20,6,-6,16,1,64,4,-10,64,16,-4,16,-5,1,0,0]},EXPLOSION_4:{res:{w:32,h:32},c1:"#fff33c",c2:"#000",compressed:[-3,20,4,-3,16,0,1,106,90,100,-3,16,170,170,90,169,64,1,16,2,170,169,10,170,164,0,0,42,170,144,5,170,169,0,0,42,164,0,0,106,170,0,0,170,160,0,0,6,170,0,17,170,64,-3,106,0,1,169,-4,21,0,0,80,-5,80,5,64,0,1,0,0,1,160,42,144,1,-3,6,168,42,144,-4,6,168,42,128,-4,6,168,42,128,-4,2,169,170,64,-4,1,169,170,128,64,0,16,0,2,168,106,64,-5,164,41,-6,80,4,-6,0,6,64,-4,18,128,10,144,0,0,4,0,10,144,10,164,-4,26,160,10,169,-4,42,144,6,170,64,-3,42,144,6,170,144,-3,42,128,1,170,161,64,0,42,70,64,0,106,138,170,128,106,64,0,0,5,74,170,168,170,128,-3,6,170,168,106,64,-3,1,106,164,21,0,4,4,0,0,4,-4]},CANNON_BALL:{res:{w:16,h:16},compressed:[-1,5,64,-2,90,148,-1,1,170,169,-1,6,170,170,64,10,170,150,144,26,170,166,148,42,170,170,164,42,170,170,164,42,170,170,164,42,170,170,164,10,170,170,148,6,170,170,80,2,170,170,64,-1,170,169,-2,42,164,-5]},LETTER_PEN:{res:{w:40,h:40},compressed:[1,85,85,85,85,85,64,-3,25,105,85,85,85,85,100,-3,32,10,-4,9,-3,128,2,-4,2,-3,170,170,130,170,170,170,144,128,-4,128,-4,128,-4,32,170,170,170,164,32,-1,160,-2,32,-4,32,10,96,-2,32,-4,32,37,96,-2,40,106,170,170,168,34,149,96,-2,8,-4,41,89,80,-2,8,170,170,170,168,41,101,144,-2,8,-4,85,102,64,-2,8,-3,2,85,149,144,-2,8,21,85,85,86,86,85,128,-2,8,-3,6,86,86,-3,8,42,170,170,170,89,88,-3,8,-3,37,89,100,-3,8,-3,37,101,164,-3,8,42,170,170,165,101,100,-3,8,-3,9,149,96,-3,8,42,170,170,169,149,128,-3,8,-3,37,150,-4,8,1,85,85,102,89,-4,8,21,85,85,90,89,-4,8,-3,2,104,-4,8,10,170,170,170,136,-4,10,-3,2,8,-4,2,-3,2,136,-4,2,2,170,170,170,2,-4,2,-4,2,-4,2,-1,85,85,85,82,-4,2,128,-1,170,170,170,170,168,-3,128,-1,8,-3,2,-3,32,-1,2,-3,1,-3,36,-1,2,-3,1,-3,8,-1,2,-3,1,-3,2,64,8,-3,2,-4,170,165,85,85,85,88,-4,21,64,-4]},ENEMY_2_1:{res:{w:32,h:32},c1:"#5b4e9d",c2:"#000",compressed:[-12,10,170,128,-5,37,85,104,-5,149,170,130,-4,2,86,-2,128,-2,32,9,88,2,-1,128,-2,32,9,88,2,-4,96,9,88,1,128,-3,96,9,88,1,128,-3,96,9,88,1,128,-3,96,9,88,1,128,-3,96,9,88,5,128,-1,4,-1,96,9,88,6,128,-1,25,-1,96,9,88,6,64,8,10,64,32,9,88,6,64,40,2,144,36,9,88,10,1,164,-1,164,36,9,88,10,6,144,-1,41,36,9,88,10,26,64,-1,10,104,25,89,42,105,-1,20,-1,170,41,90,170,164,5,106,144,170,165,86,170,128,170,26,170,162,165,86,162,170,169,-1,42,160,37,86,2,165,-4,169,86,128,-4,2,9,90,32,-4,2,10,104,32,-4,10,9,88,40,-5,2,104,-6,2,160,-6,2,96,-7,128,-11]},ENEMY_2_2:{res:{w:32,h:32},c1:"#5b4e9d",c2:"#000",compressed:[-4,2,-5,1,-1,2,128,-4,1,-1,42,128,-4,1,128,150,128,-3,64,1,130,86,128,-3,64,-1,137,88,1,-3,96,2,137,88,2,-1,64,-1,96,6,137,104,10,-1,64,-1,96,6,137,104,9,-1,64,-1,160,6,137,104,40,1,64,-1,160,6,137,104,104,1,64,-1,160,6,9,104,104,1,-2,160,6,9,104,96,1,-2,148,6,73,104,96,2,-2,152,2,73,104,96,10,-2,40,2,73,104,96,24,-2,8,2,9,104,32,40,1,-1,8,2,9,104,32,96,1,-1,2,106,25,89,160,128,6,20,-1,170,41,90,170,128,26,106,144,170,165,86,170,-1,96,26,170,162,165,86,162,150,128,-1,42,160,37,86,2,170,-4,169,86,128,-4,2,9,90,32,-4,2,10,104,32,-5,9,88,32,-5,2,104,-6,2,160,-6,2,96,-7,128,-11]},ENEMY_3_1:{res:{w:32,h:32},c1:"#ac9581",c2:"#000",compressed:[-3,8,-7,8,-4,8,32,-1,170,8,2,2,8,2,32,128,8,2,8,2,32,-1,160,32,8,-1,160,2,128,10,160,8,8,-1,170,128,168,-1,8,2,8,2,-1,2,-2,2,128,136,8,-1,8,-3,32,40,32,-1,32,-1,42,-1,8,40,32,-1,130,168,2,128,2,8,32,2,40,-2,168,-1,136,160,8,160,-2,10,-1,138,128,32,128,-1,1,66,128,34,128,130,128,-1,2,144,128,10,128,130,1,64,-1,165,64,10,128,130,22,64,-1,170,148,10,128,133,90,64,-1,42,165,10,130,22,169,-2,10,165,90,130,106,164,-2,10,170,170,169,170,148,-2,2,170,165,86,170,80,-3,170,165,86,169,64,-3,42,149,86,169,-4,170,170,170,166,128,-2,2,170,149,85,165,160,-2,2,170,105,105,101,96,-2,10,89,89,101,105,96,-2,9,89,85,85,101,104,-2,9,86,85,85,165,88,-2,10,86,153,89,149,88,-2,2,88,165,86,170,168,-2,2,168,42,170,2,160,-1]},ENEMY_3_2:{res:{w:32,h:32},compressed:[8,-1,136,8,-1,8,-2,170,8,160,8,2,8,130,-1,40,2,128,136,128,170,130,8,8,-1,128,42,-1,8,2,40,2,168,160,8,-1,32,2,32,-1,8,8,8,-1,128,2,128,-1,10,2,8,2,2,2,168,-1,130,128,136,8,10,8,-1,10,128,32,40,32,40,32,8,-1,128,8,40,32,32,128,8,-1,128,2,8,32,162,-1,34,-1,168,-1,136,162,136,-1,170,-1,10,-1,138,130,32,10,136,1,66,128,34,136,170,160,10,2,144,128,10,136,128,1,64,-1,165,64,10,136,128,22,64,-1,170,148,10,136,133,90,64,-1,42,165,10,138,22,169,-2,10,165,90,130,106,164,-2,10,170,170,169,170,148,-2,2,170,165,86,170,80,-3,170,165,86,169,64,-3,42,149,86,169,-4,170,170,170,166,128,-2,2,170,149,85,165,160,-2,2,170,105,105,101,96,-2,10,89,89,101,105,96,-2,9,89,85,85,101,104,-2,9,86,85,85,165,88,-2,10,86,153,89,149,88,-2,2,168,165,86,170,160,-4,42,170,-3]},FISHES:{c1:"#26a0a0",res:{w:16,h:16},compressed:[-6,16,80,-2,21,84,69,64,16,80,85,80,-2,65,-6,84,-6,16,-2,16,85,-2,85,85,64,-1,16,85,-3,16,-1,1,-2,16,5,80,-1,84,1,-3]}},MUSICS:{INTRO:e("song-intro"),BONUS:e("bonus"),EXPLOSION:e("explosion"),DAMAGE:e("damage")}},S={},y={w:800,h:600},t="monospace";const s="__DEATH_SEA_XIII_storage__scores",n=10,_=1,d=2,g=3,o=1,a=1,i=2,c=3,l=4,f=5,h=5,E=2,w=2,I=3,T=4,O=5,N=6,M=7,A=8,L=9,D=10,X=11,b=12,R=13,v=14,P=15,H=16,F=17,W=18,p=3,B=4;function U(e){S.sprites.splice(S.sprites.indexOf(e),1)}function C(e,r){var s=e.x+e.res.w,t=r.x+r.res.w,n=e.y+e.res.h,o=r.y+r.res.h;return e.x<t&&e.x>r.x&&e.y<o&&e.y>r.y||r.x<s&&r.x>e.x&&r.y<n&&n<o}function z(){return JSON.parse(localStorage.getItem(s)||"[]").splice(0,n)}function m(){var e,r;(e=document.createElement("canvas")).width=20,e.height=20,(r=e.getContext("2d")).fillStyle="rgba(0, 0, 0, 0.15)",r.beginPath(),r.arc(10,10,10,0,2*Math.PI),r.fill(),r=e.toDataURL("image/png"),(e=new Image).src=r,x.shadowPng=e,Object.keys(x.IMAGES).forEach(e=>{const i=x.IMAGES[e];e=i;i.data||(i.data=e.compressed.reduce((r,e)=>{if(e<0){var s=-1*e;for(let e=1;e<1+s;e++)r.push(0)}else r.push(e);return r},[]).reduce((e,r)=>{let s=((e,r)=>{for(;e.length<r;)e="0"+e;return e})((+r).toString(2),8);for(;s.length;){var t=s.substring(0,2),t=parseInt(t,2);e.push(t),s=s.substring(2,s.length)}return e},[]));const c=i.data,l=e.c1||"#999",d=e.c2||"#000";e=r=>{var e=document.createElement("canvas"),s=(e.width=i.res.w,e.height=i.res.h,e.getContext("2d"));let t=0,n=0;do{for(let e=0;e<i.res.w;e++){var o=r?c[i.res.w-1-e+t]:c[e+t];0!==o&&(s.fillStyle=1===o?l:d,s.fillRect(e,n,1,1))}}while(t+=i.res.w,n+=1,t<c.length);var e=e.toDataURL("image/png"),a=new Image;a.src=e,i[r?"invertedPng":"png"]=a};e(),i.generateInverted&&e(!0)})}function Y(e,r){return Math.floor(Math.random()*(r-e+1)+e)}function k(e,s){if(S.audio&&(S.audio.pause(),S.audio.src="",e)){const t=new CPlayer;t.init(e);let r;const n=setInterval(()=>{var e;(r=1<=t.generate())&&(e=t.createWave(),S.audio.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),S.audio.play(),S.audio.loop=!!s,clearInterval(n))},0)}}function G(e){switch(e){case o:var r=.2*y.w;S.scene=o,S.selectedMenu=i,S.sprites=[{shape:d,from:"#FFF",to:"#ffebd8",x:0,y:0,w:y.w,h:y.h,gradientSize:300},{id:l,frames:[x.IMAGES.ARROW.png],res:{w:16,h:16},x:290,y:S.selectedMenu===i?320:340},{frames:[x.IMAGES.TITLE_SEA.png],x:0,y:540},{id:f,frames:[x.IMAGES.ENEMY_1_1.png,x.IMAGES.ENEMY_1_2.png,x.IMAGES.ENEMY_1_3.png],res:{w:32,h:32},x:370,y:80,scale:1.6,frame:0},{frames:[x.IMAGES.COVER_SHIP.png],res:{w:150,h:85},x:y.w-300,y:380,scale:2.4}],S.texts=[{id:a,text:"Death Sea XIII",x:60+r,y:-50,font:"48px 'sans-serif'"},{id:i,text:"Start Game",x:150+r,y:300,font:"21px "+t},{id:c,text:"High Scores",x:150+r,y:330,font:"21px "+t},{text:"Use keyboard arrows ←↑→↓  and ↵ enter",x:10,y:590,font:"10px "+t}],k(x.MUSICS.INTRO,!0);break;case p:k(),S.scene=p,S.sprites=[{frames:[x.IMAGES.SHIP_1.png],res:{w:32,h:32},x:350,y:50,scale:2.3},{frames:[x.IMAGES.LETTER_PEN.png],res:{w:40,h:40},x:20,y:y.h-70,scale:1.5}],S.texts=[{text:"Your Majesty,",font:"34px "+t,x:20,y:200},{text:"I pen this message knowing it may be my last.",x:20,y:240,font:"21px "+t},{text:"I can confirm, Your Majesty, that the",x:20,y:290,font:"21px "+t},{text:"ancient tales of sea monsters are true!",x:20,y:310},{text:"As we prepare to face them in battle, I wish to convey",x:20,y:360},{text:"the honor it has been to serve our house.",x:20,y:380},{text:"Captain Cedric Leviathanhunter, 13th March 1293.",x:20,y:460,font:"18px "+t},{text:"Press ↵ to continue",x:650,y:590,font:"12px "+t}];break;case E:S.gameOver=void 0,S.scene=E,S.life=5,S.PLAYER_LIMIT_X=y.w-x.IMAGES.SHIP_1.res.w,S.PLAYER_LIMIT_Y=y.h-x.IMAGES.SHIP_1.res.h,S.score=0,S.enemiesCount=0,S.timecontrol=0,S.sprites=[{id:w,frames:[x.IMAGES.SHIP_1.png,x.IMAGES.SHIP_2.png],invertedFrames:[x.IMAGES.SHIP_1.invertedPng,x.IMAGES.SHIP_2.invertedPng],res:{w:32,h:32},x:385,y:550,forceX:0,forceY:0,cannonReady:0,frame:0,scale:1.2,shadow:{color:"#349794"}}];for(let e=0;e<Y(3,8);e++)S.sprites.push({id:W,frames:[x.IMAGES.FISHES.png],x:-10-Y(0,300),y:Y(50,500),res:{w:16,h:16},forceX:Y(0,5)});S.texts=[{id:M,prefix:"SCORE: ",text:"",y:20,x:y.w-80},{id:D,text:"CANNONS READY!",y:20,x:y.w/2-50,visible:!1},{id:H,text:"GAME OVER",y:260,x:y.w/2-40,visible:!1}],S.screenForce=1;for(let r=0;r<y.w;r+=24)for(let e=-50;e<1.8*y.h;e+=24)S.sprites.unshift({id:O,frames:[x.IMAGES.WATER_1.png,x.IMAGES.WATER_2.png],res:{w:24,h:24},x:r,frame:0,y:e});for(let e=0;e<h;e++)S.sprites.push({id:N,life:e+1,frames:[x.IMAGES.HEART.png],res:{w:18,h:18},x:5+18*e+5*e,y:5});break;case B:k(x.MUSICS.INTRO,!0),S.scene=B,S.texts=[{text:"High Scores",x:y.w/2-120,y:60,font:"34px "+t},{text:"Press ↵ to back",x:y.w-140,y:y.h-20,font:"12px "+t}];r=z();if(r.length)r.forEach((e,r)=>{return S.texts.unshift({text:`${s=r+1+"",s.length<2?" "+s:s} - ${s=e.playerName,s.length<30?""+s+" ".repeat(30-s.length):s.substring(0,30)} ${e.score} points`,x:100,y:260+25*r,font:"21px "+t});var s});else S.texts.push({text:"No one score have been registered yet.",x:155,y:260,font:"21px "+t});S.sprites=[{frames:[x.IMAGES.LETTER_PEN.png],x:y.w/2-50,y:100,res:{w:40,h:40},scale:1.7}]}}function u(){let o,a;a=S.gameOver;var r,e,i=S.delayControl%5==0;if(0===S.gameOver)r=+S.score,(e=z()).filter(e=>e.score>r).length>=n||(c=prompt("New Record! Please, enter your name"))&&(e.push({playerName:c,score:r,scoreAt:new Date}),e.sort((e,r)=>r.score-e.score),localStorage.setItem(s,JSON.stringify(e))),G(B);else{for(const h of S.texts)h.isBlinking&&(--h.isBlinking,h.isBlinking=h.isBlinking<0?0:h.isBlinking),h.id===M?h.text=h.prefix+S.score:h.id===D?o=h:h.id===H&&(h.visible=!!S.gameOver);var c,l,d,f,E=(e,r)=>(k(x.MUSICS.EXPLOSION),{id:A,frames:[x.IMAGES.EXPLOSION_1.png,x.IMAGES.EXPLOSION_2.png,x.IMAGES.EXPLOSION_3.png,x.IMAGES.EXPLOSION_4.png],x:e,y:r,res:{w:32,h:32},frame:0}),p=(e,r)=>({id:F,shape:g,color:"#58cfcc",size:15,x:e,y:r});S.bulletBonus&&--S.bulletBonus,S.delayControl%50==0&&(S.timecontrol+=1,11===(c=Y(0,25))&&S.sprites.push({id:P,frames:[x.IMAGES.LIFE_BONUS.png],res:{w:24,h:13},x:Y(10,750),y:Y(-100,-400),scale:1}),12===c&&S.sprites.push({id:v,frames:[x.IMAGES.BULLET_BONUS.png],res:{w:24,h:13},x:Y(10,750),y:Y(-100,-400),scale:1}),S.enemiesCount<10&&(S.enemiesCount+=1,S.sprites.push({id:T,frames:[x.IMAGES.ENEMY_1_1.png,x.IMAGES.ENEMY_1_2.png,x.IMAGES.ENEMY_1_3.png],res:{w:32,h:32},x:Y(10,750),y:Y(-40,-120),forceX:Y(-3,3),forceY:Y(1,3)||1,awaiting:Y(0,200),shadow:{color:"#349794",distance:15},frame:0})),80<S.timecontrol&&S.enemiesCount<13&&(S.enemiesCount+=1,S.sprites.push({id:b,frames:[x.IMAGES.ENEMY_2_1.png,x.IMAGES.ENEMY_2_2.png],res:{w:32,h:32},frame:0,x:Y(10,750),y:Y(-40,-120),forceX:Y(-2,4),forceY:Y(1,3)||1,awaiting:Y(0,200),shadow:{color:"#349794",distance:-5},life:2})),210<S.timecontrol)&&S.enemiesCount<16&&(S.enemiesCount+=1,S.sprites.push({id:R,frames:[x.IMAGES.ENEMY_3_1.png,x.IMAGES.ENEMY_3_2.png],frame:0,res:{w:32,h:32},x:Y(10,750),y:Y(-40,-120),forceX:Y(-4,4),forceY:Y(1,4),awaiting:Y(0,200),shadow:{color:"#349794",distance:-5},life:4}));let r,s=[],e=[],t,n=[];for(const m of S.sprites)m.id===O?(m.y+=S.screenForce,m.y>y.h&&(m.y=-24),S.delayControl%25==0&&(m.frame+=1,m.frame=2===m.frame?0:m.frame)):m.id===v||m.id===P?(m.y+=1,n.push(m),i&&(m.pulsing=(m.pulsing||1)+1,m.pulsing=20===m.pulsing?0:m.pulsing,m.scale+=.02*(10<m.pulsing?-1:1))):m.id===T?(s.push(m),m.y+=m.forceY,m.x+=m.forceX,i&&(m.frame+=1,m.frame=m.frame===m.frames.length?0:m.frame),S.delayControl%10==0&&(m.awaiting&&--m.awaiting,m.y>y.h+45)&&(U(m),--S.enemiesCount)):m.id!==b&&m.id!==R||!r?m.id===L?(t=m,S.sprites.push({id:X,x:m.x+8,y:m.y+m.res.h+2,shape:_}),m.y-=8,m.y<-200&&U(m)):m.id===w?(r=m,a?m.visible=!1:(r.cannonReady?(--r.cannonReady,o.visible=!1):o.visible=!0,i&&(S.delayControl%70==0&&(m.frame+=1,m.frame=2===m.frame?0:m.frame),0<m.forceX?m.forceX-=.1:m.forceX<0&&(m.forceX+=.1),0<m.forceY?m.forceY-=.1:m.forceY<0&&(m.forceY+=.1),m.isBlinking)&&(--m.isBlinking,m.isBlinking=m.isBlinking<0?0:m.isBlinking),S.LEFT_BUTTON_PRESSED?(m.forceX-=2,m.forceX=m.forceX<-4?-4:m.forceX,m.inverted=!1):S.RIGHT_BUTTON_PRESSED&&(m.forceX+=2,m.forceX=4<m.forceX?4:m.forceX,m.inverted=!0),S.UP_BUTTON_PRESSED?(--m.forceY,m.forceY=m.forceY<-2?-2:m.forceY):S.DOWN_BUTTON_PRESSED&&(m.forceY+=1,m.forceY=2<m.forceY?2:m.forceY),m.x+=m.forceX,m.x=m.x<0?0:m.x,m.x=m.x>S.PLAYER_LIMIT_X?S.PLAYER_LIMIT_X:m.x,m.y+=m.forceY,m.y=m.y<0?0:m.y,m.y=m.y>S.PLAYER_LIMIT_Y?S.PLAYER_LIMIT_Y:m.y,l=S.bulletBonus?5:30,S.delayControl%l==0&&S.sprites.push({id:I,frames:[x.IMAGES.BULLET.png],res:{w:4,h:8},x:m.x+15,y:m.y+5}))):m.id===I?(e.push(m),m.y-=5,m.y<1&&U(m)):m.id===A&&S.delayControl%4==0?(m.frame+=1,3<m.frame&&U(m)):m.id===N?m.visible=!(m.life>S.life):m.id===F?(m.size+=15,600<m.size&&U(m)):m.id===W&&(m.x+=.1*m.forceX,850<m.x)&&(m.x=-100,m.y=Y(50,500)):(i&&(m.frame+=1,m.frame=2===m.frame?0:m.frame),s.push(m),m.y+=m.forceY,m.x+=m.forceX*(r.x===m.x?0:r.x>m.x?-1:1),m.y>y.h+45&&(U(m),--S.enemiesCount));S.gameOver?--S.gameOver:S.life<1&&(S.gameOver=240,S.sprites.push(E(r.x,r.y)),S.sprites.push(p(r.x,r.y)));for(d of n)if(C(d,r)){switch(k(x.MUSICS.BONUS),d.id){case P:S.life+=1,S.life=5<S.life?5:S.life;break;case v:S.bulletBonus=500}U(d)}for(f of e)for(const u of s)C(u,f)&&(U(f),u.life&&(--u.life,u.life)||(S.sprites.push(E(u.x,u.y)),S.sprites.push(p(u.x,u.y)),S.score+=(()=>{switch(u.id){case T:return 1;case b:return 3;case R:return 6;default:return 1}})(),U(u),--S.enemiesCount));for(let e of s)!r.isBlinking&&C(e,r)?(r.isBlinking=20,--S.life,k(x.MUSICS.DAMAGE)):t&&C(t,e)?(S.sprites.push(E(e.x,e.y)),S.sprites.push(p(e.x,e.y)),U(t),t=null,e.y=y.h+200,e.x=Y(0,750),S.score+=(()=>{switch(e.id){case T:return 1;case b:return 3;case R:return 6;default:return 1}})()):r.cannonReady||r.x>e.x&&r.x<e.x+e.res.w&&30<e.y&&100<e.y&&e.y<y.h&&(r.cannonReady=200,S.sprites.push({id:L,frames:[x.IMAGES.CANNON_BALL.png],x:r.x+12,y:r.y-5,res:{w:16,h:16}}))}}function K(){switch(S.scene){case o:var e;(S.DOWN_BUTTON_RELEASED||S.UP_BUTTON_RELEASED)&&(S.selectedMenu=S.selectedMenu===c?i:c),S.OK_BUTTON_RELEASED&&G(S.selectedMenu===c?B:p);for(const r of S.sprites)r.id===l?r.y=S.selectedMenu===i?284:313:r.id===f&&S.delayControl%8==0&&(r.frame+=1,r.frame=2===r.frame?0:r.frame);for(const s of S.texts)s.id===a?s.y<200&&(s.y+=5):s.id===i?(e=S.selectedMenu===i,s.font=e?"900 24px Ubuntu":"21px Ubuntu"):s.id===c&&(e=S.selectedMenu===c,s.font=e?"900 24px Ubuntu":"21px Ubuntu");break;case p:S.OK_BUTTON_RELEASED&&G(E);break;case E:u();break;case B:S.OK_BUTTON_RELEASED&&G(o)}}function $(){m(),document.body.style="margin: 0; padding: 0; background-color: #000";const l=document.createElement("canvas");var e,r,s;l.style.backgroundColor="#FFF",l.width=y.w,l.height=y.h,l.style.border="1px solid #333",e=l,r=window.innerWidth,s=(s=window.innerHeight)<r?s/y.h:r/y.w,e.style.transform=`scale(${s})`,document.body.appendChild(l),G(o),S.delayControl=0,setInterval(()=>{var e=l.getContext("2d"),r=(e.clearRect(0,0,y.w,y.h),S.delayControl++,S.delayControl=100<S.delayControl?0:S.delayControl,K(),e);for(const i of S.sprites)if(!(i.x<-50||i.y<-50||i.x>y.w||i.y>y.h||!1===i.visible||i.isBlinking&&i.isBlinking%2==0))if(i.shape)switch(i.shape){case g:r.beginPath(),r.strokeStyle=i.color||"#333",r.arc(i.x,i.y,i.size||3,0,2*Math.PI),r.lineWidth=2,r.stroke();break;case _:i.lifetime=i.lifetime||0,i.lifetime+=1,50<i.lifetime?U(i):(r.beginPath(),s=.7-i.lifetime/100,r.fillStyle=`rgba(0, 0, 0, ${s})`,r.arc(i.x,i.y,i.size||3,0,2*Math.PI),r.fill());break;case d:var s=r.createLinearGradient(0,i.gradientSize,0,0);s.addColorStop(0,i.from),s.addColorStop(1,i.to),r.fillStyle=s,r.fillRect(i.x,i.y,i.w,i.h)}else{i.shadow&&(a=i.y+i.res.h+(i.shadow.distance||0),r.drawImage(x.shadowPng,0,0,20,20,i.x+5,a,i.res.w,i.res.h/4));var t,n,o,a=(i.inverted?i.invertedFrames:i.frames)[i.frame||0];i.scale?(t=i.res.w,n=i.res.h,o=i.scale,r.drawImage(a,0,0,t,n,i.x,i.y,t*o,n*o)):r.drawImage(a,i.x,i.y),r.fillStyle="#000"}for(const c of S.texts)!1===c.visible||c.isBlinking&&c.isBlinking%2==0||(r.font=c.font,r.fillText(c.text,c.x,c.y));S.UP_BUTTON_RELEASED=S.LEFT_BUTTON_RELEASED=S.RIGHT_BUTTON_RELEASED=S.DOWN_BUTTON_RELEASED=S.OK_BUTTON_RELEASED=!1},1e3/60)}document.body.appendChild((()=>{const e=document.createElement("div");var r,s;return removeModal=()=>e.parentElement.removeChild(e),e.classList="sound-modal",e.appendChild(((s=document.createElement("h1")).textContent="Enable sound?",s)),e.appendChild(((s=document.createElement("div")).classList="sound-modal-button-wrp",s.appendChild((()=>{const e=document.createElement("button");return e.textContent="Yes",e.classList="primary-button",setTimeout(()=>e.focus(),400),e.addEventListener("click",()=>{var e;removeModal(),S.audio||(e=document.createElement("audio"),document.body.appendChild(e),S.audio=e),$(),setTimeout(()=>{document.addEventListener("keyup",e=>{switch(e.keyCode){case 37:S.LEFT_BUTTON_RELEASED=!0,S.LEFT_BUTTON_PRESSED=!1;break;case 38:S.UP_BUTTON_RELEASED=!0,S.UP_BUTTON_PRESSED=!1;break;case 39:S.RIGHT_BUTTON_RELEASED=!0,S.RIGHT_BUTTON_PRESSED=!1;break;case 40:S.DOWN_BUTTON_RELEASED=!0,S.DOWN_BUTTON_PRESSED=!1;break;case 13:S.OK_BUTTON_RELEASED=!0,S.OK_BUTTON_PRESSED=!1}}),document.addEventListener("keydown",e=>{switch(e.keyCode){case 37:S.LEFT_BUTTON_PRESSED=!0;break;case 38:S.UP_BUTTON_PRESSED=!0;break;case 39:S.RIGHT_BUTTON_PRESSED=!0;break;case 40:S.DOWN_BUTTON_PRESSED=!0;break;case 13:S.OK_BUTTON_PRESSED=!0}})},500)}),e})()),s.appendChild(((r=document.createElement("button")).textContent="No",r.classList="secondary-button",r.addEventListener("click",()=>{removeModal(),$()}),r)),s)),e})())})();