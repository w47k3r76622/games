!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class o{constructor(e=0,t=0){this[0]=e,this[1]=t}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}get length(){return 2}copyFrom(e){return this.x=e.x,this.y=e.y,this}scalarProduct(e){return this.x*e.x+this.y*e.y}setAsProjectionWith(e){const t=this.scalarProduct(this);if(0!==t){const i=this.scalarProduct(e)/t;this.setAsScaledBy(i)}return this}setAsScaledBy(e){return this.x*=e,this.y*=e,this}setAsPerpendicularTo(e){const t=e.y,i=-e.x;return this.x=t,this.y=i,this}add(e){return this.x+=e.x,this.y+=e.y,this}subtract(e){return this.x-=e.x,this.y-=e.y,this}}class n{constructor(e,t=e){this.length=e;for(var i=0;i<e;i++)this[i]=new Array(t)}static copyFromArray(e){var t=new n(e.length,e[0].length);t.length=e.length;for(var i=0;i<e.length;i++){t[i]=new Array(e[i].length);for(var o=0;o<e[i].length;o++)t[i][o]=e[i][o]}return t}static multiply(e,t,i,o,r,s){o=o||e.length,r=r||t.length,s=s||t[0].length,i=i||new n(o,s);for(var l=0;l<o;l++)for(var a=0;a<s;a++){i[l][a]=0;for(var c=0;c<r;c++)i[l][a]+=e[l][c]*t[c][a]}return i}static setToTranslation(e,t,i){if(3!==e.length)throw new Error("Invalid matrix size");return n.setToIdentity(e),e[2][0]=t,e[2][1]=i,e}static setToScale(e,t,i){if(3!==e.length)throw new Error("Invalid matrix size");return n.setToIdentity(e),e[0][0]=t,e[1][1]=i,e}static setToRotation(e,t){if(3!==e.length)throw new Error("Invalid matrix size");n.setToIdentity(e);var i=Math.sin(t),o=Math.cos(t);return e[0][0]=o,e[0][1]=-i,e[1][0]=i,e[1][1]=o,e}static identity(e){var t=new n(e);return n.setToIdentity(t)}static setToIdentity(e){if(e.length!==e[0].length)throw new Error("Invalid matrix size");for(var t=0;t<e.length;t++){for(var i=0;i<e.length;i++)e[t][i]=0;e[t][t]=1}return e}}const r=document.querySelector("#game-canvas"),s={width:1e3,height:1e3,scale:1},l=r.getContext("2d");class a{constructor(e,t){this.p1=e,this.p2=t}get x1(){return this.p1.x}get y1(){return this.p1.y}get a(){return this.p2.x-this.x1}get b(){return this.p2.y-this.y1}intersectionFactor(e){return(e.a*(this.y1-e.y1)-e.b*(this.x1-e.x1))/(e.b*this.a-this.b*e.a)}intersectionFactorOther(e,t){return e.a?(this.x1+this.a*t-e.x1)/e.a:(this.y1+this.b*t-e.y1)/e.b}intersectsWith(e,t=null){var i=this.intersectionFactor(e);if(i<0||i>1)return!1;var o=this.intersectionFactorOther(e,i);return!(o<0||o>1)&&(t&&(t.x=this.x1+this.a*i,t.y=this.y1+this.b*i),!0)}intersectsWithCircle(e,t=null){const i=this.x1-e.position[0],o=this.y1-e.position[1],n=this.a*this.a+this.b*this.b,r=2*(i*this.a+o*this.b),s=i*i+o*o-e.squaredRadius,[l,a]=((e,t,i)=>{const o=t*t-4*e*i;if(o<=0)return[void 0,void 0];const n=Math.sqrt(o),r=2*e;return[(-t+n)/r,(-t-n)/r]})(n,r,s),c=0<=l&&l<=1,d=0<=a&&a<=1;if(!c&&!d)return!1;if(t){const e=c?d?(l+a)/2:l:a;t.x=this.x1+this.a*e,t.y=this.y1+this.b*e}return!0}}a.v1=new o,a.v2=new o;class c{constructor(e){this.vertices=[];for(var t=0;t<e.length;t++)this.vertices.push([e[t][0],e[t][1],1])}copySegmentToS1(e){var t=(e+1)%this.vertices.length;return c.s1.p1.x=this.vertices[e][0],c.s1.p1.y=this.vertices[e][1],c.s1.p2.x=this.vertices[t][0],c.s1.p2.y=this.vertices[t][1],c.s1}intersectsWithSegment(e,t=null){for(var i=0;i<this.vertices.length;i++)if(e.intersectsWith(this.copySegmentToS1(i),t))return!0;return!1}intersectsWithPolygon(e,t=null){for(var i=0;i<this.vertices.length;i++)if(e.intersectsWithSegment(this.copySegmentToS1(i),t))return!0;return!1}intersectsWithCircle(e,t=null){for(var i=0;i<this.vertices.length;i++)if(this.copySegmentToS1(i).intersectsWithCircle(e,t))return!0;return!1}}c.s1=new a(new o,new o);class d{constructor(e,t){this.radius=e,this.squaredRadius=e*e,this.position=t}containsPoint(e){return(t=d.v1.copyFrom(e).subtract(this.position))[0]*t[0]+t[1]*t[1]<=this.squaredRadius;var t}intersectsWithPolygon(e,t=null){return e.intersectsWithCircle(this,t)}intersectsWithCircle(e,t=null){const i=this.radius+e.radius;if(((e,t)=>{const i=e[0]-t[0],o=e[1]-t[1];return i*i+o*o})(this.position,e.position)>i*i)return!1;if(t){const i=e.position.x-this.position.x,o=e.position.y-this.position.y,n=this.radius/(this.radius+e.radius);t.x=this.position.x+i*n,t.y=this.position.y+o*n}return!0}intersectsWithSegment(e,t=null){return e.intersectsWithCircle(this,t)}}d.v1=new o;class h{constructor(){this.id=h.nextId++,this.collisionSpeed=new o,this.collisionPosition=new o,this.directionFromCenterOfMassToCollisionPoint=new o,this.collisionSpeedProjection=new o,this.code=404,this.speed=new o,this.position=new o,this.circle=new d(20,this.position)}prepareContext(e){e.save(),e.translate(this.position[0],this.position[1])}checkCollision(e){this.circle.intersectsWithCircle(e.circle,this.collisionPosition)&&(this.collisionSpeed.copyFrom(e.speed).subtract(this.speed),this.directionFromCenterOfMassToCollisionPoint.copyFrom(this.collisionPosition).subtract(e.position),this.collisionSpeedProjection.copyFrom(this.directionFromCenterOfMassToCollisionPoint).setAsProjectionWith(this.collisionSpeed),this.directionFromCenterOfMassToCollisionPoint.scalarProduct(this.collisionSpeed)>0&&(this.speed.add(this.collisionSpeedProjection.setAsScaledBy(1.1)),e.speed.subtract(this.collisionSpeedProjection.setAsScaledBy(1.1))))}draw(e){e.fillStyle=404===this.code?"red":"green",e.beginPath(),e.arc(0,0,20,0,6.3,!0),e.fill(),e.fillStyle="white",e.fillText(this.code.toString(),-12,3)}restoreContext(e){e.restore()}render(e){this.prepareContext(e),this.draw(e),this.restoreContext(e)}}h.nextId=1;const u=e=>e>0?1:e<0?-1:0,p=(e,t,i)=>Math.max(e,Math.min(t,i));class m extends c{constructor(e,t,i){super(t),this.speed=new o,this.direction=0,this.position=e,this.color=i,this.transformedPolygon=new c(n.copyFromArray(this.vertices))}prepareContext(e){e.save(),e.translate(this.position[0],this.position[1]),e.rotate(-this.direction)}draw(e){e.fillStyle=this.color,e.beginPath(),e.moveTo(this.vertices[0][0],this.vertices[0][1]);for(var t=1;t<this.vertices.length;t++)e.lineTo(this.vertices[t][0],this.vertices[t][1]);e.lineTo(this.vertices[0][0],this.vertices[0][1]),e.fill()}restoreContext(e){e.restore()}render(e){this.prepareContext(e),this.draw(e),this.restoreContext(e)}preStep(){n.setToRotation(m.m1,this.direction),n.setToTranslation(m.m2,this.position[0],this.position[1]),n.multiply(m.m1,m.m2,m.m3),n.multiply(this.vertices,m.m3,this.transformedPolygon.vertices)}step(){}}m.m1=new n(3),m.m2=new n(3),m.m3=new n(3);class y{constructor(e,t,i,r,s){this.width=e,this.height=t,this.skew=i,this.thickness=r,this.color=s,this.position=new o,this.speed=new o,this.dead=!1,this.headRelative=new o(0,30),this.head=new d(50,new o(0,0));const a=[[-e/2+i,0,1],[-e/2,-t,1],[-e/2+r,-t,1],[-e/2+r+i,0,1]],c=n.multiply(a,n.setToScale(n.identity(3),-1,1)),h=r/t,u=[a[0],[-e/2+i*(1-h),-r],[e/2-i*(1-h),-r],c[0]];this.polygons=[new m(this.position,u,"white"),new m(this.position,a,s),new m(this.position,c,s)],this.gradient=l.createRadialGradient(0,-30,10,0,0,100),this.gradient.addColorStop(.2,"#fff"),this.gradient.addColorStop(.51,"#ddd"),this.gradient.addColorStop(1,"#eee")}render(e){for(let t=0;t<this.polygons.length;t++)e.strokeStyle="black",e.lineWidth=2,this.polygons[t].render(e),e.stroke();e.save(),e.translate(this.position.x,this.position.y+this.headRelative.y),e.fillStyle=this.gradient,e.beginPath(),e.arc(0,0,50,0,6.3,!0),e.fill(),e.stroke(),e.fillStyle="black",e.save(),e.scale(1,.6),e.beginPath(),e.arc(0,-30,40,0,6.3,!0),e.fill(),e.restore(),e.fillStyle="blue",e.beginPath(),e.arc(-13,-25,6,0,6.3,!0),e.arc(13,-25,6,0,6.3,!0),e.fill(),e.restore(),e.restore()}step(){this.head.position.copyFrom(this.position).add(this.headRelative);for(let e=0;e<this.polygons.length;e++)this.polygons[e].direction=-this.speed.x*Math.PI*1e-5/(1/240),this.polygons[e].preStep();const e=u(this.speed.x),t=this.width/2+(1e3-this.width)*g,i=u(t-this.position.x);if(i!==e)this.speed.x+=1/240/240*1e3*10*i;else{const i=Math.abs(this.speed.x/(1/240/240*1e3*10)),o=this.position.x+2*this.speed.x*i-e*(1/240/240*1e3*10)*i*i/2;u(t-o)===e?this.speed.x+=1/240/240*1e3*10*e:this.speed.x-=1/240/240*1e3*10*e}}checkCollision(e){this.head.intersectsWithCircle(e.circle,y.collisionPosition)&&this.collide(e);for(let t=0;t<this.polygons.length;t++)this.polygons[t].transformedPolygon.intersectsWithCircle(e.circle,y.collisionPosition)&&this.collide(e)}collide(e){y.collisionSpeed.copyFrom(e.speed).subtract(this.speed),y.directionFromCenterOfMassToCollisionPoint.copyFrom(y.collisionPosition).subtract(e.position),y.collisionSpeedProjection.copyFrom(y.directionFromCenterOfMassToCollisionPoint).setAsProjectionWith(y.collisionSpeed),y.directionFromCenterOfMassToCollisionPoint.scalarProduct(y.collisionSpeed)>0&&e.speed.subtract(y.collisionSpeedProjection.setAsScaledBy(1.1))}}y.collisionPosition=new o,y.collisionSpeedProjection=new o,y.collisionSpeed=new o,y.directionFromCenterOfMassToCollisionPoint=new o;let g=.5;document.querySelector("#game").addEventListener("mousemove",e=>{g=p(0,1,e.x/r.width)}),document.querySelector("#game").addEventListener("touchmove",e=>{g=e.touches[0].clientX/r.width});let S=null;const f={get(){try{const e=localStorage&&localStorage.getItem("thiagorb/robots.txt");S=JSON.parse(e)}catch(e){console.error("Failed to load data from local storage",e)}return S&&"number"==typeof S.highScore&&"boolean"==typeof S.playedTutorial||(S={highScore:0,playedTutorial:!1,robotSettings:{width:.5,skew:.5,thickness:.5,height:.5,color:.5}}),S},update(e){const t=e(f.get());try{localStorage&&localStorage.setItem("thiagorb/robots.txt",JSON.stringify(S))}catch(e){console.error("Failed to store data to local storage",e)}return t}},v=()=>{s.width=window.innerWidth,s.height=window.innerHeight,s.scale=Math.min(s.width/1e3,s.height/1e3)};window.addEventListener("resize",v),v();const w=e=>{e.position.add(e.speed)},x=e=>{l.font="14px monospace",l.clearRect(0,0,s.width,s.height),l.save(),l.translate(s.width/2,0),l.scale(s.scale,s.scale),l.translate(-500,0);for(const t of e.urls)t.render(l);e.robot.render(l),l.restore()},b=new c([[100,920],[900,920],[900,1e3],[100,1e3]]),q=e=>b.intersectsWithCircle(e.circle),k=()=>{const e=C();requestAnimationFrame(t=>{e.initialize(t+1e3),window.requestAnimationFrame(e.loop)})},T=()=>{const e=f.get().robotSettings,t=80+350*e.width,i=t*(.1+.3*e.skew),o=t*(.1+.2*e.thickness),n=o+10+90*e.height,r=`hsl(${Math.round(255*e.color)}, 75%, 47%)`;return new y(t,n,i,o,r)},C=()=>{const e=e=>{n=e;document.querySelector("#score").innerText=e.toString()},t=()=>{r=s>=d?r+1:1,r>1&&(()=>{const e=document.querySelector("#multiplier-combo");e.classList.remove("animate"),e.getClientRects(),window.requestAnimationFrame(()=>e.classList.add("animate"))})(),s=d+720,i(r)},i=e=>{l>=d&&e<=u.multiplier||(u.multiplier=e,l=d+2400,(e=>{const t=document.querySelector("#multiplier-transform");if(e>1){t.classList.remove("animate"),t.getClientRects(),window.requestAnimationFrame(()=>t.classList.add("animate"));document.querySelector("#multiplier").innerText=e.toString()}})(u.multiplier))},o=()=>{w(u.robot),u.robot.step();for(const i of u.urls)q(i)?(u.robot.dead||(404===i.code?u.ranking-=3:(u.ranking=Math.min(100,u.ranking+10),e(n+10*u.multiplier))),u.urls.delete(i),u.lastUrlDelete={fellOnSearch:!0,url:i}):i.position.y>1020?(u.urls.delete(i),u.lastUrlDelete={fellOnSearch:!1,url:i},404!==i.code||u.robot.dead||t()):(w(i),i.speed.y=Math.min(i.speed.y+1/240/240*1e3,1/240*5e3));if(!u.robot.dead)for(const e of u.urls)for(const t of u.urls)e.id<t.id&&e.checkCollision(t);for(const e of u.urls)u.robot.checkCollision(e)};let n,r,s,l,a,c=0,d=0;const u={paused:!1,over:!1,urls:new Set,robot:T(),previousTime:0,nextSpawn:0,initialSpawnInterval:480,finalSpawnInterval:120,lastUrlDelete:null,ranking:100,multiplier:1},m={initialize:t=>{u.previousTime=t,u.nextSpawn=d+480,a=d+48,u.robot.position.x=500,u.robot.position.y=830,e(0),i(1),x(u)},animate:e=>{x(u);const t=Math.min(500,e-u.previousTime+c),n=.24*t|0;c=t-n/.24,u.previousTime=e;const p=d+n,y=u.ranking;for(;d<p;d++)o();if(u.nextSpawn<d){const e=1e3*(.1+.8*Math.random()),t=new h;t.position.x=e,t.position.y=-20,t.code=m.spawnUrlCode(),u.urls.add(t),u.robot.dead?(t.speed.x=1e3*(Math.random()-.5)*(1/240),u.nextSpawn+=4.8):m.scheduleNextSpawn()}!u.robot.dead&&a<d&&(a+=48,m.deteriorateRanking()),u.multiplier>0&&l<d&&i(s>=d?r:1),u.ranking!==y&&(document.querySelector("#ranking-bar__filled").style.transform=`translate(${m.state.ranking}%, 0)`,u.ranking<=0&&m.end())},state:u,loop:e=>{m.animate(e),m.state.over||m.state.paused||window.requestAnimationFrame(m.loop)},resumeLoop:()=>{m.state.paused=!1,window.requestAnimationFrame(e=>{u.previousTime=e,m.loop(e)})},spawnUrlCode:()=>Math.random()>.6?404:200,deteriorateRanking:()=>{const e=p(0,1,d/28800);m.state.ranking-=.5+2*e},scheduleNextSpawn:()=>{const e=p(0,1,d/14400);u.nextSpawn+=u.initialSpawnInterval+(u.finalSpawnInterval-u.initialSpawnInterval)*e},end:()=>{u.robot.dead=!0,u.nextSpawn=d,window.removeEventListener("keydown",g),document.querySelector("#game__abort").removeEventListener("click",y),m.afterEnd()},afterEnd:()=>{document.querySelector("#game-over__score").innerText=n.toString();const e=f.update(e=>e.highScore=Math.max(n,e.highScore));document.querySelector("#game-over__high-score").innerText=e.toString(),setTimeout(()=>document.querySelector("#game-over").classList.remove("hidden"),1500),setTimeout(()=>u.over=!0,2500)}},y=()=>{document.querySelector("#popup").classList.contains("hidden")&&(m.state.paused=!0,document.querySelector("#popup__dialog").innerHTML=document.querySelector("#abort").innerHTML,document.querySelector("#popup").classList.remove("hidden"),document.querySelector("#abort__yes").addEventListener("click",()=>{m.end(),m.resumeLoop(),document.querySelector("#popup").classList.add("hidden")}),document.querySelector("#abort__no").addEventListener("click",()=>{m.resumeLoop(),document.querySelector("#popup").classList.add("hidden")}))},g=e=>{"Escape"===e.key&&y()};return document.querySelector("#game__abort").addEventListener("click",y),window.addEventListener("keydown",g),m},P=e=>{const t=100*(e/1e3-.5);return t<0?`- ${-t}vmin`:`+ ${t}vmin`},L=()=>{const e=C(),t={condition:()=>!0,message:()=>"\n            <h3>Welcome to the tutorial!</h3>\n            <p>The objective of the game is to improve the website's ranking.</p>\n        ",focus:()=>null,next:()=>i},i={condition:()=>!0,message:()=>"\n            <p>Control the robot with the mouse or finger for touch devices.</p>\n        ",focus:()=>(new o).copyFrom(e.state.robot.position).subtract(new o(0,e.state.robot.height/2)),next:()=>r};let n;const r={condition:()=>{for(const t of e.state.urls)if(200===t.code&&t.position.y>200)return n=t,!0},message:()=>"\n            <h3>200 URLs</h3>\n            <p>New content is good!</p>\n            <p>You should let them fall on the Search engine.</p>\n        ",focus:()=>n.position,next:()=>s},s={condition:()=>e.state.lastUrlDelete&&e.state.lastUrlDelete.fellOnSearch,message:()=>"\n            <p>\n                When a 200 URL falls on the Search engine the ranking\n                <br>\n                is increased, and you earn score points.\n            </p>\n        ",focus:()=>e.state.lastUrlDelete.url.position,next:()=>l},l={condition:()=>{for(const t of e.state.urls)if(404===t.code&&t.position.y>200)return n=t,!0},message:()=>"\n            <h3>404 URLs</h3>\n            <p>You must prevent them from falling on the Search engine.</p>\n        ",focus:()=>n.position,next:()=>a},a={condition:()=>e.state.lastUrlDelete&&404===e.state.lastUrlDelete.url.code&&!e.state.lastUrlDelete.fellOnSearch,message:()=>"\n            <h3>Good job!</h3>\n            <p>Get rid of 404 URLs quickly to make a combo.</p>\n        ",focus:()=>e.state.lastUrlDelete.url.position,next:()=>c},c={condition:()=>e.state.multiplier>=2,message:()=>"\n            <p>During a combo every score point you earn will be multiplied.</p>\n        ",focus:()=>new o(950,240),next:()=>d},d={condition:()=>!0,message:()=>"\n            <p>This is the end of the tutorial.</p>\n        ",focus:()=>null,next:()=>null};let h=t;const u=()=>{h=h.next(),document.querySelector("#popup").classList.add("hidden"),document.querySelector("#popup__overlay").style.background=null,e.resumeLoop()};e.loop=t=>{if(e.animate(t),!h||!h.condition())return void(e.state.over||e.state.paused||window.requestAnimationFrame(e.loop));const i=h.message();if(!i)return void u();document.querySelector("#popup__dialog").innerHTML=`\n            ${i}\n            <div id="popup__okay" class="button">Okay</div>\n        `,document.querySelector("#popup").classList.remove("hidden"),document.querySelector("#popup__okay").addEventListener("click",u,{once:!0});const o=h.focus();o&&(document.querySelector("#popup__overlay").style.background=`\n                radial-gradient(\n                    circle at calc(50vw ${P(o.x)}) calc(50vh ${P(o.y)}),\n                    rgba(0, 0, 0, 0.1) 0%,\n                    rgba(0, 0, 0, 0.1) 10vmin,\n                    rgba(0, 0, 0, 0.5) 11vmin\n                )\n            `)},e.spawnUrlCode=()=>h===r||h===s?200:h===l||h===a||h===c||h===d||Math.random()>.6?404:200,e.deteriorateRanking=()=>{h?e.state.ranking=Math.max(e.state.ranking-1,20):e.state.ranking-=5},e.scheduleNextSpawn=()=>{e.state.nextSpawn+=h===c||h===d?240:1200},e.afterEnd=()=>{f.get().playedTutorial?setTimeout(()=>document.querySelector("#menu").classList.remove("hidden"),2e3):(f.update(e=>e.playedTutorial=!0),document.querySelector("#menu__tutorial").style.display="initial",document.querySelector("#get-ready").classList.remove("hidden"),setTimeout(()=>{document.querySelector("#get-ready").classList.add("hidden"),k()},4500)),setTimeout(()=>e.state.over=!0,2500)},requestAnimationFrame(t=>{e.state.nextSpawn=1200,e.initialize(t+1e3),window.requestAnimationFrame(e.loop)})};document.querySelector("#menu__deploy").addEventListener("click",()=>{document.querySelector("#menu").classList.add("hidden"),f.get().playedTutorial?k():L()});(()=>{const e=f.get();e.playedTutorial&&(document.querySelector("#menu__tutorial").style.display="initial");const t=e=>(100*e).toString();document.querySelector("#size").value=t(e.robotSettings.width),document.querySelector("#skew").value=t(e.robotSettings.skew),document.querySelector("#thickness").value=t(e.robotSettings.thickness),document.querySelector("#height").value=t(e.robotSettings.height)})(),document.querySelector("#menu__tutorial").addEventListener("click",()=>{document.querySelector("#menu").classList.add("hidden"),L()}),document.querySelector("#game-over__okay").addEventListener("click",()=>{document.querySelector("#game-over").classList.add("hidden"),document.querySelector("#menu").classList.remove("hidden")});const _=document.querySelector("#robot-preview"),F=_.getContext("2d"),M=()=>{const e=e=>parseInt(e.value)/100,t=e(document.querySelector("#size")),i=e(document.querySelector("#skew")),o=e(document.querySelector("#thickness")),n=e(document.querySelector("#height")),r=e(document.querySelector("#color"));f.update(e=>{e.robotSettings={width:t,skew:i,thickness:o,height:n,color:r}});const s=T();F.resetTransform(),F.clearRect(0,0,_.width,_.height),F.translate(_.width/2,.75*_.height),F.scale(_.width/700,_.width/700),s.render(F)};document.querySelectorAll("input[type=range]").forEach(e=>e.addEventListener("input",M));const E=()=>{document.querySelectorAll("canvas").forEach(e=>{e.width=e.clientWidth,e.height=e.clientHeight}),M()};window.addEventListener("resize",E),E();(()=>{try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}})()&&(document.querySelector("#game__abort").style.display="initial");(()=>{try{const e=document.monetization;if(!e)return;e.addEventListener("monetizationstart",()=>{"started"===e.state&&document.querySelectorAll(".subscriber-only").forEach(e=>e.classList.remove("subscriber-only"))})}catch(e){console.error("Failed to initialize monetization",e)}})()}]);