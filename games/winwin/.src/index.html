<!DOCTYPE html><head><meta name=monetization content=$ilp.uphold.com/MwfgyiykYARL><meta name=viewport content=width=device-width,initial-scale=1,user-scalable=0><meta name=mobile-web-app-capable content=yes><link rel=icon type=image/png sizes=any href=ico.png><link rel=manifest href=mf.webmanifest><title>WinWin</title><style>*{padding:0;margin:0;position:absolute}body,html{touch-action:none;background-color:#000}#game{overflow:hidden}.button{width:35%;height:100%}#center{margin-left:35%}#right{margin-left:65%}#controls{bottom:0;height:15.625%;width:100%;display:none}#menu,#overlay{width:100%;height:100%;background-image:linear-gradient(to bottom,#000,rgba(0,0,0,0),rgba(0,0,0,0),#000)}#menu,.saturate{filter:saturate(.25);opacity:.75}.menuship{left:60%;bottom:20%;width:360px;height:360px}#central{margin-top:600px;margin-left:30px;font-family:Lucida console;font-size:40px;font-weight:700;color:#a9a9a9;width:90%}.smalltext{font-size:15px}.brokenimage{transform:scale(2);margin-left:30px;margin-top:30px;width:60px;height:60px}.image{width:120px;height:120px}#hard{width:1010px;height:45px;background-color:#666;border:10px solid #444}#titletop{transition:opacity .25s,transform .25s;filter:drop-shadow(0 20px 0 #000)}#titlebottom{transition:opacity .25s,transform .25s;filter:drop-shadow(0 -20px 0 #000)}.enabled{color:#fff}.list{position:relative;width:108px;height:216px;margin-top:-158px;transition:opacity .2s,transform .2s}#left{background-color:green}#center{background-color:#ff0;width:30%}#right{background-color:green}.t{transform:rotate(45deg)}.b{background-color:#306bff;border:solid 9px;border-color:#f59 #840 #630 #b6f}.r{background-color:#ff306b;border:solid 9px;border-color:#f59 #840 #630 #b6f}.pixelated{image-rendering:-moz-crisp-edges;image-rendering:-webkit-crisp-edges;image-rendering:crisp-edges;image-rendering:pixelated}.unselectable{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none}</style></head><body><div id=game class=unselectable><canvas id=backgroundCanvas width=1080 height=1620></canvas><canvas id=gameCanvas width=1080 height=1620></canvas><canvas class=pixelated id=effectsCanvas width=216 height=324></canvas><div id=titletop></div><div id=titlebottom></div><div id=menu></div><div id=overlay><div id=central></div></div><div id=controls><div class=button id=left></div><div class=button id=center></div><div class=button id=right></div></div></div><script>class aa{constructor(e,t,a,l,i,s){this.type=e,this.x=t,this.y=a,this.angle=l,this.speed=i,this.size=s,this.a=-1,this.f=10,this.i="#110099",this.h="#3322cc",this.j=5}}class e extends aa{constructor(e,t,a,l,i,s){super(4,e,t,a,l,i,s),this.h="#ff9944",this.i="#995522",this.f=8}o(e,t,a,l){t.save(),t.translate(this.x,this.y),t.rotate(-1<this.a?360*Math.random():Math.l(this.angle%360)),e(t,0,a,a,0,0,-this.size/2*(-1<this.a?this.f-this.a:.5),!0),-1<this.a&&t.rotate(360*Math.random()),e(t,0,a,a,0,-this.size/2*(-1<this.a?this.f-this.a:.5),0,!0),-1<this.a&&t.rotate(360*Math.random()),e(t,0,a,a,0,this.size/2*(-1<this.a?this.f-this.a:.5),0,!0),t.translate(0,0),t.restore(),l.beginPath(),l.globalAlpha=.75,l.fillStyle=this.h,l.arc(this.x/this.j+(-1<this.a?8*Math.random()-4:0),this.y/this.j+8+(-1<this.a?8*Math.random()-4:0),2+2*Math.random(),0,2*Math.PI),l.fill(),l.strokeStyle=this.i,l.stroke(),l.globalAlpha=1,l.closePath()}}class ba extends aa{constructor(e,t,a,l,i,s,n){super(n,e,t,a,l,i,s),this.h=this.type?"#cc9900":"#ffdd33",this.i=this.type?"#ffbb22":"#6688bb",this.f=8}o(e,t,a,l){t.save(),t.translate(this.x,this.y),l.beginPath(),l.globalAlpha=.1*(-1<this.a?this.a:10),l.fillStyle=this.h,l.arc(this.x/this.j,this.y/this.j+(-1<this.a?this.a:this.f),1+Math.random(),0,2*Math.PI),l.fill(),l.strokeStyle=this.i,l.stroke(),l.globalAlpha=1,l.closePath(),t.rotate(Math.l((-1<this.a?360*f():this.angle)%360)),e(t,0,a,this.type?a:1+parseInt(h/2),0,0,12,!0),t.translate(0,0),t.restore()}}class ca extends aa{constructor(e,t,a,l,i,s,n){super(n,e,t,a,l,i,s),this.h="#99ff99",this.i="#ccffcc",this.f=6,this.u=6==n}o(e,t,a,l){t.save(),t.translate(this.x,this.y-(-1<this.a?20:0)),-1<this.a&&t.rotate(360*Math.random()),e(t,0,a,a,0,10*Math.random()-this.size,-Math.random()*this.size*this.size+this.size*this.size,!0),t.rotate(Math.l(360*Math.random())),t.beginPath(),t.globalAlpha=.5+Math.random()/2,t.fillStyle=this.h,t.rect(-this.size*Math.random()*3,2*-this.size*Math.random()*4,3*this.size+this.size*Math.random(),3*this.size+this.size*Math.random()),t.fill(),t.closePath(),this.u&&e(t,0,a,this.type?a:1+parseInt(h/2),0,0,12,!0),t.globalAlpha=1,t.translate(0,0),t.restore(),l.globalAlpha=.2+Math.random()/4,l.beginPath(),l.fillStyle=this.h,l.rect(this.x/5-Math.random()*h/2,this.y/5-5*Math.random()-(-1==this.a?0:6),h/2,(-1==this.a?9:3)+5*Math.random()),l.rect(this.x/5-Math.random()*h/4,this.y/5-5*Math.random()-(-1==this.a?0:6),h/4,(-1==this.a?9:3)+5*Math.random()),l.fill(),l.strokeStyle=this.i,l.lineWidth=2,l.stroke(),l.globalAlpha=1,l.closePath()}}class da extends aa{constructor(e,t,a,l,i,s,n){super(n,e,t,a,l,i,s),this.h="#ccccff",this.i="#8888dd",this.f=3==this.type?8:12}o(e,t,a,l){-1==this.a&&(t.save(),t.translate(this.x,this.y),t.rotate(Math.l(this.angle%360)),e(t,0,a,a,0,0,-this.size/2),t.restore()),l.beginPath(),l.globalAlpha=.5,l.fillStyle=this.i,l.arc(this.x/5,this.y/5,this.size/2+h/5,0,2*Math.PI),l.fill(),l.strokeStyle=this.h,l.lineWidth=1+h/2,l.stroke(),l.globalAlpha=1,l.closePath()}}window.addEventListener("load",function(){"serviceWorker"in navigator?(navigator.serviceWorker.getRegistrations().then(e=>{let t;for(let a=0;a<e.length;a++)-1<window.location.href.indexOf(e[a].scope)&&(t=!0);t||navigator.serviceWorker.register("sw.js",{updateViaCache:"none"}).then(()=>{}).catch(()=>{ea()})}).catch(()=>{ea()}),navigator.serviceWorker.ready.then(()=>{ea()})):ea()});let k=document.getElementById("menu"),fa=document.getElementById("game"),ha=document.getElementById("titletop"),ia=document.getElementById("titlebottom"),ja=document.getElementById("overlay"),l=document.getElementById("central"),ka=document.getElementById("controls"),n=document.getElementById("backgroundCanvas"),p=document.getElementById("gameCanvas"),la=document.getElementById("effectsCanvas"),q=n.getContext("2d"),r=p.getContext("2d");r.imageSmoothingEnabled=!1;let ma,na,u,oa,pa,qa,ra,sa,v,ta,ua,w,x,y,z,va,wa,xa,h,ya,A=la.getContext("2d"),za=document.getElementById("left"),Aa=document.getElementById("center"),Ba=document.getElementById("right"),B=0,D=0,E=0,Ca=0,Da=0,G=0,H=p.width/2,I=.9*p.height,Ea="mousedown",Fa="mouseup";/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)&&(Ea="touchstart",Fa="touchend");let Ga,Ha,Ia,J,K,L,M,Ja,Ka,N,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,O,Q=!1,R=!1,Ta=!1,Ua=!1,S=!0,T=0,Va=0,Wa=0,U=[],V=[],W=[],Xa=[],Ya=[],$a=Za([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6]),ab=Za([0,1,0,0,3,0,0,2,0,0,0,4,5]);function Za(e){let t,a,l=e.length;for(;0!==l;)a=Math.floor(f()*l),t=e[--l],e[l]=e[a],e[a]=t;return e}let bb="Cannon Gun Laser ShockWave Rocket Blaster Zapper Beam Plasma Fusion Launcher Railgun".split(" "),cb="Raptor Rogue Viper Nightflyer Valkyre Hunter Discoverer Scout Wraith Rocinante Phoenix Coil".split(" "),db="AGLYVTXSWOFC".split("");function X(){E&&!N[11]&&(N[11]=1),h=N[G],v=La[G],ta=Ma[G],x=Na[G],y=Oa[G],ua=Pa[G],w=Qa[G],wa=Ra[G],z=Ra[G],va=Sa[G],xa=Sa[G]}Ka=[1,4,3,2,5,6,7,10,15,3,9,11],Ja=[1,1,3,1,4,2,3,4,1,1,4,1],N=[1,0,0,0,0,0,0,0,0,0,0,0],La=[70,75,60,70,80,70,75,60,80,78,80,78],Ma=[6,5,5.5,5,4,4.5,6,6.5,4,5,4.5,7],Na=[20,15,40,12,3,20,25,30,8,16,6,18],Oa=[5,3,2.5,8,12,6,4,5,6,7,10,7],Pa=[10,18,3,30,40,20,15,25,8,25,35,16],Qa=[1,1.5,.5,3,5,2,1.5,2.5,2.75,2.25,3,2],Ra=[75,100,60,80,100,80,80,70,90,75,90,105],Sa=[10,15,10,25,20,10,30,5,20,15,20,15],O=[0,0,0,0,0,0,0],X();let Y,eb="yellow yellow cyan #66ccff red yellow".split(" "),fb="red red green #4499cc yellow red".split(" "),gb=[],hb="1d202c585a61878789b8b8b8c6c6c6cececed5d5d5 165b741e78983185a53da2c8aae0f30c4154e5f3f8 6e003978074e8e0a5e9b2d68c96b79db3870ff82a5 1674301e984031a5533dc865aaf3be0c5420e5f8ea 1d6a2f643d166c8d52725419b19a65b5c27ae0dca9 6e003978074e8e0a5e9b2d68c96b79db3870ff82a5".split(" "),ib="@@@@@@@@@@@@@@hD@@@@~u@@@@|g@@@X|gC@@P|gB@@P}oB@@K~wY@@Z~wS@@ZvwS@@YvwK@@YunK@@YunK@@ZtfS@@ZtfS@@KlfY@@Pk^B@@`k]D@@@k]@@@@c]@@@@`D@@@@@@@@@@@@@@";ib+="@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@","@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@".split("").reverse(),ib+="@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@@@@@@P@@@@@P@@@@@J@@@@Pa@@@@Jt@@@Paf@@BbvT@PUtfJ@jJvTPP|bfBPZ}YV@PboYV@PqwaNRJiobN}My\tNRJiobV@PqwYfBPboJvTPZ}UtfJPlWavT@JlJtf@@bUaR@@PlR@@@@R@@@@@@@H@@@@@Y@@@@Hc@@@@HL@@@@Yi@@@@ai@@@HKm@@@HK}`@@Ysb`@@Ya}Y@@YamY@HcVcV@Hca}V@HbamVAqRJZYNXcsAQcaddMX\\l}\tHcYl}L@cscm\\@X\\e\\C@HckC@@@Y\\@@@@XC@@";let jb=[],kb=[],lb=[];for(let e=0;50>e;e++)jb.push([1080*f(),1620*f(),2*f()]),kb.push([1080*f(),1620*f(),3*f()]),lb.push([1080*f(),1620*f(),4*f()]);function mb(e){e[1]+=Ha*Ia+e[2]*Ia,1620<e[1]&&(e[1]=-5),q.fillStyle="#fff",q.fillRect(e[0],e[1],Ha,Ha)}let nb=[],ob=[],pb=[],qb=[];function ea(){rb();{let e=[[[2,2],[4,4]],[[-1,6],[1,4],[3,2],[5,4],[7,6],[9,4],[11,2]],[[-1,6],[1,4],[3,2]],[[-1,6],[1,4],[3,2],[5,4],[7,6],[9,4],[11,2]]];sb(ha,e,"t r"),sb(ia,e,"t b")}tb(),window.addEventListener("resize",ub,!1),ub(),vb(),wb(),ja.addEventListener(Ea,xb,{passive:!0}),document.addEventListener("fullscreenchange",yb),!qa||oa||pa||(console.log("[Event] Requesting Fullscreen mode..."),zb()),document.addEventListener("keydown",Ab,!1),document.addEventListener("keyup",Bb,!1),requestAnimationFrame(Cb),(qa=window.matchMedia("(display-mode: standalone)").matches)&&console.log("[Event] Game is running as Standalone PWA."),ja.focus()}function Cb(){document.monetization?(console.log("[Event] Web Monetization state:",document.monetization.state),"started"==document.monetization.state?E=1:document.monetization.addEventListener("monetizationstart",()=>{console.log("[Event] Monetization event:",document.monetization.state),E||(E=1,X(),B=0,l.innerHTML="",vb(1))})):(console.log("[Event] Monetization not found"),100>T&&requestAnimationFrame(Cb))}function rb(){let e;for(ib.replace(/./g,t=>{e=t.charCodeAt(),gb.push(7&e),gb.push(e>>3&7)}),Y=gb.length/288,e=0;e<Y;e++){var t=gb.splice(0,288);ob.push(t.slice(0)),nb.push(t.reverse())}for(e=0;e<Y;e++){t=[];let a=[];for(let l=0;l<hb.length;l++)t.push(Db(e,l,!1,!0)),a.push(Db(e,l,!0,!1));pb.push(t),qb.push(a)}k.children[0].style.display="none",k.children[1].style.display="none"}function Db(e,t,a,l){var i,s=hb;let n=Eb(12,24,!0);for(let o=l?24:0;l?0<o:24>o;l?o--:o++)for(let r=0;12>r;r++)(i=(a?ob:nb)[e][12*(l?24-o:o)+r])&&(n[1].fillStyle="#"+s[t].substr(6*(i-1),6),n[1].fillRect(r,o,1,1),n[1].fillRect(r,o,1,1));return n[0]}function Eb(e,t,a){let l,i;return(l=document.createElement("canvas")).width=e,l.height=t,i=l.getContext("2d"),a&&(10==k.children.length&&(l.style.marginTop="-20px"),152<k.children.length?k.insertBefore(l,Ya[Ya.length-1].canvas):k.appendChild(l),Ya.push(i),l.className="pixelated list"),[l,i]}function Fb(e,t,a,l,i,s,n,o,r){let h=r||1,c=r?s-12*h:s-6;s=r?s:s-6;let b=n+(i?0==(T/i|0)%4?h:0==(T/i|0)%2?-h:0:1==r?0:6>t?h+1:7==a?-2:2);i=n+(7<t&&8>a?2:8>t&&6<a?2:1==r?0:2)+(i?0==(T/i|0)%4?-h:0==(T/i|0)%2?h:0:0)-1,e.save(),7<t&&e.scale(1,-1),e.drawImage(o?pb[a][l]:qb[a][l],c,b*(7<t?-1:1),12*h,24*(7<t?-1:1)*h),e.drawImage(o?qb[a][l]:pb[a][l],s,i*(7<t?-1:1),12*h,24*(7<t?-1:1)*h),e.restore()}function Gb(e,t=1,a=1,l=3){let i;return(i=Eb(24,23))[0].className="image pixelated",e.appendChild(i[0]),Fb(i[1],t,a,l,0,12,0,6<a,1),i}function Hb(e,t){for(let a=0;a<k.children.length;a++)a>k.children.length/2-3?k.children[a].style.transform=`translateY(${e}px)`:k.children[a].style.transform=`translateY(${t}px)`;ha.style.transform=`translateY(${-400>t?t-250:-60==t?e:t+250}px)`,ia.style.transform=`translateY(${400<e?e+250:60==e?t:e-250}px)`}function vb(e){e&&(u=0),Hb(e?150:250,e?-175:-275),e||setTimeout(()=>{ha.style.zIndex=1,ia.style.zIndex=1,Hb(170,-190)},750),e||setTimeout(()=>{},1e3),e||setTimeout(()=>{},1150),setTimeout(()=>{Hb(550,-450);var e,t="Pick a ship: &nbsp;<span id=shipname>"+cb[G]+"</span><br><br>";for(let a=0;2>a;a++)for(let l=0;6>l;l++)t+=`<div class='image' style='left:${160*l+60}px;margin-top:${a?220:0}px'>`,N[6*a+l]||(e||(e=6*a+l),t+="<img class='brokenimage smalltext' src='./' width='60' height='60'>".replace("./'",`' style='margin-top:36px;margin-left:36px;' alt=' &nbsp; &nbsp; &nbsp;${db[6*a+l]}\n&nbsp;.png'`)+"<img class='brokenimage smalltext' src='./' width='60' height='60'><img class='brokenimage smalltext' src='./' width='60' height='60'>"),t+="</div>";for(t=(t+="<div style=position:relative;top:140px;color:"+(E?"lightblue":"grey")+";float:right;font-size:32px;line-height:10px><br><br>*<br>&nbsp;Coil</div>")+"<div style=top:650px><span style='color:red'>***</span><br>Error: File "+(e?db[e]+".png":E?"twitter.soc":"coil.sub")+" not found.</div>",l.innerHTML=t+"<div style=top:1275px;font-size:28px;color:#666>Developed by Noncho Savov. JS13K Games 2020. &nbsp;<a href=https://www.foumartgames.com/ target=_blank>@FoumartGames</a></div>",e=l.getElementsByTagName("div"),t=0;t<N.length;t++)N[t]&&Gb(e[t],t,Ka[t],Ja[t]);E||(e[11].className="saturate"),setTimeout(()=>{u||(u=1),Ib()},100)},e?500:1350)}function Ib(){if(r.clearRect(0,0,n.width,n.height),B)r.setLineDash([]);else if(u){u++;let e=6>D?D:D-6,t=6>D?664:880;r.beginPath(),r.rect(70+160*e,t,156,156),r.strokeStyle=0==u%2?"#fff":"grey",r.setLineDash([0==u%(u%2),u%(u%3),u%(u%4)]),r.lineWidth=0==u%2?4:6,r.stroke(),r.closePath(),requestAnimationFrame(Ib)}}function xb(e){if(B)4!=B||Ga?3==B?e&&420>e.offsetX?R=!0:e&&680<e.offsetX&&(Q=!0):Jb():Kb(!0);else{var t=-1!=e&&e?Array.from(e.target.parentNode.parentNode.children).indexOf(e.target.parentNode)-3:D;if(e&&G!=t)return D=G=t,Lb(),void X();G=D,X(),B=1,e=((e,t=8)=>{let a=e;if(e=t-e,t="[",a)for(;0<a;)a--,t+="[";else t+="";for(t+="]";0<e;)e--,t+="_";return t+"] "}),t="&nbsp; SHIP:&nbsp <span id=shipname>"+cb[G]+"</span><br>",t+="&nbsp; ____ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Stage: "+(Va+1)+"<br><br>",t+="Health: "+e((2==G?5:wa-60)/5)+"<br>",t+="Shield: "+e(1+xa/5)+"<br>",t+="&nbsp;Speed: "+e(2*parseInt(ta-3.5))+"<br>",t+="&nbsp; Size: "+e(1+parseInt((v-50)/6))+"<br><br><br><br><br>",t+="Weapon: "+bb[G]+"<br><br>",t+="Level: "+N[G]+" / 6<br><br>",t+="&nbsp; &nbsp; &nbsp;<div id='buttons'>[ < ][ > ][ ESC ]</div><br><br><div id='proceed'>[ SPACE / ENTER ]</div>",l.innerHTML=t,(e=Gb(l,G,Ka[G],Ja[G])[0]).style.left="55%",e.style.top="45%",e.style.width="400px",e.style.height="400px"}}function Jb(){B=2,ha.style.opacity=0,ia.style.opacity=0,Hb(60,-60),l.innerHTML="",Ga=!0,setTimeout(()=>{Hb(900,-900),setTimeout(Mb,250)},250)}function Mb(){k.style.opacity=0,ja.style.opacity=0,setTimeout(Nb,250)}function Nb(){tb(),B=3,la.style.opacity=1,n.style.opacity=1,za.addEventListener(Ea,Ob,{passive:!0}),Ba.addEventListener(Ea,Pb,{passive:!0}),Aa.addEventListener(Ea,Qb,{passive:!0}),window.addEventListener(Fa,Rb),ka.style.display="block"}function sb(e,t,a){var l=125;let i,s,n;for(let o=0;o<t.length;o++){n=0;for(let r=0;r<t[o].length;r++)n<2+((s=t[o][r])[0]||0)&&(n=2+(s[0]||0)),i=document.createElement("div"),e.appendChild(i).className=a,i.style.width="40px",i.style.height="40px",i.style.left=l+(20*s[0]||0)+"px",i.style.top=810+(20*s[1]||0)+"px";l+=20*n+20}}function Rb(e){e.target==za?R=!1:e.target==Ba?Q=!1:420>e.offsetX?R=!1:680<e.offsetX?Q=!1:Ta=!1}function yb(){oa=document.fullscreenElement}function zb(){let e=document.documentElement;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():(e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)).call(e)}function ub(){Sb(),Sb()}function Sb(){var e,t;ma=document.documentElement.clientWidth;var a=(e=(na=document.documentElement.clientHeight)/1920)<(t=ma/1080)?e:t;fa.style.transform="scale("+a+")",fa.style.width="1080px",fa.style.height="1920px",fa.style.top=(na-1920)/2+"px",fa.style.left=(ma-1080)/2+"px",la.style.width="1080px",la.style.height="1620px"}function Ob(){R=!0}function Qb(){Ta=!0,Ua=!Ua}function Pb(){Q=!0}function Lb(e=1){let t=50;for(;!N[D]&&0<t;)(11!=D||11==D&&!E)&&(D+=e),0>D&&(D=N.length-(E?1:2)),D>N.length-1&&(D=0),t--;(e=document.getElementById("shipname"))&&(e.innerHTML=cb[D])}function Kb(e){e&&Va++,Ga=!1,B=0,l.innerHTML="",ha.style.opacity=1,ia.style.opacity=1,k.style.opacity=1,ja.style.opacity=1,ka.style.display="none",la.style.opacity=.5,n.style.opacity=.5,vb(1)}function Ab(e){if(70==e.keyCode&&zb(),B&&1!=B||13!=e.keyCode&&32!=e.keyCode||xb(),4==B||82==e.keyCode)return S||(S?S=!1:(S=!0,requestAnimationFrame(wb))),void(82!=e.keyCode&&13!=e.keyCode&&80!=e.keyCode&&27!=e.keyCode||Kb(4==B));32==e.keyCode&&3==B&&(Ta=!0),67==e.keyCode&&(Ua=!Ua),39!=e.keyCode&&68!=e.keyCode||(Q=!0,2>B&&(D++,Lb(),X(),1==B&&(B=0,xb()))),37!=e.keyCode&&65!=e.keyCode||(R=!0,2>B&&(D--,Lb(-1),X(),1==B&&(B=0,xb()))),38!=e.keyCode&&87!=e.keyCode||2>B&&(D-=6,Lb(-1),X(),1==B&&(B=0,xb())),40!=e.keyCode&&83!=e.keyCode||2>B&&(D+=6,Lb(),X(),1==B&&(B=0,xb())),80!=e.keyCode&&27!=e.keyCode||(1==B?(B=0,l.innerHTML="",vb(1)):3==B&&(S?S=!1:(S=!0,requestAnimationFrame(wb))))}function Bb(e){39!=e.keyCode&&68!=e.keyCode||(Q=!1),37!=e.keyCode&&65!=e.keyCode||(R=!1),32==e.keyCode&&(Ta=!1)}function tb(){let e;var t;T=0,U=[],V=[],W=[],Xa=[],sa=ra=!0;let a,l=0,i=3>h?1:Va;for(let s=0;s<100+50*i;s++)e=75>s?1+parseInt(2*f()):1+parseInt(f()*(1+i)),a=(t=s%2||20>s||90<s&&0==s%3?0:e)?1:5+parseInt(3*f()),(t=[parseInt(t),a,t?t+5*t+t*t:5==a?2:4,t?70:25,2==t?1.5:(1==i?1:t)+1+.2*Va+(5==a?2+3*f():1)])[0]&&l-ab.length<$a.length&&(e=l<ab.length?ab[l++]:$a[l++-ab.length],L={v:"."+"png mov jpg doc gif avi mp3 wav rar zip bin iso dat mp4 ico bmp txt pdf exe".split(" ")[parseInt(17.9*f())],b:0,type:e,size:40,speed:e?2+2*f():1},W.push(L)),V.push({b:0,type:t[0],x:parseInt(.05*p.width+f()*p.width*.9),y:-150,z:t[1],color:2,c:t[2],g:t[2],size:t[3],speed:t[4],animation:5+2*t[0],timeout:50*s*(100<s?.75:1),alpha:1,m:t[0]&&l-ab.length<$a.length?W.length-1:0})}function f(){return Math.random()}function Vb(e,t,a,l,i=0,s=0){Xa.push({x:i+e.x+10+e.size*f()*2-e.size/t,y:s+e.y+e.size*f()*2-e.size/t,frame:0,total:a,size:l,type:G})}function Wb(e,t,a,l="yellow",i="red",s=1){A.beginPath(),A.globalAlpha=s,A.arc(e,t,a,0,2*Math.PI,!1),A.fillStyle=l,A.fill(),A.lineWidth=2,A.strokeStyle=i,A.stroke(),A.closePath(),A.globalAlpha=1}function wb(){if(q.clearRect(0,0,n.width,n.height),Ha=1,Ia=Ga?1:.3,jb.forEach(mb),Ha=2,kb.forEach(mb),Ha=3,lb.forEach(mb),Ga){var t;for(T++,Da&&Da--,ya&&ya--,r.clearRect(0,0,p.width,p.height),A.clearRect(0,0,n.width/5,n.height/5),t=Xa.length-1;0<=t;t--)M=Xa[t],0==T%2&&M.frame++,Wb(M.x/5-M.size/5*2,M.y/5-M.size/5*2,M.size*M.frame/5,eb[M.type],fb[M.type],1.5-M.frame/M.total),M.frame>=M.total&&(M.frame=0,Xa.splice(t,1));Y=U.length,t=[];for(var a=0;a<Y;a++)if(-1!=(J=U[a]).a)0<J.a?J.a--:t.push(J);else{var l=J,i=Math.l(l.angle%360);l.x+=l.speed*Math.sin(i),l.y-=l.speed*Math.cos(i),(0>J.y||J.y>p.height||0>J.x||J.x>p.width)&&t.push(J),J.type?4!=J.type&&1!=J.type||(J.speed*=1.01,J.angle*=.9):(.1<J.angle||-.1>J.angle)&&(J.angle*=.5),1==J.type&&-1<J.a&&(J.angle=360*f())}for(l=0;l<t.length;l++)U.splice(U.indexOf(t[l]),1);if(U.length)for(Y=U.length,l=0;l<Y;l++)-1<(J=U[l]).a&&(t=J,Wb(J.x/t.j,J.y/t.j,J.size*J.a/t.j,["yellow","cyan","#66ccff","yellow"][J.type],["red","green","#4499cc","red"][J.type],3==J.type&&.25>J.a/J.f?.5:.1+J.a/J.f)),J.o(Fb,r,0,A);for(Y=V.length,t=0;t<Y;t++)(K=V[t]).c&&T>K.timeout&&(K.y+=1*K.speed,K.y>p.height+K.size&&(K.type&&(sa=!1),K.y=-200,K.timeout+=1e3-Va*(5>Va?100:50),K.c=K.g,K.x=parseInt(.05*p.width+f()*p.width*.9)));for(t=0;t<V.length;t++)if(-149<(K=V[t]).y&&(K.c||1<K.b)){if(K.type)r.globalAlpha=K.alpha*(K.b?K.b/30:1),Fb(r,K.type,K.type,K.color,K.animation,K.x,K.y-K.size/2,!0,5),r.globalAlpha=1,r.beginPath(),r.fillStyle="#900",r.rect(K.x-2,K.y+5,4,K.size/K.g*K.g/2),r.fill(),r.closePath(),r.beginPath(),r.fillStyle="#fff",r.rect(K.x-2,K.y+5+K.size/K.g*(K.g-K.c)/2,4,K.size/K.g*K.c*.9/2),r.fill(),r.closePath();else{for(r.save(),r.translate(K.x,K.y),r.globalAlpha=K.alpha,1==(l=5==K.z?1:2)&&0==T%2&&r.scale(-1,1),r.rotate(Math.l(l-1?(0==K.x%2?T:-T)%360:230+(0==T%2?20*f():10))),r.beginPath(),r.strokeStyle="#900",r.lineWidth=10*l-parseInt((K.size-25)/2),r.moveTo(K.size/2*Math.cos(0),K.size/2*Math.sin(0)),a=1;a<=K.z;a++)r.lineTo(K.size/l*Math.cos(2*a*Math.PI/K.z),K.size/l*Math.sin(2*a*Math.PI/K.z));r.stroke(),r.fillStyle="#d33",r.fill(),r.closePath(),r.globalAlpha=1/l*K.alpha,r.beginPath(),r.fillStyle="#f88",r.moveTo(0,0),0<K.c&&(r.lineTo(0,-10*l),r.lineTo(10*l,0)),1<K.c&&(r.lineTo(-10*l,0),r.lineTo(0,10*l)),2<K.c&&(r.lineTo(0,-10*l),r.lineTo(-10*l,0)),3<K.c&&(r.lineTo(0,10*l),r.lineTo(10*l,0)),r.fill(),r.closePath(),r.globalAlpha=1,r.translate(0,0),r.restore()}1<K.b&&(K.b--,20>K.b?(K.y+=.75*K.speed,K.size+=1,K.alpha-=.05,Vb(K,1,0==K.b%2&&8<K.b?10:6,8<K.b?16>K.b?K.b-4:5:1+K.b)):(K.y+=.9*K.speed,K.x+=4*f()-2,K.y+=4*f()-2,0==K.b%2&&Vb(K,2,6,3+3*f())))}for(t=0;t<W.length;t++)(L=W[t]).b&&(1>L.type&&L.b++,L.y+=1*L.speed,(L.y>p.height+L.size||150<L.b)&&(L.type=0,L.b=0));for(t=0;t<W.length;t++)(L=W[t]).b&&(L.type&&(r.beginPath(),r.fillStyle=1==L.type?"#cb4":2==L.type?"#292":5==L.type?"#09d":"#5a8",r.arc(L.x-L.size/(2==L.type||5==L.type?4:3),L.y-L.size/2,L.size,0,2*Math.PI),r.fill(),r.globalAlpha=.5,r.strokeStyle="#000",r.lineWidth=20,r.stroke(),r.globalAlpha=1,r.closePath()),r.font="bold 28px Arial",r.fillStyle=L.type?"#000":125<L.b?140<L.b?"#888":"#aaa":"#ccc",r.fillText([L.v,".Att",".Hp+",".Sh+",".Sp+",".Sz+",".Ms"][L.type],L.x-L.size,L.y-.25*L.size));for(r.globalAlpha=.25,r.beginPath(),r.fillStyle=ya&&0==T%2?"red":"blue",r.arc(H,I,v,0,2*Math.PI,!1),r.fill(),r.lineWidth=5,r.strokeStyle=ya&&0==T%2?"#f03":"#03f",r.stroke(),r.closePath(),r.globalAlpha=1,Fb(r,G,Ka[G],Ja[G],0,H,I-v+(8<G?20:0),6<Ka[G],5),t=V.length,l=0;l<t;l++)800<(K=V[l]).y&&K.c&&!ya&&Xb(K.x,K.y,K.size,H,I,v)&&(ra=!1,K.c=0,K.b=50,Yb(K),ya=50);for(l=U.length-1;0<=l;l--)for(J=U[l],a=0;a<t;a++)if(-50<(K=V[a]).y&&K.c&&-1==J.a&&Xb(J.x,J.y-(2==J.type?60:6==J.type?40:20),J.size+(0==J.type%3?J.type+h:11==J.type?2*h:0),K.x,K.y,K.size)){if(K.c-=w+(h-1)*w/(J.type&&6!=J.type?9==J.type||11==J.type?.5:2:.3)+w*w,J.a=J.f,2<J.type&&5>J.type&&100<J.y)for(i=0;i<t;i++){var s=V[i];s.c&&Xb(J.x,J.y-20,5*J.size*h/(4==J.type?3:1),s.x,s.y,s.size)&&(s.c-=w+(1==J.type?0:w*h/4),Yb(s,J))}Vb(J,1,6,4+2*f(),0,1==J.type?-40*f():0),3==J.type&&(Vb(J,1,6,4+4*f(),4*f()-2,4*f()-2),Vb(J,1,6,4+4*f(),4*f()-2,4*f()-2)),0>=K.c&&6==J.type&&(Vb(J,1,6,9+2*f(),0,1==J.type?-40*f():0),U.push(new ca(J.x,J.y-v/2,-30,x,y,h*(5+K.g+h)/5,6)),U.push(new ca(J.x,J.y-v/2,30,x,y,h*(5+K.g+h)/5,6))),Yb(K,J)}for(t=0;t<W.length;t++){if(l=(L=W[t]).b){l=L.x,a=L.y,i=L.size,s=H;var o=1.75*v;l=!(a+i<I||a>I+o||l+i<s||l>s+o)}l&&(L.type?1==L.type?(6>N[G]&&N[G]++,h=N[G],O[1]++):2==L.type?(z==wa?(Ra[G]+=5,z=wa+=5,Wa+=50):((z+=50)>wa&&(z=wa),Wa+=parseInt(z-wa)),O[2]++):3==L.type?(va==xa?(Sa[G]+=5,va=xa+=5,Wa+=50):((va+=25)>xa&&(va=xa),Wa+=parseInt(va-xa)),O[3]++):4==L.type?(Ma[G]+=.5,ta=Ma[G],O[4]++):5==L.type?(Oa[G]+=.5,y=Oa[G],O[5]++):6==L.type&&(Na[G]+=.5,x=Na[G],2<Pa[G]&&(Pa[G]-=.5),ua=Pa[G],O[6]++):(Wa+=50,O[0]++),L.b=0,L.type=0,X())}for(t=performance.now();0<Zb.length&&Zb[0]<=t-1e3;)Zb.shift();if(Zb.push(t),$b=Zb.length,q.font="bold 32px Arial",q.fillStyle="#3ad",q.fillText("FPS: "+$b,10,22),q.fillText("SCORE: "+Wa,440,22),q.fillText("STAGE: "+(Va+1),900,22),Ca&&++Ca>=ua&&(Ca=0),(Ta||Ua)&&0<z&&!Ca&&3==B)if(Ca=1,G)if(1==G)if(h&&0!=h%2){if(1==h||0!=h%2)for(t=1;t<=1+h/2;t++)l=t*t*2,U.push(ac(-16*t+8,-40+l)),U.push(ac(16*t-8,-40+l))}else for(U.push(ac(0,-38)),t=2;t<=1+h/2;t++)l=(t-1)*(t-1)*2,U.push(ac(-16*t+16,-40+l)),U.push(ac(16*t-16,-40+l));else if(2==G||6==G)U.push(new ca(H+f()*h-h/2,I-v,0,x,y,h,G));else if(3==G||11==G)Ca+=11==G?h:2*h,U.push(new da(H,I-22,11==G?(R?5:Q?-5:0)+h-f()*h*2:0,x-1+(3==G?.5:.2)*h,y,h,3));else if(4==G||10==G){if(4==G&&(Ca+=3*h),U.push(new e(H,I-30,0,x,y,h)),10==G)for(t=0;t<parseInt(h/2);t++)l=f(),U.push(new e(H+(.5>l?-30:30),I-20,20*(.5>l?-t:t)*l,x/2+x*parseInt(10*l)/20,y,h))}else if(5==G||9==G){if(h&&0!=h%2&&9!=G){if(1==h||0!=h%2)for(t=1;t<=1+h/2;t++)U.push(Z(0,-15*t+7.5)),U.push(Z(0,15*t-7.5))}else for(9==G&&3<h?(U.push(Z(-30,-1)),U.push(Z(30,1))):U.push(Z(0,0)),t=2;t<=1+h/2&&(U.push(Z(9==G?-40:0,-15*t+16)),U.push(Z(9==G?40:0,15*t-16)),9!=G);t++);(9==G||4<h)&&(U.push(Z(0,-90)),U.push(Z(0,90)))}else 7==G?((1==h||3<=h)&&(U.push(new e(H-30+(3==h||4==h?8:0),I,0,x,y,h)),U.push(new e(H+30-(3==h||4==h?8:0),I,0,x,y,h))),(2==h||3<=h)&&(U.push(new e(H-60,I+30,0,x,y,h)),U.push(new e(H+60,I+30,0,x,y,h))),(2==h||4<h)&&U.push(new e(H,I-30,0,x,y,h))):8==G&&U.push(new ca(H+f()*h-h/2,I-v,R?-30:Q?30:0,x,y,h,G));else U.push(ac(0,-38));Q&&H<p.width-v&&(H+=ta),R&&H>v&&(H-=ta)}S?requestAnimationFrame(wb):(A.globalAlpha=.6,A.fillStyle="#000",A.rect(0,0,p.width/5,p.height/5),A.fill(),A.globalAlpha=1,A.font="bold 12px Arial",A.fillStyle="#fff",A.fillText("Game paused",72,160))}function ac(e,t){return new ba(H+e,I+t,0,x,y,h,G)}function Z(e,t){return new da(H+e,I+0,t,x,y,h,5)}function Yb(e,t){let a;t||(a=1),0>e.c&&(e.c=0),e.c||(e.b=3==a&&e.type||!e.type&&!a?50:30,e.m&&(W[e.m].x=e.x,W[e.m].y=e.y,W[e.m].b=1)),e.c||(Wa+=5*(5<e.g?parseInt(e.g/5)+4:2)),bc()}function bc(){let e,t=V.length;for(let a=0;a<t;a++)if((K=V[a]).c){e=!0;break}if(0>=z||!e){B=4;let e=setTimeout(()=>{if(clearTimeout(e),Ga){l.innerHTML="",Ta=Q=R=Ga=!1,r.beginPath(),r.globalAlpha=.6,r.fillStyle="#000",r.rect(0,0,p.width,p.height),r.fill(),r.globalAlpha=1,r.closePath(),r.font="92px Arial",r.fillStyle="#fff",r.fillText("Stage Cleared!",230,460),r.font="64px Arial";let e=-1;var t=[];for(let a=0;a<N.length;a++)N[a]||(e=a,t.push(a));6<t.length&&(e=t[parseInt(f()*t.length-1)]),-1<e&&((t=Gb(l,e,Ka[e],Ja[e])[0]).style.left="36%",t.style.top="240px",t.style.width="320px",t.style.height="320px",ja.style.opacity=1,ra&&r.fillText("Master!",50,1e3),sa&&r.fillText("Perfect!",800,1e3),r.fillText("You found a missing game file!",115,650),r.fillText(db[e]+".png",440,750),N[e]=1),r.fillText("Tap screen for Menu",255,1400),la.style.opacity=.5,n.style.opacity=.5}},3e3)}}function Xb(e,t,a,l,i,s){return(e=l-e)*e+(t=i-t)*t<(a+=s)*a}Math.l=function(e){return e*Math.PI/180},Math.A=function(e){return 180*e/Math.PI};const Zb=[];let $b;</script></body>