!function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(r)return r(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(){function t(){S.play()}function e(){N.play()}function n(t){t=t||"",A.innerText=t}function o(){U=!1,g(),n("LEVEL FINISHED"),O=[],G=[],setTimeout(function(){n("NEXT LEVEL: "+(J+1)),setTimeout(function(){n(),r()},2e3)},2e3)}function i(){n("Your score is "+$),setTimeout(function(){q(!0)},2e3)}function r(){J++,O=[],G=[],W=[],P.innerHTML="",R={},j=0;var t=parseInt(J/5),e=1*J,n=3*(J-1);for(1===J?(t=0,e=1,n=1,Q=300):Q=2===J?60:60+_;O.length<t;)O.push(l());for(;G.length<e;)G.push(d(!0));for(;G.length<n;)G.push(d());U=!0,H=Date.now(),g()}function a(){B.fillStyle="#c9dbdc",B.fillRect(0,0,k.width,k.height),B.drawImage(C,ie-k.width/(2*oe)+0,re-k.height/(2*oe)+0,k.width/oe,k.height/oe,0,0,k.width,k.height),I.style.top=re+(0-k.height/2)+"px",I.style.left=ie+(0-k.width/2)+"px",I.style.display="block",k.style.display="block"}function s(n,i){if(!z&&U){var r=!1;G.map(function(t){var e=Math.sqrt(Math.pow(t.x-n,2)+Math.pow(t.y-i,2));20>e&&!t.used&&W.indexOf(t.content)>=0&&(r=!0,$++,t.used=!0,y(t.content),0==W.length&&(p(),o()))}),r?e():(j++,t())}}function c(){n(),z=!1,U=!0,J=0,$=0,r(),q(!1),H=Date.now(),w()}function h(t){L.rect(t.x,t.y,t.width,t.height),L.stroke(),L.fill(),L.beginPath(),L.moveTo(t.x,t.y+t.height/2),L.lineTo(t.x+t.width,t.y+t.height/2),L.stroke()}function u(t){L.font="20px Arial",L.fillStyle=t.used?"rgba(66, 33, 5, 0.5)":"rgba(66, 33, 5, 1)",L.strokeStyle="black",L.textAlign="center",L.fillText(t.content,t.x,t.y)}function l(){return{x:Math.floor(Math.random()*C.width-50),y:Math.floor(Math.random()*C.height-50),width:100,height:100}}function d(t){var e=["😁","😂","😃","😄","😅","😆","😉","😊","😋","😌","😍","😏","😒","😓","😓","😖","😘","😚","😜","😝","😞","😠","😡","😢","😣","😤","😥","😨","😩","😪","😫","😭","😰","😱","😱","😳","😵","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀"],n=e[Math.floor(Math.random()*e.length)];return t&&m(n),{x:Math.floor(Math.random()*C.width),y:Math.floor(Math.random()*C.height),content:n,speed:.002*J*Math.random()+.003*J,target:{x:Math.floor(Math.random()*C.width),y:Math.floor(Math.random()*C.height)},r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random())}}function f(t,e){if((U||!z)&&(t.x!=t.target.x&&(t.x>t.target.x?t.x-=t.speed*e:t.x+=t.speed*e),t.y!=t.target.y&&(t.y>t.target.y?t.y-=t.speed*e:t.y+=t.speed*e),Math.abs(t.y-t.target.y)<1&&Math.abs(t.x-t.target.x)<1)){for(var n=10,o=0;n>o;o++);t.target.y=Math.floor(Math.random()*C.height),t.target.x=Math.floor(Math.random()*C.width)}}function p(t){if(U){G.map(function(e){f(e,null===ae?1:t-ae)});var e=L.createPattern(ee,"repeat");L.fillStyle=e,L.strokeStyle="rgba(255, 255, 255, 1.0)",L.fillRect(0,0,C.width,C.height),L.stroke(),L.fill(),G.map(function(t){u(t)});var n=L.createPattern(ne,"repeat");L.fillStyle=n,L.strokeStyle="rgba(0, 0, 0, 1.0)",L.shadowColor="black",L.shadowBlur=10,O.map(function(t){h(t)}),L.shadowBlur=0}a(),ae=t,requestAnimationFrame(p)}function m(t){var e=document.createElement("DIV");e.className="item onenter",e.innerText=t,R[t]||(R[t]=[]),R[t].push(e),W.push(t),P.appendChild(e),setTimeout(function(){e.className=e.className.replace("onenter","")},100)}function y(t){var e=R[t].shift();if(e){e.className="item deleted";var n=W.indexOf(t);n>=0&&W.splice(n,1),setTimeout(function(){e.parentNode.removeChild(e)},1e3)}}function g(){console.log(!z,U),V.innerText=!z&&U?_:""}function w(){!z&&U&&(_=Q-Math.floor((Date.now()-H)/1e3)-5*j,0>=_&&(z=!0,U=!1,i()),g()),setTimeout(function(){z||w()},250)}function q(t){var e=document.getElementById("leaderWrapper");if(!t)return e.className="",void 0;e.className="show";var n=document.getElementById("leader"),o=prompt("Enter your name:","")||"Unknown";K.push({name:o,score:$,level:J}),K.sort(function(t,e){return t.score>=e.score?-1:1}),console.log(K);var i='<table><tr class="score"><th class="rank">Rank</th><th>Name</th><th>Score</th><th>Level</th></tr>';K.map(function(t,e){i+='<tr class="score"><td class="rank">'+(e+1)+'</td><td class="name">'+t.name+"</td><td>"+t.score+"</td><td>"+t.level+"</td></tr>"}),i+="</table>",n.innerHTML=i;try{localStorage.setItem("score",JSON.stringify(K))}catch(r){}}TinyMusic={},function(t){function e(t){var n=t.split(s);this.frequency=e.getFrequency(n[0])||0,this.duration=e.getDuration(n[1])||0}function n(t,e,n){this.ac=t||new AudioContext,this.createFxNodes(),this.tempo=e||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,n||[])}var o="B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb",i=440*Math.pow(Math.pow(2,1/12),-9),r=/^[0-9.]+$/,a=4,s=/\s+/,c=/(\d+)/,h={};o.split("|").forEach(function(t,e){t.split("-").forEach(function(t){h[t]=e})}),e.getFrequency=function(t){var e=t.split(c),n=h[e[0]],o=(e[1]||a)-a,r=i*Math.pow(Math.pow(2,1/12),n);return r*Math.pow(2,o)},e.getDuration=function(t){return r.test(t)?parseFloat(t):t.toLowerCase().split("").reduce(function(t,e){return t+("w"===e?4:"h"===e?2:"q"===e?1:"e"===e?.5:"s"===e?.25:0)},0)},n.prototype.createFxNodes=function(){var t=[["bass",100],["mid",1e3],["treble",2500]],e=this.gain=this.ac.createGain();return t.forEach(function(t,n){n=this[t[0]]=this.ac.createBiquadFilter(),n.type="peaking",n.frequency.value=t[1],e.connect(e=n)}.bind(this)),e.connect(this.ac.destination),this},n.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(t){this.notes.push(t instanceof e?t:new e(t))}.bind(this)),this},n.prototype.createCustomWave=function(t,e){e||(e=t),this.waveType="custom",this.customWave=[new Float32Array(t),new Float32Array(e)]},n.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},n.prototype.scheduleNote=function(t,e){var n=60/this.tempo*this.notes[t].duration,o=n*(1-(this.staccato||0));return this.setFrequency(this.notes[t].frequency,e),this.smoothing&&this.notes[t].frequency&&this.slide(t,e,o),this.setFrequency(0,e+o),e+n},n.prototype.getNextNote=function(t){return this.notes[t<this.notes.length-1?t+1:0]},n.prototype.getSlideStartDelay=function(t){return t-Math.min(t,60/this.tempo*this.smoothing)},n.prototype.slide=function(t,e,n){var o=this.getNextNote(t),i=this.getSlideStartDelay(n);return this.setFrequency(this.notes[t].frequency,e+i),this.rampFrequency(o.frequency,e+n),this},n.prototype.setFrequency=function(t,e){return this.osc.frequency.setValueAtTime(t,e),this},n.prototype.rampFrequency=function(t,e){return this.osc.frequency.linearRampToValueAtTime(t,e),this},n.prototype.play=function(t){return t="number"==typeof t?t:this.ac.currentTime,this.createOscillator(),this.osc.start(t),this.notes.forEach(function(e,n){t=this.scheduleNote(n,t)}.bind(this)),this.osc.stop(t),this.osc.onended=this.loop?this.play.bind(this,t):null,this},n.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},t.Note=e,t.Sequence=n}(TinyMusic);var v=new AudioContext,M=140,E=!0,x=["C4 h","D4 q","E4 qe","D4 e","E4 q","F4 h","G4 q","E4 qe","D4 e","C4 q"],T=["G4 qe","F4 e","G4 q","E4 qe","D4 e","C4 q","D4 qe","E4 e","F4 q","G4 hq"],F=["A4 h","G4 0.001","A4 q","G4 h","F4 0.001","G4 q","F4 qe","G4 e","F4 q","E4 qe","D4 e","C4 q"],b=["G4 qe","F4 e","G4 q","E4 qe","D4 e","C4 q","D4 qe","C4 e","D4 q","C4 hq"],D=new TinyMusic.Sequence(v,M,x.concat(T,F,b,F,b));D.loop=!0,D.smoothing=.1,D.gain.gain.value=.05,D.play();var S=new TinyMusic.Sequence(v,200,["E1 q","F1 e","C1 h"]);S.loop=!1,S.gain.gain.value=.5;var N=new TinyMusic.Sequence(v,200,["C6 q","F6 e","E6 h"]);N.loop=!1,N.gain.gain.value=.5;var C=document.getElementById("main");C.width=window.innerWidth,C.height=window.innerHeight;var k=document.getElementById("zoom"),I=document.getElementById("zoomwrapper"),A=document.getElementById("msg"),L=C.getContext("2d"),B=k.getContext("2d"),G=[],O=[],P=document.querySelector("#next"),W=[],H=Date.now(),V=document.querySelector("#clock"),X=document.querySelector("#close"),Y=document.querySelector("#sound"),R={},z=!1,U=!1,J=0,_="",$=0,j=0,K=[],Q=0;try{var Z=localStorage.getItem("score");Z&&(K=JSON.parse(Z))}catch(te){}var ee=document.getElementById("t1"),ne=(L.createPattern(ee,"repeat"),document.getElementById("t2")),oe=(L.createPattern(ne,"repeat"),4),ie=C.width/2,re=C.height/2;window.addEventListener("resize",function(){C.width=window.innerWidth,C.height=window.innerHeight}),window.addEventListener("mousemove",function(t){t.clientX>k.width/(2*oe)&&(ie=t.clientX),t.clientY>k.width/(2*oe)&&(re=t.clientY)}),window.addEventListener("touchmove",function(t){t.changedTouches[0].clientX>k.width/(2*oe)&&(ie=t.changedTouches[0].clientX),t.changedTouches[0].clientY>k.width/(2*oe)&&(re=t.changedTouches[0].clientY)}),window.addEventListener("click",function(){s(ie,re)}),X.addEventListener("click",function(t){t.stopPropagation(),c()}),Y.addEventListener("click",function(t){t.stopPropagation(),E?D.stop():D.play(),E=!E});var ae=null;requestAnimationFrame(p),n("FIND IT! 😉"),setTimeout(function(){c()},5e3)},{}]},{},[1]);