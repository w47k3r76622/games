!function e(t,i,n){function o(r,h){if(!i[r]){if(!t[r]){var a="function"==typeof require&&require;if(!h&&a)return a(r,!0);if(l)return l(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var y=i[r]={exports:{}};t[r][0].call(y.exports,function(e){var i=t[r][1][e];return o(i?i:e)},y,y.exports,e,t,i,n)}return i[r].exports}for(var l="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(){function e(e){this.x=0,this.y=0,this.xVelocity=0,this.yVelocity=0,this.radius=5,this.context=e,this.draw=function(){return this.image?(this.context.drawImage(this.image,this.x-128,this.y-128),void 0):(this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="rgba(0, 255, 255, 1)",this.context.fill(),this.context.closePath(),void 0)},this.update=function(){this.x+=this.xVelocity,this.y+=this.yVelocity,this.x>=d?(this.xVelocity=-this.xVelocity,this.x=d):this.x<=0&&(this.xVelocity=-this.xVelocity,this.x=0),this.y>=g?(this.yVelocity=-this.yVelocity,this.y=g):this.y<=0&&(this.yVelocity=-this.yVelocity,this.y=0)},this.setPosition=function(e,t){this.x=e,this.y=t},this.setVelocity=function(e,t){this.xVelocity=e,this.yVelocity=t},this.setImage=function(e){this.image=e}}function t(e,t){return Math.random()*(t-e)+e}function i(){var i=document.getElementById("game");if(i.getContext){context=i.getContext("2d");for(var n=0;F>n;++n){var o=new e(context);o.setPosition(t(0,d),t(0,g)),o.setVelocity(t(-q,q),t(-q,q)),z.push(o)}}}function n(){var e=30;a=100-20*C>=0?100-20*C+e:e,s=10+e,y=65-5*C>0?(65-5*C)/100:0,u=10;var t={x:d/2,y:a+90,angle:90};S=[],S.push(t),x.beginPath(),x.moveTo(t.x,g-m.y),x.lineTo(t.x,g-t.y),x.closePath(),x.strokeStyle="brown",x.lineWidth=u,x.stroke(),o()}function o(){a*=y,u*=y,x.lineWidth=u;var e=[];x.beginPath();var t;for(t=0;t<S.length;t++){var i=S[t],n=l(i.x,i.y,i.angle+s,a),r=l(i.x,i.y,i.angle-s,a);x.moveTo(i.x,g-i.y),x.lineTo(n.x,g-n.y),x.moveTo(i.x,g-i.y),x.lineTo(r.x,g-r.y),n.angle=i.angle+s,r.angle=i.angle-s,e.push(n),e.push(r)}x.closePath(),x.strokeStyle=10>a?"green":"brown",x.stroke(),S=e,a>2&&o()}function l(e,t,i,n){var o=e+n*Math.cos(i*Math.PI/180),l=t+n*Math.sin(i*Math.PI/180);return{x:o,y:l}}function r(){if(k[38]&&A.solaire&&!v.jumping){v.jumping=!0;var e=A.anal?5:3;v.velY=-v.speed*e}k[39]&&(v.velX<v.speed&&v.velX++,v.glass=7+5*A.anal),k[37]&&(v.velX>-v.speed&&v.velX--,v.glass=0-5*A.anal),k[39]||k[37]||(v.glass=v.glass<=0?0:7),v.velX*=V,v.velY+=P;var t=A.anal?5:1;v.x+=v.velX*t,v.y+=v.velY,v.x>d-200&&v.x<d-200?v.y>=g-v.height&&(v.y=g-v.height+20,v.jumping=!1,v.jumper=!0,v.x=d):v.y>=g-v.height-m.y&&(v.y=g-v.height-m.y,v.jumping=!1);var i=v.x<=0;if(w.x-20>=v.x+v.width/2&&w.y-20<=v.y+v.height&&w.y-20>v.y&&!i?(T=parseInt(5*Math.random(),10),C++,v.x=d):v.x>=d-v.width?v.x=d-v.width:i&&(v.x=0),x.clearRect(0,0,d,g),x.beginPath(),x.moveTo(170,80),x.bezierCurveTo(130,100,130,150,230,150),x.bezierCurveTo(250,180,320,180,340,150),x.bezierCurveTo(420,150,420,120,390,100),x.bezierCurveTo(430,40,370,30,340,50),x.bezierCurveTo(320,5,250,20,250,50),x.bezierCurveTo(200,5,150,20,170,80),x.closePath(),x.lineWidth=5,x.strokeStyle="#FFF",x.fillStyle="#DDD",x.fill(),x.stroke(),x.beginPath(),x.moveTo(470,380),x.bezierCurveTo(430,400,430,450,530,450),x.bezierCurveTo(550,480,620,480,640,450),x.bezierCurveTo(720,450,720,420,690,400),x.bezierCurveTo(730,340,670,330,640,350),x.bezierCurveTo(620,305,550,320,550,350),x.bezierCurveTo(500,305,450,320,470,380),x.closePath(),x.lineWidth=5,x.strokeStyle="#FFF",x.fillStyle="#DDD",x.fill(),x.stroke(),z.forEach(function(e){e.update(),e.draw()}),x.fillStyle="darkred",x.fillRect(v.x,v.y,v.width,v.height),x.fillStyle="#000",x.fillRect(v.x,v.y,v.width,10),x.fillStyle="beige",x.fillRect(v.x,v.y+10,v.width,20),x.fillStyle="#000",x.font="1.8em Arial",x.fillText("o-o",v.x+v.width+v.glass,v.y+30),x.fillStyle="green",b[C]){var o,l=b[C].sol;for(o=0;o<l.length;o++){var h=l[o];x.fillRect(h.x,h.y,h.w,h.h)}}else x.fillRect(0,g-m.y,d-100*T,m.y),x.fillRect(d-100,g-m.y,100,m.y);d-100*T<v.x&&v.x+v.width<d-100&&v.y===g-v.height-m.y&&(p++,v.x=d),x.font="1.2em Arial",x.fillStyle="#000",x.textAlign="right",x.fillText("Level : "+C,d-20,35),A.solaire&&(x.font=".8em Arial",x.fillText("You can now jump with up arrow !",d-20,50)),n(),x.fillStyle="#000",x.font="40px Arial",x.fillText("â˜ ",w.x,w.y),x.textAlign="left",x.font="32px Arial",x.fillText("Who would you choose ?",w.x,g-w.y),13===C&&(x.textAlign="center",x.fillText("You kill the nature ! Human wins",d/2,g/2)),13===p&&(x.textAlign="center",x.fillText("You kill the human ! Nature wins",d/2,g/2)),x.textAlign="right",requestAnimationFrame(r)}function h(e,t,i){A.anal=e,A.cheveu=t,A.solaire=i}!function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e}();var a,s,y,u,c=document.getElementById("game"),x=c.getContext("2d"),f=document.documentElement,d=f.clientWidth,g=f.clientHeight,v={x:d,y:g-150,width:35,height:100,speed:3,velX:0,velY:0,jumping:!1,jumper:!1},m={y:20},w={x:100,y:g-40},p=0,T=0,b=[{sol:[{x:0,y:g-m.y,w:d,h:m.y}]}],C=0,k=[],A=[],V=.8,P=.3,S=[],z=[],F=30,q=2,E=new Image;E.onload=function(){z.forEach(function(e){e.setImage(E)})},E.src="smoke.png",i(),c.width=d,c.height=g,document.body.addEventListener("keydown",function(e){13>C&&13>p?(h(e.shiftKey,e.altKey,e.ctrlKey||C>0),k[e.keyCode]=!0):(k=[],h(!1,!1,!1))}),document.body.addEventListener("keyup",function(e){h(!1,!1,C>0),k[e.keyCode]=!1}),window.addEventListener("load",function(){r()})},{}]},{},[1]);