var KB={};KB.getkey=0;KB.getLastKey=0;KB.buffer="";KB.AcceptedKey=["65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","48","49","50","51","52","53","54","55","56","57","8","13","32","61"];KB.Init=function(){c.addEventListener("keydown",function(a){KB.getkey=a.keyCode});Timer.Init()};KB.GetKeyCode=function(){return(KB.getLastkey)};KB.SetKeyCode=function(a){KB.getLastkey=a};KB.GetKeyboardBuffer=function(a){if(KB.getkey!=0){KB.AcceptedKey.forEach(function(d){var e=KB.getkey;var b=KB.buffer.length;var f=ctx.measureText(KB.buffer).width;if(d==e){if((f<520)&&(d!=8)&&(d!=13)){KB.buffer+=String.fromCharCode(e)}if((b>0)&&(d==8)){KB.buffer=KB.buffer.slice(0,-1)}}});KB.getLastkey=KB.getkey;KB.getkey=0}return(KB.buffer)};KB.ClearBuffer=function(){KB.buffer=""};KB.BlinkingCursor=function(){if(Timer.GetMillisecs(500)){return true}};