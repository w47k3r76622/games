function round5(e){return 5*Math.ceil(e/5)}function SfxrParams(){this.setSettings=function(e){for(var a=0;24>a;a++)this[String.fromCharCode(97+a)]=e[a]||0;this.c<.01&&(this.c=.01);var t=this.b+this.c+this.e;if(.18>t){var g=.18/t;this.b*=g,this.c*=g,this.e*=g}}}function SfxrSynth(){this._params=new SfxrParams;var e,a,t,g,m,r,i,s,n,l,o,c;this.reset=function(){var e=this._params;g=100/(e.f*e.f+.001),m=100/(e.g*e.g+.001),r=1-e.h*e.h*e.h*.01,i=-e.i*e.i*e.i*1e-6,e.a||(o=.5-e.n/2,c=5e-5*-e.o),s=1+e.l*e.l*(e.l>0?-.9:10),n=0,l=1==e.m?0:(1-e.m)*(1-e.m)*2e4+32},this.totalReset=function(){this.reset();var g=this._params;return e=g.b*g.b*1e5,a=g.c*g.c*1e5,t=g.e*g.e*1e5+12,3*((e+a+t)/3|0)},this.synthWave=function(d,f){var u=this._params,h=1!=u.s||u.v,p=u.v*u.v*.1,v=1+3e-4*u.w,y=u.s*u.s*u.s*.1,w=1+1e-4*u.t,x=1!=u.s,b=u.x*u.x,k=u.g,T=u.q||u.r,B=u.r*u.r*u.r*.2,N=u.q*u.q*(u.q<0?-1020:1020),S=u.p?((1-u.p)*(1-u.p)*2e4|0)+32:0,P=u.d,I=u.j/2,A=u.k*u.k*.01,D=u.a,O=e,F=1/e,E=1/a,z=1/t,j=5/(1+u.u*u.u*20)*(.01+y);j>.8&&(j=.8),j=1-j;for(var X,Y,J,H,q,M,R=!1,_=0,C=0,L=0,W=0,U=0,V=0,Q=0,G=0,K=0,Z=0,$=new Array(1024),ee=new Array(32),ae=$.length;ae--;)$[ae]=0;for(var ae=ee.length;ae--;)ee[ae]=2*Math.random()-1;for(var ae=0;f>ae;ae++){if(R)return ae;if(S&&++K>=S&&(K=0,this.reset()),l&&++n>=l&&(l=0,g*=s),r+=i,g*=r,g>m&&(g=m,k>0&&(R=!0)),Y=g,I>0&&(Z+=A,Y*=1+Math.sin(Z)*I),Y|=0,8>Y&&(Y=8),D||(o+=c,0>o?o=0:o>.5&&(o=.5)),++C>O)switch(C=0,++_){case 1:O=a;break;case 2:O=t}switch(_){case 0:L=C*F;break;case 1:L=1+2*(1-C*E)*P;break;case 2:L=1-C*z;break;case 3:L=0,R=!0}T&&(N+=B,J=0|N,0>J?J=-J:J>1023&&(J=1023)),h&&v&&(p*=v,1e-5>p?p=1e-5:p>.1&&(p=.1)),M=0;for(var te=8;te--;){if(Q++,Q>=Y&&(Q%=Y,3==D))for(var ge=ee.length;ge--;)ee[ge]=2*Math.random()-1;switch(D){case 0:q=o>Q/Y?.5:-.5;break;case 1:q=1-Q/Y*2;break;case 2:H=Q/Y,H=6.28318531*(H>.5?H-1:H),q=1.27323954*H+.405284735*H*H*(0>H?1:-1),q=.225*((0>q?-1:1)*q*q-q)+q;break;case 3:q=ee[Math.abs(32*Q/Y|0)]}h&&(X=V,y*=w,0>y?y=0:y>.1&&(y=.1),x?(U+=(q-V)*y,U*=j):(V=q,U=0),V+=U,W+=V-X,W*=1-p,q=W),T&&($[G%1024]=q,q+=$[(G-J+1024)%1024],G++),M+=q}M*=.125*L*b,d[ae]=M>=1?32767:-1>=M?-32768:32767*M|0}return f}}function ArcadeAudio(){this.sounds={}}function initSound(){aa.add("powerup",10,[[0,,.062,.0016,.4789,.2066,,.3463,,.0322,,,,.3806,-.0057,.5264,,.0145,1,,,.0466,,.4]]),aa.add("laser",5,[[0,,.1779,,.3597,.5614,.2637,-.1699,,,,,,.8236,-.4205,,,,1,,,,,.25]]),aa.add("explosion",20,[[3,,.139,.39,.56,.1534,,.2012,,,,,,,,,-.1093,-.2849,1,,,,,.2]]),aa.add("fade",20,[[3,.49,1,,,.89,.02,-.3537,,,,-.6599,,,,,.3999,.3799,1,,,,.02,.4]]),aa.add("buy",20,[[0,,.01,.4786,.4222,.5756,,,,,,.4119,.6761,,,,,,1,,,,,.4]]),aa.add("noclick",20,[[0,,.01,.4786,.4222,.5756,,,,,,-.76,.97,,.02,,,,1,,,,,.4]]),aa.add("keypress",2,[[3,,.0859,.12,.094,.32,,1,.48,,.57,-.14,,,-.02,,,.28,.46,-.54,,,,.3]]),aa.add("jitter",20,[[3,,.18,,,.77,,-1,-1,,,-1,,,,,.1,.1,1,,,.5,-1,.2]])}function saveData(e,a){localStorage[e]=JSON.stringify(a),localStorage.setItem("item",!0)}function loadData(e){return localStorage[e]}function collision(e,a){return"undefined"!=typeof e&&"undefined"!=typeof a&&e.x<=a.x+a.width&&e.x+e.width>=a.x&&e.y<=a.y+a.height&&e.y+e.height>a.y?!0:!1}function hoverOn(e){return pointer.x>=e.x&&pointer.x<=e.x+e.width&&pointer.y>=e.y&&pointer.y<=e.y+e.height?!0:!1}function drawText(e,a,t,g,m,r){r!==!0&&(a=round5(a),t=round5(t));var i=[];e=e.toUpperCase();for(var s=0;s<e.length;s++){var n=varters[e.charAt(s)];n&&i.push(n)}game.ctx.fillStyle=m||"#000000";var l=a;for(s=0;s<i.length;s++){n=i[s];for(var o=t,c=0,d=0;d<n.length;d++){for(var f=n[d],u=0;u<f.length;u++)f[u]&&game.ctx.fillRect(l+u*g,o,g,g);c=Math.max(c,f.length*g),o+=g}l+=g+c}}function toggleFullScreen(){var e=window.document,a=e.documentElement,t=a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen,g=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?g.call(e):t.call(a)}function click(e){"play"==game.currentState&&game.play.onclick(),1==hoverOn(game.start.playBTN)&&"start"==game.currentState&&(game.play.init(),game.particles=[],aa.play("fade")),1==hoverOn(game.start.storeBTN)&&"start"==game.currentState&&(game.store.init(),game.fade=1,game.particles=[],game.bugs=[],game.bulvars=[],aa.play("fade")),1==game.start.controls&&(game.start.controls=!1),1==hoverOn(game.start.controlBTN)&&"start"==game.currentState&&(game.start.controls=!0),"store"==game.currentState&&game.store.onclick(),"gameover"==game.currentState&&game.over.timer>=60&&(game.fade=1,game.particles=[],game.currentState="start",aa.play("fade")),1==hoverOn(game.gui.fullscreenBTN)&&"preload"!=game.currentState&&"play"!=game.currentState&&(1==game.gui.fullscreenBTN.toggled?(game.gui.fullscreenBTN.toggled=!1,toggleFullScreen()):(game.gui.fullscreenBTN.toggled=!0,toggleFullScreen())),pointer.x=e.pageX-game.canvas.offsetLeft,pointer.y=e.pageY-game.canvas.offsetTop,e.preventDefault()}function draw(){if(requestAnimationFrame(draw),now=Date.now(),delta=now-then,delta>interval){then=now-delta%interval,game.updateSize(),game.update(),game.tick++,delta>=1e3/15&&(game.update(),game.tick++);var e=0,a=0;random(1,200)<game.hits&&(e=random(-10,10),a=random(-10,10)),(0!=e||0!=a)&&game.ctx.translate(e,a),game.ctx.globalAlpha=.7,game.ctx.fillStyle="#1C4145",game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.ctx.globalAlpha=1,game.render(),(0!=e||0!=a)&&game.ctx.translate(-e,-a)}}const FPS=.03;var game={};game.tick=0;var random=function(e,a){return Math.floor(Math.random()*(a-e))+e};game.moneycount=0,game.canvas=document.getElementById("canvas"),game.fade=1,game.ctx=game.canvas.getContext("2d"),game.canvas.imageSmoothingEnabled=!1,game.ctx.imageSmoothingEnabled=!1,game.ctx.imageSmoothingQuality="low",game.ctx.mozImageSmoothingEnabled=!1,game.ctx.webkitImageSmoothingEnabled=!1,game.ctx.msImageSmoothingEnabled=!1,game.ctx.imageSmoothingEnabled=!1,game.money=0,game.currentState="preload",game.highscore=0,game.score=0,game.hits=0,game.assets={},game.image=new Image,game.image.src="assets.png",game.init=function(){},game.image.onload=function(){game.init()},document.addEventListener("onerror",function(e){e.preventDefault()}),game.items={},game.items.antivirus=0,game.items.fasterdefence=0,game.items.searchingcode=0,game.items.diskdefrag=0,game.items.virusscanner=0,game.items.doublemoney=0,game.items.firewall=0;var aa={};if(window.mobileAndTabvarcheck=function(){var e=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},0==mobileAndTabvarcheck()){var synth=new SfxrSynth;window.jsfxr=function(e){synth._params.setSettings(e);var a=synth.totalReset(),t=new Uint8Array(4*((a+1)/2|0)+44),g=2*synth.synthWave(new Uint16Array(t.buffer,44),a),m=new Uint32Array(t.buffer,0,44);m[0]=1179011410,m[1]=g+36,m[2]=1163280727,m[3]=544501094,m[4]=16,m[5]=65537,m[6]=44100,m[7]=88200,m[8]=1048578,m[9]=1635017060,m[10]=g,g+=44;for(var r=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="data:audio/wav;base64,";g>r;r+=3){var n=t[r]<<16|t[r+1]<<8|t[r+2];s+=i[n>>18]+i[n>>12&63]+i[n>>6&63]+i[63&n]}return s},ArcadeAudio.prototype.add=function(e,a,t){this.sounds[e]=[],t.forEach(function(t,g){this.sounds[e].push({tick:0,count:a,pool:[]});for(var m=0;a>m;m++){var r=new Audio;r.src=jsfxr(t),this.sounds[e][g].pool.push(r)}},this)},ArcadeAudio.prototype.play=function(e){var a=this.sounds[e],t=a.length>1?a[Math.floor(Math.random()*a.length)]:a[0];t.pool[t.tick].play(),t.tick<t.count-1?t.tick++:t.tick=0},aa=new ArcadeAudio,setTimeout(initSound,1)}else aa.play=function(){};game.updateSize=function(){(window.innerWidth!=game.canvas.width||window.innerHeight!=game.canvas.height)&&(game.canvas.width=window.innerWidth,game.canvas.height=window.innerHeight,game.canvas.style.width=window.innerWidth,game.canvas.style.height=window.innerHeight,game.canvas.imageSmoothingEnabled=!1,game.ctx.imageSmoothingEnabled=!1,game.ctx.imageSmoothingQuality="low",game.ctx.mozImageSmoothingEnabled=!1,game.ctx.webkitImageSmoothingEnabled=!1,game.ctx.msImageSmoothingEnabled=!1,game.ctx.imageSmoothingEnabled=!1)},game.update=function(){for(var e=0;e<4*game.canvas.width;e+=80)game.tick%20==0&&game.spawnBckParticle(e,-80);game.updateBckParticle(),"start"==game.currentState?(random(0,100)<=3&&game.spawnBug(),game.bugs.length>0&&random(0,50)<=2&&(random(0,100)<=3&&game.spawnBug(),game.spawnSeakingBulvar(game.canvas.width/2-20,game.canvas.height-80)),game.score=0):"play"==game.currentState?game.play.update():"preload"==game.currentState?game.preload.update():"gameover"==game.currentState?game.over.update():"store"==game.currentState&&game.store.update(),game.updateBug(),game.highscore<game.score&&(game.highscore=game.score);for(var e=0;e<game.bugs.length;e++)for(var a=0;a<game.bulvars.length;a++)collision(game.bugs[e],game.bulvars[a])&&(game.spawnParticles(game.bugs[e].x,game.bugs[e].y,11),game.bugs[e].HP--,game.bugs[e].HP<=0&&game.devareBug(e),"play"==game.currentState&&(game.score+=100,game.moneycount>0?game.money+=2:game.money+=1,game.score%1e4==0&&game.score>0&&(game.spawnAlert("score: "+game.score,"#00ff00"),aa.play("powerup"))),game.devareBulvar(a));for(var e=0;e<game.bugs.length;e++)for(var a=0;a<game.files.length;a++)collision(game.bugs[e],game.files[a])&&(game.spawnParticles(game.bugs[e].x,game.bugs[e].y,30),game.spawnParticles(game.files[a].x,game.files[a].y,30),game.hits+=.5,game.files[a].HP--,game.devareBug(e),game.spawnAlert("file hit","#ff0000"));game.gui.update(),game.updateBulvar(),game.updateParticle(),game.updateFile()},game.render=function(){game.renderBckParticle(),game.renderBug(),game.renderBulvar(),game.renderParticle(),game.renderFile(),"start"==game.currentState?game.start.render():"play"==game.currentState?game.play.render():"preload"==game.currentState?game.preload.render():"gameover"==game.currentState?game.over.render():"store"==game.currentState&&game.store.render(),"preload"!=game.currentState&&game.gui.render(),game.renderAlert(),game.fade>0&&(game.ctx.fillStyle="#ffffff",game.ctx.strokeStyle="#ffffff",game.ctx.globalAlpha=game.fade,game.ctx.beginPath(),game.ctx.rect(-10,-10,game.canvas.width+10,game.canvas.height+10),game.ctx.fill(),game.ctx.stroke(),game.ctx.closePath(),game.ctx.globalAlpha=1,game.fade-=.05),game.ctx.strokeStyle="#606060",game.ctx.globalAlpha=.2,game.ctx.beginPath();for(var e=0;e<game.canvas.width;e+=5)game.ctx.moveTo(e+.5,0),game.ctx.lineTo(e+.5,game.canvas.height);for(var a=0;a<game.canvas.height;a+=5)game.ctx.moveTo(0,a+.5),game.ctx.lineTo(game.canvas.width,a+.5);game.ctx.stroke(),game.ctx.closePath(),game.ctx.globalAlpha=1};var varters=varters={A:[[,1],[1,,1],[1,,1],[1,1,1],[1,,1]],B:[[1,1],[1,,1],[1,1,1],[1,,1],[1,1]],C:[[1,1,1],[1],[1],[1],[1,1,1]],D:[[1,1],[1,,1],[1,,1],[1,,1],[1,1]],E:[[1,1,1],[1],[1,1,1],[1],[1,1,1]],F:[[1,1,1],[1],[1,1],[1],[1]],G:[[,1,1],[1],[1,,1,1],[1,,,1],[,1,1]],H:[[1,,1],[1,,1],[1,1,1],[1,,1],[1,,1]],I:[[1,1,1],[,1],[,1],[,1],[1,1,1]],J:[[1,1,1],[,,1],[,,1],[1,,1],[1,1,1]],K:[[1,,,1],[1,,1],[1,1],[1,,1],[1,,,1]],L:[[1],[1],[1],[1],[1,1,1]],M:[[1,1,1,1,1],[1,,1,,1],[1,,1,,1],[1,,,,1],[1,,,,1]],N:[[1,,,1],[1,1,,1],[1,,1,1],[1,,,1],[1,,,1]],O:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],P:[[1,1,1],[1,,1],[1,1,1],[1],[1]],Q:[[0,1,1],[1,,,1],[1,,,1],[1,,1,1],[1,1,1,1]],R:[[1,1],[1,,1],[1,,1],[1,1],[1,,1]],S:[[1,1,1],[1],[1,1,1],[,,1],[1,1,1]],T:[[1,1,1],[,1],[,1],[,1],[,1]],U:[[1,,1],[1,,1],[1,,1],[1,,1],[1,1,1]],V:[[1,,,,1],[1,,,,1],[,1,,1],[,1,,1],[,,1]],W:[[1,,,,1],[1,,,,1],[1,,,,1],[1,,1,,1],[1,1,1,1,1]],X:[[1,,,,1],[,1,,1],[,,1],[,1,,1],[1,,,,1]],Y:[[1,,1],[1,,1],[,1],[,1],[,1]],Z:[[1,1,1,1,1],[,,,1],[,,1],[,1],[1,1,1,1,1]],0:[[,1],[1,,1],[1,,1],[1,,1],[,1]],1:[[,1],[1,1],[,1],[,1],[1,1,1]],2:[[,1,1],[1,,,1],[,,1],[,1],[1,1,1,1]],3:[[1,1,1],[,,,1],[,1,1],[,,,1],[1,1,1]],4:[[,,1,1],[,1,,1],[1,,,1],[1,1,1,1],[,,,1]],5:[[1,1,1,1],[1],[1,1,1,1],[,,,1],[1,1,1]],6:[[,1,1],[1],[1,1,1],[1,,,1],[,1,1]],7:[[1,1,1,1],[,,,1],[,,1],[,,1],[,,1]],8:[[,1,1],[1,,,1],[,1,1],[1,,,1],[,1,1]],9:[[,1,1],[1,,,1],[,1,1,1],[,,,1],[,1,1]],".":[[,,],[,,],[,,],[,,],[,,1]]," ":[[,,],[,,],[,,],[,,],[,,]],_:[[,,],[,,],[,,],[,,],[1,1,1,1]],":":[[,,],[1,,],[,,],[1,,],[,,]]};game.gui={},game.gui.fullscreenBTN={x:0,y:0,width:40,height:40,toggled:!1},game.gui.update=function(){game.gui.fullscreenBTN.x=game.canvas.width-20-game.gui.fullscreenBTN.width,game.gui.fullscreenBTN.y=20},game.gui.render=function(){"play"!=game.currentState&&(1==hoverOn(game.gui.fullscreenBTN)&&0==game.gui.fullscreenBTN.toggled?game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x-5,game.gui.fullscreenBTN.y-5,game.gui.fullscreenBTN.width+10,game.gui.fullscreenBTN.height+10):1==hoverOn(game.gui.fullscreenBTN)&&1==game.gui.fullscreenBTN.toggled?game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x+5,game.gui.fullscreenBTN.y+5,game.gui.fullscreenBTN.width-10,game.gui.fullscreenBTN.height-10):game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x,game.gui.fullscreenBTN.y,game.gui.fullscreenBTN.width,game.gui.fullscreenBTN.height))},game.preload={},game.preload.tick=0,game.preload.text="",game.preload.placement={x:0,y:0},"true"==loadData("item")&&(game.items=JSON.parse(loadData("items"))||game.items,game.money=parseInt(loadData("money"))||0,game.score=parseInt(loadData("score"))||0,game.highscore=parseInt(loadData("highScore"))||0),game.preload.update=function(){0==game.preload.tick&&(game.fade=1,game.preload.tick+=60),100==game.preload.tick&&(game.preload.text+="f",aa.play("keypress")),105==game.preload.tick&&(game.preload.text+="i",aa.play("keypress")),110==game.preload.tick&&(game.preload.text+="r",aa.play("keypress")),115==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),120==game.preload.tick&&(game.preload.text+="n",aa.play("keypress")),125==game.preload.tick&&(game.preload.text+="i",aa.play("keypress")),130==game.preload.tick&&(game.preload.text+="b",aa.play("keypress")),135==game.preload.tick&&(game.preload.text+="b",aa.play("keypress")),140==game.preload.tick&&(game.preload.text+="l",aa.play("keypress")),145==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),150==game.preload.tick&&(game.preload.text+="r",aa.play("keypress")),155==game.preload.tick&&(game.preload.text+=" "),165==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),170==game.preload.tick&&(game.preload.text+="t",aa.play("keypress")),175==game.preload.tick&&(game.preload.text+="u",aa.play("keypress")),180==game.preload.tick&&(game.preload.text+="d",aa.play("keypress")),185==game.preload.tick&&(game.preload.text+="i",aa.play("keypress")),190==game.preload.tick&&(game.preload.text+="o",aa.play("keypress")),195==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),200==game.preload.tick&&(game.preload.text+=" "),205==game.preload.tick&&(game.preload.text+="p",aa.play("keypress")),210==game.preload.tick&&(game.preload.text+="r",aa.play("keypress")),215==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),220==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),225==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),230==game.preload.tick&&(game.preload.text+="n",aa.play("keypress")),235==game.preload.tick&&(game.preload.text+="t",aa.play("keypress")),240==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),245==game.preload.tick&&(game.preload.text+=".",aa.play("keypress")),250==game.preload.tick&&(game.preload.text+=".",aa.play("keypress")),255==game.preload.tick&&(game.preload.text+=".",aa.play("keypress")),260==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),280==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),300==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),320==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),340==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),360==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),380==game.preload.tick&&(game.preload.text="",game.fade=1,aa.play("fade"),game.preload.title=!0),560==game.preload.tick&&(game.fade=1,aa.play("fade"),game.currentState="start"),game.preload.tick+=1.25},game.preload.render=function(){game.ctx.fillStyle="#000000",game.ctx.globalAlpha=1,game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.canvas.width>404?drawText(game.preload.text,game.canvas.width/2-192,game.canvas.height/2-15,3,"#ffffff"):drawText(game.preload.text,game.canvas.width/2-128,game.canvas.height/2-15,2,"#ffffff"),game.preload.title&&(10==random(0,18)&&(game.preload.placement.x=random(0,game.canvas.width)-200,game.preload.placement.y=random(0,game.canvas.height)-20,aa.play("jitter")),drawText("anti virus",game.preload.placement.x,game.preload.placement.y,5,"#ffffff"),game.preload.placement.x=game.canvas.width/2-100,game.preload.placement.y=game.canvas.height/2-10.5)},game.start={},game.start.playBTN={x:20,y:40,width:80,height:25},game.start.controlBTN={x:20,y:120,width:160,height:25},game.start.storeBTN={x:20,y:200,width:100,height:25},game.start.render=function(){game.start.playBTN.x=game.canvas.width/2-game.start.playBTN.width/2,game.start.controlBTN.x=game.canvas.width/2-game.start.controlBTN.width/2,game.start.storeBTN.x=game.canvas.width/2-game.start.storeBTN.width/2,game.start.playBTN.y=game.canvas.height/2-120,game.start.controlBTN.y=game.canvas.height/2-40,game.start.storeBTN.y=game.canvas.height/2+40,1==hoverOn(game.start.playBTN)?drawText("play",game.start.playBTN.x,game.start.playBTN.y,5,"#ffffff"):drawText("play",game.start.playBTN.x,game.start.playBTN.y,5,"#00ffff"),1==hoverOn(game.start.controlBTN)?drawText("controls",game.start.controlBTN.x,game.start.controlBTN.y,5,"#ffffff"):drawText("controls",game.start.controlBTN.x,game.start.controlBTN.y,5,"#00ffff"),1==hoverOn(game.start.storeBTN)?drawText("store",game.start.storeBTN.x,game.start.storeBTN.y,5,"#ffffff"):drawText("store",game.start.storeBTN.x,game.start.storeBTN.y,5,"#00ffff"),game.start.controls&&(game.ctx.globalAlpha=.9,game.ctx.fillStyle="#000000",game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.ctx.globalAlpha=1,drawText("Controls:",20,20,5,"#ffffff"),drawText("Tap or click to shoot viruses",10,60,2.5,"#ffffff"),drawText("before they get past your files.",10,90,2.5,"#ffffff"),drawText("you must protect your",10,120,2.5,"#ffffff"),drawText("hard drive at all costs.",10,150,2.5,"#ffffff"),drawText("WARNING",20,180,5,"#ff0000"),drawText("the more files destroyed,",10,220,2.5,"#ffffff"),drawText("the glitchier your system gets.",10,250,2.5,"#ffffff"))},game.play={},game.play.antivirus=[],game.play.spawnAntivirus=function(){game.play.antivirus.push({x:random(10,game.canvas.width-60),y:random(game.canvas.height/2,game.canvas.height-60),width:40,height:40,update:function(){10==random(0,60)&&game.spawnSearchingBulvar(this.x,this.y)}})},game.play.defragBTN={x:20,y:160,width:40,height:40},game.play.moneyBTN={x:20,y:220,width:40,height:40},game.play.firewallBTN={x:game.canvas.width-20,y:160,width:40,height:40},game.play.scannerBTN={x:game.canvas.width-20,y:220,width:40,height:40},game.play.onclick=function(){if(1==hoverOn(game.play.defragBTN)&&game.items.diskdefrag>0){game.files=[],game.spawnFileSheild(),game.hits=0;for(var e=0;e<game.canvas.width;e+=40)game.spawnParticles(e,game.canvas.height-40,10);game.spawnAlert("All files healed","#ffffff"),aa.play("powerup"),game.items.diskdefrag-=1}else if(1==hoverOn(game.play.defragBTN)&&game.items.diskdefrag<=0)aa.play("noclick"),game.spawnAlert("all out","#ff0000");else if(1==hoverOn(game.play.moneyBTN)&&game.items.doublemoney>0)game.moneycount<0&&(game.moneycount=0),game.spawnAlert("double money activated","#ffffff"),aa.play("powerup"),game.moneycount+=300,game.items.doublemoney-=1;else if(1==hoverOn(game.play.moneyBTN)&&game.items.doublemoney<=0)game.spawnAlert("all out","#ff0000"),aa.play("noclick");else if(1==hoverOn(game.play.firewallBTN)&&game.items.firewall>0){for(var a=0;4>a;a++)for(var e=-40;e<game.canvas.width;e+=20)game.spawnFireBulvar(e,game.canvas.height-120);game.spawnAlert("firewall activated","#ffffff"),aa.play("powerup"),game.items.firewall--}else if(1==hoverOn(game.play.firewallBTN)&&game.items.firewall<=0)game.spawnAlert("all out","#ff0000"),aa.play("noclick");else if(1==hoverOn(game.play.scannerBTN)&&game.items.virusscanner>0){for(var e=-40;e<game.canvas.width;e+=20)game.spawnScanBulvar(e,game.canvas.height-120);game.spawnAlert("virus scanner activated","#ffffff"),aa.play("powerup"),game.items.virusscanner--}else 1==hoverOn(game.play.scannerBTN)&&game.items.virusscanner<=0?(game.spawnAlert("all out","#ff0000"),aa.play("noclick")):(game.spawnBulvar(game.canvas.width/2-20,game.canvas.height-80),random(0,game.items.searchingcode+10)<game.items.searchingcode&&game.spawnSearchingBulvar(game.canvas.width/2-20,game.canvas.height-80))},game.play.init=function(){saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore),game.fade=1,game.play.antivirus=[],game.currentState="play",game.spawnFileSheild(),game.bugs=[],game.bulvars=[],game.score=0;for(var e=0;e<game.items.antivirus;e++)game.play.spawnAntivirus()},game.play.update=function(){game.moneycount--,random(0,50)<=(game.score+game.highscore/5)/5e3&&game.spawnBug();for(var e=0;e<game.play.antivirus.length;e++)game.play.antivirus[e].update();game.play.scannerBTN.x=game.canvas.width-60,game.play.firewallBTN.x=game.canvas.width-60},game.play.render=function(){for(var e=0;e<game.play.antivirus.length;e++)random(0,400)<game.hits?game.ctx.drawImage(game.image,8,8,8,8,game.play.antivirus[e].x+random(-5,5),game.play.antivirus[e].y+random(-5,5),40,40):game.ctx.drawImage(game.image,8,8,8,8,game.play.antivirus[e].x,game.play.antivirus[e].y,40,40);random(0,200)<game.hits?(game.ctx.drawImage(game.image,24,8,8,8,game.play.defragBTN.x+random(-5,5),game.play.defragBTN.y+random(-5,5),game.play.defragBTN.width,game.play.defragBTN.height),drawText(game.items.diskdefrag+"",game.play.defragBTN.x+5+random(-5,5),game.play.defragBTN.y+5+random(-5,5),5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.play.moneyBTN.x+random(-5,5),game.play.moneyBTN.y+random(-5,5),game.play.moneyBTN.width,game.play.moneyBTN.height),drawText(game.items.doublemoney+"",game.play.moneyBTN.x+5+random(-5,5),game.play.moneyBTN.y+random(-5,5)+5,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.play.firewallBTN.x+random(-5,5),game.play.firewallBTN.y+random(-5,5),game.play.firewallBTN.width,game.play.firewallBTN.height),drawText(game.items.firewall+"",game.play.firewallBTN.x+5+random(-5,5),game.play.firewallBTN.y+5+random(-5,5),5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.play.scannerBTN.x+random(-5,5),game.play.scannerBTN.y+random(-5,5),game.play.scannerBTN.width,game.play.scannerBTN.height),drawText(game.items.virusscanner+"",game.play.scannerBTN.x+5+random(-5,5),game.play.scannerBTN.y+5+random(-5,5),5,"#ffffff"),game.moneycount>0&&drawText("2x "+Math.floor(game.moneycount/30),game.canvas.width/2-100+random(-5,5),80+random(-5,5),5,"#00ff00")):(game.ctx.drawImage(game.image,24,8,8,8,game.play.defragBTN.x,game.play.defragBTN.y,game.play.defragBTN.width,game.play.defragBTN.height),drawText(game.items.diskdefrag+"",game.play.defragBTN.x+5,game.play.defragBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.play.moneyBTN.x,game.play.moneyBTN.y,game.play.moneyBTN.width,game.play.moneyBTN.height),drawText(game.items.doublemoney+"",game.play.moneyBTN.x+5,game.play.moneyBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.play.firewallBTN.x,game.play.firewallBTN.y,game.play.firewallBTN.width,game.play.firewallBTN.height),drawText(game.items.firewall+"",game.play.firewallBTN.x+5,game.play.firewallBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.play.scannerBTN.x,game.play.scannerBTN.y,game.play.scannerBTN.width,game.play.scannerBTN.height),drawText(game.items.virusscanner+"",game.play.scannerBTN.x+5,game.play.scannerBTN.y+5,5,"#ffffff"),game.moneycount>0&&drawText("2x "+Math.floor(game.moneycount/30),game.canvas.width/2-100,80,5,"#00ff00")),random(0,200)<game.hits?(drawText("score: "+game.score,40+random(-5,5),40+random(-5,5),5,"#00ffff"),drawText("bits: "+game.money,40+random(-5,5),100+random(-5,5),5,"#00ffff")):(drawText("score: "+game.score,40,40,5,"#00ffff"),drawText("bits: "+game.money,40,100,5,"#00ffff"))},game.over={},game.over.timer=0,game.over.init=function(){game.currentState="gameover",game.hits=0,game.over.timer=0;for(var e=0;e<game.bugs.length;e++)game.spawnParticles(game.bugs[e].x,game.bugs[e].y,2);for(var e=0;e<game.files.length;e++)game.spawnParticles(game.files[e].x,game.files[e].y,2);for(var e=0;e<game.bulvars.length;e++)game.spawnParticles(game.bulvars[e].x,game.bulvars[e].y,5);aa.play("explosion"),game.bugs=[],game.files=[],game.bulvars=[]},game.over.update=function(){3==random(0,6)&&game.spawnParticles(random(0,game.canvas.width),random(0,game.canvas.height),30),game.over.timer++},game.over.render=function(){drawText("game over",game.canvas.width/2-126,game.canvas.height/2-100,7,"#ffffff"),drawText("High score: "+game.highscore,game.canvas.width/2-126,game.canvas.height/2-50,4,"#ffffff"),drawText("Score: "+game.score,game.canvas.width/2-126,game.canvas.height/2-20,4,"#ffffff"),drawText("Bits: "+game.money,game.canvas.width/2-126,game.canvas.height/2+10,4,"#ffffff")},game.store={},game.store.currentSelected,game.store.antivirus={x:0,y:0,width:40,height:40,name:"Anti virus",description:"Purchase an auto shooting antivirus.",price:750,id:"antivirus",update:function(){this.x=game.canvas.width/2-80,this.y=120}},game.store.fasterbulvars={x:0,y:0,width:40,height:40,name:"faster defence",description:"upgrades bulvar speed.",price:250,id:"fasterdefence",update:function(){this.x=game.canvas.width/2-20,this.y=120}},game.store.seekingbulvar={x:0,y:0,width:40,height:40,name:"searching code",description:"shoot seeking code.",price:500,id:"searchingcode",update:function(){this.x=game.canvas.width/2+40,this.y=120}},game.store.diskdefrag={x:0,y:0,width:40,height:40,name:"disk defrag",description:"use to fix your hard drive.",price:50,id:"diskdefrag",update:function(){this.x=game.canvas.width/2-110,this.y=180}},game.store.virusscanner={x:0,y:0,width:40,height:40,name:"virus scanner",description:"finds and destroys all viruses.",price:60,id:"virusscanner",update:function(){this.x=game.canvas.width/2-50,this.y=180}},game.store.moremoney={x:0,y:0,width:40,height:40,name:"double money",description:"earn 2x more bits for ten seconds.",price:50,id:"doublemoney",update:function(){this.x=game.canvas.width/2+10,this.y=180}},game.store.firewall={x:0,y:0,width:40,height:40,name:"firewall",description:"extra layer of protection.",id:"firewall",price:125,update:function(){this.x=game.canvas.width/2+70,this.y=180}},game.store.buy={x:0,y:0,width:60,height:20,update:function(){void 0!=game.store.currentSelected?game.canvas.width<600||game.canvas.height<600?(this.x=game.canvas.width-this.width-20,this.y=game.canvas.height-this.height-20):(this.x=game.canvas.width/2+80,this.y=360):(this.x=-1e3,this.y=-1e3)}},game.store.menu={x:0,y:0,width:100,height:20,update:function(){game.canvas.width<600||game.canvas.height<600?(this.x=20,this.y=game.canvas.height-this.height-20):(this.x=game.canvas.width/2-140,this.y=360)}},game.store.init=function(){game.currentState="store",saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore)},game.store.update=function(){game.store.antivirus.update(),game.store.fasterbulvars.update(),game.store.seekingbulvar.update(),game.store.diskdefrag.update(),game.store.virusscanner.update(),game.store.moremoney.update(),game.store.firewall.update(),game.store.buy.update(),game.store.menu.update()},game.store.render=function(){drawText("store",game.canvas.width/2-50,20,4,"#00ffff"),drawText("bits: "+game.money,20,60,4,"#00ffff"),1==hoverOn(game.store.menu)?drawText("menu",game.store.menu.x,game.store.menu.y,5,"#ffffff"):drawText("menu",game.store.menu.x,game.store.menu.y,5,"#00ffff"),1==hoverOn(game.store.buy)?drawText("buy",game.store.buy.x,game.store.buy.y,5,"#ffffff"):drawText("buy",game.store.buy.x,game.store.buy.y,5,"#00ffff"),game.ctx.drawImage(game.image,8,8,8,8,game.store.antivirus.x,game.store.antivirus.y,40,40),drawText(game.items[game.store.antivirus.id]+"",game.store.antivirus.x,game.store.antivirus.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,24,8,8,game.store.fasterbulvars.x,game.store.fasterbulvars.y,40,40),drawText(game.items[game.store.fasterbulvars.id]+"",game.store.fasterbulvars.x,game.store.fasterbulvars.y,5,"#ffffff"),game.ctx.drawImage(game.image,24,16,8,8,game.store.seekingbulvar.x,game.store.seekingbulvar.y,40,40),drawText(game.items[game.store.seekingbulvar.id]+"",game.store.seekingbulvar.x,game.store.seekingbulvar.y,5,"#ffffff"),game.ctx.drawImage(game.image,24,8,8,8,game.store.diskdefrag.x,game.store.diskdefrag.y,40,40),drawText(game.items[game.store.diskdefrag.id]+"",game.store.diskdefrag.x,game.store.diskdefrag.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.store.virusscanner.x,game.store.virusscanner.y,40,40),drawText(game.items[game.store.virusscanner.id]+"",game.store.virusscanner.x,game.store.virusscanner.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.store.moremoney.x,game.store.moremoney.y,40,40),drawText(game.items[game.store.moremoney.id]+"",game.store.moremoney.x,game.store.moremoney.y,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.store.firewall.x,game.store.firewall.y,40,40),drawText(game.items[game.store.firewall.id]+"",game.store.firewall.x,game.store.firewall.y,5,"#ffffff"),void 0!=game.store.currentSelected&&(drawText(game.store.currentSelected.name,game.canvas.width/2-150,240,5,"#00ffff"),drawText("bits: "+game.store.currentSelected.price,game.canvas.width/2-150,280,5,"#00ffff"),
drawText(game.store.currentSelected.description,game.canvas.width/2-150,320,2.5,"#00ffff"))},game.store.onclick=function(){hoverOn(game.store.antivirus)&&(game.store.currentSelected=game.store.antivirus,aa.play("jitter")),hoverOn(game.store.fasterbulvars)&&(game.store.currentSelected=game.store.fasterbulvars,aa.play("jitter")),hoverOn(game.store.seekingbulvar)&&(game.store.currentSelected=game.store.seekingbulvar,aa.play("jitter")),hoverOn(game.store.diskdefrag)&&(game.store.currentSelected=game.store.diskdefrag,aa.play("jitter")),hoverOn(game.store.virusscanner)&&(game.store.currentSelected=game.store.virusscanner,aa.play("jitter")),hoverOn(game.store.moremoney)&&(game.store.currentSelected=game.store.moremoney,aa.play("jitter")),hoverOn(game.store.firewall)&&(game.store.currentSelected=game.store.firewall,aa.play("jitter")),hoverOn(game.store.menu)&&(game.currentState="start",aa.play("fade"),game.fade=1,saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore)),void 0!=game.store.currentSelected&&hoverOn(game.store.buy)&&(game.money>=game.store.currentSelected.price?(game.money-=game.store.currentSelected.price,game.items[game.store.currentSelected.id]=game.items[game.store.currentSelected.id]||0,game.items[game.store.currentSelected.id]++,game.spawnAlert("bought","#00ff00"),aa.play("powerup")):(game.spawnAlert("not enough money","#ff0000"),aa.play("noclick")))},game.bugs=[],game.spawnBug=function(){var e=1;game.score>5e3&&(e=random(1,3)),game.score>1e4&&(e=random(1,4)),game.score>2e4&&(e=random(1,5)),game.bugs.push({x:random(0,game.canvas.width-40),y:-40,width:40,height:40,HP:e,speed:3*Math.random()+1})},game.updateBug=function(){for(var e=0;e<game.bugs.length;e++)game.bugs[e].y+=5-game.bugs[e].HP,20===random(0,200)&&(game.bugs[e].x+=random(-100,100),game.bugs[e].y+=random(-100,100),game.spawnParticles(game.bugs[e].x,game.bugs[e].y,2)),game.bugs[e].x>game.canvas.width-game.bugs[e].width&&(game.bugs[e].x+=random(-200,-100)),game.bugs[e].x<0&&(game.bugs[e].x+=random(100,200)),game.bugs[e].y>=game.canvas.height+10&&("play"==game.currentState&&(game.over.init(),game.currentState="gameover",aa.play("fade"),saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore)),game.devareBug(e))},game.bugJitter=15,game.renderBug=function(){for(var e=0;e<game.bugs.length;e++)game.bugs[e].HP<=1?random(0,40)>0?game.ctx.drawImage(game.image,16,0,8,8,game.bugs[e].x,game.bugs[e].y,game.bugs[e].width,game.bugs[e].height):(game.ctx.drawImage(game.image,16,0,8,8,game.bugs[e].x+random(-game.bugJitter,game.bugJitter),game.bugs[e].y+random(-game.bugJitter,game.bugJitter),game.bugs[e].width,game.bugs[e].height),aa.play("jitter")):2==game.bugs[e].HP?random(0,40)>0?game.ctx.drawImage(game.image,8,32,8,8,game.bugs[e].x,game.bugs[e].y,game.bugs[e].width,game.bugs[e].height):(game.ctx.drawImage(game.image,8,32,8,8,game.bugs[e].x+random(-game.bugJitter,game.bugJitter),game.bugs[e].y+random(-game.bugJitter,game.bugJitter),game.bugs[e].width,game.bugs[e].height),aa.play("jitter")):3==game.bugs[e].HP?random(0,40)>0?game.ctx.drawImage(game.image,24,24,8,8,game.bugs[e].x,game.bugs[e].y,game.bugs[e].width,game.bugs[e].height):(game.ctx.drawImage(game.image,24,24,8,8,game.bugs[e].x+random(-game.bugJitter,game.bugJitter),game.bugs[e].y+random(-game.bugJitter,game.bugJitter),game.bugs[e].width,game.bugs[e].height),aa.play("jitter")):game.bugs[e].HP>=4&&(random(0,40)>0?game.ctx.drawImage(game.image,0,32,8,8,game.bugs[e].x,game.bugs[e].y,game.bugs[e].width,game.bugs[e].height):(game.ctx.drawImage(game.image,0,32,8,8,game.bugs[e].x+random(-game.bugJitter,game.bugJitter),game.bugs[e].y+random(-game.bugJitter,game.bugJitter),game.bugs[e].width,game.bugs[e].height),aa.play("jitter")))},game.devareBug=function(e){game.bugs.splice(e,1)},game.bulvars=[],game.spawnBulvar=function(e,a){aa.play("laser");var t=pointer.x-20-e,g=pointer.y-20-a,m=Math.sqrt(t*t+g*g),r=t/m*(13+game.items.fasterdefence),i=g/m*(13+game.items.fasterdefence);game.bulvars.push({x:e,y:a,width:40,height:40,velX:r,life:0,velY:i,img:"blue",update:function(){}})},game.spawnSeakingBulvar=function(e,a){aa.play("laser");var t=random(1,game.bugs.length-1);if(void 0!=game.bugs[t]){var g=game.bugs[t].x-20-e,m=game.bugs[t].y-20-a+100,r=Math.sqrt(g*g+m*m),i=g/r*(13+game.items.fasterdefence),s=m/r*(13+game.items.fasterdefence);game.bulvars.push({x:e,y:a,width:40,height:40,life:0,velX:i,velY:s,img:"blue",update:function(){}})}},game.spawnFireBulvar=function(e,a){game.bulvars.push({x:e,y:a,width:40,height:40,life:-900,velX:0,velY:0,img:"red",update:function(){}})},game.spawnScanBulvar=function(e,a){game.bulvars.push({x:e,y:a,width:40,height:40,life:-300,velX:0,velY:-10,img:"blue",update:function(){}})},game.spawnSearchingBulvar=function(e,a){aa.play("laser");var t=random(1,game.bugs.length-1);void 0!=game.bugs[t]&&game.bulvars.push({randomBug:t,x:e,y:a,width:40,height:40,velX:0,velY:0,accX:0,accY:0,life:0,img:"red",update:function(){if("undefined"==typeof game.bugs[this.randomBug])this.randomBug=random(0,game.bugs.length-1);else{var e=game.bugs[this.randomBug].x-20-this.x,a=game.bugs[this.randomBug].y-20-this.y,t=Math.sqrt(e*e+a*a);this.accX=e/t*(13+game.items.fasterdefence/2)/7,this.accY=a/t*(13+game.items.fasterdefence/2)/7,this.velX+=this.accX,this.velY+=this.accY,this.velX>13+game.items.fasterdefence/2?this.velX=13+game.items.fasterdefence/2:this.velX<-(13+game.items.fasterdefence/2)&&(this.velX=-(13+game.items.fasterdefence/2)),this.velY>13+game.items.fasterdefence/2?this.velY=13+game.items.fasterdefence/2:this.velY<-(13+game.items.fasterdefence/2)&&(this.velY=-(13+game.items.fasterdefence/2))}}})},game.devareBulvar=function(e){game.bulvars[e].kill=!0},game.updateBulvar=function(){for(var e=0;e<game.bulvars.length;e++)game.bulvars[e].life++,game.bulvars[e].update(),game.bulvars[e].x+=game.bulvars[e].velX,game.bulvars[e].y+=game.bulvars[e].velY,game.bulvars[e].life>120&&(game.bulvars[e].kill=!0,game.spawnParticles(game.bulvars[e].x,game.bulvars[e].y,3)),(game.bulvars[e].x>game.canvas.width+200||game.bulvars[e].x<-200||game.bulvars[e].y>game.canvas.height+200||game.bulvars[e].y<-200)&&game.devareBulvar(e),1==game.bulvars[e].kill&&game.bulvars.splice(e,1)},game.renderBulvar=function(){for(var e=0;e<game.bulvars.length;e++)random(0,200)<=game.hits?"blue"==game.bulvars[e].img?game.ctx.drawImage(game.image,24,0,8,8,game.bulvars[e].x+random(-10,10),game.bulvars[e].y+random(-10,10),game.bulvars[e].width,game.bulvars[e].height):"red"==game.bulvars[e].img&&game.ctx.drawImage(game.image,24,16,8,8,game.bulvars[e].x+random(-10,10),game.bulvars[e].y+random(-10,10),game.bulvars[e].width,game.bulvars[e].height):"blue"==game.bulvars[e].img?game.ctx.drawImage(game.image,24,0,8,8,game.bulvars[e].x,game.bulvars[e].y,game.bulvars[e].width,game.bulvars[e].height):"red"==game.bulvars[e].img&&game.ctx.drawImage(game.image,24,16,8,8,game.bulvars[e].x,game.bulvars[e].y,game.bulvars[e].width,game.bulvars[e].height);("play"==game.currentState||"start"==game.currentState)&&(random(0,400)<game.hits?game.ctx.drawImage(game.image,0,8,8,8,game.canvas.width/2-20+random(-5,5),game.canvas.height-80+random(-5,5),40,40):game.ctx.drawImage(game.image,0,8,8,8,game.canvas.width/2-20,game.canvas.height-80,40,40))},game.particles=[],game.spawnParticles=function(e,a,t){t>=10&&aa.play("explosion");for(var g=0;t>g;g++)game.particles.push({x:e,y:a,velX:random(-3,3),velY:random(-3,3),life:30,img:random(0,2)})},game.devareParticle=function(e){game.particles.splice(e,1)},game.updateParticle=function(){for(var e=0;e<game.particles.length;e++)"undefined"!=typeof game.particles[e]&&(game.particles[e].x+=game.particles[e].velX,game.particles[e].y+=game.particles[e].velY,game.particles[e].life--,game.particles[e].x>game.canvas.width||game.particles[e].x<-40||game.particles[e].y>game.canvas.height||game.particles[e].y<-40?game.devareParticle(e):game.particles[e].life<=0&&game.devareParticle(e))},game.renderParticle=function(){for(var e=0;e<game.particles.length;e++)for(var e=0;e<game.particles.length;e++)game.ctx.globalAlpha=game.particles[e].life/30,0==game.particles[e].img?game.ctx.drawImage(game.image,0,0,8,8,game.particles[e].x,game.particles[e].y,20,20):game.ctx.drawImage(game.image,8,0,8,8,game.particles[e].x,game.particles[e].y,20,20),game.ctx.globalAlpha=1},game.bckParticles=[],game.spawnBckParticle=function(e,a){var t=80;game.bckParticles.push({x:e,y:a,size:t,velX:0,velY:7,img:random(0,2),dead:!1})},game.devareBckParticle=function(e){game.bckParticles.splice(e,1)},game.updateBckParticle=function(){for(var e=0;e<game.bckParticles.length;e++)"undefined"!=typeof game.bckParticles[e]&&0==game.bckParticles[e].dead&&(game.bckParticles[e].x+=game.bckParticles[e].velX,game.bckParticles[e].y+=game.bckParticles[e].velY,10==random(0,200)&&(game.bckParticles[e].img=random(0,2)),game.bckParticles[e].y>2*game.canvas.height&&game.devareBckParticle(e))},game.renderBckParticle=function(){for(var e=0;e<game.bckParticles.length;e++)"undefined"!=typeof game.bckParticles[e]&&game.bckParticles[e].x<=game.canvas.width&&game.bckParticles[e].y<game.canvas.height&&(game.ctx.globalAlpha=.1,random(0,400)<game.hits?0==game.bckParticles[e].img?game.ctx.drawImage(game.image,0,0,8,8,game.bckParticles[e].x+random(-5,5),game.bckParticles[e].y+random(-5,5),game.bckParticles[e].size,game.bckParticles[e].size):game.ctx.drawImage(game.image,8,0,8,8,game.bckParticles[e].x+random(-5,5),game.bckParticles[e].y+random(-5,5),game.bckParticles[e].size,game.bckParticles[e].size):0==game.bckParticles[e].img?game.ctx.drawImage(game.image,0,0,8,8,game.bckParticles[e].x,game.bckParticles[e].y,game.bckParticles[e].size,game.bckParticles[e].size):game.ctx.drawImage(game.image,8,0,8,8,game.bckParticles[e].x,game.bckParticles[e].y,game.bckParticles[e].size,game.bckParticles[e].size),game.ctx.globalAlpha=1)},game.alerts=[],game.spawnAlert=function(e,a){game.alerts.push({text:e,color:a,length:e.length,life:0})},game.devareAlert=function(e){game.alerts.splice(e,1)},game.renderAlert=function(){for(var e=0;e<game.alerts.length;e++)game.ctx.globalAlpha=(100-game.alerts[e].life)/100,game.alerts[e].life+=2,drawText(game.alerts[e].text,game.canvas.width/2-4*game.alerts[e].length*5/2,75-.75*game.alerts[e].life,5,game.alerts[e].color,!0),game.alerts[e].life>100&&game.devareAlert(e)},game.files=[],game.spawnFile=function(e,a){game.files.push({x:e,y:a,width:40,height:40,HP:2})},game.devareFile=function(e){game.files.splice(e,1)},game.updateFile=function(){for(var e=0;e<game.files.length;e++)game.files[e].y=game.canvas.height-40,game.files[e].HP<=0&&game.devareFile(e)},game.renderFile=function(){for(var e=0;e<game.files.length;e++)game.files[e].x<game.canvas.width&&(random(0,400)<game.hits?2==game.files[e].HP?game.ctx.drawImage(game.image,0,24,8,8,game.files[e].x+random(-5,5),game.files[e].y+random(-5,5),game.files[e].width,game.files[e].height):game.ctx.drawImage(game.image,8,24,8,8,game.files[e].x+random(-5,5),game.files[e].y+random(-5,5),game.files[e].width,game.files[e].height):2==game.files[e].HP?game.ctx.drawImage(game.image,0,24,8,8,game.files[e].x,game.files[e].y,game.files[e].width,game.files[e].height):game.ctx.drawImage(game.image,8,24,8,8,game.files[e].x,game.files[e].y,game.files[e].width,game.files[e].height))},game.spawnFileSheild=function(){for(var e=0;e<4*game.canvas.width;e+=40)game.spawnFile(e,canvas.height-40)};var pointer={x:0,y:0};document.addEventListener("mousemove",function(e){pointer.x=e.pageX-game.canvas.offsetLeft,pointer.y=e.pageY-game.canvas.offsetTop,e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},!1),document.addEventListener("mousedown",click,!1),document.addEventListener("contextmenu",function(e){e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},!1),document.addEventListener("drag",function(e){e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},!1);var fps=30,now,then=Date.now(),interval=1e3/fps,delta;game.init=function(){draw()};