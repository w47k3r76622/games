<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DINOFFLINE</title>
</head>
<style>
    #container,#container_game{width:100%;height:100%;top:0;left:0}#container_game,#map_roll,.map_slice,.model_cont{transform-style:preserve-3d}#death_screen,#press_a_button{line-height:100vh;color:#fff;text-align:center}#death_msg,#death_screen,#highscore,#js13k,#press_a_button,#title,.coin_side:after{text-align:center}#button_cont2,#dino_shop,#inspect_area,#player2{display:none}*{font-family:Arial;user-select:none}body{--colorreal1:white;--colorreal2:#DADADA;--colorreal3:#adadad;--colorreal4:#777777;--colorreal5:#535353;--color1:white;--color2:#DADADA;--color3:#adadad;--color4:#777777;--color5:#535353}#container{--colorreal1:white;--colorreal2:#DADADA;--colorreal3:#adadad;--colorreal4:#777777;--colorreal5:#535353;--color1:white;--color2:#DADADA;--color3:#adadad;--color4:#777777;--color5:#535353;--transition_length:2000ms;position:absolute;overflow:hidden;background:var(--color1);transition:background-color var(--transition_length),border var(--transition_length),filter 1s}.debri,.map_slice{position:absolute;transition:background-color var(--transition_length),border var(--transition_length)}#container_game{position:absolute;perspective:50vw;z-index:200}#map_roll{position:absolute;width:0;height:0;top:calc(50% + 110vw);left:50%;//transform:translateY(150vw);//animation:rotatemap 40s linear infinite}.map_slice{width:150vw;left:calc(50% - 75vw);height:10vw;top:calc(50% - 5vw);//border:1px solid #000;background:var(--color2)}@keyframes rotatemap{from{transform:rotateX(360deg)}to{transform:rotateX(0)}}.debri{background:var(--color3);//background:#535353}.debri1{width:1vw;height:1vw}.debri2{width:1vw;height:1.5vw}.debri3{width:2vw;height:1vw}.model_cont,.model_cont2{width:0;height:0;top:50%;left:50%;position:absolute;transition:background-color var(--transition_length),border var(--transition_length)}.model_cont{transform:rotateX(-90deg);/border:2vw #ff4fe0 solid}.cactus_part,.cactus_part2{border:.25vw solid var(--color5)}.model_cont2{transform-style:preserve-3d}.cactus_part{position:absolute;bottom:0;width:1vw;left:calc(50% - 1vw);height:4.75vw;background:var(--color4);border-bottom:none}.cactus_part2,.cactus_part3{position:absolute;left:calc(50% - 3.25vw);background:var(--color4);bottom:0}.cactus_part2{width:5.5vw;height:.5vw;/border-left:none}.cactus_part3{width:.5vw;height:2vw;border:.25vw solid var(--color5);border-bottom:none}.cactus_top,.cactus_top2{border:.25vw solid var(--color5);background:var(--color4);position:absolute}.cactus_top{width:1vw;height:1vw;transform:rotateX(90deg) translateZ(4.9vw);left:calc(50% - 1vw);top:calc(50% - .75vw)}.cactus_top2{width:.5vw;height:.5vw;transform:translateY(-4.4vw) translateX(-2.75vw) rotateX(90deg);left:calc(50% - .5vw);top:calc(50% - .5vw)}.cactus_top3{transform:translateY(-4.4vw) translateX(2.25vw) rotateX(90deg)}.test{position:absolute;width:50vw;height:100%;left:calc(50% - 25vw);background:#00ed72;top:0}#moon,#moon_in,#sun{width:20vmin;border-radius:50%;top:0}#moon,#moon_in,#sun,#sunmoon_cont{height:20vmin}#player,#player2{width:0;height:0;top:calc(50% + 110vw);left:50%;transform-style:preserve-3d;//animation:rotatemap 1s linear infinite;//transition:transform .2s linear}#coin_cont,#point_cont{top:1vmin;font-size:5vmin;z-index:300;color:var(--color5);position:absolute}#player,#player2{position:absolute;transform:translateZ(30vw) translateY(-106vw) rotateX(75deg)}#point_cont{left:1vmin;text-shadow:var(--color2) #fff 0 0 1vmin}#coin_cont{right:1vmin;text-align:right;width:100%;text-shadow:var(--color2) 0 0 1vmin}#sunmoon_cont{width:100vmin;position:absolute;top:calc(50% - 10vmin);left:calc(50% - 50vmin);/border:1px solid;z-index:100;// animation:linear rotatesky infinite 20s}#sun{position:absolute;background:var(--colorreal3);left:0}#moon{position:absolute;background:var(--colorreal1);//animation:linear rotatemoon infinite 20s;right:0;//overflow:hidden}#moon_in{position:absolute;background:var(--color1);left:8vmin;transition:background-color var(--transition_length),border var(--transition_length)}@keyframes rotatesky{from{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes rotatemoon{from{transform:rotate(0)}to{transform:rotate(-1turn)}}.rock_part{position:absolute;left:calc(50% - 1vw);bottom:0;width:1.5vw;height:1.5vw;background:var(--color4);border:.25vw solid var(--color5)}.bird_torso_part,.rock2_part{width:.5vw;position:absolute;left:calc(50% - .5vw);background:var(--color4);border:.25vw solid var(--color5)}.rock2_part{bottom:0;height:.5vw}.bird_torso_part{height:3vw;top:calc(50% - 2vw)}.bird_head_part,.bird_head_side{position:absolute;bottom:0;left:0}.bird_head_part{height:1.5vw;width:1vw;border:.25vw solid var(--color5);background:var(--color4);transform-origin:0 100%;transform:rotateX(-90deg)}.bird_head_side{width:2vw;height:2vw;background:var(--color5);clip-path:polygon(0 0,0 100%,100% 100%);transform-origin:0 100%}.bird_head_front,.bird_head_side:after,.bird_wing_top:before{position:absolute;background:var(--color4)}.bird_head_side:after{content:'';width:1vw;height:1vw;bottom:.25vw;left:.25vw;clip-path:polygon(0 0,0 100%,100% 100%)}.bird_head_side1{transform:rotateY(-90deg)}.bird_head_side2{transform:translateX(1.5vw) rotateY(-90deg)}.bird_head_front{height:2.3284vw;width:1vw;border:.25vw solid var(--color5);bottom:0;left:0;transform-origin:0 100%;transform:translateZ(2vw) rotateX(45deg)}.bird_head_front:after{width:1.5vw;height:.75vw;position:absolute;top:calc(50% - .375vw);left:calc(50% - .75vw);background-image:url(eyes0.png);background-size:100% 100%;content:''}.bird_wing_top{position:absolute;background:var(--color5);clip-path:polygon(0 0,0 100%,100% 100%);width:4vw;height:2vw}.bird_wing_top:before{content:'';clip-path:polygon(0 0,0 100%,100% 100%);width:3vw;bottom:.25vw;left:.25vw;height:1.25vw}.bird_wing_back,.bird_wing_front{position:absolute;height:.25vw;background:var(--color4);top:1vw}.bird_wing1_top{transform:rotateX(-90deg) translateY(.25vw)}.bird_wing1_bottom{transform:translateY(.25vw) rotateX(-90deg)}.bird_wing_back{width:4vw;transform:translateZ(-1vw)}.bird_wing_front{width:4.6vw;transform:translateZ(.9vw) rotateY(28deg);transform-origin:0 0}#menu,#press_a_button,#title{position:absolute;width:100%}.bird_wing1{transform-origin:0 50%;transform:translateY(-1.1vw);animation:bird_wing1_move linear infinite .6s}.bird_wing2{transform-origin:0 50%;transform:rotateZ(180deg) translateY(-1.1vw);animation:bird_wing2_move linear infinite .6s}#dinoinspection_cont,#inspection_box,#inspection_cont{transform-style:preserve-3d}@keyframes bird_wing1_move{0%,100%,50%{transform:translateY(-1.1vw) rotateZ(0)}25%{transform:translateY(-1.1vw) rotateZ(20deg)}75%{transform:translateY(-1.1vw) rotateZ(-20deg)}}@keyframes bird_wing2_move{0%,100%,50%{transform:rotateZ(180deg) translateY(-1.1vw) rotateZ(0)}25%{transform:rotateZ(180deg) translateY(-1.1vw) rotateZ(-20deg)}75%{transform:rotateZ(180deg) translateY(-1.1vw) rotateZ(20deg)}}#menu{height:100%;top:0;left:0;z-index:900;overflow:hidden}#press_a_button{height:100%;font-size:2.5vw;text-shadow:#000 0 0 1vw,#000 0 0 2vw;z-index:2000;transition:opacity 50ms;animation:blinkpress 2s linear infinite}@keyframes blinkpress{0%,100%{text-shadow:#000 0 0 1vw,#000 0 0 3vw}50%{text-shadow:#000 0 0 .5vw,#000 0 0 1vw}}#title{color:#fff;text-shadow:#000 0 0 1vw,#000 0 0 2vw,#000 0 0 4vw;font-size:5vw;height:5vw;top:1vw}#description,.button_cont{top:15vw;transition:opacity 1s;position:absolute}#description{width:calc(100% - 10vw - 30vw);//height:21.5vw;background:rgba(0,0,0,.6);box-shadow:#000 0 0 .1vw;padding:1vw;right:5vw;text-align:justify;font-size:1.5vw;opacity:0;color:#fff}.button_cont{left:5vw;width:30vw}#death_msg,.a{left:0;width:100%}#button_cont{opacity:0}.button{font-size:3vw;height:3vw;color:#fff;text-shadow:#000 0 0 2vw,#000 0 0 1vw;transition:text-shadow .1s;cursor:pointer;margin-bottom:2vw}#js13k,.button:hover{text-shadow:#000 0 0 .5vw,#000 0 0 .5vw}.a{position:absolute;height:100%;top:0}#inspection_box{position:absolute;height:70vh;width:70vh;background:#f3f3f3;left:calc(50% - 35vh);top:calc(50% - 35vh);box-shadow:#000 0 0 1vw;perspective:20vw}#inspection_cont{transform:translateY(35vh) translateZ(10vw)}#dinoinspection_cont{transform:translateY(35vh) translateZ(10vw);animation:rotatedino 4s linear infinite;position:absolute;height:0;width:0;left:50%;top:50%}@keyframes rotatedino{0%{transform:translateZ(13vw) rotateY(0) rotateX(90deg)}50%{transform:translateZ(13vw) rotateY(180deg) rotateX(90deg)}100%{transform:translateZ(13vw) rotateY(360deg) rotateX(90deg)}}#death_screen{font-size:6vw;text-shadow:#000 0 0 1vw,#000 0 0 2vw;display:none;z-index:3000}#death_msg{height:3vw;line-height:3vw;font-size:3vw;position:absolute;top:calc(50% + 4vw);color:#fff;text-shadow:#000 0 0 .5vw,#000 0 0 1vw}#highscore{position:absolute;height:2vw;font-size:2vw;width:100%;top:7.5vw;color:#fff;text-shadow:#000 0 0 1vw,#000 0 0 .5vw;transition:opacity 1s;opacity:0}.coin_side,.coin_side:after{width:3vw;height:3vw;position:absolute}.coin_side{top:calc(50% - 1.75vw);left:calc(50% - 1.75vw);border:.25vw solid var(--color4);background:var(--color5)}.coin_side:after{content:'$';top:-.1vw;left:.1vw;font-size:3vw;color:var(--color4);transform:rotate(45deg)}.coin_side_side{height:.25vw;width:3.5vw;position:absolute;top:calc(50% - .125vw);left:calc(50% - 1.75vw);background:var(--color4)}#dino_inspector,#dino_parts{position:absolute;background:#f3f3f3;top:calc(50% - 35vh);box-shadow:#000 0 0 1vw}.coin_cont{animation:coinrotate 2s linear infinite}@keyframes coinrotate{0%{transform:rotateX(-90deg) translateY(-4vw) rotateY(0)}50%{transform:rotateX(-90deg) translateY(-3.5vw) rotateY(180deg)}100%{transform:rotateX(-90deg) translateY(-4vw) rotateY(360deg)}}#js13k{position:absolute;width:100%;font-size:1vw;bottom:1vw;color:#fff}#dino_inspector{height:70vh;width:70vh;left:calc(50% - 35vh);perspective:25vw;transform-style:preserve-3d}#dino_parts{width:calc(50% - 35vh - 4vw);right:2vw;/height:400px;overflow-x:hidden;overflow-y:scroll;max-height:70vh;display:flex;flex-wrap:wrap}.part_category{height:1vw;width:100%;position:relative;font-size:1.5vw;color:#172e2e;padding:.5vw}.part_elem{position:relative;width:7vw;height:7vw;background:#f6f6f6;box-shadow:#000 0 0 .3vw;overflow:hidden;margin:1vw;cursor:pointer;transform:scale(1);transition:transform .2s}.part_elem:hover{transform:scale(1.05)}.base_cont,.dino_head,.dino_leg,.dino_tail,.part_content{transform-style:preserve-3d}.part_price{position:absolute;width:calc(100% - .5vw);padding-left:.5vw;height:1vw;bottom:0;left:0;font-size:1vw;font-weight:700;color:#fff;background:linear-gradient(90deg,#696969,transparent);z-index:200}.part_content{position:absolute;width:100%;height:100%;top:0;left:0;z-index:100;perspective:20vw}.dino_eyes{position:absolute;width:1.5vw;height:.75vw;left:calc(50% - .75vw);top:calc(50% - .375vw);background-size:100% 100%}.dino_head_longside,.dino_head_side{border:.25vw solid var(--color4);background:var(--color5);width:1.5vw;position:absolute;left:calc(50% - 1vw)}.dino_head_side{height:1.5vw;top:calc(50% - 1vw)}.dino_head_longside{height:2.5vw;top:calc(50% - 1.5vw)}.dino_tail_ball,.dino_tail_box{border:var(--color5) solid;background:var(--color4)}.dino_tail{position:absolute}.dino_tail_ball{width:1.5vw;height:.75vw;border-top:none;position:absolute;left:calc(50% - 1vw);/bottom:0;top:calc(50% - 1vw);border-radius:1vw}.dino_tail_box{width:1vw;height:1vw;left:calc(50% - .75vw);top:calc(50% - .75vw);position:absolute}.dino_torso,.dino_torso_ends{width:2vw;border:var(--color5) solid;left:calc(50% - 1vw);background:var(--color4);position:absolute}.dino_torso{height:3vw;top:calc(50% - 1.5vw)}.dino_torso_ends{height:2vw;top:calc(50% - 1vw)}#coin_amount{position:absolute;top:1vmin;right:1vmin;font-size:5vmin;text-align:right;width:100%;z-index:300;color:#fff;text-shadow:#000 0 0 1vmin}.dino_leg_part{height:1vw;width:.25vw;border-left:solid var(--color5) .25vw;background:var(--color4);top:0;left:calc(50%);position:absolute}.dino_leg{animation:dinolegmove 1s linear infinite;position:absolute;transform-origin:50% 0}.base_cont{width:0;height:0;top:50%;left:50%;position:absolute}@keyframes dinolegmove{0%,100%{transform:rotateX(20deg)}50%{transform:rotateX(-20deg)}}
</style><body><div id='container'><div id='container_game'><div id='map_roll'></div><div id='player'></div><div id='player2'></div></div><div id='sunmoon_cont'><div id='sun'></div><div id='moon'><div id='moon_in'></div></div></div><div id='point_cont'>00000pts</div><div id='coin_cont'>00000pts</div></div><div id='menu'><div id='press_a_button'>Press a button to continue</div><div id='title'>DINOFFLINE</div><div id='js13k'>a JS13K 2018 entry created by Oliver Sepsik</div><div class='a' id='main_menu'><div id='highscore'>Your high score is 0</div><div id='button_cont' class='button_cont'><div onclick='open_playgame()' onmouseenter='show_msg("start")'  class='button'>Start Game</div><div onclick='open_shop()' onmouseenter='show_msg("maker")'  class='button'>Dino Maker</div><div onclick='open_inspect()' onmouseenter='show_msg("models")' class='button'>Models</div><div onclick='create_save()' onmouseenter='show_msg("save")' class='button'>Export Save</div><div onclick='import_save()' onmouseenter='show_msg("save")' class='button'>Import Save</div></div><div class='button_cont' id='button_cont2'><div onclick='start_new_game("single")' class='button' onmouseenter='show_msg("single")'>Singleplayer</div><div onclick='start_new_game("multi")' class='button' onmouseenter='show_msg("multi")'>Multiplayer</div><div onclick='close_playgame()' class='button' onmouseenter='show_msg("back")'>Back</div></div><div id='description'></div></div><div class='a' id='inspect_area'><div class='button_cont'><div onclick='inspect("cactus")' class='button'>Cactus</div><div onclick='inspect("rock")' class='button'>Rocks</div><div onclick='inspect("bird")' class='button'>Bird</div><div onclick='inspect("coin")' class='button'>Coin</div><br/><div class='button' onclick='close_inspect()'>Back</div></div><div id='inspection_box'><div id='inspection_cont'></div></div></div><div class='a' id='dino_shop'><div class='button_cont'><div onclick='customize(1)' class='button'>Player 1</div><div onclick='customize(2)' class='button'>Player 2</div><br/><div onclick='close_shop()' class='button' onclick='close_shop()'>Back</div></div><div id='dino_inspector'><div id='dinoinspection_cont'></div></div><div id='dino_parts'></div><div id='coin_amount'></div></div></div><div class='a' id='death_screen'>
    YOU DIED!<div id='death_msg'></div><div style='width: 100%; position: absolute; top: calc(50% + 10vw); line-height: 3vw;'><div class='button' onclick='start_new_game(game_type)'>Restart</div><div class='button' onclick='back_to_menu()'>Back to Main Menu</div></div></div></body><script>
    var gid=a=>document.getElementById(a);document.addEventListener('contextmenu',a=>a.preventDefault());var cd=a=>{var b=document.createElement('div');return b.className=a,b},isChrome=!!window.chrome&&!!window.chrome.webstore,debri=[cd('debri debri1'),cd('debri debri2'),cd('debri debri3')],map_elems=[];function generate_map(){for(var b,a=0;72>a;++a){b=cd('map_slice'),b.style.transform='rotateX('+5*a+'deg) translateZ(110vw)';for(var d,c=0;c<30*Math.random();++c)d=debri[~~(3*Math.random())].cloneNode(!0),d.style.top=100*Math.random()+'%',d.style.left=100*Math.random()+'%',b.appendChild(d);map_elems[a]=b,gid('map_roll').appendChild(map_elems[a])}}var cactus=cd('model_cont');(function(){for(var b,a=0;4>a;++a)b=cd('cactus_part'),b.style.transform='rotateY('+90*a+'deg) translateZ(.74vw)',cactus.appendChild(b);for(var b,a=0;4>a;++a)b=cd('cactus_part2'),b.style.transform='translateY(-2vw) rotateX('+90*a+'deg) translateZ(.488vw)',cactus.appendChild(b);for(var a=0;4>a;++a)for(var b,c=0;2>c;++c)b=cd('cactus_part3'),b.style.transform='translateX('+5*c+'vw) translateY(-2.25vw) rotateY('+90*a+'deg) translateZ(.492vw)',cactus.appendChild(b);cactus.appendChild(cd('cactus_top')),cactus.appendChild(cd('cactus_top2')),cactus.appendChild(cd('cactus_top2 cactus_top3'))})();var rock=cd('model_cont');(function(){for(var c,a=cd('model_cont'),b=0;6>b;++b)c=cd('rock_part'),c.style.transform=4>b?'rotateY('+90*b+'deg) translateZ(1vw)':5===b?'rotateX(90deg) translateZ(1vw)':'rotateX(-90deg) translateZ(1vw)',a.appendChild(c);a.style.perspective='6vw',a.style.transform='rotateX(-90deg) translateZ(-1.2vw)',a.style.transformStyle='preserve-3d',rock.appendChild(a);for(var c,d=cd('model_cont'),b=0;6>b;++b)c=cd('rock2_part'),c.style.transform=4>b?'rotateY('+90*b+'deg) translateZ(.495vw)':5===b?'rotateX(90deg) translateZ(.495vw)':'rotateX(-90deg) translateZ(.495vw)',d.appendChild(c);d.style.perspective='6vw',d.style.transform='rotateX(-90deg) translateZ(-.45vw) translateX(1.9vw) translateY(-2.1vw)',d.style.transformStyle='preserve-3d',rock.appendChild(d)})();var bird=cd('model_cont');(function(){for(var d,a=cd('model_cont2'),b=cd('model_cont2'),c=0;4>c;++c)d=cd('bird_torso_part'),d.style.transform='rotateY('+90*c+'deg) translateZ(.5vw)',b.appendChild(d);b.style.transform='rotateX(90deg)';var e=cd('model_cont2');e.appendChild(cd('bird_head_part')),e.appendChild(cd('bird_head_front')),e.appendChild(cd('bird_head_side bird_head_side1')),e.appendChild(cd('bird_head_side bird_head_side2')),e.style.transform='translateY(1vw) translateZ(1.1vw) translateX(-.75vw)';var f=cd('model_cont2 bird_wing1');f.appendChild(cd('bird_wing_top bird_wing1_top')),f.appendChild(cd('bird_wing_top bird_wing1_bottom')),f.appendChild(cd('bird_wing_back')),f.appendChild(cd('bird_wing_front'));var g=cd('model_cont2 bird_wing2');g.appendChild(cd('bird_wing_top bird_wing1_top')),g.appendChild(cd('bird_wing_top bird_wing1_bottom')),g.appendChild(cd('bird_wing_back')),g.appendChild(cd('bird_wing_front')),a.appendChild(e),a.appendChild(f),a.appendChild(g),a.appendChild(b),a.style.transform='translateY(-7vw)',bird.appendChild(a)})();var coin=cd('model_cont coin_cont');(function(){var a=cd('coin_side');a.style.transform='translateZ(.125vw) rotateZ(-45deg)',coin.appendChild(a.cloneNode(!0)),a.style.transform='translateZ(-.125vw) rotateZ(-45deg)',coin.appendChild(a.cloneNode(!0));for(var c,b=0;4>b;++b)c=cd('coin_side_side'),c.style.transform='rotateX(90deg) rotateY('+(90*b+45)+'deg) translateZ(1.725vw) ',coin.appendChild(c)})();var dino_parts={heads:[],eyes:[],tails:[]};dino_parts.eyes[0]=cd('dino_eyes'),dino_parts.eyes[0].style.backgroundImage='url(eyes0.png)',dino_parts.eyes[1]=cd('dino_eyes'),dino_parts.eyes[1].style.backgroundImage='url(eyes1.png)',dino_parts.eyes[2]=cd('dino_eyes'),dino_parts.eyes[2].style.backgroundImage='url(eyes2.png)',dino_parts.eyes[3]=cd('dino_eyes'),dino_parts.eyes[3].style.backgroundImage='url(eyes3.png)',dino_parts.eyes[4]=cd('dino_eyes'),dino_parts.eyes[4].style.backgroundImage='url(eyes4.png)',dino_parts.heads[0]=cd('dino_head'),function(){for(var b,a=0;6>a;++a)b=cd('dino_head_side'),b.style.transform=4>a?'rotateY('+90*a+'deg) translateZ(1vw)':5>a?'rotateX(90deg) translateZ(1vw)':'rotateX(-90deg) translateZ(1vw)',dino_parts.heads[0].appendChild(b);var c=cd('dino_eyes');c.style.transform='translateZ(-1.01vw)',c.style.backgroundImage='url(eyes0.png)',dino_parts.heads[0].appendChild(c)}(),dino_parts.heads[1]=cd('dino_head'),function(){for(var b,a=0;6>a;++a)b=4>a?cd('dino_head_longside'):cd('dino_head_side'),b.style.transform=4>a?'rotateY('+90*a+'deg) translateZ(1vw)':5>a?'rotateX(90deg) translateZ(1.5vw)':'rotateX(-90deg) translateZ(1.5vw)',dino_parts.heads[1].appendChild(b);var c=cd('dino_eyes');c.style.transform='translateZ(-1.01vw)',c.style.backgroundImage='url(eyes0.png)',dino_parts.heads[1].appendChild(c)}(),dino_parts.tails[0]=cd(''),dino_parts.tails[1]=cd('dino_tail'),function(){for(var b,a=0;2>a;++a)b=cd('dino_tail_ball'),b.style.transform='rotateZ('+90*a+'deg) rotateX(90deg)',dino_parts.tails[1].appendChild(b)}(),dino_parts.tails[2]=cd('dino_tail'),function(){for(var b,a=0;6>a;++a)b=cd('dino_tail_box'),b.style.transform=4>a?'rotateY('+90*a+'deg) rotateY(90deg) translateZ(.7vw)':4===a?'rotateX(90deg) translateZ(.7vw)':'rotateX(-90deg) translateZ(.7vw)',dino_parts.tails[2].appendChild(b)}(),dino_parts.leg=cd('dino_leg'),function(){for(var b,a=0;2>a;++a)b=cd('dino_leg_part'),b.style.transform='rotateY('+90*a+'deg)',dino_parts.leg.appendChild(b)}(),dino_parts.torso=cd('model_cont'),function(){for(var b,a=0;6>a;++a)b=4>a?cd('dino_torso'):cd('dino_torso_ends'),b.style.transform=4>a?'rotateZ('+90*a+'deg) rotateX(90deg) translateZ(1.2vw)':5>a?'rotateX(0) translateZ(1.7vw)':'rotateX(0) translateZ(-1.7vw)',dino_parts.torso.appendChild(b);for(var a=0;2>a;++a)for(var d,c=0;2>c;++c)d=cd('base_cont'),d.appendChild(dino_parts.leg.cloneNode(!0)),1==c&&(d.lastChild.style.animationDelay='.5s'),d.style.transform='translateY(1.2vw) translateZ('+(1-2*a)+'vw) translateX('+(.6-1.2*c)+'vw)',dino_parts.torso.appendChild(d);this.head=dino_parts.heads[0].cloneNode(!0),this.head.style.transform='translateZ(2vw)',dino_parts.torso.appendChild(this.head)}();var dino=[];dino[1]=cd('model_cont'),dino[2]=cd('model_cont');var dino_look=[];dino_look[1]=[0,0,0],dino_look[2]=[0,0,0];function construct_dino(a){dino[a]=cd('model_cont');for(var c,b=0;6>b;++b)c=4>b?cd('dino_torso'):cd('dino_torso_ends'),c.style.transform=4>b?'rotateZ('+90*b+'deg) rotateX(90deg) translateZ(1.25vw)':5>b?'rotateX(0) translateZ(1.75vw)':'rotateX(0) translateZ(-1.75vw)',dino[a].appendChild(c);for(var b=0;2>b;++b)for(var e,d=0;2>d;++d)e=cd('base_cont'),e.appendChild(dino_parts.leg.cloneNode(!0)),1==d&&(e.lastChild.style.animationDelay='.5s'),e.style.transform='translateY(1.2vw) translateZ('+(1-2*b)+'vw) translateX('+(.6-1.2*d)+'vw)',dino[a].appendChild(e);this.head=dino_parts.heads[dino_look[a][1]].cloneNode(!0),this.head.style.transform='translateX(.25vw) translateY(-.5vw) translateZ(-2.6vw)',this.head.getElementsByClassName('dino_eyes')[0].style.backgroundImage='url(eyes'+dino_look[a][0]+'.png)',dino[a].appendChild(this.head),this.tail=dino_parts.tails[dino_look[a][2]].cloneNode(!0),this.tail.style.transform='translateZ(2.3vw) translateX(.25vw) translateY(.5vw)',dino[a].appendChild(this.tail)}construct_dino(1);var dino_shop_items={Eyes:[{name:'Default Eyes',look:dino_parts.eyes[0],price:0},{name:'Low-Res Eyes',look:dino_parts.eyes[1],price:0},{name:'Frightened Eyes',look:dino_parts.eyes[2],price:5},{name:'Sunglasses',look:dino_parts.eyes[3],price:10},{name:'Cyclops Eye',look:dino_parts.eyes[4],price:10}],Heads:[{name:'Default Head',look:dino_parts.heads[0],price:0},{name:'Long Head',look:dino_parts.heads[1],price:5}],Tails:[{name:'No Tail',look:cd(''),price:0},{name:'Ball Tail',look:dino_parts.tails[1],price:3},{name:'Box Tail',look:dino_parts.tails[2],price:3}]};function construct_shop(){for(var i in dino_shop_items){var elemname=cd('part_category');for(var j in elemname.innerHTML=i,gid('dino_parts').appendChild(elemname),dino_shop_items[i]){var elem=cd('part_elem'),price=cd('part_price');price.innerHTML=0==dino_shop_items[i][j].price?'Free':dino_shop_items[i][j].price+'$';var look=cd('part_content');look.appendChild(dino_shop_items[i][j].look.cloneNode(!0)),'Heads'==i?look.lastChild.style.transform='translateY(2.5vw)':'Tails'==i&&(look.lastChild.style.transform='translateY(2.5vw) translateX(2.5vw)'),elem.appendChild(look),elem.appendChild(price),elem.setAttribute('buy','apply_item(shop_player, "'+i+'", '+j+')'),elem.onclick=function(){eval(this.getAttribute('buy'))},gid('dino_parts').appendChild(elem)}}}construct_shop();var shop_player=1;function open_shop(){gid('main_menu').style.display='none',gid('dino_shop').style.display='block',gid('coin_amount').innerHTML=coins+'$',customize(current_dino)}function close_shop(){gid('main_menu').style.display='block',gid('dino_shop').style.display='none'}var current_dino=1;function customize(a){current_dino=a,gid('dinoinspection_cont').innerHTML='',gid('dinoinspection_cont').appendChild(dino[a])}var shop_help={Eyes:0,Heads:1,Tails:2};function apply_item(a,b,c){var d=dino_shop_items[b][c];if(confirm('Are you sure you want to apply '+d.name+' for '+d.price+'$ ?')){if(coins<d.price)return void alert('You don\'t have enough money for this!');coins-=d.price,gid('coin_amount').innerHTML=coins+'$',dino_look[current_dino][shop_help[b]]=c,construct_dino(current_dino),customize(current_dino),save(),gid('player').appendChild(dino[1].cloneNode(!0)),gid('player2').appendChild(dino[2].cloneNode(!0))}}var player_model=dino[1],player2_model=dino[2],player_pos=50,player_height=0,border_left=15,border_right=85;function move_player(a,b){b===void 0||1==b?player_pos+a<border_right&&player_pos+a>border_left&&(player_pos+=a):player2_pos+a<border_right&&player2_pos+a>border_left&&(player2_pos+=a),refresh_player_look()}var player2_pos=50,player2_height=0,walk_mode2=!1,jump_mode2=!1,move_interval2,jump_interval2,walk_mode=!1,jump_mode=!1,move_interval,jump_interval;window.onkeydown=function(a){a=a||window.event,button_press(a)},window.onkeyup=function(a){a=a||window.event,button_release(a)};function button_press(a){if(game_started){var b=a.charCode||a.keyCode;65!==b||walk_mode?68!==b||walk_mode?(87===b||32===b)&&!jump_mode&&start_jump_interval(1):start_move_interval(.4,1):start_move_interval(-.4,1),'multi'==game_type&&(37!==b||walk_mode2?39!==b||walk_mode2?38===b&&!jump_mode2&&start_jump_interval(2):start_move_interval(.4,2):start_move_interval(-.4,2))}else first_click()}function button_release(a){if(game_started){var b=a.charCode||a.keyCode;68==b||65==b?stop_move_interval(1):(32===b||87===b)&&(jump_direction='down'===jump_direction?'down':'startdown'),'multi'==game_type&&(37==b||39==b?stop_move_interval(2):38===b&&(jump_direction2='down'===jump_direction2?'down':'startdown'))}}function start_move_interval(a,b){var c=a;stop_move_interval(b),b===void 0||1==b?(walk_mode=!0,move_interval=setInterval(function(){move_player(c,1)},25)):(walk_mode2=!0,move_interval2=setInterval(function(){move_player(c,2)},25))}function stop_move_interval(a){a===void 0||1==a?(clearInterval(move_interval),walk_mode=!1):(clearInterval(move_interval2),walk_mode2=!1)}var jump_direction,jump_direction2;function start_jump_interval(a){stop_jump_interval(a),a===void 0||1==a?(jump_direction='up',jump_mode=!0,jump_interval=setInterval(function(){player_jump(1)},25)):(jump_direction2='up',jump_mode2=!0,jump_interval2=setInterval(function(){player_jump(2)},25))}function stop_jump_interval(a){a===void 0||1==a?(jump_mode=!1,clearInterval(jump_interval)):(jump_mode2=!1,clearInterval(jump_interval2))}var prev_player_height=0,prev_player2_height=0,min_jump=5,max_jump=8;function player_jump(a){a===void 0||1==a?('up'===jump_direction?player_height+=.4:'down'===jump_direction?player_height-=.4:'startdown'==jump_direction&&(player_height>=prev_player_height&&player_height<=min_jump?player_height+=.5:(player_height-=.5,jump_direction='down')),player_height>max_jump&&(jump_direction='down'),0>=player_height&&(player_height=0,stop_jump_interval(1)),prev_player_height=player_height):('up'===jump_direction2?player2_height+=.4:'down'===jump_direction2?player2_height-=.4:'startdown'==jump_direction2&&(player2_height>=prev_player2_height&&player2_height<=min_jump?player2_height+=.5:(player2_height-=.5,jump_direction2='down')),player2_height>max_jump&&(jump_direction2='down'),0>=player2_height&&(player2_height=0,stop_jump_interval(2)),prev_player2_height=player2_height),refresh_player_look()}function refresh_player_look(){gid('player').style.transform='translateX('+(player_pos/2-25)+'vw) translateZ(32vw) translateY('+(-107.5-player_height)+'vw) rotateX(75deg)',gid('player2').style.transform='translateX('+(player2_pos/2-25)+'vw) translateZ(32vw) translateY('+(-107.5-player2_height)+'vw) rotateX(75deg)'}var map_rate=-0.2,player_length=0,active_slice_temp=75,active_slice=15;generate_map();var i=0;function map_move(){++i,player_length=360<=player_length+map_rate?player_length+map_rate-360:0>player_length+map_rate?player_length+map_rate+360:player_length+map_rate,gid('map_roll').style.transform='rotateX('+player_length+'deg)',active_slice_temp=360<=active_slice_temp-map_rate?active_slice_temp-map_rate-360:0>active_slice_temp-map_rate?active_slice_temp-map_rate+360:active_slice_temp-map_rate;var a=active_slice;active_slice=~~(active_slice_temp/5),active_slice!=a&&spawn_time(),game_started&&(map_rate-=2e-4),setTimeout(map_move,1e3/60)}var points=0;function add_point(){if(game_started){++points;var a=(points+'').length;gid('point_cont').innerHTML=(1==a?'0000':2==a?'000':3==a?'00':4==a?'0':'')+''+points+'pts'}}var point_interval=setInterval(add_point,100),obsticles={cactus:{width:10,height:4,length:.15,elevation:0,look:cactus,event:'d'},rock:{width:5,height:5,length:.2,elevation:0,look:rock,event:'d'},bird:{width:10,height:3,length:1,elevation:7,look:bird,event:'d'},coin:{width:4,height:4,length:.4,elevation:0,look:coin,event:'c'}};function add_obsticle(a,b,c){var d=obsticles[a].look.cloneNode(!0);d.style.left='calc(50% - 25vw + '+b/2+'vw)',map_elems[c].appendChild(d)}map_move();var daystate_deg=0,dayinterval=setInterval(function(){daystate_deg+=.3,daystate_deg=~~(1e3*daystate_deg)/1e3,180==~~daystate_deg&&'day'===daystate?change_daystate():360==~~daystate_deg&&'night'==daystate&&(change_daystate(),daystate_deg=0),gid('sunmoon_cont').style.transform='rotate('+daystate_deg+'deg)',gid('moon').style.transform='rotate('+-daystate_deg+'deg)'},25),daystate='day';function change_daystate(){'day'==daystate?(daystate='night',gid('container').style.setProperty('--color1','var(--colorreal5)'),gid('container').style.setProperty('--color2','var(--colorreal4)'),gid('container').style.setProperty('--color4','var(--colorreal2)'),gid('container').style.setProperty('--color5','var(--colorreal1)')):(daystate='day',gid('container').style.setProperty('--color1','var(--colorreal1)'),gid('container').style.setProperty('--color2','var(--colorreal2)'),gid('container').style.setProperty('--color4','var(--colorreal4)'),gid('container').style.setProperty('--color5','var(--colorreal5)'))}var obsticles_placed=[];function spawn(a,b,c){var d=obsticles[a].look;d.style.left='calc(50% - 25vw + '+~~(100*(c/2))/100+'vw)',obsticles_placed.push({type:a,pos:c,slice:b,look:d.cloneNode(!0),dcount:0}),map_elems[b].appendChild(obsticles_placed[obsticles_placed.length-1].look)}function despawn(a){for(var b in obsticles_placed)void 0!=obsticles_placed[b]&&obsticles_placed[b].slice==a&&(obsticles_placed[b].look.outerHTML='',obsticles_placed[b]=void 0)}var spawn_distance=isChrome?7:4,despawn_distance=isChrome?2:1;function spawn_time(){var a=72>active_slice+spawn_distance?active_slice+spawn_distance:active_slice+spawn_distance-72,b=~~(4*Math.random());despawn(0>active_slice-despawn_distance?active_slice-despawn_distance+72:active_slice-despawn_distance);for(var c=0;c<b;++c)spawn(.94<Math.random()&&game_started?'coin':['cactus','rock','bird'][~~(3*Math.random())],a,100*Math.random())}var dino_width=3,dino_length=7,dino_height=5,death_count=0;function check_collisions(){if(game_started)for(var a in obsticles_placed)if(void 0!==obsticles_placed[a]&&obsticles_placed[a].slice===active_slice){var b=!1,c=!1,d=!1,e=player_length/5-Math.floor(player_length/5),f=obsticles[obsticles_placed[a].type].length/2;e>.8-f&&e<.8+f&&(d=!0);var g=obsticles[obsticles_placed[a].type].width/2,h=obsticles_placed[a].pos;player_pos<h+g&&player_pos>h-g&&(b=!0);var k=obsticles[obsticles_placed[a].type].height,m=obsticles[obsticles_placed[a].type].elevation;0===m&&player_height<k?c=!0:(player_height<m+k&&player_height>m||player_height+dino_height<m+k&&player_height+dino_height>m)&&(c=!0),d&&c&&b?'d'==obsticles[obsticles_placed[a].type].event?(++obsticles_placed[a].dcount,1<=obsticles_placed[a].dcount&&die(1)):'c'==obsticles[obsticles_placed[a].type].event&&(obsticles_placed[a].look.outerHTML='',obsticles_placed[a]=void 0,collect_coin()):obsticles_placed[a].dcount=0,'multi'==game_type&&(b=!1,c=!1,player2_pos<h+g&&player2_pos>h-g&&(b=!0),0===m&&player2_height<k?c=!0:(player2_height<m+k&&player2_height>m||player2_height+dino_height<m+k&&player2_height+dino_height>m)&&(c=!0),d&&c&&b?'d'==obsticles[obsticles_placed[a].type].event?(++obsticles_placed[a].dcount,1<=obsticles_placed[a].dcount&&die(2)):'c'==obsticles[obsticles_placed[a].type].event&&(obsticles_placed[a].look.outerHTML='',obsticles_placed[a]=void 0,collect_coin()):obsticles_placed[a].dcount=0)}}setInterval(check_collisions);var game_started=!1;function first_click(){gid('press_a_button').style.opacity=0,gid('button_cont').style.opacity=1,gid('description').style.opacity=1,gid('highscore').style.opacity=1,isChrome&&(gid('container').style.filter='blur(1.5vw)'),setTimeout(function(){gid('press_a_button').style.display='none'},55)}var menumsgs={start:'You play as a dinosaur trying to get as far as possible. You will encounter several obsticles throughout your journey. You can either go around them or jump over them. Cover as much distance as you can and beat the High Score, or (even better) race with one of your buddies!',welcome:'Welcome to Dinoffline! A DOM-based 3D remake of the famous Chrome Dino Game!',save:'This game contains an autosave feature, but if you want you can also transfer your save files! Save the text you get from \'Export Save\', paste it into \'Import Save\' on another PC to continue from where you left off!',models:'Inspect 3D models of the different obsticles and enemies you encounter during your journey',maker:'Create YOUR unique dinosaur using our Dino Customiser and spend your hard earned coins on cosmetics!',single:'Cover as much distance as possible! The further you get, the more points you will have.<br/>Change your position with \'A\' and \'D\' or the arrow keys, jump with \'W\', \'UP\' or \'Space\'',multi:'Race with your friend! The person who bumps into an obsticle first loses!<br/>Player 1 can walk with \'A\' and \'D\' and jump with \'W\' or \'Space\'.<br/>Player 2 can walk with the arrow keys and jump with \'Up\'',back:'Back to the Main Menu'};function show_msg(a){gid('description').innerHTML=menumsgs[a]}show_msg('welcome'),player_height=1e3,refresh_player_look(),gid('point_cont').style.display='none',gid('coin_cont').style.display='none';var coins=0,highscore=0;function create_save(){var a=JSON.stringify(dino_look[1]),b=JSON.stringify(dino_look[2]),c=a+'|'+b+'|'+coins+'|'+highscore;prompt('Here is your save code!',c)}var save_elems;function import_save(){var a=prompt('Please enter your save code');null!==a&&(save_elems=a.split('|'),dino_look[1]=JSON.parse(save_elems[0]),dino_look[2]=JSON.parse(save_elems[1]),coins=+save_elems[2],highscore=+save_elems[3],alert('Save successfully imported!'))}function save(){var a=JSON.stringify(dino_look[1]),b=JSON.stringify(dino_look[2]);localStorage.save=a+'|'+b+'|'+coins+'|'+highscore}function load(){if(localStorage.save!==void 0&&''!=localStorage.save){var a=localStorage.save;save_elems=a.split('|'),dino_look[1]=JSON.parse(save_elems[0]),dino_look[2]=JSON.parse(save_elems[1]),coins=+save_elems[2],highscore=+save_elems[3]}}load();function inspect(a){gid('inspection_cont').innerHTML='';var b=obsticles[a].look.cloneNode(!0);b.style.left='50%',b.style.transform='translateZ(0vw) rotateX(0)','bird'===a?b.childNodes[0].style.transform='':'coin'==a&&(b.style.animation='none',b.style.animationPlayState='paused'),gid('inspection_cont').appendChild(b)}function open_inspect(){gid('main_menu').style.display='none',gid('inspect_area').style.display='block'}function close_inspect(){gid('main_menu').style.display='block',gid('inspect_area').style.display='none',show_msg('welcome')}var move_mode=!1,client_x_ex=-1,client_y_ex=-1,current_object=0;function object_move_start(a){rotate_interval_enabled=!(2!=a.button),move_mode=!0,client_x_ex=-1,client_y_ex=-1,clearInterval(rotate_interval)}function object_move_end(a){move_mode=!1,client_x_ex=-1,client_y_ex=-1;var b=client_x_ex-(a.touches?a.touches[0].pageX:a.clientX),c=client_y_ex-(a.touches?a.touches[0].pageY:a.clientY);rotate_interval=setInterval(function(){auto_rotate()})}function object_move(a){if(move_mode){if(0<=client_x_ex){var b=client_x_ex-(a.touches?a.touches[0].pageX:a.clientX),c=client_y_ex-(a.touches?a.touches[0].pageY:a.clientY);interval_x=b/2,interval_y=c/2,rotate_object(-b,c)}client_x_ex=a.touches?a.touches[0].pageX:a.clientX,client_y_ex=a.touches?a.touches[0].pageY:a.clientY}}var can_move=!0;function rotate_object(a,b){var c=window.getComputedStyle(document.getElementById('inspection_cont').childNodes[0]).transform;document.getElementById('inspection_cont').childNodes[0].style.transform=' rotateX('+b/3+'deg) rotateY('+a/3+'deg)'+c}var rotate_interval,interval_x,interval_y,rotate_interval_enabled=!1;function auto_rotate(){interval_x-=.008*interval_x,interval_y-=.008*interval_y,rotate_interval_enabled&&rotate_object(-interval_x,interval_y),0==~~(1e3*interval_x)&&0==~~(1e3*interval_y)&&clearInterval(rotate_interval)}gid('inspection_box').onmousedown=object_move_start,gid('inspection_box').onmouseup=object_move_end,gid('inspection_box').onmousemove=object_move;function open_playgame(){gid('button_cont').style.display='none',gid('button_cont2').style.display='block'}function close_playgame(){gid('button_cont').style.display='block',gid('button_cont2').style.display='none',show_msg('welcome')}function despawn_all(){for(var a=0;72>a;++a)despawn(a)}var game_type;function start_new_game(a){points=0,player_height=0,map_rate=-.2,player_pos=50,game_started=!0,gid('menu').style.display='none',gid('death_screen').style.display='none',isChrome&&(gid('container').style.filter='blur(0)'),despawn_all(),game_type=a,gid('coin_cont').style.display='block','single'===a&&(player_pos=50,gid('point_cont').style.display='block'),'multi'===a&&(player_pos=35,player2_pos=65,player2_height=0,gid('player2').style.display='block'),refresh_player_look()}function die(a){game_started=!1,map_rate=0,isChrome&&(gid('container').style.filter='blur(1.5vw)'),gid('death_screen').style.display='block',gid('death_msg').innerHTML='single'===game_type?'Your score: '+points:1==a?'Player 2 won!':'Player 1 won!',gid('point_cont').style.display='none',gid('coin_cont').style.display='none',points>highscore&&(highscore=points),save(),update_highscore(),stop_move_interval(1),stop_move_interval(2)}function update_highscore(){gid('highscore').innerHTML='Your highscore is '+highscore,gid('coin_cont').innerHTML=coins+'$'}update_highscore();function collect_coin(){++coins,gid('coin_cont').innerHTML=coins+'$'}gid('coin_cont').innerHTML=coins+'$';function back_to_menu(){gid('death_screen').style.display='none',gid('player2').style.display='none',gid('menu').style.display='block',close_playgame(),map_rate=-.2,show_msg('welcome'),player_height=1e3,refresh_player_look()}construct_dino(1),construct_dino(2),gid('player').appendChild(dino[1].cloneNode(!0)),gid('player2').appendChild(dino[2].cloneNode(!0));

</script>
</html>