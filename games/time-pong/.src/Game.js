var Game;(function(b){var a=(function(){function c(d){var e=this;this.stepObjects=new Array();this.renderObjects=new Array();this.countFPS=0;this.fps=0;this.countSPS=0;this.sps=0;this.running=false;window.addEventListener("resize",function(){return e.resizeCanvas()});this.canvas=d;this.resizeCanvas()}c.prototype.addStepObject=function(d){this.stepObjects.push(d)};c.prototype.addRenderObject=function(d){this.renderObjects.push(d)};c.prototype.step=function(){this.stepObjects.forEach(function(d){return d.step()});this.countSPS++};c.prototype.render=function(){var e=this;var d=this.canvas.getContext("2d");d.setTransform(1,0,0,1,0,0);d.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderObjects.forEach(function(f){return f.render(d)});this.countFPS++;if(this.running){window.requestAnimationFrame(function(){return e.render()})}};c.prototype.start=function(d){var e=this;this.stop();this.running=true;this.step();window.requestAnimationFrame(function(){return e.render()});this.stepToken=setInterval(function(){return e.step()},1000/d);this.countFPSToken=setInterval(function(){e.fps=e.countFPS;e.countFPS=0;e.sps=e.countSPS;e.countSPS=0},1000)};c.prototype.stop=function(){if(this.stepToken){clearInterval(this.stepToken)}if(this.countFPSToken){clearInterval(this.countFPSToken)}this.stepToken=null;this.countFPSToken=null;this.running=false};c.prototype.resizeCanvas=function(){this.canvas.width=this.canvas.clientWidth;this.canvas.height=this.canvas.clientHeight};return c})();b.GameView=a})(Game||(Game={}));