!function(){return function e(t,n,i){function o(l,d){if(!n[l]){if(!t[l]){var c="function"==typeof require&&require;if(!d&&c)return c(l,!0);if(r)return r(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){return o(t[l][1][e]||e)},u,u.exports,e,t,n,i)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}}()({1:[function(e,t,n){const{init:i,Sprite:o,GameLoop:r,load:l,setImagePath:d,imageAssets:c,on:a,SpriteSheet:u,initPointer:h,onPointerDown:s,setStoreItem:f,getStoreItem:y}=kontra,x="#9F2000";let g,p,m,S,b,C,T,A,P,F,k,I,M,w,G,J=0,v="loading",D=null!==y("coiner_highscore")?y("coiner_highscore"):0;const W=new AudioContext,E=new TinyMusic.Sequence(W,120,["A4 s"]);E.loop=!1;const _=new TinyMusic.Sequence(W,120,["B4 e"]);_.loop=!1;const q=new TinyMusic.Sequence(W,120,["F4 e"]);q.loop=!1;const{canvas:H,context:N}=i(),O=H.width,L=O/2;d("./assets/sprites"),h(),a("assetLoaded",(e,t)=>{1===++J&&(B(),v="menu")}),l("Coiner.png").then(function(e){j(),r({update:function(e){"game"===v?U():"menu"===v?X():"loading"===v&&z()},render:function(){"game"===v?V():"menu"===v?$():"loading"===v&&K()}}).start(),s(function(e,t){"game"===v?p.touchingGround&&p.canJump&&(E.play(),p.isJumping=!0,p.touchingGround=!1,p.canJump=!1,p.dy=-5,p.dx=0):"menu"===v&&(R(),q.play(),v="game")})}).catch(function(e){console.log(e)});const R=()=>{T=0,C=100,A=o({color:"#DD8B00",render:function(){let e=200*C/100;N.beginPath(),N.rect(L-e/2,10,e,30),N.fillStyle=this.color,N.fill()}}),P=o({color:x,render:function(){N.textAlign="center",N.font="bold 40px Arial",N.fillStyle=this.color,N.fillText(`${T}`,L,90)}}),g=o({x:L,y:140,width:64,height:64,anchor:{x:.5,y:.5},color:"#FFC869",border:x,type:"coin",render:function(){N.beginPath(),N.arc(L,140,28,0,2*Math.PI),N.fillStyle=this.color,N.strokeStyle=this.border,N.lineWidth=4,N.stroke(),N.fill()}}),b=o({x:0,y:280,width:64,height:16,color:x,dx:4,type:"bar"}),S=o({x:L,y:400,width:64,height:64,anchor:{x:.5,y:0},type:"ground",color:"#DD8B00",circle:"#FFC869",border:x,render:function(){N.beginPath(),N.rect(L-30,402,60,60),N.fillStyle=this.color,N.strokeStyle=this.border,N.lineWidth=4,N.fill(),N.stroke(),N.beginPath(),N.moveTo(L-30,432),N.lineTo(L+30,432),N.lineWidth=4,N.stroke(),N.beginPath(),N.arc(L,432,20,0,2*Math.PI),N.fillStyle=this.circle,N.strokeStyle=this.border,N.lineWidth=4,N.stroke(),N.fill()}}),m=u({image:c.Coiner,frameWidth:32,frameHeight:32,animations:{idle:{frames:0},coin:{frames:1}}}),p=o({x:L-32,y:300,width:64,height:64,dy:5,animations:m.animations,type:"coiner",animation:"idle",canJump:!1,isJumping:!1,touchingGround:!1,coinerVelocity:0,MAX_JUMPING_HEIGHT:160,havingCoin:!1})},U=()=>{A.update(),g.update(),b.update(),S.update(),p.update(),P.update(),C>0?C-=.1:(T>D&&f("coiner_highscore",D=T),v="menu"),p.playAnimation(p.animation),0===b.x?(b.dx=Math.abs(b.dx),0!==p.dx&&(p.dx=b.dx)):b.x+64==O&&(b.dx=-Math.abs(b.dx),0!==p.dx&&(p.dx=b.dx)),p.isJumping&&(p.coinerVelocity+=5,p.coinerVelocity===p.MAX_JUMPING_HEIGHT&&(p.isJumping=!1,p.coinerVelocity=0,p.dy=5)),p.collidesWith(b)?p.y>b.y?p.dy=5:p.y<b.y&&(p.x+62===b.x||b.x+62===p.x?(p.dy=Math.abs(p.dy),b.dx<0?p.dx=b.dx:b.dx>0&&(p.dx=b.dx)):(p.canJump=!0,p.touchingGround=!0,p.dy=0,p.y--,p.dx=b.dx)):p.y>b.y&&(p.dx=0),p.collidesWith(S)&&(p.canJump=!0,p.touchingGround=!0,p.dy=0,p.y--,p.havingCoin&&(_.play(),p.havingCoin=!1,p.animation="idle",T++,(C+=20)>100&&(C=100))),p.collidesWith(g)&&(p.havingCoin=!0,p.animation="coin"),p.y>510&&(p.x=L-32,p.y=300)},V=()=>{A.render(),b.render(),g.render(),S.render(),p.render(),P.render()},B=()=>{F=o({color:"#FFC869",border:x,render:function(){N.textAlign="center",N.font="bolder 3em Arial",N.fillStyle=this.color,N.strokeStyle=this.border,N.lineWidth=4,N.fillText("COINER",L,50),N.strokeText("COINER",L,50)}}),k=o({color:x,render:function(){N.font="bolder 2em Arial",N.fillStyle=this.color,N.fillText(`HIGH SCORE: ${D}`,L,130)}}),I=o({color:x,render:function(){N.font="2em Arial",N.fillText("RULES",L,200),N.font="1.5em Arial",N.fillText("Click to play",L,250),N.fillText("Collect and bring the coin to your chest",L,300)}}),M=o({color:x,render:function(){N.font="2em Arial",N.fillText("CREDITS",L,400),N.font="1.5em Arial",N.fillText("Design and code: Phong Duong",L,450)}})},X=()=>{F.update(),k.update(),I.update(),M.update()},$=()=>{F.render(),k.render(),I.render(),M.render()},j=()=>{w=o({color:x,render:function(){N.textAlign="center",N.font="2em Arial",N.fillStyle=this.color,N.fillText("Loading",L,130)}}),G=o({color:"#FFC869",border:x,render:function(){let e=J/1*100-4;N.beginPath(),N.rect(L-50,150,100,20),N.fillStyle="#FFFCA4",N.lineWidth="4",N.strokeStyle=this.border,N.fill(),N.stroke(),N.beginPath(),N.rect(L-48,152,e,16),N.fillStyle=this.color,N.fill()}})},z=()=>{w.update(),G.update()},K=()=>{w.render(),G.render()}},{}]},{},[1]);