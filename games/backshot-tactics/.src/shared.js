let DIRS=["up","down","left","right"],GAME_SPEED=200,rand=(t=100,e=0)=>Math.floor(Math.random()*(t-e+1)+e),pick=t=>t[rand(t.length-1)],shuffle=t=>t.map(t=>({value:t,sort:rand()})).sort((t,e)=>t.sort-e.sort).map(t=>t.value),id=(t="x")=>t+(id[t]>=0?++id[t]:id[t]=0),sleep=(t=1)=>new Promise(e=>setTimeout(e,Math.round((1e3-GAME_SPEED)*t))),dist=(t,e)=>Math.abs(t.x-e.x)+Math.abs(t.y-e.y),isFromBack=(t,e,r)=>{switch(r){case"right":return t.x<e.x;case"left":return t.x>e.x;case"up":return t.y>e.y;case"down":return t.y<e.y}};