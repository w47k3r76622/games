parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dH1A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffleDeck=exports.createCardDeck=void 0,exports.createCardDeck=function(){for(var e=[],r=["heart","club","diamond","spade"],a=0;a<4;a++)for(var o=1;o<=10;o++)e.push({value:o,face:r[a],is404:Math.random()>.4});return e},exports.shuffleDeck=function(e,r){r.playShuffleSound();for(var a=e.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),t=[e[o],e[a]];e[a]=t[0],e[o]=t[1]}};
},{}],"rXhO":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=void 0;var n=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this._hand=[],this.tmpRemovedChips=0,this.isDealer=!1,this.display404Cards=!1,this.isDealer=i,this.totalChips=parseInt(localStorage.getItem("jer-chips"))||110}return i(t,[{key:"giveCards",value:function(e){var t=this;e.forEach(function(e){return t.hand.push(e)})}},{key:"removeChips",value:function(e){this.tmpRemovedChips+=e,this.totalChips-=e,localStorage.setItem("jer-chips",""+this.totalChips)}},{key:"giveChips",value:function(e){this.tmpRemovedChips=0,this.totalChips+=e}},{key:"discardHand",value:function(){this._hand=[]}},{key:"giveSubscriptionChips",value:function(e){this.totalChips+=e}},{key:"hand",get:function(){return this._hand}}]),t}();exports.Player=n;
},{}],"K9vr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.zzfxR=exports.zzfxX=exports.zzfxV=exports.zzfx=void 0,exports.zzfxV=.3,exports.zzfx=function(){var t,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:220,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,l=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,v=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,M=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,R=arguments.length>16&&void 0!==arguments[16]?arguments[16]:0,u=arguments.length>17&&void 0!==arguments[17]?arguments[17]:1,w=arguments.length>18&&void 0!==arguments[18]?arguments[18]:0,c=arguments.length>19&&void 0!==arguments[19]?arguments[19]:0,b=2*Math.PI,X=a*=500*b/Math.pow(exports.zzfxR,2),m=(0<g?1:-1)*b/4,C=z*=(1+2*x*Math.random()-x)*b/exports.zzfxR,P=[],V=0,A=0,B=0,I=1,_=0,j=0,k=0;for(n=99+exports.zzfxR*n,w*=exports.zzfxR,r*=exports.zzfxR,h*=exports.zzfxR,R*=exports.zzfxR,f*=500*b/Math.pow(exports.zzfxR,3),g*=b/exports.zzfxR,p*=b/exports.zzfxR,d*=exports.zzfxR,l=exports.zzfxR*l|0,e=n+w+r+h+R|0;B<e;P[B++]=k)++j%(100*M|0)||(k=s?1<s?2<s?3<s?Math.sin(Math.pow(V%b,3)):Math.max(Math.min(Math.tan(V),1),-1):1-(2*V/b%2+2)%2:1-4*Math.abs(Math.round(V/b)-V/b):Math.sin(V),k=(l?1-c+c*Math.sin(2*Math.PI*B/l):1)*(0<k?1:-1)*Math.pow(Math.abs(k),i)*o*exports.zzfxV*(B<n?B/n:B<n+w?1-(B-n)/w*(1-u):B<n+w+r?u:B<e-R?(e-B-R)/h*u:0),k=R?k/2+(R>B?0:(B<e-R?1:(e-B)/R)*P[B-R|0]/2):k),V+=(t=(z+=a+=f)*Math.sin(A*g-m))-t*v*(1-1e9*(Math.sin(B)+1)%2),A+=t-t*v*(1-1e9*(Math.pow(Math.sin(B),2)+1)%2),I&&++I>d&&(z+=p,C+=p,I=0),!l||++_%l||(z=C,a=X,I=I||1);return(o=exports.zzfxX.createBuffer(1,e,exports.zzfxR)).getChannelData(0).set(P),(z=exports.zzfxX.createBufferSource()).buffer=o,z.connect(exports.zzfxX.destination),z.start(),z},exports.zzfxX=new(window.AudioContext||window.webkitAudioContext),exports.zzfxR=44100;
},{}],"hGlU":[function(require,module,exports) {
"use strict";function t(t){return r(t)||i(t)||n(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function i(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return o(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SFX=void 0;var l=require("./assets/ZzFX"),f=function(){function e(){u(this,e),this.blingbling=[.5,,304,.1,.3,,5,.1,-46,,,,,,-165],this.swosh=[,,150,.05,,.05,,1.3,,,,,,3],this.moneyInTheBank=[,,1675,,.06,.24,1,1.82,,,837,.06],this.buhu=[,,925,.04,.3,.6,1,.3,,6.27,-184,.09,.17],this.hmmm=[,,461,.08,.27,.43,1,1.22,,,22,.04,.18,,,,,.53,.03,.33],this.shuffle=[,,200,.2,.3,.01,4,.44,-71,-66,70,.02,.07,,.2,.1,.26,.41,,.66],this.isMuted=!1}return s(e,[{key:"playWin",value:function(){this.isMuted||l.zzfx.apply(l,t(this.moneyInTheBank))}},{key:"playBetSound",value:function(){this.isMuted||l.zzfx.apply(l,t(this.blingbling))}},{key:"playHit",value:function(){this.isMuted||l.zzfx.apply(l,t(this.swosh))}},{key:"playLooseSound",value:function(){this.isMuted||l.zzfx.apply(l,t(this.buhu))}},{key:"playDrawSound",value:function(){this.isMuted||l.zzfx.apply(l,t(this.hmmm))}},{key:"playShuffleSound",value:function(){this.isMuted||l.zzfx.apply(l,t(this.shuffle))}},{key:"playWinRoutine",value:function(){var t=this;if(!this.isMuted){this.playWin();var e=0,n=setInterval(function(){++e>=4&&clearInterval(n),t.playWin()},120)}}},{key:"playSubscriptionCoin",value:function(){this.isMuted||this.playWin()}},{key:"toggleSfx",value:function(){this.isMuted=!this.isMuted}}]),e}();exports.SFX=f;
},{"./assets/ZzFX":"K9vr"}],"dgAm":[function(require,module,exports) {
"use strict";function t(t){return s(t)||n(t)||a(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t){if(Array.isArray(t))return r(t)}function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,r=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw r}}}}function a(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function d(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var u=require("./cardUtils"),h=require("./player"),c=require("./sfx"),m=function(){function e(){var t=this;l(this,e),this.isSubscriber=!1,this.isMenuOpen=!1,this.animationTime=400,this.currentPatternIndex=3,this.debugSubscriber=!1,this.progressPoints=0,this.patternClasses=["pattern0","pattern1","pattern2","pattern3","pattern4","pattern5"],this.currentState="start",this.setSubscriber=function(){if(!t.isSubscriber){t.createMessage("Thanks for subscribing!"),document.getElementById("game").classList.add("subscriber"),t.selectNextPatternEl.removeAttribute("disabled"),t.selectPrevPatternEl.removeAttribute("disabled");var e,n=i(document.querySelectorAll("[removeIfSubscriber]"));try{for(n.s();!(e=n.n()).done;){e.value.remove()}}catch(s){n.e(s)}finally{n.f()}}t.isSubscriber=!0},this.player=new h.Player(!1),this.dealer=new h.Player(!0),this.sfx=new c.SFX,setTimeout(function(){t.initNewGame(),t.dealStartHand(),t.updateChipsText(),t.checkForSubscriber()},100),this.modalEl=document.getElementById("modal"),this.gameEl=document.getElementById("game"),this.dealerEl=document.getElementById("dealer"),this.playerEl=document.getElementById("player"),this.deckEl=document.getElementById("deck"),this.betzoneEl=document.getElementById("betzone"),this.btnHit=document.getElementById("btnHit"),this.btnHold=document.getElementById("btnHold"),this.btnBet=document.getElementById("btnBet"),this.btnNext=document.getElementById("btnNext"),this.totalChipsEl=document.getElementById("totalChips"),this.dealerTotalEl=document.getElementById("dealerTotal"),this.playerTotalEl=document.getElementById("playerTotal"),this.menuEl=document.getElementById("menu"),this.mainMenuEl=document.getElementById("mainMenu"),this.mainMenuContainerEl=document.getElementById("mainMenuContainer"),this.selectNextPatternEl=document.getElementById("selectNextPattern"),this.selectPrevPatternEl=document.getElementById("selectPrevPattern"),this.currentCardBackEl=document.getElementById("currentCardBack"),this.newGameBtnEl=document.getElementById("newGameBtn"),this.totalChipsContainerEl=document.getElementById("totalChipsContainer"),this.toggleSfxEl=document.getElementById("toggleSfx"),this.betzoneProgressBarEl=document.getElementById("betzoneProgressBar"),this.addEventListeners(),this.updateButtonStates()}return d(e,[{key:"initNewGame",value:function(){this.removeDeckFromDom(),this.deck=u.createCardDeck(),this.originalDeck=t(this.deck),u.shuffleDeck(this.deck,this.sfx),this.addDeckToDom(this.deck)}},{key:"removeDeckFromDom",value:function(){for(;this.deckEl.firstChild;)this.deckEl.removeChild(this.deckEl.firstChild)}},{key:"addEventListeners",value:function(){var t=this;this.btnHit.addEventListener("click",function(){t.dealCard(t.player),t.updateButtonStates()}),this.btnHold.addEventListener("click",function(){t.currentState="hold",t.reveal404Cards(t.player),t.currentState="playerEnd",t.updatePlayersTotalSum(!0),t.updateButtonStates(),t.updateTurnState()}),this.btnBet.addEventListener("click",function(){t.player.totalChips-10>=0?("betted"===t.currentState?t.currentState="betted2x":t.currentState="betted",t.betzoneEl.appendChild(document.createElement("game-chip",{})),t.player.removeChips(10),t.animateWinnings(-10),t.sfx.playBetSound(),t.updateButtonStates(),t.updateChipsText()):t.createMessage("Not enough chips")}),this.btnNext.addEventListener("click",function(){t.startNextRound()}),this.menuEl.addEventListener("click",function(){t.toggleMenu()}),this.selectPrevPatternEl.addEventListener("click",function(){t.selectCardBack(-1)}),this.selectNextPatternEl.addEventListener("click",function(){t.selectCardBack(1)}),this.newGameBtnEl.addEventListener("click",function(){localStorage.setItem("jer-chips","110"),t.player.totalChips=110,t.startNextRound(!0),t.toggleMenu()}),this.toggleSfxEl.addEventListener("click",function(){t.sfx.isMuted?(document.getElementById("sfxOn").classList.remove("hidden"),document.getElementById("sfxOff").classList.add("hidden")):(document.getElementById("sfxOff").classList.remove("hidden"),document.getElementById("sfxOn").classList.add("hidden")),t.sfx.toggleSfx()})}},{key:"selectCardBack",value:function(t){this.isSubscriber&&this.deckEl.classList.remove(this.patternClasses[this.currentPatternIndex]),this.currentCardBackEl.classList.remove(this.patternClasses[this.currentPatternIndex]),this.currentPatternIndex=this.currentPatternIndex+t,this.currentPatternIndex<0?this.currentPatternIndex=this.patternClasses.length-1:this.currentPatternIndex>this.patternClasses.length-1&&(this.currentPatternIndex=0),this.isSubscriber&&this.deckEl.classList.add(this.patternClasses[this.currentPatternIndex]),this.currentCardBackEl.classList.add(this.patternClasses[this.currentPatternIndex])}},{key:"toggleMenu",value:function(){this.isMenuOpen=!this.isMenuOpen,this.isMenuOpen?(this.mainMenuContainerEl.classList.remove("close"),this.mainMenuContainerEl.classList.add("open"),this.menuEl.classList.remove("close"),this.menuEl.classList.add("open"),this.menuEl.textContent="Close menu"):(this.mainMenuContainerEl.classList.remove("open"),this.mainMenuContainerEl.classList.add("close"),this.menuEl.classList.remove("open"),this.menuEl.classList.add("close"),this.menuEl.textContent="Menu")}},{key:"startNextRound",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.deck.length<=10||t)&&(this.createMessage("Time for a reshuffle"),this.initNewGame()),this.player.display404Cards=!1,this.dealer.display404Cards=!1,this.removeChipsFromDom(),this.removeCardsFromDom(),this.player.discardHand(),this.dealer.discardHand(),this.currentState="start",this.updatePlayersTotalSum(),this.dealStartHand(),this.updatePlayerHands(),this.updateButtonStates(),this.updateChipsText()}},{key:"updateChipsText",value:function(){this.totalChipsEl.textContent=""+this.player.totalChips,localStorage.setItem("jer-chips",""+this.player.totalChips)}},{key:"updateButtonStates",value:function(){this.enableButtons([this.btnHold,this.btnBet,this.btnHit,this.btnNext]),"start"===this.currentState?this.disableButtons([this.btnHold,this.btnHit,this.btnNext]):"hold"===this.currentState?this.disableButtons([this.btnHold,this.btnBet,this.btnHit,this.btnNext]):"betted"===this.currentState?this.disableButtons([this.btnNext]):"betted2x"===this.currentState?this.disableButtons([this.btnBet,this.btnNext]):"playerEnd"===this.currentState?this.disableButtons([this.btnHold,this.btnBet,this.btnHit,this.btnNext]):"dealerEnd"===this.currentState&&this.disableButtons([this.btnHold,this.btnBet,this.btnHit])}},{key:"updateTurnState",value:function(){"playerEnd"===this.currentState?this.dealersTurn():"dealerEnd"===this.currentState&&this.declareWinner()}},{key:"declareWinner",value:function(){var t=this.getTotalValue(this.player),e=this.getTotalValue(this.dealer),n=!1;t-21<=0&&(e-21>0?n=!0:t>e&&e-21<=0&&(n=!0)),t===e?(this.animateWinnings(this.player.tmpRemovedChips),this.player.giveChips(this.player.tmpRemovedChips),this.createMessage("It is a DRAW"),this.sfx.playDrawSound()):n?(this.animateWinnings(1.5*this.player.tmpRemovedChips),this.player.giveChips(1.5*this.player.tmpRemovedChips),this.animateChips(this.player),this.sfx.playWinRoutine()):(this.player.giveChips(0),this.sfx.playLooseSound(),this.animateChips(this.dealer)),this.updatePlayersTotalSum(!1,n?"player":"dealer"),this.updateChipsText()}},{key:"animateWinnings",value:function(t){var e=document.createElement("div"),n=document.createElement("span");n.textContent=(t>0?"+":"")+t;var s=t>0?"green":"red";e.setAttribute("style","position: absolute; transform: translate(3px, -20px);"),e.appendChild(n),this.totalChipsContainerEl.appendChild(e),setTimeout(function(){e.setAttribute("style","position: absolute; transform: translate(3px, -55px); color:".concat(s,"; transition: all 800ms ease-out; font-size: 20px;"))},50),setTimeout(function(){e.remove()},800)}},{key:"animateChips",value:function(t){var e,n=i(document.getElementsByTagName("game-chip"));try{for(n.s();!(e=n.n()).done;){var s=e.value;t.isDealer?s.classList.add("move-up"):s.classList.add("move-down")}}catch(a){n.e(a)}finally{n.f()}}},{key:"dealersTurn",value:function(){var t=this;this.checkIfDealerShouldDrawCard()?(this.dealCard(this.dealer),setTimeout(function(){t.dealersTurn()},1e3)):(this.currentState="dealerEnd",this.dealer.display404Cards=!0,this.updatePlayerHands(),this.updatePlayersTotalSum(),this.updateTurnState(),this.updateButtonStates())}},{key:"checkIfDealerShouldDrawCard",value:function(){var t=this.getTotalValue(this.player),e=this.getGuessedTotalValue(this.dealerEl),n=this.getGuessedTotalValue(this.dealerEl,!0);return!(t>21)&&(!(n>t)&&(e<21&&e<=t))}},{key:"enableButtons",value:function(t){t.forEach(function(t){return t.removeAttribute("disabled")})}},{key:"disableButtons",value:function(t){t.forEach(function(t){return t.setAttribute("disabled","true")})}},{key:"updatePlayersTotalSum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.getTotalValue(this.player),s=this.getTotalValue(this.dealer);n&&s?t?this.playerTotalEl.textContent="Sum: "+n:(this.playerTotalEl.textContent="Sum: "+n,this.dealerTotalEl.textContent="Sum: "+s,"player"==e?this.playerTotalEl.textContent="Sum: "+n+" You won":"dealer"==e&&(this.playerTotalEl.textContent="Sum: "+n+" You lost")):(this.playerTotalEl.textContent="",this.dealerTotalEl.textContent="")}},{key:"getGuessedTotalValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;return t.childNodes.forEach(function(t){var s=t.getAttribute("value");"404"!=s?n+=parseInt(s):e||(n+=Math.floor(10*Math.random())+1)}),n}},{key:"getTotalValue",value:function(t){var e=0;return t.hand.forEach(function(t){e+=t.value}),e}},{key:"reveal404Cards",value:function(t){t.display404Cards=!0,this.updatePlayerHands()}},{key:"dealCard",value:function(t){if(this.deck.length>0){var e=this.deck.pop();t.giveCards([e]),this.addCardToDom(t,e),this.sfx.playHit()}else this.createMessage("Deck is empty. You neede to hold your hand")}},{key:"updatePlayerHands",value:function(){this.removeCardsFromDom(),this.addCardsToDom()}},{key:"addCardToDom",value:function(t,e){var n=this,s=this.createGameCardEl(e,t),i=this.playerEl;t.isDealer&&(i=this.dealerEl),i.appendChild(s);var a=this.deckEl.offsetTop,r=this.deckEl.offsetLeft,l=s.offsetTop,o=s.offsetLeft;s.setAttribute("style","transform: translate(".concat(r-o,"px,").concat(a-l,"px);")),setTimeout(function(){s.setAttribute("style","transform: translate(".concat(0,"px,",0,"px); transition: all ",n.animationTime,"ms ease-out;"))},75),this.updateDomDeck()}},{key:"addDeckToDom",value:function(t){var e=this,n=-.25;!function t(s,i){setTimeout(function(){var a=document.createElement("game-card");a.setAttribute("class","back-side"),a.setAttribute("style","position: absolute; border-radius: 4px; border: 1px solid white; margin: ".concat(n,"px; box-shadow: -1px 1px 2px -1px rgba(0,0,0,.1), -1px 1px 3px 0 rgba(0,0,0,.1)")),a.setAttribute("removewrapperclass","true"),e.deckEl.appendChild(a),n-=.25,s<i.length&&t(++s,i)},10)}(0,t)}},{key:"updateDomDeck",value:function(){this.deckEl.lastChild&&this.deckEl.lastChild.remove()}},{key:"addCardsToDom",value:function(){var t=this;this.player.hand.forEach(function(e){var n=t.createGameCardEl(e,t.player);t.playerEl.appendChild(n)}),this.dealer.hand.forEach(function(e){var n=t.createGameCardEl(e,t.dealer);t.dealerEl.appendChild(n)})}},{key:"removeCardsFromDom",value:function(){for(;this.playerEl.firstChild;)this.playerEl.removeChild(this.playerEl.firstChild);for(;this.dealerEl.firstChild;)this.dealerEl.removeChild(this.dealerEl.firstChild)}},{key:"removeChipsFromDom",value:function(){for(;this.betzoneEl.lastChild;){var t=this.betzoneEl.lastChild;if(t.classList&&t.classList.contains("txt-betzone"))return;this.betzoneEl.removeChild(this.betzoneEl.lastChild)}}},{key:"createGameCardEl",value:function(t,e){var n=document.createElement("game-card",{});return n.setAttribute("face",t.face),t.is404&&!e.display404Cards?n.setAttribute("value","404"):n.setAttribute("value",""+t.value),n}},{key:"dealStartHand",value:function(){var t=this,e=0,n=[this.player,this.dealer,this.player,this.dealer],s=setInterval(function(){t.dealCard(n[e++]),e>=4&&clearInterval(s)},this.animationTime)}},{key:"createMessage",value:function(t){var e=document.getElementById("modalSpawn"),n=document.createElement("div");n.setAttribute("id","modal"),n.setAttribute("class","modal close"),n.appendChild(document.createTextNode(t)),e.appendChild(n),setTimeout(function(){n.classList.add("open"),n.classList.remove("close")}),setTimeout(function(){n.classList.remove("open"),n.classList.add("close"),setTimeout(function(){n.remove()},450)},5e3)}},{key:"checkForSubscriber",value:function(){var t=this,e=document.monetization;this.debugSubscriber&&(this.setSubscriber(),setInterval(function(){t.coinSubscriptionRoutine()},200)),setTimeout(function(){e&&"started"===e.state&&t.setSubscriber()}),e&&(e.addEventListener("monetizationstart",function(){e&&"started"===e.state&&t.setSubscriber()}),e.addEventListener("monetizationprogress",function(){t.coinSubscriptionRoutine()}))}},{key:"coinSubscriptionRoutine",value:function(){this.isSubscriber||this.setSubscriber(),this.progressPoints+=.05,this.progressPoints>=77&&(this.progressPoints=0,this.player.giveSubscriptionChips(10),this.animateWinnings(10),this.updateChipsText(),this.sfx.playSubscriptionCoin()),this.betzoneProgressBarEl.style.height=this.progressPoints+"px"}}]),e}();exports.Game=m;
},{"./cardUtils":"dH1A","./player":"rXhO","./sfx":"hGlU"}],"uA0y":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function a(e){var t=l();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?i(t):r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||!f(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return p(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}function p(e,t,r){return(p=l()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&s(o,r.prototype),o}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Card=void 0;var y=function(e){o(c,u(HTMLElement));var r=a(c);function c(){var e;t(this,c),(e=r.call(this)).attachShadow({mode:"open"}),e.wrapper=document.createElement("div"),e.wrapper.setAttribute("class","card-wrapper");var n=e.createStyle();return e.shadowRoot.append(n,e.wrapper),e.faceElem=e.createElem(e.wrapper,""),e.valElem=e.createElem(e.wrapper,""),e}return n(c,[{key:"disconnectedCallback",value:function(){}},{key:"connectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,r){r!==t&&this.updateStyle(e)}},{key:"updateStyle",value:function(e){"face"===e||("value"===e?(this.valElem.textContent=this.getAttribute(e),"404"===this.getAttribute(e)&&(this.wrapper.classList.add("is-404"),this.wrapper.classList.add("pattern2"))):"removewrapperclass"===e&&this.wrapper.classList.remove("card-wrapper"))}},{key:"createElem",value:function(e,t){var r=document.createElement("div");return r.appendChild(document.createTextNode(t)),e.appendChild(r),r}},{key:"createStyle",value:function(){var e=document.createElement("style");return e.textContent=".card-wrapper { \n      height: 105px;\n      width: 75px;\n      border-radius: var(--card-radius);\n      border: 1px solid white;\n      box-shadow: -1px 3px 1px -2px rgba(0,0,0,.2), -1px 2px 2px 0 rgba(0,0,0,.14), -1px 1px 5px 0 rgba(0,0,0,.12);\n      background-color: white;\n      font-size: 16px;\n    }\n    .is-404 {\n      writing-mode: vertical-lr;\n      text-orientation: upright;\n    }\n    .card-wrapper div {\n      margin: 3px 0px 0px 6px;\n    }\n    .is-404 div{\n      margin: 3px 0px 0px 0px;\n    }",e}}],[{key:"observedAttributes",get:function(){return["face","value","removewrapperclass"]}}]),c}();exports.Card=y;
},{}],"g8js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function c(t){var e=l();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||!f(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return p(t,arguments,y(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,t)})(t)}function p(t,e,n){return(p=l()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Chip=void 0;var b=function(t){o(a,i(HTMLElement));var n=c(a);function a(){var t;e(this,a),(t=n.call(this)).attachShadow({mode:"open"}),t.wrapper=document.createElement("div"),t.createElem(t.wrapper,"10"),t.wrapper.setAttribute("class","chip-wrapper");var r=t.createStyle();return t.shadowRoot.append(r,t.wrapper),t}return r(a,[{key:"disconnectedCallback",value:function(){}},{key:"connectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"createElem",value:function(t,e){var n=document.createElement("span");return n.appendChild(document.createTextNode(e)),t.appendChild(n),n}},{key:"createStyle",value:function(){var t=document.createElement("style");return t.textContent=".chip-wrapper { \n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 55px;\n      width: 55px;\n      border-radius: 50%;\n      border: 10px double white;\n      color: white;\n      font-size: 20px;\n      font-weight: bold;\n      box-shadow: -1px 1px 2px 1px rgba(0,0,0,0.8);\n      background:\n      radial-gradient(circle at 100% 50%, transparent 20%, rgba(255,255,255,.3) 21%, rgba(255,255,255,.3) 34%, transparent 35%, transparent),\n      radial-gradient(circle at 0% 50%, transparent 20%, rgba(255,255,255,.3) 21%, rgba(255,255,255,.3) 34%, transparent 35%, transparent) 0 -50px;\n      background-color: slategray;\n      background-size:75px 100px;\n    }",t}}]),a}();exports.Chip=b;
},{}],"B6dB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./game"),r=require("./custom-elements/Card"),t=require("./custom-elements/Chip");function m(){customElements.define("game-card",r.Card),customElements.define("game-chip",t.Chip)}m(),new e.Game;
},{"./game":"dgAm","./custom-elements/Card":"uA0y","./custom-elements/Chip":"g8js"}]},{},["B6dB"], null)
//# sourceMappingURL=src.dea78a1e.js.map