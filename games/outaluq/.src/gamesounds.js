!function(){this.GameSounds=function(t){this.sounds=t;var e;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,e=new AudioContext}catch(i){return!1}var n=e.createGain(),s=e.createGain(),a=.05,r=function(){s.connect(n),n.connect(e.destination)};Sound=function(){return function(t){var i=this,t=t,n=e.currentTime,o=e.createOscillator(),l=e.createGain(),h=e.createOscillator(),d=e.createGain(),c=e.createPanner(),u=e.createGain(),p=!1,f=e.currentTime,g=function(t){var e=null;switch(t){case 0:e="setValueAtTime";break;case 1:e="linearRampToValueAtTime";break;case 2:e="exponentialRampToValueAtTime";break;default:e="setValueAtTime"}return e},m=function(){h.connect(d),d.connect(o.frequency),o.connect(l),l.connect(c),c.connect(u),u.connect(s)};o.type=t.wave;for(var v in t.vol.points){var y=g(t.vol.points[v][2]);l.gain[y](t.vol.points[v][1],f+t.vol.points[v][0])}for(var b in t.freq.points){var y=g(t.freq.points[b][2]);o.frequency[y](t.freq.points[b][1],f+t.freq.points[b][0])}h.type=t.mod.wave,h.frequency.value=t.mod.freq,d.gain.value=t.mod.gain,m(),r(),this.at=function(t,e){var n="number"==typeof t?t:0,s="number"==typeof e?e:0;return s*=a,n*=a,c.setPosition(n,s,0),i},this.start=function(n){return p?!1:("undefined"==typeof n&&(n=e.currentTime),o.start(n),h.start(n),"undefined"!=typeof t.duration&&i.stop(n+t.duration),i)},this.fire=function(){return i.start(),i},this.stop=function(t){return"undefined"==typeof t&&(t=e.currentTime),o.stop(t),h.stop(t),p=!0,i},this.vol=function(t){return u.gain.value=t,i},this.isPlaying=function(){return"undefined"==typeof t.duration||e.currentTime-n<t.duration}}}(),this.playerPosition=function(t,i){return t*=a,i*=a,e.listener.setPosition(t,i,0),this},this.get=function(t){return new Sound(this.sounds[t])},this.setVolume=function(t){return n.gain.value=t/100,this},this.set=function(t){return new Sound(t)}}}();