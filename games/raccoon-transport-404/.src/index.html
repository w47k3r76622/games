<html><head><meta charset="utf-8"/><title>Raccoon Transport 404 - gheja</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui" />
<script>
'use strict';function aa(a,b,c,d){function e(h,k,m){0>m&&(m+=1);1<m&&--m;return m<1/6?h+6*(k-h)*m:.5>m?k:m<4/6?h+6*(k-h)*(4/6-m):h}b=.5>c?c*(1+b):c+b-c*b;var f=2*c-b;c=Math.floor(255*e(f,b,a+1/3));var g=Math.floor(255*e(f,b,a));a=Math.floor(255*e(f,b,a-1/3));return[c,g,a,d]}function l(a){return new Float32Array(a)}function ba(){return l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}
function ca(a,b){var c,d=new Float32Array(16);for(c=0;4>c;c++){var e=a[c];var f=a[c+4];var g=a[c+8];var h=a[c+12];d[c]=e*b[0]+f*b[1]+g*b[2]+h*b[3];d[c+4]=e*b[4]+f*b[5]+g*b[6]+h*b[7];d[c+8]=e*b[8]+f*b[9]+g*b[10]+h*b[11];d[c+12]=e*b[12]+f*b[13]+g*b[14]+h*b[15]}return d}
function da(a,b){a=l(a);a[12]+=a[0]*b.x+a[4]*b.y+a[8]*b.z;a[13]+=a[1]*b.x+a[5]*b.y+a[9]*b.z;a[14]+=a[2]*b.x+a[6]*b.y+a[10]*b.z;a[15]+=a[3]*b.x+a[7]*b.y+a[11]*b.z;a.set(ca(a,l([1,0,0,0,0,Math.cos(b.G),Math.sin(b.G),0,0,-Math.sin(b.G),Math.cos(b.G),0,0,0,0,1])));a.set(ca(a,l([Math.cos(b.L),0,-Math.sin(b.L),0,0,1,0,0,Math.sin(b.L),0,Math.cos(b.L),0,0,0,0,1])));a.set(ca(a,l([Math.cos(b.o),Math.sin(b.o),0,0,-Math.sin(b.o),Math.cos(b.o),0,0,0,0,1,0,0,0,0,1])));return a}
function ea(a){return l([a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]])}
function fa(a){var b=l([a[5]*a[10]*a[15]-a[5]*a[11]*a[14]-a[9]*a[6]*a[15]+a[9]*a[7]*a[14]+a[13]*a[6]*a[11]-a[13]*a[7]*a[10],-a[1]*a[10]*a[15]+a[1]*a[11]*a[14]+a[9]*a[2]*a[15]-a[9]*a[3]*a[14]-a[13]*a[2]*a[11]+a[13]*a[3]*a[10],a[1]*a[6]*a[15]-a[1]*a[7]*a[14]-a[5]*a[2]*a[15]+a[5]*a[3]*a[14]+a[13]*a[2]*a[7]-a[13]*a[3]*a[6],-a[1]*a[6]*a[11]+a[1]*a[7]*a[10]+a[5]*a[2]*a[11]-a[5]*a[3]*a[10]-a[9]*a[2]*a[7]+a[9]*a[3]*a[6],-a[4]*a[10]*a[15]+a[4]*a[11]*a[14]+a[8]*a[6]*a[15]-a[8]*a[7]*a[14]-a[12]*a[6]*a[11]+a[12]*
a[7]*a[10],a[0]*a[10]*a[15]-a[0]*a[11]*a[14]-a[8]*a[2]*a[15]+a[8]*a[3]*a[14]+a[12]*a[2]*a[11]-a[12]*a[3]*a[10],-a[0]*a[6]*a[15]+a[0]*a[7]*a[14]+a[4]*a[2]*a[15]-a[4]*a[3]*a[14]-a[12]*a[2]*a[7]+a[12]*a[3]*a[6],a[0]*a[6]*a[11]-a[0]*a[7]*a[10]-a[4]*a[2]*a[11]+a[4]*a[3]*a[10]+a[8]*a[2]*a[7]-a[8]*a[3]*a[6],a[4]*a[9]*a[15]-a[4]*a[11]*a[13]-a[8]*a[5]*a[15]+a[8]*a[7]*a[13]+a[12]*a[5]*a[11]-a[12]*a[7]*a[9],-a[0]*a[9]*a[15]+a[0]*a[11]*a[13]+a[8]*a[1]*a[15]-a[8]*a[3]*a[13]-a[12]*a[1]*a[11]+a[12]*a[3]*a[9],a[0]*
a[5]*a[15]-a[0]*a[7]*a[13]-a[4]*a[1]*a[15]+a[4]*a[3]*a[13]+a[12]*a[1]*a[7]-a[12]*a[3]*a[5],-a[0]*a[5]*a[11]+a[0]*a[7]*a[9]+a[4]*a[1]*a[11]-a[4]*a[3]*a[9]-a[8]*a[1]*a[7]+a[8]*a[3]*a[5],-a[4]*a[9]*a[14]+a[4]*a[10]*a[13]+a[8]*a[5]*a[14]-a[8]*a[6]*a[13]-a[12]*a[5]*a[10]+a[12]*a[6]*a[9],a[0]*a[9]*a[14]-a[0]*a[10]*a[13]-a[8]*a[1]*a[14]+a[8]*a[2]*a[13]+a[12]*a[1]*a[10]-a[12]*a[2]*a[9],-a[0]*a[5]*a[14]+a[0]*a[6]*a[13]+a[4]*a[1]*a[14]-a[4]*a[2]*a[13]-a[12]*a[1]*a[6]+a[12]*a[2]*a[5],a[0]*a[5]*a[10]-a[0]*a[6]*
a[9]-a[4]*a[1]*a[10]+a[4]*a[2]*a[9]+a[8]*a[1]*a[6]-a[8]*a[2]*a[5]]);var c=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];if(!c)return a;c=1/c;for(a=0;16>a;a++)b[a]*=c;return b}function n(a,b){return l([a[0]-b[0],a[1]-b[1],a[2]-b[2]])}function ia(a,b){return l([a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]])}function ja(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}
function ka(a,b){var c=l([0,2E3,0]),d=l([-2E3,-2E3,0]),e=l([2E3,-2E3,0]);d=n(d,c);e=n(e,c);var f=ia(b,e),g=ja(d,f);if(-1E-7<g&&1E-7>g)return null;g=1/g;var h=n(a,c);c=g*ja(h,f);if(0>c||1<c)return null;d=ia(h,d);f=g*ja(b,d);if(0>f||1<c+f)return null;e=g*ja(e,d);1E-7>=e?a=null:(b=l([b[0]*e,b[1]*e,b[2]*e]),a=l([a[0]+b[0],a[1]+b[1],a[2]+b[2]]));return a}
function la(a,b){var c=this;this.b=document.getElementById(a);this.a=this.b.getContext('webgl');this.f=this.compile('attribute vec4 p,c,n;uniform mat4 m,o,i;varying vec4 vc;varying vec3 vn,vp;void main(){gl_Position=m*p;vp=vec3(o*p);vn=normalize(vec3(i*n));vc=c;}','precision mediump float;uniform vec3 lc,lp,al;varying vec3 vn,vp;varying vec4 vc;void main(){vec3 l=normalize(lp-vp);float n=max(dot(l,vn),0.0);vec3 q=lc*vc.rgb*n+al*vc.rgb;gl_FragColor=vec4(q,1.0);}');this.c={x:0,y:0,z:10,G:0,L:0,o:0};
this.v=[0,0];this.a.clearColor(.1,.1,.1,1);this.a.enable(this.a.DEPTH_TEST);this.a.enable(this.a.CULL_FACE);this.a.uniform3f(this.a.getUniformLocation(this.f,'lc'),1,1,1);this.a.uniform3f(this.a.getUniformLocation(this.f,'lp'),3,-20,20);this.a.uniform3f(this.a.getUniformLocation(this.f,'al'),.1,.1,.1);this.h=[];ma.forEach(function(d){c.h.push(c.I.apply(c,na(d[0],d[1])));return c.h[c.h.length-1]});this.A=[];b&&(this.m=p(this,2),this.A.push(this.m));this.b.addEventListener('mousemove',this.X.bind(this))}
la.prototype.compile=function(a,b){var c=this.a.createShader(this.a.VERTEX_SHADER);this.a.shaderSource(c,a);this.a.compileShader(c);a=this.a.createShader(this.a.FRAGMENT_SHADER);this.a.shaderSource(a,b);this.a.compileShader(a);b=this.a.createProgram();this.a.attachShader(b,c);this.a.attachShader(b,a);this.a.linkProgram(b);this.a.useProgram(b);console.log('vertex shader:',this.a.getShaderInfoLog(c)||'OK');console.log('fragment shader:',this.a.getShaderInfoLog(a)||'OK');console.log('program:',this.a.getProgramInfoLog(b)||
'OK');return b};function oa(a){var b=a.b.clientWidth;var c=a.b.clientHeight;if(a.b.width!=b||a.b.height!=c){a.b.width=b;a.b.height=c;a.a.viewport(0,0,b,c);var d=1/-999.99;b=l([1.83/(b/c),0,0,0,0,1.83,0,0,0,0,1000.01*d,-1,0,0,20*d,0]);a.Y=b}}function pa(a,b,c){var d=a.a.createBuffer();a.a.bindBuffer(c,d);a.a.bufferData(c,b,a.a.STATIC_DRAW);return d}
function qa(a,b){function c(w,F,r){w[F]+=r[0];w[F+1]+=r[1];w[F+2]+=r[2]}var d;var e=new Float32Array(a.length);for(d=0;d<b.length;d+=3){var f=3*b[d];var g=3*b[d+1];var h=3*b[d+2];var k=[a[f],a[f+1],a[f+2]];var m=[a[g],a[g+1],a[g+2]];var u=[a[h],a[h+1],a[h+2]];m=n(m,k);k=n(u,k);k=ia(m,k);c(e,f,k);c(e,g,k);c(e,h,k)}for(d=0;d<e.length;d+=3)k=Math.sqrt(Math.pow(e[d],2)+Math.pow(e[d+1],2)+Math.pow(e[d+2],2)),0!=k&&(e[d]/=k,e[d+1]/=k,e[d+2]/=k);return e}
function na(a,b){function c(){var v,Da;ra=g;g+=m;void 0===G&&(G=h);for(v=0;v<r.length-1;v++){u.push(r[v][0]*h+K,r[v][1]*h+L,g,M[v][0]*G+K,M[v][1]*G+L,ra,r[v+1][0]*h+K,r[v+1][1]*h+L,g,r[v+1][0]*h+K,r[v+1][1]*h+L,g,M[v][0]*G+K,M[v][1]*G+L,ra,M[v+1][0]*G+K,M[v+1][1]*G+L,ra);for(Da=0;6>Da;Da++)F.push(Wa);w.push(f++,f++,f++,f++,f++,f++)}G=h}void 0===b&&(b=[]);var d,e,f,g,h,k;var m=h=1;var u=[];var w=[];var F=[];var r=[];var Xa=!0;var Ea=k=!1;var K,L;for(g=f=d=K=L=e=0;d<a.length;)switch(a[d++]){case 1:h=
a[d++];break;case 2:var Wa=a[d++];break;case 15:Wa=b[a[d++]];break;case 3:var ha=a[d++];r=[];break;case 7:Xa=!!a[d++];break;case 4:m=a[d++];break;case 9:k=!!a[d++];break;case 5:var M=r.slice();r=[];for(e=0;e<ha;e++)r.push([a[d++],a[d++]]);if(k)for(e=r.length-1;0<=e;e--)r.push([-1*r[e][0],r[e][1]]);else Xa&&r.push(r[0]);0<M.length&&c();break;case 8:M=r.slice();c();break;case 10:r=[];ha=a[d++];var Ya=a[d++];for(e=0;e<=ha;e++)r.push([Math.cos(e/ha*Math.PI*2)*Ya,Math.sin(e/ha*Math.PI*2)*Ya]);break;case 12:var wb=
d;break;case 13:Ea&&(Ea=!1,d=xb);break;case 14:Ea=!0;var xb=d;d=wb;break;case 11:K=a[d++];L=a[d++];e=a[d++];d++;d++;d++;var G=h=void 0;var ra=g=e}return[l(u),new Uint16Array(w),new Uint8Array(F)]}
la.prototype.I=function(a,b,c){var d;var e=new Uint8Array(4*c.length);var f=new Uint8Array(4*c.length);for(d=0;d<c.length;d+=6){var g=aa.apply(void 0,sa[c[d]].concat([1]));e.set(g,4*d);e.set(g,4*(d+1));e.set(g,4*(d+2));e.set(g,4*(d+3));e.set(g,4*(d+4));e.set(g,4*(d+5));g=aa.apply(void 0,sa[13].concat([1]));f.set(g,4*d);f.set(g,4*(d+1));f.set(g,4*(d+2));f.set(g,4*(d+3));f.set(g,4*(d+4));f.set(g,4*(d+5))}return{V:pa(this,a,this.a.ARRAY_BUFFER),T:pa(this,b,this.a.ELEMENT_ARRAY_BUFFER),U:pa(this,qa(a,
b),this.a.ARRAY_BUFFER),S:pa(this,e,this.a.ARRAY_BUFFER),$:pa(this,f,this.a.ARRAY_BUFFER),aa:b.length}};function ta(){var a=q;var b=a.h[5];a.a.deleteBuffer(b.V);a.a.deleteBuffer(b.T);a.a.deleteBuffer(b.U);a.a.deleteBuffer(b.S);a.h[5]=null}function p(a,b){a.A.push({shape:a.h[b],G:0,L:0,o:0,x:0,y:0,z:0,visible:!0,M:!1});return a.A[a.A.length-1]}
function ua(a){a.N=da(ba(),a.c);a.Z=fa(a.N);a.J=ca(a.Y,a.Z);var b=va(a,l([a.v[0],a.v[1],0]));var c=va(a,l([a.v[0],a.v[1],1]));b&&c&&(b=ka(b,n(c,b)))&&(a.l=b,a.m&&(a.m.x=b[0],a.m.y=b[1],a.m.z=b[2]));a.a.useProgram(a.f);c=a.a.getAttribLocation(a.f,'p');var d=a.a.getAttribLocation(a.f,'n');var e=a.a.getAttribLocation(a.f,'c');var f=a.a.getUniformLocation(a.f,'o');var g=a.a.getUniformLocation(a.f,'m');var h=a.a.getUniformLocation(a.f,'i');a.a.clear(a.a.COLOR_BUFFER_BIT|a.a.DEPTH_BUFFER_BIT);for(var k=
0,m=a.A;k<m.length;k++)if(b=m[k],b.visible){var u=ba();u=da(u,b);a.a.uniformMatrix4fv(f,!1,u);var w=ca(a.J,u);a.a.uniformMatrix4fv(g,!1,w);u=ea(fa(u));a.a.uniformMatrix4fv(h,!1,u);a.a.bindBuffer(a.a.ARRAY_BUFFER,b.shape.V);a.a.vertexAttribPointer(c,3,a.a.FLOAT,!1,0,0);a.a.enableVertexAttribArray(c);a.a.bindBuffer(a.a.ARRAY_BUFFER,b.shape.U);a.a.vertexAttribPointer(d,3,a.a.FLOAT,!1,0,0);a.a.enableVertexAttribArray(d);b.M?a.a.bindBuffer(a.a.ARRAY_BUFFER,b.shape.$):a.a.bindBuffer(a.a.ARRAY_BUFFER,b.shape.S);
a.a.vertexAttribPointer(e,4,a.a.UNSIGNED_BYTE,!0,0,0);a.a.enableVertexAttribArray(e);a.a.bindBuffer(a.a.ELEMENT_ARRAY_BUFFER,b.shape.T);a.a.drawElements(a.a.TRIANGLES,b.shape.aa,a.a.UNSIGNED_SHORT,0)}}function va(a,b){a=ea(fa(a.J));b=l([a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3],a[4]*b[0]+a[5]*b[1]+a[6]*b[2]+a[7],a[8]*b[0]+a[9]*b[1]+a[10]*b[2]+a[11],a[12]*b[0]+a[13]*b[1]+a[14]*b[2]+a[15]]);0==b[3]?b=null:(a=1/b[3],b=l([b[0]*a,b[1]*a,b[2]*a]));return b}
la.prototype.X=function(a){this.v=[a.clientX/this.b.clientWidth*2-1,-(a.clientY/this.b.clientHeight*2-1)]};var wa=0,xa=0,ya=!1,za=0,Aa=0,Ba=5,t,x,y;function Ca(a){wa=a.touches[0].screenX;xa=a.touches[0].screenY}function Fa(a,b){t=null;x=0;if(b)for(var c=0,d=z;c<d.length;c++)if(b=d[c],5>A(b.position,q.l)){t=b;x=3;return}if(a&&(B.s(null),(b=Ga(B,q.l,!1))&&!b.locked)){B.s(b,2);x=1;t=b;return}a:{a=q.l;c=0;for(d=C;c<d.length;c++)if(b=d[c],5>A(b.position,a)){t=b;break a}t=null}t&&(x=2)}
function Ha(a){a&&0!=x?q.b.classList.add('clickable'):q.b.classList.remove('clickable');3!=x&&2!=x||t.W(a)}
function Ia(a){try{a instanceof TouchEvent&&(a.screenX=a.touches[0].screenX,a.screenY=a.touches[0].screenY)}catch(h){}for(var b=a.screenX-wa,c=a.screenY-xa,d,e,f=0,g=document.querySelectorAll('.window');f<g.length;f++)d=g[f],'1'==d.dataset.selected&&(e=d.getBoundingClientRect(),d.style.top=e.top+c+'px',d.style.left=e.left+b+'px');ya&&a.target==q.b&&(za+=q.c.z/800*(a.screenX-wa),Aa+=q.c.z/800*(a.screenY-xa));Ha(!1);1==D?Fa(!1,!0):4==D?Fa(!0,!1):5==D?Fa(!1,!1):8==D&&Ja(y,Ka(y.position,q.l)+Math.PI/
2);Ha(!0);wa=a.screenX;xa=a.screenY}
function La(a){if(a.target==q.b)switch(D){case 1:3==x&&Ma(1,t.C,0);2==x&&Ma(2,t.H,0);break;case 2:if(a=Ga(B,q.l,!1)){var b=B;b.h=a;b.a=E(b,a.position,!1,null);H(b,b.h,b.a,!1);D=3}break;case 3:if(I(100,1)){a=B;a.f=!1;if(b=Ga(a,a.a.position,!1))Na(a,a.a),a.a=b,H(a,a.h,b,!1);a.a.s=0;J(a);D=2;Oa()}break;case 4:if(1==x){if(I(50,1)){a:{a=B;b=t;if(b){for(var c=0,d=z;c<d.length;c++){var e=d[c];if(e.a==b){N('Cannot delete this','A vehicle is heading this way.');a=!1;break a}}Na(a,b)}a=!0}a||Pa(50);J(B)}break}2==
x&&Qa();break;case 5:t&&(Ra.b.push({j:t}),O());break;case 6:I(5E3,1)&&(y=new P(q.l,!0),D=8,C.push(y));break;case 7:I(2E3,1)&&(y=new P(q.l,!1),D=8,C.push(y));break;case 8:O()}}function Sa(a){a.target==q.b&&(l(q.l),l([q.c.x,q.c.y,q.c.z]),ya=!0)}function Ta(){ya=!1}function Ua(){Ba=Math.min(Math.max(Ba,0),10);za=Math.min(Math.max(za,-20),20);Aa=Math.min(Math.max(Aa,-20),20);var a=Math.pow(Ba/10,2);q.c.x=-za;q.c.y=-50*(1-a)+Aa;q.c.z=5+100*a;q.c.G=1.5-1.5*a}
function Va(a){void 0===a&&(a='-');document.getElementById('tooltip').innerHTML=a?a:'-'}function Za(){Va((this.dataset.tooltip||'')+(this.classList.contains('button-disabled')?' (locked)':''))}function $a(){Va()}var ab=9E3;function bb(){this.dataset.selected='1';this.style.zIndex=''+ab++}function cb(){for(var a,b=0,c=document.querySelectorAll('.window');b<c.length;b++)a=c[b],a.dataset.selected='0'}var Q=0,db;function eb(a){Q=(Q+a+R.length)%R.length;fb.shape=S.h[R[Q][3]]}
function gb(){for(var a,b,c,d,e,f,g=0,h=document.querySelectorAll('.window');g<h.length;g++){a=h[g];b='';switch(parseInt(a.dataset.t)){case 1:d=T(a.dataset.i);c=d.title;e=0==d.b.length?'nowhere':d.b[d.B].j.title;if(d.l)b+='Stopped.';else switch(d.f){case 2:case 1:case 3:case 4:b+='Heading to '+e;break;case 5:b+='Unloading';break;case 6:b+='Loading';break;case 7:b+='Servicing'}b+='<br/>';for(f in d.h)0<d.h[f]&&(b+=U[f]+' '+d.c[f]+' / '+d.h[f]+'<br/>');b+='<hr/>';0==d.b.length?b+='(Schedule is empty.)<br/>':
d.b.forEach(function(u,w){b+=(w==d.B?'&raquo; ':'')+(u.j.title+' [<a href="#" onclick="scheduleDelete('+d.C+', '+w+');">del</a>] <br/>')});b+='<a href="#" onclick="scheduleAppend('+d.C+');">Add station</a> | ';b+='<a href="#" onclick="scheduleSkip('+d.C+');">Skip</a> | ';b+='<a href="#" onclick="vehiclePause('+d.C+');">'+(d.l?'Start':'Stop')+'</a> | ';b+='<a href="#" onclick="vehicleDepot('+d.C+');">Depot</a> | ';b+='<a href="#" onclick="vehicleSell('+d.C+');">Sell</a>';break;case 2:d=hb(a.dataset.i);
c=d.title;b+='Waiting:<br/>';for(var k=0,m=d.c;k<m.length;k++)for(f in e=m[k],e.a)0<e.a[f]&&(b+=U[f]+' '+e.f[f]+' (+'+e.a[f]+'/min, '+e.c[f]+' max)<br/>');b+='Accepts:<br/>';k=0;for(m=d.c;k<m.length;k++)for(f in e=m[k],e.b)0<e.b[f]&&(b+=U[f]+' ');if(d.b){ib(d);if(0!=d.f.length)for(b+='Vehicles in this depot:<br/>',k=0,m=d.f;k<m.length;k++)e=m[k],b+='<a href="#" onclick="windowCreate(1, '+e.C+', 0);">'+e.title+'</a><br/>';b+='<a href="#" onclick="windowCreate(5, '+d.H+', 0);">Buy a new vehicle</a><br/>'}break;
case 3:c='Statistics';for(f in jb)''!=jb[f]&&(b+=jb[f]+': <b>'+V[f]+'</b><br/>');break;case 4:c='Bank';f=V[9]-V[10];b+='Total loan: '+W(f)+'<br/>';b+='Total interest: '+W(kb)+'/day<br/>';b+='Loan limit: '+W(lb)+'<br/>';f<lb&&(b+='<a href="#" onclick="loan1(10000)">Borrow '+W(1E4)+'</a><br/>');0<f&&1E4<=mb&&(b+='<a href="#" onclick="loan2(10000)">Repay '+W(1E4)+'<a><br/>');break;case 5:for(f in c='Buy a new vehicle',b+='<a href="#" onclick="buyShift(-1);">&laquo;</a> | <a href="#" onclick="buyBuy();">Buy</a> | <a href="#" onclick="buyShift(1);">&raquo;</a><br/>\n'+
R[Q][0]+' ('+R[Q][1]+')<br/>\nCapacity:<br/>',R[Q][2])0<R[Q][2][f]&&(b+=U[f]+' '+R[Q][2][f]+'<br/>')}''!=b&&(X(a.querySelector('.title'),c),X(a.querySelector('.body'),b))}}function nb(){this.parentNode.removeChild(this)}function ob(a,b,c){for(var d,e=0,f=document.querySelectorAll('.window');e<f.length;e++)d=f[e],d.dataset.t==a&&d.dataset.i==b&&d.dataset.u==c&&d.parentNode.removeChild(d)}
function pb(){for(var a,b=0,c=document.querySelectorAll('.window');b<c.length;b++)a=c[b],5==a.dataset.t&&a.parentNode.removeChild(a)}
function N(a,b){var c=document.createElement('div');c.className='window';c.addEventListener('mousedown',bb.bind(c));c.addEventListener('touchstart',bb.bind(c));c.addEventListener('mouseup',cb.bind(c));c.addEventListener('touchend',cb.bind(c));c.style.left=document.body.clientWidth/2-300+'px';c.style.top='100px';c.style.zIndex=''+ab++;var d=document.createElement('div');d.className='title';X(d,a);c.appendChild(d);d=document.createElement('div');d.className='close';d.innerHTML='X';d.addEventListener('click',
nb.bind(c));c.appendChild(d);d=document.createElement('div');d.className='body';X(d,b);c.appendChild(d);document.body.appendChild(c);return c}function Ma(a,b,c){ob(a,b,c);var d=N('','');5==a&&(pb(),d.insertBefore(S.b,d.querySelector('.body')),Q=0,eb(0),C.forEach(function(e){e.H==b&&(db=e)}));d.dataset.t=''+a;d.dataset.i=''+b;d.dataset.u=''+c;d.style.left=wa+30+'px';d.style.top=xa-200+'px'}var U=['','\ud83e\uddd1','\u2709\ufe0f','\ud83d\udce6'],jb='Credits earned;Credits spent on construction;Credits spent on upkeep;Credits spent on other;;Passengers picked up;Passengers transported;Goods picked up;Goods delivered;Loan borrowed;Loan repaid;Loan interest paid'.split(';');
var sa=[[.28,.46,.46],[.56,.1,.11],[.56,.1,.15],[.4,1,.5],[.5,1,.7],[.6,1,.5],[.7,1,.5],[.8,1,.5],[0,.77,.45],[0,0,.2],[0,0,.3],[.12,1,.5],[.05,.21,.71],[0,0,.8]],qb=[3,4,4,0,1,.5,15,0,5,-1,-1,1,-1,1,1,-1,1,5,0,0,0,0,0,0,0,0],rb=[1,1,4,.5,15,0,10,13,2,8,1,.8,4,0,8,4,-.5,8],sb=[11,0,6,.3,0,0,0,1,.1,4,.5,9,1,15,0,3,24,4,.5,5,0,-120,13,-120,13,-116,8,-116,8,-102,13,-102,13,-99,10,-99,10,-89,13,-89,13,-71,8,-71,8,-58,13,-58,13,-38,10,-38,10,-29,13,-29,13,-26,8,-26,8,-12,13,-12,13,-4,11,-2,0,-2,4,.5,5,
0,-120,13,-120,13,-116,8,-116,8,-102,13,-102,13,-99,10,-99,10,-89,13,-89,13,-71,8,-71,8,-58,13,-58,13,-38,10,-38,10,-29,13,-29,13,-26,8,-26,8,-12,13,-12,13,-2,11,0,0,0,15,1,4,.2,5,0,-120,13,-119,13,-116,8,-116,8,-102,13,-102,13,-96,10,-96,10,-92,13,-92,13,-71,8,-71,8,-58,13,-58,13,-35,10,-35,10,-32,13,-32,13,-26,8,-26,8,-12,13,-12,13,-2,11,0,0,0,4,0,5,0,-120,13,-119,13,-116,8,-116,8,-102,13,-102,13,-96,13,-95,13,-93,13,-92,13,-71,8,-71,8,-58,13,-58,13,-35,13,-34,13,-33,13,-32,13,-26,8,-26,8,-12,13,
-12,13,-2,11,0,0,0,8,4,.5,15,2,8,15,3,4,0,5,0,-117,13,-117,13,-116,8,-116,8,-102,13,-102,13,-101,8,-101,8,-72,13,-72,13,-71,8,-71,8,-58,13,-58,13,-57,8,-57,8,-27,13,-27,13,-26,8,-26,8,-12,13,-12,13,-2,11,0,0,0,4,.5,8,15,4,8,15,5,8,15,6,8,15,7,4,0,15,8,5,0,-117,13,-117,13,-116,13,-115,13,-103,13,-102,13,-101,13,-100,13,-73,13,-72,13,-71,13,-70,13,-59,13,-58,13,-57,13,-56,13,-28,13,-27,13,-26,13,-25,13,-13,13,-12,13,-2,11,0,0,0,4,.25,8,5,0,-115,11,-115,12,-114,12,-112,12,-103,12,-102,12,-101,12,-100,
12,-73,12,-72,12,-71,12,-70,12,-59,12,-58,12,-57,12,-56,12,-28,12,-27,12,-26,12,-25,12,-13,12,-12,12,-4,10,-2,0,-2,4,0,1,0,8,11,0,6,.3,0,0,0,15,9,1,.1,3,12,4,.9,3,10,5,12.5,-117,12.5,-101,8,-101,8,-72,12.5,-72,12.5,-57,8,-57,8,-27,12.5,-27,12.5,-10,8,11,0,6,1.2,0,0,0,3,4,1,.1,4,2.3,5,0,-119,5,-119,12.5,-118,12.5,-10,5,0,-117,9,-117,12.5,-117,12.5,-10],ma=[[[3,4,4,0,1,200,2,0,5,-1,-1,1,-1,1,1,-1,1,5,0,0,0,0,0,0,0,0]],[[3,7,4,1,1,.5,9,1,2,2,5,-5,27,-5,20,-3,20,-3,8,-5,8,-5,5,0,0,5,-5,27,-5,20,0,20,
0,8,0,7,0,6,0,5]],[rb,[3]],[[1,1,4,.5,15,0,10,13,.5,8,1,.8,4,0,8,4,-.5,8],[5]],[sb,[1,5,5,5,5,5,5,5,1,4]],[[]],[rb,[8]],[rb,[7]],[qb,[9]],[qb,[10]],[sb,[1,11,11,11,11,11,11,11,11,4]],[[11,0,-6,0,0,0,0,1,.1,9,1,3,6,2,12,4,4.5,5,0,0,23,0,23,-15,33,-15,33,124,0,124,8,4,0,5,0,-16,2,-16,4,-16,34,-16,34,125,0,125,4,1.8,2,8,5,0,-5,2,-5,4,-5,7,-5,7,113,0,113,4,0,1,0,8,11,0,-6,0,0,0,0,1,.1,2,1,3,2,4,4.5,5,0,-2,24,-2,5,0,-14,24,-14,3,2]],[[11,0,-6,0,0,0,0,2,12,1,.1,3,6,5,15,-10,20,-10,25,-10,25,120,20,120,
15,115,4,.3,8,4,0,5,20,30,20,30,20,30,20,40,20,40,20,40,11,1.75,5,0,0,0,0,2,13,1,.1,4,3.7,10,14,1,8,11,1.75,-6+10.8,2.5,0,0,0,2,5,1,.1,3,4,4,1,5,-5,0,5,0,5,.1,-5,.1,8]],[[1,8,4,.5,15,0,10,33,2,8,1,7.8,4,0,8,4,-.5,8],[8]],[sb,[11,13,13,13,11,13,13,11,11,4]],[sb,[1,8,8,8,1,8,8,8,8,4]]],R=[['Basic blue bus',4E3,[,20],4],['Red bus',12E3,[,40,20],15],['Yellow bus',2E4,[,60,60,2],10],['White bus',5E4,[,100,60,10],14]];function A(a,b){return Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2])}
function Ka(a,b){return Math.atan2(b[1]-a[1],b[0]-a[0])}function Y(a,b,c,d){return l([a[0]+Math.cos(b+Math.PI/2)*c,a[1]+Math.sin(b+Math.PI/2)*c,a[2]+d])}function tb(){return[0,0,0,0,0,0,0,0,0,0]}function ub(){this.parentNode.removeChild(this)}function vb(a){var b=document.createElement('div');b.className='bubble';b.innerHTML=a;window.setTimeout(ub.bind(b),5E3);document.getElementById('bubbles').appendChild(b)}function X(a,b){a.dataset._x!=b&&(a.dataset._x=b,a.innerHTML=b)}
function yb(){var a=V[4];return'Day '+(Math.floor(a/1440)+1)+' '+Math.floor(a%1440/60)+':00 ['+Math.floor(zb/1E3)+' s]'}function W(a){return'$'+a.toLocaleString('en-US')}function Ab(a,b){var c;for(c=a.length-1;0<=c;c--)a[c]===b&&a.splice(c,1)}function I(a,b){if(mb<a)return N('Not enough money',"It'd cost "+W(a)+" but you can't afford that. Check with the Bank for loans."),!1;V[b]+=a;vb('\ud83d\udcb5 '+W(-a));return!0}function Pa(a){Bb(0,a);vb('\ud83d\udcb5 '+W(a))}
function Cb(){this.c=[];this.b=[];this.g=p(q,5);this.f=!1}function E(a,b,c,d){void 0===d&&(d=null);c={position:b,locked:c,j:d,g:p(q,3),O:!1,K:null,s:0};c.g.x=b[0];c.g.y=b[1];c.g.z=b[2];a.c.push(c);return c}function H(a,b,c,d){a.b.push({D:b,F:c,locked:d,length:A(b.position,c.position)})}function Na(a,b){var c;if(b){b.g.visible=!1;for(c=a.b.length-1;0<=c;c--)a.b[c].D!==b&&a.b[c].F!==b||Ab(a.b,a.b[c]);Ab(a.c,b)}}
function Ga(a,b,c){for(var d,e=0,f=a.c;e<f.length;e++)if(d=f[e],!(c&&d.locked||d===a.a)&&2>A(d.position,b))return d;return null}function Db(a){for(var b,c=0,d=B.c;c<d.length;c++)if(b=d[c],b.j==a)return b;return null}function Oa(){var a=B;a.f=!0;a.h=null;a.a=null;J(a)}function Eb(){var a=B,b;a.s(a.a,1);a.a.position=l(q.l);if(b=Ga(a,a.a.position))a.a.position=l(b.position);J(a)}Cb.prototype.s=function(a,b){this.c.forEach(function(c){c.s=c==a?b:0});J(this)};
function J(a){a.c.forEach(function(g){g.g.x=g.position[0];g.g.y=g.position[1];g.g.z=g.position[2];g.g.visible=a.f;g.g.M=0!=g.s});var b;var c=[];var d=[];var e=[];var f=0;a.b.forEach(function(g){var h=Ka(g.D.position,g.F.position);var k=Y(g.D.position,h,2.5,.2);var m=Y(g.D.position,h,-2.5,.2);var u=Y(g.F.position,h,2.5,.2);h=Y(g.F.position,h,-2.5,.2);c.push(h[0],h[1],h[2],u[0],u[1],u[2],k[0],k[1],k[2],m[0],m[1],m[2],h[0],h[1],h[2],k[0],k[1],k[2]);d.push(f++,f++,f++,f++,f++,f++);b=1;if(2==g.D.s||2==
g.F.s)b=8;else if(1==g.D.s||1==g.F.s)b=3;e.push(b,b,b,b,b,b)});ta();q.h[5]=q.I(new Float32Array(c),new Uint16Array(d),new Uint8Array(e));a.g.shape=q.h[5]}
function Fb(a,b){function c(e){e.O=!0;e.R.forEach(function(f){e.K+f.P<f.node.K&&(f.node.previousNode=e,f.node.K=e.K+f.P);f.node.O||c(f.node)});e.O=!1}var d=B;if(!a||!b)return[];d.c.forEach(function(e){e.O=!1;e.K=1E5;e.R=[];e.previousNode=null});d.b.forEach(function(e){e.D.R.push({node:e.F,P:e.length});e.F.R.push({node:e.D,P:e.length})});a.K=0;c(a);for(a=[];b.previousNode;)a.push(b),b=b.previousNode;return a.reverse()}
function Gb(a){this.position=a;this.f=tb();this.a=tb();this.c=tb();this.b=tb();this.g=p(q,13);this.g.x=this.position[0];this.g.y=this.position[1];this.g.z=this.position[2]}var Hb=0;
function P(a,b){this.H=Hb++;this.position=a;this.b=b;this.a=[];b?(this.h=0,this.title='Depot '+this.H,this.g=p(q,11)):(this.h=16,this.title='Station '+this.H,this.g=p(q,12));a=E(B,this.position,!0);b=E(B,this.position,!0,this);var c=E(B,this.position,!0);H(B,a,b,!0);H(B,b,c,!0);this.a.push(a,b,c);this.g.x=this.position[0];this.g.y=this.position[1];this.g.z=this.position[2];Ja(this,0);ib(this)}
function Ja(a,b){a.g.o=b;a.a[0].position=l(Y(a.position,b,a.b?2:8,0));a.a[2].position=l(Y(a.position,b,a.b?-10:-8,0));J(B)}function ib(a){a.c=[];a.f=[];Z.forEach(function(b){A(b.position,a.position)<=a.h&&a.c.push(b)});z.forEach(function(b){b.j==a&&a.f.push(b)})}function Ib(a){ob(2,a.H,0);a.g.visible=!1;a.a.forEach(function(b){return Na(B,b)})}P.prototype.W=function(a){this.g.M=a};var Jb=0;
function Kb(a){this.C=Jb++;this.title='Bus #'+this.C;this.j=a;this.position=l(a.position);this.B=0;this.g=p(q,4);this.l=!1;this.f=7;this.c=tb();this.h=tb();this.m=[];this.A=0;this.J=!0;this.b=[];this.B=0;this.I=this.a=Db(a)}Kb.prototype.N=function(){this.l=!this.l};function Lb(a){var b,c;var d=0;for(b in a.c)a.j.c.forEach(function(e){e.b[b]&&0<a.c[b]&&(c=a.c[b],d+=5*c,a.c[b]=0,console.log('unloading good #'+b+', count: '+c),vb('\ud83d\udd3b '+U[b]+'x'+c),1==b?Bb(6,c):Bb(8,c))});0<d&&Pa(d)}
Kb.prototype.load=function(){var a=this,b,c;for(b in this.h)this.j.c.forEach(function(d){0<d.f[b]&&0<a.h[b]&&(c=Math.min(a.h[b],a.c[b]+d.f[b])-a.c[b],0<c&&(a.c[b]+=c,d.f[b]-=c,console.log('loading good #'+b+', count: '+c+', on board: '+a.c[b]),vb('\ud83d\udd3a '+U[b]+'x'+c),1==b?Bb(5,c):Bb(7,c)))});console.log('load done')};
function Mb(a){console.log('advancing schedule...');var b=a.B;a.v=[];if(0==a.b.length)a.B=0,a.v=[];else{a.a||(a.a=a.I);for(;;){b=(b+1)%a.b.length;if(b==a.B){console.log('invalid schedule');return}var c=Fb(a.a,Db(a.b[b].j));if(0!=c.length){a.B=b;a.v=c;break}}console.log('... next stop: '+a.b[b].j.title)}}Kb.prototype.W=function(a){this.g.M=a};function hb(a){for(var b,c=0,d=C;c<d.length;c++)if(b=d[c],b.H==a)return b;return null}
function T(a){for(var b,c=0,d=z;c<d.length;c++)if(b=d[c],b.C==a)return b;return null}var Ra;var V=[];function Bb(a,b){V[a]+=b}var Nb=0,Ob,zb,q,S,B,fb,Z,z,C,mb,lb,kb,D,Pb;function Qb(a){t=null;x=0;D=a;var b=B;b.f=!1;Na(b,b.a);J(B);4!=a&&2!=a||Oa();q.m.visible=6==a||7==a}function O(){Qb(1)}function Qa(){var a=t;var b=!0;z.forEach(function(c){c.b.forEach(function(d){d.j===a&&(N('Cannot delete station',c.title+' has this as destination.'),b=!1)})});b&&I(500,1)&&(Ib(a),Ab(C,a))}
function Rb(){Nb++;zb=(new Date).getTime()-Ob;404E3<zb&&0==Pb&&(Pb=1,V[9]==V[10]&&404<=V[6]?N('You won!',"Congratulations, you've completed the objectives and won!<br/><br/>Thanks for playing! Feel free to continue."):N('Oh no!',"You could not finish the objectives in time.<br/><br/>Don't worry, feel free to keep playing or start again by reloading the page."));Bb(4,1);1==Nb%300&&Z.forEach(function(a){var b;for(b in a.a)if(a.f[b]<a.c[b]){var c=a.f[b]+a.a[b]<=a.c[b]?a.a[b]:a.c[b]-a.f[b];a.f[b]+=c;
console.log('produced good #'+b+', count: '+c+', now available: '+a.f[b])}});z.forEach(function(a){if(0<a.A)a.A--;else{switch(a.f){case 2:if(!a.l)if(a.a){var b;a.speed=.5;for(b=Math.floor(a.speed/.05);0<b;){var c=a.a.position;var d=a.position;var e=Ka(d,c);var f=Math.min(.05,A(d,c));f=l([d[0]+Math.cos(e)*f,d[1]+Math.sin(e)*f,c[2]]);a.position=f;if(.1>A(a.position,c)){a.position=l(c);a.I=a.a;if(0==a.v.length){a.j=a.a.j;a.a=null;a.speed=0;a.f=3;break}a.a=a.v.shift()}b--}a.m.unshift(l(a.position));1E3==
a.m.length&&a.m.pop();5<a.m.length&&(a.g.o=Ka(a.m[5],a.m[0])+Math.PI/2)}else Mb(a);break;case 3:console.log('state: arriving');a.f=5;a.A=20;break;case 5:console.log('state: unloading');null!=a.j&&Lb(a);a.f=6;a.A=20;break;case 6:console.log('state: loading');null!=a.j&&a.load();a.A=10;a.j.b?a.f=7:(a.j=null,Mb(a),a.f=2);break;case 7:a.J&&(a.l=!0,a.J=!1),a.l||(a.j=null,Mb(a),a.f=2)}a.g.x=a.position[0];a.g.y=a.position[1];a.g.z=a.position[2]}});fb&&(fb.o+=.03);3==D&&Eb();Ua();oa(q);ua(q);0!=S.b.getBoundingClientRect().width&&
(oa(S),ua(S));mb=+V[9]-V[10]-V[11]+V[0]-V[1]-V[2]-V[3];kb=2.5E-4*(V[9]-V[10]);X(document.getElementById('credits'),W(mb));X(document.getElementById('time'),yb());gb();window.requestAnimationFrame(Rb)}
window.addEventListener('load',function(){Ob=(new Date).getTime();Pb=0;q=new la('c1',!0);p(q,0);q.c.z=20;q.c.y=-20;q.c.G=.9;q.m.visible=!1;var a,b;S=new la('c2',!1);S.c.z=5;S.c.y=-10;S.c.G=1.2;for(a=-20;20>a;a++)for(b=-20;20>b;b++){var c=p(S,(a+b)%2?8:9);c.x=a;c.y=b}fb=p(S,10);V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];window.addEventListener('mousemove',Ia);window.addEventListener('touchstart',Ca);window.addEventListener('touchmove',Ia);window.addEventListener('mousedown',Sa);window.addEventListener('mouseup',
Ta);window.addEventListener('click',La);b=0;for(c=document.querySelectorAll('*');b<c.length;b++)a=c[b],a.dataset.tooltip&&(a.addEventListener('mouseover',Za.bind(a)),a.addEventListener('mouseout',$a.bind(a)));lb=5E4;Z=[];z=[];C=[];B=new Cb;a=new Gb([-41,-1,0]);a.a[1]=5;a.a[2]=3;a.c[1]=14;a.c[2]=20;a.b[1]=1;Z.push(a);a=new Gb([-16,-30,0]);a.a[1]=2;a.c[1]=17;a.b[1]=1;a.b[2]=1;a.b[3]=1;Z.push(a);a=new Gb([-7,-20,0]);a.a[1]=4;a.a[2]=10;a.c[1]=20;a.c[2]=20;a.b[1]=1;a.b[2]=1;a.b[3]=1;Z.push(a);a=new Gb([40,
7,0]);a.a[2]=90;a.a[3]=1;a.c[2]=320;a.c[3]=5;a.b[2]=1;a.b[3]=1;Z.push(a);a=new Gb([22,30,0]);a.a[1]=9;a.a[2]=90;a.a[3]=2;a.c[1]=21;a.c[2]=200;a.c[3]=6;a.b[1]=1;a.b[2]=1;a.b[3]=1;Z.push(a);a=new P([-36,-3,0],!1);Ja(a,1.2);C.push(a);a=new P([-4,-11,0],!1);Ja(a,-1.8);C.push(a);a=new P([-58,14,0],!0);Ja(a,1.2);C.push(a);a=E(B,[-47,0,0]);b=E(B,[-27,-5,0]);c=E(B,[-20,-6,0]);H(B,C[2].a[2],a);H(B,a,C[0].a[0]);H(B,C[0].a[2],b);H(B,b,c);H(B,c,C[1].a[2]);J(B);a=new Kb(C[2]);a.b=[{j:C[1]},{j:C[0]}];a.h=R[0][2].slice();
a.g.o=C[2].g.o;a.value=.7*R[0][1];window.setTimeout(a.N.bind(a),5E3);z.push(a);O();N('Welcome to Raccoon Transport 404!',"Can you transport 404 people in 404 seconds?<br><br>\nThey want to get from one city to another, represented by these red circles.<br><br>\nBuy and sell buses in the <span>Depot</span>, they stop at <span>Stops</span> according to their <span>Schedule</span> accessed by clicking on them.<br><br>\nIf you need money, check the <span>Bank</span> but be careful to repay before the timer is up.<br><br>\nBuild roads and buildings using the tools above.<br><br>\nOh, and all the drivers are on vacation. But we have the next best thing: raccoons. They're a bit hectic but we like them anyway.<br><br>\nGood luck! (You'll definitely need it.)");
Rb()});window.setToolInfo=O;window.setToolDelete=function(){Qb(4)};window.setToolRoad=function(){Qb(2)};window.openBank=function(){O();Ma(4,0,0)};window.openStats=function(){O();Ma(3,0,0)};window.loan1=function(a){V[9]+=a};window.loan2=function(a){V[10]+=a};window.scheduleDelete=function(a,b){a=T(a);a.b.splice(b,1);a.B==b?(a.B=0,Mb(a)):a.B>b&&a.B--};window.scheduleAppend=function(a){Ra=T(a);Qb(5)};window.scheduleSkip=function(a){Mb(T(a))};window.vehiclePause=function(a){T(a).N()};
window.vehicleDepot=function(a){a:{a=T(a);for(var b,c=0,d=C;c<d.length;c++)if(b=d[c],b.b&&(a.a||(a.a=a.I),b=Fb(a.a,Db(b)),0!=b.length)){a.v=b;a.J=!0;a.f=2;console.log('Going to depot...');break a}N('Cannot go to depot','No reachable depots found.')}};window.setToolDepot=function(){Qb(6)};window.setToolStation=function(){Qb(7)};window.buyShift=eb;window.buyBuy=function(){if(I(R[Q][1],3)){var a=new Kb(db);a.h=R[Q][2].slice();a.g.shape=q.h[R[Q][3]];a.g.o=db.g.o;a.value=.7*R[Q][1];z.push(a)}};
window.vehicleSell=function(a){a=T(a);a.j&&a.j.b?(Pa(a.value),ob(1,a.C,0),a.g.visible=!1,Ab(z,a)):N('Cannot sell this vehicle','You need to direct it to a depot first.')};window.windowCreate=Ma;
</script>
<style>
body{background: #333;padding: 0;margin: 0;}
#c1{width: 100vw;height: 100vh;}
#c1.clickable{cursor: pointer;}
#c2{width: 100%;height: 10rem;}
#rightbox{position: fixed;top: 0;right: 0;}
@keyframes bubble{0% { margin: 50px 0 0.2em 0; height: 1.2em; }
10% { margin: 0 0 0.2em 0; }
70% { margin: 0 0 0.2em 0; height: 1.2em; }
100% { margin: 0 0 0 -500px; height: 0; }
}
#bubbles{position: fixed;overflow: hidden;top: 5em;bottom: 0;}
.bubble{background: rgba(0,0,0,0.5);border-radius: 0.5em;color: #fff;animation: bubble 5s forwards;}
@font-face{font-family: emoji;src: url(https://gheja.github.io/static/twemoji.ttf);}
::selection{/* not pefect but at least we don't use js for it*/color: none;background: transparent;}
html{font-size: max(12px, 2.2vh);font-family: "Segoe UI", serif;overflow: hidden;cursor: default;}
.window{background: rgba(255,255,255,0.5);border-radius: 0.2em;backdrop-filter: blur(10px);width: 20em;position: absolute;top: 200px;border: 0.2em solid rgba(0,0,0,0.5);}
.title{background: rgba(0,0,0,0.5);color: #ffffff;padding: 0.1em 0.3em 0.3em 0.3em;}
.close{background: rgba(255,0,0,0.3);color: #ffffff;float: right;margin-top: -1.75em;padding: 0.125em 0.5em;cursor: pointer;}
.body{padding: 0.5em;color: #333;}
.body span{color: #000;}
.body a,.body a:visited,.body a:active{color: #038;}
.body a:hover{color: #fff;}
.button,.button-disabled{float: left;font-size: 1.5rem;padding: 0.25em;border: 0.2rem solid rgba(255,255,255,0.1);background: rgba(255,255,255,0.1);border-radius: 0.2em;margin: 0 0 0 0.2em;width: 1em;height: 1em;font-family: emoji;backdrop-filter: blur(10px);cursor: pointer;filter: grayscale(30%);}
.button:hover{border-color: rgba(255,255,255,0.5);background: rgba(255,255,255,0.5);filter: grayscale(0%);}
.button-disabled{filter: grayscale(100%);cursor: not-allowed;background: rgba(255,255,255,0.3);}
.toolbar,.toolbar2{position: fixed;top: 2.2rem;left: 1rem;right: 1rem;height: 3em;overflow: hidden;}
.toolbar2{top: 5.2rem;}
.emoji{font-family: emoji;}
.statusbar{position: fixed;top: 0.2rem;left: 0.2rem;}
.status{border-radius: 0.2rem;float: left;background: rgba(0,0,0,0.7);margin: 0 0 0 0.5rem;color: #fff;padding: 0.2em 0.5em;display: block;}
.hue1{filter: hue-rotate(120deg) !important;}
.hue2{filter: hue-rotate(180deg) !important;}
</style>
</head><body><canvas id="c1"></canvas><canvas id="c2"></canvas>
<div class="statusbar">
<div class="status"><span class="emoji">🕑</span> <span id="time">Day 123, 12:12</span></div>
<div class="status"><span class="emoji">💵</span> <span id="credits">$0,000,000</span></div>
<div class="status" id="tooltip">Tooltip willappear here.</div>
</div>
<div class="toolbar">
<div class="button" data-tooltip="Info" onclick="setToolInfo();">💭</div>
<div class="button" data-tooltip="Delete" onclick="setToolDelete();">🧨</div>
<div class="button" data-tooltip="Road construction" onclick="setToolRoad();">🛣</div>
<div class="button" data-tooltip="Depot" onclick="setToolDepot();">⛽️</div>
<div class="button" data-tooltip="Station" onclick="setToolStation();">🔁</div>
<div class="button" data-tooltip="Contracts">📜</div>
<div class="button" data-tooltip="Research">🧪</div>
<div class="button" data-tooltip="Bank" onclick="openBank();">💵</div>
<div class="button" data-tooltip="Statistics" onclick="openStats();">📊</div>
</div>
<div id="bubbles"></div>
</body></html>
