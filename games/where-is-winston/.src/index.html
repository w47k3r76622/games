<html><head><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
<script>
for(var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ca=["Array","prototype","fill"],ea=0;ea<ca.length-1;ea++){var fa=ca[ea];fa in ba||(ba[fa]={});ba=ba[fa]}
var ha=ca[ca.length-1],ia=ba[ha],ja=ia?ia:function(b,a,c){var e=this.length||0;0>a&&(a=Math.max(0,e+a));if(null==c||c>e)c=e;c=Number(c);0>c&&(c=Math.max(0,e+c));for(a=Number(a||0);a<c;a++)this[a]=b;return this};ja!=ia&&null!=ja&&aa(ba,ha,{configurable:!0,writable:!0,value:ja});var d;
(function(){function b(a){return Math.sin(6.283184*a)}function a(a,b){setTimeout(function(){function c(){for(var a=new Date,f=0;0<=g;)if(e[g]=0,e[g+1]=128,g-=2,f+=1,0===f%1E3&&33<new Date-a){setTimeout(c,0);return}setTimeout(function(){b(e)},0)}var e=new Uint8Array(4*a),g=e.length-2;setTimeout(c,0)},0)}function c(a,b,c,e,f){function g(){for(var c=new Date,e=0;h<b-m;){var v=4*h,w=4*(h+m),z=a[w]+(a[w+1]<<8)+(a[v+2]+(a[v+3]<<8)-32768)*n;a[w]=z&255;a[w+1]=z>>8&255;z=a[w+2]+(a[w+3]<<8)+(a[v]+(a[v+1]<<
8)-32768)*n;a[w+2]=z&255;a[w+3]=z>>8&255;++h;e+=1;if(0===e%1E3&&33<new Date-c){setTimeout(g,0);return}}setTimeout(f,0)}var m=c.fx_delay_time*e>>1,n=c.fx_delay_amt/255,h=0;setTimeout(g,0)}d={};var e=null,f=[b,function(a){return 0>b(a)?-1:1},function(a){return a%1-.5},function(a){a=a%1*4;return 2>a?a-1:3-a}];d.M=function(a){this.ha=a;this.u=a.length/2/2};d.M.prototype.U=function(a){function b(){for(var e=new Date,m=0;M<f;){var h=4*(c[4*M]+(c[4*M+1]<<8)-32768);h=-32768>h?-32768:32767<h?32767:h;z[M]=
h/32768;h=4*(c[4*M+2]+(c[4*M+3]<<8)-32768);h=-32768>h?-32768:32767<h?32767:h;P[M]=h/32768;M+=1;m+=1;if(0===m%1E3&&33<new Date-e){setTimeout(b,0);return}}setTimeout(function(){a(g)},0)}null===e&&(e=new AudioContext);var c=this.ha,f=this.u,g=e.createBuffer(2,this.u,44100),z=g.getChannelData(0),P=g.getChannelData(1),M=0;setTimeout(b,0)};d.F=function(a,b){this.g=a;this.J=b||5605;this.ka=f[a.lfo_waveform];this.ia=f[a.osc1_waveform];this.ja=f[a.osc2_waveform];this.attack=a.env_attack;this.L=a.env_sustain;
this.release=a.env_release;this.la=Math.pow(2,a.fx_pan_freq-8)/this.J;this.ga=Math.pow(2,a.lfo_freq-8)/this.J};d.F.prototype.T=function(a,c,e){var f=0,g=0,m=.00390625*Math.pow(1.059463094,a+12*(this.g.osc1_oct-8)+this.g.osc1_det-128)*(1+8E-4*this.g.osc1_detune);a=.00390625*Math.pow(1.059463094,a+12*(this.g.osc2_oct-8)+this.g.osc2_det-128)*(1+8E-4*this.g.osc2_detune);for(var v=this.g.fx_resonance/255,M=0,na=0,U=this.attack+this.L+this.release-1;0<=U;--U){var G=U+e,L=this.ka(G*this.ga)*this.g.lfo_amt/
512+.5,w=1;U<this.attack?w=U/this.attack:U>=this.attack+this.L&&(w-=(U-this.attack-this.L)/this.release);var J=m;this.g.lfo_osc1_freq&&(J+=L);this.g.osc1_xenv&&(J*=w*w);f+=J;var O=this.ia(f)*this.g.osc1_vol;J=a;this.g.qa&&(J*=w*w);g+=J;O+=this.ja(g)*this.g.osc2_vol;this.g.noise_fader&&(O+=(2*Math.random()-1)*this.g.noise_fader*w);O*=w/255;J=this.g.fx_freq;this.g.lfo_fx_freq&&(J*=L);J=1.5*Math.sin(3.141592*J/44100);M+=J*na;L=v*(O-na)-M;na+=J*L;switch(this.g.fx_filter){case 1:O=L;break;case 2:O=M;break;
case 3:O=na;break;case 4:O=M+L}J=b(G*this.la)*this.g.fx_pan_amt/512+.5;O*=39*this.g.env_master;G*=4;G+3<c.length&&(L=c[G]+(c[G+1]<<8)+O*(1-J),c[G]=L&255,c[G+1]=L>>8&255,L=c[G+2]+(c[G+3]<<8)+O*J,c[G+2]=L&255,c[G+3]=L>>8&255)}};d.F.prototype.N=function(b,e){var f=this.attack+this.L+this.release-1+32*this.J,g=this;a(f,function(a){g.T(b,a,0);c(a,f,g.g,g.J,function(){e(new d.M(a))})})};d.F.prototype.S=function(a,b){this.N(a,function(a){a.U(b)})};d.D=function(a){this.K=a;this.u=44100*a.songLen};d.D.prototype.ca=
function(b,e,f){var g=this;a(this.u,function(a){function h(){for(var b=new Date,c=0;da<U;){var g=e[da]+(e[da+1]<<8)+a[da]+(a[da+1]<<8)-32768;e[da]=g&255;e[da+1]=g>>8&255;da+=2;c+=1;if(0===c%1E3&&33<new Date-b){setTimeout(h,0);return}}setTimeout(f,0)}function m(){c(a,v,b,G,h)}function n(){for(var c=new Date;;)if(32===Fa)Fa=0,O+=1;else{if(O===L-1){setTimeout(m,0);break}var e=b.p[O];e&&(e=b.c[e-1].n[Fa])&&w.T(e,a,J);J+=G;Fa+=1;if(33<new Date-c){setTimeout(n,0);break}}}var v=g.u,U=4*g.u,G=g.K.rowLen,
L=g.K.endPattern,w=new d.F(b,G),J=0,O=0,Fa=0,da=0;setTimeout(n,0)})};d.D.prototype.N=function(b){var c=this;a(this.u,function(a){function e(){f<c.K.songData.length?(f+=1,c.ca(c.K.songData[f-1],a,e)):b(new d.M(a))}var f=0;e()})};d.D.prototype.S=function(a){this.N(function(b){b.U(a)})}})();
var ka={rowLen:11025,endPattern:4,songData:[{osc1_oct:5,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:96,osc1_waveform:2,osc2_oct:2,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:41,osc2_waveform:2,noise_fader:11,env_attack:59297,env_sustain:12110,env_release:154733,env_master:105,fx_filter:2,fx_freq:585,fx_resonance:104,fx_delay_time:6,fx_delay_amt:162,fx_pan_freq:1,fx_pan_amt:135,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:7,lfo_amt:56,lfo_waveform:0,p:[1,3,4],c:[{n:[183,0,0,0,0,0,0,0,183,0,0,0,0,0,0,
0,183,0,0,0,0,0,0,0,171,0,0,0,0,0,0,0]},{n:[180,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,159,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,171,0,0,0,0,0,0,0]},{n:[0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},{osc1_oct:5,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:187,osc1_waveform:2,osc2_oct:6,osc2_det:0,osc2_detune:0,osc2_xenv:0,osc2_vol:115,osc2_waveform:2,noise_fader:0,env_attack:13163,env_sustain:3426,env_release:26863,env_master:255,fx_filter:2,
fx_freq:696,fx_resonance:96,fx_delay_time:8,fx_delay_amt:41,fx_pan_freq:4,fx_pan_amt:159,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:7,lfo_amt:60,lfo_waveform:1,p:[0,1,1],c:[{n:[183,0,0,0,182,0,0,0,180,0,0,0,0,0,0,0,183,0,0,0,182,0,0,0,178,0,0,0,0,0,0,0]}]}],songLen:34},la=[[[.13,1,.7,"warm"],[.5,.4,.9,"cold"],[0,.8,.4,"dying red"]],[[.55,.5,.8,"icy"],[.25,.5,.5,"forest"],[.12,.7,.5,"deserted"],[0,.5,.5,"rusty red"]],[[.55,.2,.9,"icy"],[0,0,.3,"rocky"]]],ma=[0,0,2,2,10,2,11,3,11,4,-2,4,-4,2,-4,-2,-2,-4,
12,-4,14,-2,14,2,12,4,11,4,0,4],oa=[0,0,0,-4,1,-7,3,-4,6,-4,8,-7,9,-4,9,0,7,2,2,2,0,0],pa=[0,-0,1,-2,7,-3,9,-5,8,-6,5,-8,4,-10,4,-12,5,-12,6,-11,6,-10,7,-8,9,-7,13,-8,23,-8,25,-4,25,-3,31,-1,30,-0,24,-1,21,-3,19,-2,16,-2,11,-3,10,-2,7,-1,0,0],qa=[0,-4,1,-5,2,-7,4,-9,4,-7,6,-6,7,-3,7,-2,6,-1,2,0,0,-4],ra=[15,2,10,-1,10,-2,9,-3,9,-6,8,-9,9,-13,10,-13,10,-11,9,-9,10,-7,13,-8,23,-8,25,-4,24,-2,21,-1,18,3,17,2,18,-1,19,-2,14,-2,13,-4,13,-1,16,1,15,2],sa=[0,0,0,1.5],ta=[2,-0,1,-1,1,-6,6,-6,6,-1,5,0,2,0],
ua=[1,-3,0,-4,0,-6,2,-8,5,-8,7,-6,7,-4,6,-3,6,-5,5,-6,2,-6,1,-5,1,-3],va=[2.5,-3.7,2.5,-4.3],wa=[2.5,-3.3,2.5,-4.7],xa=[2.5,-1.2,3,-.9,4,-.9,4.5,-1.2],ya=[2.5,-1,2.5,-2,4.5,-2,4.5,-1,2.5,-1],za=[0,0,3,-5,0,-5,3,-11,3,-15,16,-15,20,-11,65,-11,65,-10,72,-11,72,0,65,-1,65,0,63,0,63,-9,10,-9,10,0,0,0],Aa=[1,-7,2,-9,6,-9,7,-7,1,-7],Ba=[4,-12,4,-14,15.5,-14,17.5,-12,4,-12],Ca=[8,0,8,-2,9,-2,9,0,8,0],Da=[11,7,11,-8,23,-8,23,7,11,7],k=2*Math.PI,Ea=window.requestAnimationFrame;
function l(b){return p/2+b*q}function r(b){return t/2+b*q}function Ga(b,a){return{x:b.x,y:b.y+1/a*400*(1-Ha)}}function u(b,a,c){return b<a?a:b>c?c:b}function x(){return Math.random()}function y(b){return(x()-.5)*b*2}function Ia(b){return b[Math.floor(x()*b.length)]}function A(b,a,c,e,f,g){B.beginPath();B.arc(l(b.x),r(b.y),a*q,c*k,e*k);f&&B.fill();g&&B.stroke()}function Ja(b,a,c){0>c&&(c+=1);1<c&&--c;return c<1/6?b+6*(a-b)*c:.5>c?a:c<4/6?b+6*(a-b)*(4/6-c):b}
function C(b,a,c,e){a=.5>c?c*(1+a):c+a-c*a;c=2*c-a;b=[Math.floor(255*Ja(c,a,b+1/3)),Math.floor(255*Ja(c,a,b)),Math.floor(255*Ja(c,a,b-1/3)),e];return"rgba("+b[0]+","+b[1]+","+b[2]+","+b[3]+")"}function Ka(b,a){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}function La(b){if(Ma)try{Na.start(),Ma=!1}catch(a){}Oa(b);D.l=!0}
function Oa(b){b.preventDefault();b.touches?(D.x=b.touches[0].clientX*window.devicePixelRatio/q-p/2/q,D.y=b.touches[0].clientY*window.devicePixelRatio/q-t/2/q):(D.x=b.clientX*window.devicePixelRatio/q-p/2/q,D.y=b.clientY*window.devicePixelRatio/q-t/2/q)}
function Pa(){var b;p=window.innerWidth*window.devicePixelRatio;t=window.innerHeight*window.devicePixelRatio;q=Math.min(p,t)/400;Qa=Math.max(p,t);for(b=0;b<E.length;b++)E[b].canvas.width=p,E[b].canvas.height=t,E[b].canvas.style.width=p/window.devicePixelRatio+"px",E[b].canvas.style.height=t/window.devicePixelRatio+"px"}function Ra(){return Sa?!0:0!=F[Ta]?(F[Ta]--,!0):!1}
function Ua(b){b={visible:!1,canvas:document.createElement("canvas"),ba:b};b.$=b.canvas.getContext("2d");Va.appendChild(b.canvas);E.push(b)}
function Wa(){Ea(Wa);var b=(new Date).getTime();Xa=(b-Ya)/1E3;Ya=b;Za=H;H+=Xa;$a+=Xa;1!=I&&(H=0);ab-=Xa;Ta=-1;1!=I&&(bb+=Math.min(Xa,cb),I=Math.min(1,bb/cb),db.call());for(b=0;b<E.length;b++)E[b].canvas.style.display=E[b].visible?"block":"none",E[b].visible&&(B=E[b].$,B.globalCompositeOperation="source-over",B.lineCap="butt",B.miterLimit=1,B.lineJoin="round",B.fillStyle="#000",E[b].ba.call());if(!(0>=ab)){B.strokeStyle="#fff";B.fillStyle="#fff";if(eb){var a=400*q;b=l(-200)}else a=200*q,b=l(K)-.8*
a;var c=(14*fb.length+4*q)*q;var e=Math.round(r(N-10)-c);B.font=12*q+"px Arial";B.textAlign="left";B.lineWidth=2*q;B.beginPath();B.moveTo(b,e);B.lineTo(b,e+c);B.lineTo(l(K-5),r(N-10));B.lineTo(l(K),r(N-5));B.lineTo(l(K+5),r(N-10));B.lineTo(b+a,e+c);B.lineTo(b+a,e);B.closePath();B.fill();B.stroke();c=Math.round(14*q);B.fillStyle="#000";for(a=0;a<fb.length;a++)B.fillText(fb[a],b+5*q,e+(a+1)*c+2*q)}D.l=!1}
function gb(b,a){B.lineCap="butt";B.lineWidth=2*q;var c=$a;B.strokeStyle="#fff";A(b,a,c+0,c+1/6,0,1);A(b,a,c+2/6,c+.5,0,1);A(b,a,c+4/6,c+5/6,0,1)}function hb(b,a,c,e,f){B.beginPath();B.moveTo(l(b),r(a));B.lineTo(l(b+c),r(a));B.lineTo(l(b+c-8),r(a+12));B.lineTo(l(b+-8),r(a+12));B.closePath();B.strokeStyle=e;B.fillStyle=e;f&&(B.lineWidth=5*q,B.stroke(),B.strokeStyle="#000",B.lineWidth=2*q,B.stroke());B.fill()}
function Q(b,a,c,e,f){1>I&&(e=!1);var g="#0ac";e?D.x>20*a-5&&D.x<20*a+20*c-10+5&&175<D.y&&(D.l?(g="#0ac",f.call()):g="#fff"):g="#222";hb(20*a,184,20*c-10,g,!0);B.fillStyle="#000";B.textAlign="center";B.font=10*q+"px Arial";B.fillText(b,l(20*a+10*(c-1)+1),r(193.5))}
function ib(b,a,c){if(0==F[a]){var e="rgba(0,0,0,0.8)";var f="#777";Ta==a&&(e="#d00",f="#fff")}else e="rgba(0,128,0,0.6)",f="#0a0",Ta==a&&(e="rgba(0,255,0,0.8)",f="#fff");hb(20*c,-196,90,e,!1);B.fillStyle=f;B.textAlign="center";B.font=9*q+"px Arial";B.fillText(b+": "+(Sa?"\u221e":F[a]),l(20*c+41),r(-186.5))}function jb(){ib("Long jump fuel",0,-7);ib("Short jump fuel",1,-2);ib("Rocket fuel",2,3)}
function kb(b,a){lb=8*a;mb([[za,{x:0,y:0},10,"#755","#533"],[Aa,{x:0,y:0},10,"#3ac","#533"],[Ba,{x:0,y:0},10,"#3ac","#533"],[Ca,{x:0,y:0},10,"#322","#533"],[Da,{x:0,y:0},10,"#722","#611"],[Da,{x:130,y:0},10,"#960","#750"],[Da,{x:260,y:0},10,"#02b","#018"],[Da,{x:390,y:0},10,"#070","#050"]],b,a);lb=2}
function nb(){B.fillStyle="#000";B.strokeStyle="#900";B.lineWidth=2*q;var b=[];0!=R.state&&1!=R.state||b.push([ma,{x:0,y:0},10,R.a[0],R.a[1]]);switch(R.state){case 0:b.push([oa,{x:50,y:-16},10,R.a[0],R.a[1]]);break;case 1:b.push([oa,{x:50,y:-40},10,R.a[0],R.a[1]],[sa,{x:75,y:-65},10,null,R.a[2]],[sa,{x:115,y:-65},10,null,R.a[2]]);break;case 2:b.push([pa,{x:0,y:40},10,R.a[0],R.a[1]],[qa,{x:230,y:0},10,R.a[0],R.a[1]],[sa,{x:280,y:-60},10,null,R.a[2]]);break;case 3:b.push([ra,{x:0,y:40},10,R.a[0],R.a[1]],
[qa,{x:230,y:0},10,R.a[0],R.a[1]],[sa,{x:280,y:-60},10,null,R.a[2]])}mb(b,Ga(R.position,1.6),.15)}function ob(b){ab=3*b.length;eb=!1;fb=b}
function mb(b,a,c){var e;for(e=0;e<b.length;e++){var f,g=b[e][0],m=b[e][1].x*c+a.x,v=b[e][1].y*c+a.y,h=b[e][2]*c,n=b[e][3],z=b[e][4];B.beginPath();for(f=0;f<g.length;f+=2)0==f?B.moveTo(l(g[f]*h+m),r(g[f+1]*h+v)):B.lineTo(l(g[f]*h+m),r(g[f+1]*h+v));n&&(B.fillStyle=n,B.fill());z&&(B.strokeStyle=z,B.lineWidth=lb*q,B.lineCap="round",B.lineJoin="round",B.stroke())}}var I=1,bb=0,cb=1,db=null;function pb(b,a){bb=I=0;cb=a;db=b;db.call();ab=0}
function qb(){rb=u(100*Math.pow(I,2),0,1);sb=1-Math.pow(1-I,2);tb=!1;1==rb&&(E[0].visible=!1)}function ub(){sb=1;rb=Math.pow(I,3);tb=!0;1==rb&&(E[2].visible=!1)}function vb(){wb=Math.pow(I,3);1==wb&&(E[1].visible=!1)}function xb(){wb=Math.pow(1-I,3);0==wb&&(E[0].visible=!1)}function yb(){0==I?(E[3].visible=!0,zb()):.25>I||(1>I?(E[0].visible=!0,E[1].visible=!1):1==I&&(E[3].visible=!1))}function Ab(){Bb=I;E[1].visible=!0;1==I&&(E[4].visible=!1)}
function Cb(){E[4].visible=!0;1==I&&(E[2].visible=!1);Bb=1-I}var S=null,Ha=1,sb=1,rb=1,tb=!1;function Db(b){return Za<b&&H>=b?!0:!1}function Eb(b,a,c,e){return b+(a-b)*Math.pow(c,e)}function Fb(){Ra()&&(pb(ub,1),D.l=!1,E[0].visible=!0)}
function Gb(){function b(a,b,c){var e;B.beginPath();B.moveTo(0,(b+1/c*400*(1-Ha))*q+t/2);for(e=0;e<a.length;e++)B.lineTo((e+1)*p/a.length,(30*a[e]+b+1/c*400*(1-Ha))*q+t/2);B.lineTo(p,t);B.lineTo(0,t);B.fill()}var a;Ha=u(sb,0,1);B.fillRect(0,0,p,t);B.fillStyle="rgba(255,255,255,0.5)";for(a=0;a<S.R.length;a++)A(Ga(S.R[a],10),2,0,1,1,0);B.fillStyle="#000";A(Ga(S.sun,5),S.sun.j,0,1,1,0);for(a=0;a<S.w.length;a++)B.fillStyle=S.w[a].color,A(Ga(S.w[a],4),S.w[a].j,0,1,1,0);for(a=0;a<t;a++){var c=u(Math.floor(a/
t*5E3*Math.pow(Ha+.2,.9)),0,4999);B.fillStyle=S.W[c];B.fillRect(0,a,p,1)}B.globalCompositeOperation="screen";B.fillStyle=S.sun.color;A(Ga(S.sun,5),S.sun.j,0,1,1,0);B.globalCompositeOperation="source-over";B.fillStyle="#000";b(S.v,80.5,2);B.globalCompositeOperation="screen";b(S.v,80.5,2);B.fillStyle=S.da;b(S.v,80,2);b(S.V,120,1.6);B.globalCompositeOperation="source-over";B.fillStyle=C(0,1,.5,.33);b(S.v,80,2);a=t*(1-rb);kb({x:100+10*x()*(1-Ha),y:100-400*Math.pow(1-Ha,.7)+4*x()*(1-Ha)},.6);K=125;N=10;
1>rb&&(B.fillStyle="#000",tb?(B.clearRect(0,a+5*q,p,t-a+5*q),B.fillRect(0,a,p,5*q)):(B.clearRect(0,0,p,a-5*q),B.fillRect(0,a-5*q,p,5*q)));R?(1==I&&(Db(1)&&ob([R.name+"!"]),Db(2)&&(R.state=1),2.5<H&&4.7>H&&(c=Math.floor(8*(H-2.5)),R.position.x=-160+16*c,R.state=c%2?2:3),Db(4.7)&&(R.position.x=1E3),Db(5.5)&&ob(["Good to see you again, "+Ia(["buddy",R.name])+"."]),Db(8.5)&&(R.location=null,Hb&&Ib++,Jb()&&(pb(Cb,1),T=3))),nb()):0==F[2]&&1==I&&(Db(1)&&ob(["Bummer..."]),Db(4)&&(pb(Cb,1),T=4));1==I&&(Ta=
2);Q("LEAVE",3,3,0!=F[2]&&(!R||null==R.location),Fb);jb()}function Kb(b,a,c,e,f){a={parent:b,h:Ia(la[f]),ma:a,C:x(),j:0,B:c,o:x(),m:{x:0,y:0},position:{x:0,y:0},speed:e*(x()+.5)*300,type:f,G:0,P:null,s:!1};a.j=a.ma*(a.C+.8);b&&b.G++;a.h[0]*=1+y(.025);return a}function Lb(b){return.15>b.C?"tiny":.25>b.C?"small":.75>b.C?"medium sized":.85>b.C?"big":"huge"}function Mb(){}
function Nb(){V=Ob;V.s=!0;var b;if(null==V.P){var a={};a.H=Math.random();a.na=.2;a.ea=.3;.5>x()?a.O=a.H-.1-.5*Math.random():(a.O=a.H+.1+.5*Math.random(),a.O=a.H+.1+.5*Math.random());a.oa=.2+.5*x();a.fa=.6;a.pow=x();a.aa=x();a.R=[];for(b=0;500>b;b++)a.R.push({x:y(1200),y:y(1200)});a.w=[];for(b=0;b<V.G;b++){var c=V.h;a.w.push({x:y(180),y:y(40)-130,color:C(c[0],c[1],c[2],1),j:25*x()+5})}c=W.i[0].h;a.sun={x:y(60)-120,y:y(40)+80,color:C(c[0],c[1],c[2],1),j:30*x()+50};c=V.h;a.da=C(c[0],c[1],c[2],1);a.v=
[];a.V=[];for(b=0;10>=b;b++)a.v.push(x()),a.V.push(x());a.W=[];for(b=0;5E3>b;b++)c=b/5E3,a.W[b]=C(Eb(a.H,a.O,c,a.pow),Eb(a.na,a.oa,c,a.pow),Eb(a.ea,a.fa,c,a.pow),Math.pow(c,1-.88*a.aa));V.P=a}S=V.P;pb(qb,5);R=null;for(a=0;a<X.length;a++)if(X[a].location==V){R=X[a];R.state=0;R.position={x:-160,y:140};break}D.l=!1;E[2].visible=!0}function Pb(){pb(xb,.5);D.l=!1;E[1].visible=!0}
function Qb(){B.fillRect(0,0,p,t);var b;for(b=0;b<W.i.length;b++){var a=W.i[b];a.o+=a.speed*Xa;0==a.type?(a.m.x=0,a.m.y=0,a.position.x=0,a.position.y=0):(a.m.x=a.parent.position.x,a.m.y=a.parent.position.y,a.position.x=a.m.x+Math.cos(a.o*k)*a.B,a.position.y=a.m.y+Math.sin(a.o*k)*a.B)}var c;B.fillStyle="#216";B.fillRect(0,0,p,t);var e=128;B.globalCompositeOperation="screen";for(b=0;b<Y.A.length;b++)B.drawImage(Y.A[b],u(Math.floor(512*(W.f.x/400+.5)-e/2),0,512-e),u(Math.floor(512*(W.f.y/400+.5)-e/2),
0,512-e),e,e,0,0,Qa,Qa);B.globalCompositeOperation="source-over";B.lineCap="round";for(b=0;b<W.i.length;b++)if(a=W.i[b],B.lineWidth=1==a.type?1.5*q:1*q,Rb)B.strokeStyle="#444",A(a.m,a.B,0,1,0,1);else{var f=.8*a.B;for(c=0;c<f;c++)e=(f-c)/f,1==a.type?B.strokeStyle=C(a.parent.h[0],a.parent.h[1],a.parent.h[2],e):B.strokeStyle="rgba(0,200,255,"+e+")",e=a.o-2*c/(2.2*f),A(a.m,a.B,e-1/(5*f),e,0,1)}B.globalCompositeOperation="source-over";for(b=0;b<W.i.length;b++)a=W.i[b],1==a.type&&(B.lineWidth=1*q,B.strokeStyle=
C(.4,.2,.8,.7),A(a.position,a.j+1.5,0,1,0,1)),a.s&&(B.lineWidth=2*q,B.strokeStyle="#0a0",A(a.position,a.j+1.5,0,1,0,1)),B.fillStyle=C(a.h[0],a.h[1],a.h[2],1),A(a.position,a.j,0,1,1,0),0!=a.type&&(e=1==a.type?a.o+.25:a.parent.o+.25,Rb||(B.fillStyle=C(W.i[0].h[0],W.i[0].h[1],W.i[0].h[2],.2),A(a.position,a.j,0,1,1,0)),B.fillStyle="rgba(0,0,0,0.4)",A(a.position,a.j,e-.5,e,1,0));c=!1;D.l&&-180<D.y&&180>D.y&&(c=!0,Ob=null);for(b=0;b<W.i.length;b++)if(a=W.i[b],0!=a.type&&(Ka(a.position,D)<a.j+4||Ob==a)){c&&
(Ob=a);gb(a.position,a.j+2);break}K=160;N=150+5*Math.sin($a);kb({x:K-50,y:N+10},.1);Q("RECAP",-9,3,!0,Sb);Q("\u00bb",2,1,!0,Mb);Q("LAND",3,3,null!=Ob,Nb);Q("ZOOM",6,3,!0,Pb);jb()}var wb=0;function Tb(){var b;for(b=0;40>b;b++)if(Z==Y.b[b]){Z=Y.b[(b+1)%40];break}}function Ub(){pb(vb,.5);D.l=!1;E[0].visible=!0}function Vb(){Ra()&&(Wb(Z),pb(yb,3))}
function Xb(){var b;B.fillStyle="#112";B.fillRect(0,0,p,t);B.globalCompositeOperation="screen";for(b=0;b<Y.A.length;b++)B.drawImage(Y.A[b],0,0,512,512,0,0,Qa,Qa);B.globalCompositeOperation="source-over";var a=!1;D.l&&-180<D.y&&180>D.y&&(a=!0,Z=null);for(b=0;b<Y.b.length;b++){var c=Y.b[b].i[0].h;B.fillStyle=C(c[0],c[1],c[2],.2);A(Y.b[b].f,2.5,0,1,1,0);B.fillStyle=C(c[0],c[1],c[2],1);A(Y.b[b].f,1.5,0,1,1,0);B.fillStyle="#fff";A(Y.b[b].f,.75,0,1,1,0);Y.b[b]==Z&&gb(Y.b[b].f,7);10>Ka(Y.b[b].f,D)&&(gb(Y.b[b].f,
7),a&&(Z=Y.b[b]))}B.globalCompositeOperation="screen";B.lineCap="round";B.beginPath();B.moveTo(l(Y.path[0].f.x),r(Y.path[0].f.y));for(b=1;b<Y.path.length;b++)B.lineTo(l(Y.path[b].f.x),r(Y.path[b].f.y));B.strokeStyle="rgba(0, 190, 255, 0.2)";B.lineWidth=3*q;B.stroke();B.strokeStyle="rgba(0,200,0,0.25)";A(W.f,78,0,1,0,1);Ta=-1;Z&&W!=Z&&(Ta=1,80<Ka(W.f,Z.f)||0==F[1]&&0<F[0])&&(Ta=0);B.globalCompositeOperation="source-over";B.lineCap="butt";0<wb&&(c=t*wb,b=t/2-c/2,B.fillStyle="#000",B.fillRect(0,b-5*
q,p,c+10*q),B.clearRect(0,b,p,c));K=W.f.x;N=W.f.y-12+5*Math.sin($a);kb({x:K-20,y:N},.05);Q("RECAP",-9,3,!0,Sb);Q("\u00bb",2,1,!0,Tb);Q("JUMP",3,3,Z&&Z!=W&&(0!=F[0]||0!=F[1]),Vb);Q("ZOOM",6,3,W&&Z==W,Ub);jb()}function Wb(b){Z=W=b;Ob=V=null;W.s||(Y.path.push(b),W.s=!0)}var Yb=0,Zb=0,$b=[],ac=[],bc=0,cc=0,dc=-5,ec=-5;function fc(b){b&&$b.shift();bc=u(bc+y(5E-4),-.03,.03);cc=u(cc+y(5E-4),-.025,.025);dc=u(dc+y(2),-20,20);ec=u(ec+y(2),-20,20);$b.push({X:bc,Z:cc,x:dc,y:ec})}var gc=0;
function hc(){var b,a,c;gc++;if(1>bb){var e=0;B.clearRect(0,0,p,t);var f=bb/1}else bb<cb-1?e=1:(e=2,f=(bb-(cb-1))/1);0<e&&(B.fillRect(0,0,p,t),B.globalCompositeOperation="destination-out",B.fillStyle="#000");if(1!=e){var g=p/2;var m=t/2;B.beginPath();B.moveTo(g,m);for(b=0;b<150*f;b++){var v=b*b*b/1500*q;B.lineTo(g+Math.cos(-b/30*k)*v,m+Math.sin(-b/30*k)*v)}B.fill()}B.globalCompositeOperation="lighter";B.lineWidth=1*q;for(b=0;b<ac.length;b++){var h=ac[b];var n=c=f=m=g=0;var z=null;for(a=0;40>a;a++)if(g+=
$b[a].X,m+=$b[a].Z,f+=$b[a].x,c+=$b[a].y,n-=.5,B.strokeStyle=h.color,n-Yb>=h.z-h.length&&n-Yb<h.z){var P=h.x+f;var M=h.y+c,na=Math.sin(m*k),U=Math.cos(m*k),G=Math.sin(g*k),L=Math.cos(g*k);var w=Math.pow(10,n/10);v=L*P+G*M;P=G*P-L*M;w=[v*U*w,(P+na*v*P*.0025)*w];w=[l(w[0]),r(w[1])];null!==z&&(v=Math.pow(10,n/10)*h.size*q,.1<=v&&(B.beginPath(),B.lineWidth=v,B.moveTo(z[0],z[1]),B.lineTo(w[0],w[1]),B.stroke()));z=[w[0],w[1]]}1<h.z+Yb&&2!=e&&(h.z-=20)}b=30*Xa;Yb+=b;for(Zb+=b;1<Zb;)fc(!0),--Zb}
function zb(){$b=[];ac=[];gc=0;var b,a,c;ac=[];for(b=0;150>b;b++){for(c=a=0;300>Math.sqrt(a*a+c*c);)a=y(600),c=y(600);ac.push({x:a,y:c,z:20*-x(),length:10*x(),size:12*x()+2,color:C(.53+y(.06),1,.6+y(.25),1)})}$b=[];for(b=0;40>b;b++)fc(!1);Yb=-20;Zb=0}
function ic(b,a){var c,e,f,g;var m=document.createElement("canvas");m.width=512;m.height=512;var v=m.getContext("2d");var h=[];for(c=0;512>=c;c++)for(h[c]=[],e=0;512>=e;e++)h[c][e]=0;var n=512;for(f=1;0<n;){for(e=0;512>e;e+=n)for(c=n;512>c;c+=2*n)h[c][e]=(h[c-n][e]+h[c+n][e])/2+y(f);for(c=0;512>c;c+=n)for(e=n;512>e;e+=2*n)h[c][e]=(h[c][e-n]+h[c][e+n])/2+y(f);n=Math.floor(n/2);f/=2}var z=1;for(c=g=0;512>c;c++)for(e=0;512>e;e++)z=Math.min(z,h[c][e]),g=Math.max(g,h[c][e]);n=v.getImageData(0,0,512,512);
for(c=0;512>c;c++)for(e=0;512>e;e++){f=Math.pow(1/(g-z)*(h[c][e]-z),b);var P=Math.floor(255*Math.pow(f,15));n.data[4*(512*e+c)]=u(a[0]+P,0,255);n.data[4*(512*e+c)+1]=u(a[1]+P,0,255);n.data[4*(512*e+c)+2]=u(a[2]+P,0,255);n.data[4*(512*e+c)+3]=Math.floor(255*f)}v.putImageData(n,0,0);return m}var Bb=0;function jc(){H=T=0}function kc(){pb(Ab,1);ab=0}function lc(){H=60}
function mc(b){var a,c;var e=c=0;var f=[];for(a=0;a<b.length;a++)" "==b[a]&&(60<a-e&&(f.push(b.substring(e,c)),e=c+1),c=a);c!=a&&f.push(b.substring(e,b.length));return f}
function nc(){function b(a,b){mb([[oa,{x:50,y:-40},10,a.a[0],a.a[1]],[sa,{x:75,y:-65},10,null,a.a[2]],[sa,{x:115,y:-65},10,null,a.a[2]]],b,.4)}var a;B.fillRect(0,0,p,t);if(2==T&&2==T){var c=[];K=0;N=-65;for(a=0;a<X.length;a++)if(null!=X[a].location){c.push(X[a].name);var e=X[a].I}1<c.length?(a="Where are ",a=2==c.length?a+(c[0]+" and "+c[1]):a+(c[0]+", "+c[1]+" and "+c[2]),a+="?",e="them"):a="Where is "+c[0]+"?";B.fillStyle="#fff";B.font=15*q+"px Arial";B.textAlign="center";1<H&&B.fillText("This is the Bobcat-13 freighter",
l(0),r(-100));2<H&&B.fillText("and its captain, Jeff.",l(0),r(-80));4<H&&B.fillText("He is shipping goods",l(0),r(-5));5<H&&B.fillText("from planet to planet",l(0),r(15));6<H&&B.fillText("with his four companions.",l(0),r(35));7<H&&B.fillText(X[0].name+(null!=X[0].location&&7.5<H?"?!":""),l(-135),r(100));8<H&&B.fillText(X[1].name+(null!=X[1].location&&8.5<H?"?!":""),l(-45),r(120));9<H&&B.fillText(X[2].name+(null!=X[2].location&&9.5<H?"?!":""),l(45),r(100));10<H&&B.fillText("and "+X[3].name+(null!=
X[3].location&&10.5<H?"?!":""),l(135),r(120));Sa?11.5<H&&(B.fillText("Let's go and see the galaxy!",l(0),r(160)),H=60):(11.5<H&&19>H&&B.fillText(a,l(0),r(160)),Db(14)&&(ob(["I think I remember where I saw "+e+"."]),ab=4),19.5<H&&22>H&&B.fillText("Where?",l(0),r(160)),Db(20)&&Sb(),25<H&&B.fillText("Okay then, let's find "+e+"!",l(0),r(160)));.5<H&&kb({x:-120,y:-140},.35);7.5<H&&null==X[0].location&&b(X[0],{x:-170,y:90});8.5<H&&null==X[1].location&&b(X[1],{x:-80,y:110});9.5<H&&null==X[2].location&&
b(X[2],{x:10,y:90});10.5<H&&null==X[3].location&&b(X[3],{x:100,y:110});2<H&&(a=11.5<H||14.5>H||Sa,mb([[ta,{x:0,y:0},10,"#da8","#b87"],[ua,{x:0,y:0},10,"#a51","#841"],[a?va:wa,{x:0,y:0},10,null,"#841"],[a?va:wa,{x:20,y:0},10,null,"#841"],[a?xa:ya,{x:0,y:0},10,a?null:"#b87","#841"]],{x:-20,y:-25},.6))}if(3==T||4==T)null==X[0].location&&b(X[0],{x:-120,y:30}),null==X[1].location&&b(X[1],{x:-70,y:50}),null==X[2].location&&b(X[2],{x:-10,y:50}),null==X[3].location&&b(X[3],{x:40,y:30}),a=3==T,mb([[ta,{x:0,
y:0},10,"#da8","#b87"],[ua,{x:0,y:0},10,"#a51","#841"],[a?va:wa,{x:0,y:0},10,null,"#841"],[a?va:wa,{x:20,y:0},10,null,"#841"],[a?xa:ya,{x:0,y:0},10,a?null:"#b87","#841"]],{x:-20,y:-25},.6);B.fillStyle="#fff";B.font=15*q+"px Arial";switch(T){case 0:0<Ib&&B.fillText("Lost cats found: "+Ib,l(0),r(100));3>Ib?(B.fillText("Find at least 3 lost cats on any difficulty",l(0),r(140)),B.fillText("to unlock HARDER difficulty.",l(0),r(160))):5>Ib&&(B.fillText("Find at least 5 lost cats on any difficulty",l(0),
r(140)),B.fillText("to unlock ZEN mode.",l(0),r(160)));Q("EASY",-6,3,!0,oc);Q("NORMAL",-3,3,!0,pc);Q("HARD",0,3,!0,qc);Q("HARDER",3,3,3<=Ib,rc);Q("ZEN",6,3,5<=Ib,sc);break;case 1:T=2;break;case 2:Q("RECAP",-9,3,26<H,Sb);Q("SKIP",3,3,26>H,lc);Q("START",6,3,26<H,kc);break;case 3:B.fillText("Congrats!",l(0),r(88));Q("SHARE ON TWITTER",0,6,!0,tc);Q("AGAIN",6,3,!0,jc);break;case 4:B.fillText("You ran out of fuel :(",l(0),r(88)),B.fillText("Try again.",l(0),r(112)),Q("AGAIN",6,3,!0,jc)}c=0;if(0!=Bb)for(a=
0;30>a;a++)c=u(2*Bb+a/30-1,0,1),B.clearRect(0,t/30*a+t/30*c/2,p,t/30*c)}var p,t,q,Qa,Rb=0,B=null,Va=null,E=[],W=null,Z=null,V=null,Ob=null,Y=null,D={x:0,y:0,l:!1},F=[3,3,3],Ta=-1,Ya=0,Xa=0,$a=0,H=0,Za=0,ab=0,eb=!1,fb=[],X=[],R=null,T=0,K=0,N=0,uc,Na,Ma=!0,Hb=!1,Ib=0,Sa=!1,lb=2.5;function Jb(){var b;for(b=0;b<X.length;b++)if(null!=X[b].location)return!1;return!0}
function Sb(){var b;var a=[];if(0<ab)ab=0;else{if(Sa)a=["Everyone is on board.","Let's explore the galaxy!"];else for(b=0;b<X.length;b++)if(null!=X[b].location){var c=X[b].location;var e="on ";2==c.type&&(e+="the "+Lb(c)+" "+c.h[3]+" moon of ",c=c.parent);var f=c.parent;e+="a "+Lb(c)+" "+c.h[3]+" planet with "+(0==c.G?"no moons":1==c.G?"a moon":"a few moons")+", ";e+="orbiting a "+f.h[3]+" sun";a=a.concat(mc(X[b].name+" was "+e+"."))}ob(a);eb=!0;ab=9999}}
function vc(b,a){Y={b:[],path:[],A:[]};Y.A.push(ic(3,[120,0,120]),ic(2,[0,128,255]),ic(3,[255,120,0]));Sa=0==b;var c,e,f;Y.b.length=0;for(c=Y.path.length=0;40>c;c++){for(e=0;100>e;e++){var g={x:y(196),y:y(174)-3};var m=1E3;for(f=0;f<c;f++)m=Math.min(m,Ka(g,Y.b[f].f));if(30<m)break}Y.b.push({f:g,s:!1})}a:for(c=0;100>c;c++){var v=!0;for(f=Y.path.length=0;40>f;f++)Y.b[f].s=!1;var h=0;Wb(Ia(Y.b));for(e=0;10>e;e++){g=null;var n=1E3;for(f=0;40>f;f++)if(!Y.b[f].s){m=Ka(W.f,Y.b[f].f);var z=Y.b[f].f;var P=
W.f;z=-(Math.atan2(P.y-z.y,z.x-P.x)/k);!(100<m||z<h-.3||z>h+.3)&&m<n&&(g={pa:Y.b[f],Y:z},n=m)}if(!g){v=!1;break}Wb(g.pa);h=g.Y}if(v)break a}for(c=0;c<Y.b.length;c++){e=Y.b[c];m=[];m.push(Kb(null,13,0,0,0));g=Math.round(3*x()+1);for(v=0;v<g;v++)for(n=m.push(Kb(m[0],5,40*v+45,1E-4,1))-1,f=Math.round(3*x()),h=0;h<f;h++)m.push(Kb(m[n],2,8*h+8+m[n].j,5E-4,2));e.i=m}a:{X=[{a:["#222","#444","#ff0"],location:null,name:"Bobby",I:"him"},{a:["#eee","#ccc","#06b"],location:null,name:"Marshmallow",I:"her"},{a:["#777",
"#999","#0df"],location:null,name:"Bubble",I:"her"},{a:["#c61","#a51","#1f3"],location:null,name:"Winston",I:"him"}];if(0!=Ib)for(c=X,g=c.length;g;g--)e=Math.floor(Math.random()*g),f=c[g-1],c[g-1]=c[e],c[e]=f;for(;0<b;)for(c=0;c<Y.path.length;c++)for(e=1;e<Y.path[c].i.length;e++)if(.001>x()&&(X[4-b].location=Y.path[c].i[e],b--,0==b))break a}F[0]=a[0];F[1]=a[1];F[2]=a[2];Hb=!0;T=1;wb=H=0}function oc(){vc(1,[5,5,5])}function pc(){vc(1,[3,3,3])}function qc(){vc(2,[5,5,5])}
function rc(){vc(3,[5,5,5])}function sc(){vc(0,[999,999,999])}function wc(){try{var b=new d.D(ka);uc=new AudioContext;b.S(function(a){Na=uc.createBufferSource();Na.loop=!0;Na.buffer=a;Na.connect(uc.destination)})}catch(a){}}function tc(){window.open("https://twitter.com/intent/tweet?text=All%20my%20cats%20are%20now%20back%20on%20board!%0APlay%20Where%20is%20Winston%20%23js13k%20game%20by%20%40gheja_%20here:%20js13kgames.com%2Fentries%2Fwhere-is-winston")}
window.onload=function(){Ya=(new Date).getTime();Va=document.body;Va.addEventListener("touchstart",La);Va.addEventListener("mousedown",La);Va.addEventListener("mousemove",Oa);Va.addEventListener("resize",Pa);Ua(Qb);Ua(Xb);Ua(Gb);Ua(hc);Ua(nc);zb();Pa();wc();E[4].visible=!0;oc();Wa()};
</script>
<style type="text/css">body { background: #222; overflow: hidden; } canvas { position: fixed; top: 0; left: 0; }</style></head><body></body></html>
