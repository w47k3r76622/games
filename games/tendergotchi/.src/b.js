!function e(t,i,n){function r(a,l){if(!i[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[a]={exports:{}};t[a][0].call(f.exports,function(e){var i=t[a][1][e];return r(i||e)},f,f.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){const n=[{songData:[{i:[2,53,128,0,3,127,128,0,0,0,0,32,0,0,0,0,0,195,6,0,2,88,0,0,32,0,4,16,2],p:[1,2,1,2,3,6,3,4],c:[{n:[123,,,,127,,118,,,,127,,,,123,,,,123,,,,127,,118,,,,127],f:[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2]},{n:[121,,,,125,,116,,,,125,,,,121,,,,121,,,,125,,116,,,,125],f:[]},{n:[123,,,,127,,120,,,,127,,,,123,,,,123,,,,127,,120,,,,127],f:[]},{n:[120,,,,123,,116,,,,123,,,,122,,,,122,,,,125,,118,,,,125],f:[]},{n:[],f:[]},{n:[120,,,,123,,116,,,,123,,,,120,,,,120,,,,123,,116,,,,123],f:[]}]},{i:[1,100,128,0,2,150,128,0,0,0,0,8,44,0,0,0,0,195,6,0,2,91,68,10,37,0,2,36,3],p:[2,3,2,3,4,6,4,5],c:[{n:[],f:[]},{n:[139,,140,,142,,147,,,,,,,,,,,,139,,140,,142,,151,,149,,147],f:[]},{n:[145,,,,,,144,,,,,,142,,,,,,140,,,,,,,,140,,139,,137],f:[]},{n:[135,,134,,132,,139,,,,,,,,,,,,144,,142,,,,135,,134,,132],f:[]},{n:[128,,130,,132,,135,,,,,,135,,134,,137,,,,,,,,130],f:[]},{n:[128,,130,,132,,135,,,,,,133,,132,,137,,135],f:[]}]},{i:[0,255,128,0,1,80,128,9,0,0,7,5,52,0,0,0,0,0,0,0,2,86,0,0,32,47,3,25,1],p:[1,2,1,2,3,6,3,4],c:[{n:[111,,,,,,,,106,,,,,,,,111,,,,,,,,106],f:[]},{n:[109,,,,,,,,104,,,,,,,,109,,,,,,,,104],f:[]},{n:[108,,,,,,,,103,,,,,,,,108,,,,,,,,103],f:[]},{n:[116,,,,,,,,111,,,,,,,,118,,,,,,,,106],f:[]},{n:[],f:[]},{n:[116,,,,,,,,111,,,,,,,,116,,,,,,,,111],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[1,1,1,1,1,1,1,1],c:[{n:[,,123,,123,,,,123,,,,123,,,,123,,123,,,,123,,,,123,,123],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[1,1,1,1,1,1,1,1],c:[{n:[],f:[]}]}],rowLen:4725,patternLen:32,endPattern:7,numChannels:5},{songData:[{i:[1,100,128,0,1,201,128,0,0,0,0,32,0,0,0,0,0,195,6,0,2,88,0,0,32,0,4,16,2],p:[1],c:[{n:[144,147,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144],f:[,,,,,,,,,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,128,127]}]}],rowLen:4134,patternLen:32,endPattern:0,numChannels:1},{songData:[{i:[1,100,128,0,1,201,128,0,0,0,0,32,0,0,0,0,0,195,6,0,2,88,0,0,32,0,4,16,2],p:[1],c:[{n:[161,158,154,150,147],f:[]}]}],rowLen:4134,patternLen:16,endPattern:0,numChannels:1},{songData:[{i:[1,100,128,0,1,201,128,0,0,0,0,32,0,0,0,0,0,195,6,0,2,88,0,0,32,0,4,16,2],p:[1],c:[{n:[137,141,144,149,153,156,161,156,153,156,149],f:[]}]}],rowLen:4134,patternLen:16,endPattern:0,numChannels:1},{songData:[{i:[1,100,128,0,1,201,128,0,0,0,0,32,0,0,0,0,0,195,6,0,2,88,0,0,32,0,4,16,2],p:[1],c:[{n:[137,,142,,146,142,137,,149,,147,,146,,144,146,142],f:[]}]}],rowLen:4134,patternLen:24,endPattern:0,numChannels:1},{songData:[{i:[1,100,128,0,1,201,128,0,0,0,0,32,0,0,0,0,0,195,6,0,2,88,0,0,32,0,4,16,2],p:[1],c:[{n:[137,133,129,126,,,,,,,,,,,,,,,,,,,,,136,132,128,125],f:[]}]}],rowLen:4134,patternLen:24,endPattern:0,numChannels:1}];let r,o;function a(e){var t=o[e].createWave(),i=document.createElement("audio");i.src=URL.createObjectURL(new Blob([t],{type:"audio/wav"})),i.play()}var l=!1;setTimeout(()=>{o=n.map(e=>{var t=new function(){var e,t,i,n,r,o=function(e){return Math.sin(6.283184*e)},a=function(e){return.003959503758*2**((e-128)/12)},l=function(e,t,i){var n,r,o,l,h,f,u=s[e.i[0]],c=e.i[1],d=e.i[3]/32,p=s[e.i[4]],g=e.i[5],y=e.i[8]/32,v=e.i[9],x=e.i[10]*e.i[10]*4,Q=e.i[11]*e.i[11]*4,w=e.i[12]*e.i[12]*4,b=1/w,m=-e.i[13]/16,C=e.i[14],T=i*2**(2-e.i[15]),M=new Int32Array(x+Q+w),L=0,S=0;for(n=0,r=0;n<x+Q+w;n++,r++)r>=0&&(r-=T,h=a(t+(15&(C=C>>8|(255&C)<<4))+e.i[2]-128),f=a(t+(15&C)+e.i[6]-128)*(1+8e-4*e.i[7])),o=1,n<x?o=n/x:n>=x+Q&&(o=(1-(o=(n-x-Q)*b))*3**(m*o)),l=u(L+=h*o**d)*c,l+=p(S+=f*o**y)*g,v&&(l+=(2*Math.random()-1)*v),M[n]=80*l*o|0;return M},s=[o,function(e){return e%1<.5?1:-1},function(e){return e%1*2-1},function(e){var t=e%1*4;return t<2?t-1:3-t}];this.init=function(o){e=o,t=o.endPattern,i=0,n=o.rowLen*o.patternLen*(t+1)*2,r=new Int32Array(n)},this.generate=function(){var a,h,f,u,c,d,p,g,y,v,x,Q,w,b,m=new Int32Array(n),C=e.songData[i],T=e.rowLen,M=e.patternLen,L=0,S=0,A=!1,P=[];for(f=0;f<=t;++f)for(p=C.p[f],u=0;u<M;++u){var E=p?C.c[p-1].f[u]:0;E&&(C.i[E-1]=C.c[p-1].f[u+M]||0,E<17&&(P=[]));var k=s[C.i[16]],D=C.i[17]/512,F=2**(C.i[18]-9)/T,z=C.i[19],R=C.i[20],U=43.23529*C.i[21]*3.141592/44100,O=1-C.i[22]/255,K=1e-5*C.i[23],I=C.i[24]/32,B=C.i[25]/512,Z=6.283184*2**(C.i[26]-9)/T,N=C.i[27]/255,X=C.i[28]*T&-2;for(x=(f*M+u)*T,c=0;c<4;++c)if(d=p?C.c[p-1].n[u+c*M]:0){P[d]||(P[d]=l(C,d,T));var _=P[d];for(h=0,a=2*x;h<_.length;h++,a+=2)m[a]+=_[h]}for(h=0;h<T;h++)(v=m[g=2*(x+h)])||A?(Q=U,z&&(Q*=k(F*g)*D+.5),S+=(Q=1.5*Math.sin(Q))*(w=O*(v-S)-(L+=Q*S)),v=3==R?S:1==R?w:L,K&&(v=(v*=K)<1?v>-1?o(.25*v):-1:1,v/=K),A=(v*=I)*v>1e-5,b=v*(1-(y=Math.sin(Z*g)*B+.5)),v*=y):b=0,g>=X&&(b+=m[g-X+1]*N,v+=m[g-X]*N),m[g]=0|b,m[g+1]=0|v,r[g]+=0|b,r[g+1]+=0|v}return++i/e.numChannels},this.createAudioBuffer=function(e){for(var t=e.createBuffer(2,n/2,44100),i=0;i<2;i++)for(var o=t.getChannelData(i),a=i;a<n;a+=2)o[a>>1]=r[a]/65536;return t},this.createWave=function(){var e=44+2*n-8,t=e-36,i=new Uint8Array(44+2*n);i.set([82,73,70,70,255&e,e>>8&255,e>>16&255,e>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&t,t>>8&255,t>>16&255,t>>24&255]);for(var o=0,a=44;o<n;++o){var l=r[o];l=l<-32767?-32767:l>32767?32767:l,i[a++]=255&l,i[a++]=l>>8&255}return i},this.getData=function(e,t){for(var i=2*Math.floor(44100*e),n=new Array(t),o=0;o<2*t;o+=1){var a=i+o;n[o]=e>0&&a<r.length?r[a]/32768:0}return n}};let i;t.init(e);do{i=t.generate()}while(i<1);return t}),l=!0},50);var s={int:function(e){return Math.random()*(e||268435455)|0},range:function(e,t){return this.int(t-e)+e},b(e=50){return this.range(0,100)<e}};function h(e){return function(){return(2147483647&(e=0|Math.imul(16807,e)))/2147483648}}var f=h(13312),u={int:function(e){return f()*(e||268435455)|0},range:function(e,t){return e===t?e:this.int(t-e)+e},b(){return this.range(0,100)<50}};var c,d={};function p(e){return c==e}function g(e,t){d[e]=t}var v=document.querySelector("canvas");v.onclick=(e=>{1==k||2==k||3==k?(pk=sk(e),pk&&d[pk]&&d[pk]()):d.Enter()}),sk=(e=>(x=(e.pageX-v.offsetLeft)*S,y=(e.pageY-v.offsetTop)*S,1==k?x<P/2-50?"KeyA":x>P/2+50?"KeyC":"KeyB":y<100?"KeyX":x<P/2?"Enter":"KeyZ")),v.onpointerdown=(e=>{pk=sk(e),pk&&(c=pk)}),v.onpointerup=(e=>{c=!1});var Q={x:0,y:0};function b(e,t){return t-e.x+P/2}function m(e,t){return t-e.y+E/2}const C={renderShapes(e,t,i,n,r,o,a,l,s,h,f){h||(h=Q),t.forEach(t=>{"C"==t[0]?(this.renderCircle(e,t[3],t[4],t[5],t[6],t[1]*r+i,t[2]*r+n,r,l,s,!1,h,f),t[7]||this.renderCircle(e,t[3],t[4],t[5],t[6],-t[1]*r+i,t[2]*r+n,r,l,s,!0,h,f)):(this.renderPath(e,t[0],t[1],t[2],t[3],i,n,r,o,a,l,s,!1,h,f),t[4]||this.renderPath(e,t[0],t[1],t[2],t[3],i,n,r,1-o+1,a,l,s,!0,h,f))})},renderPath(e,t,i,n,r,o,a,l,s,h,f,u,c,d,p){e.strokeStyle=i,e.lineWidth=n,e.fillStyle=r,p||(o=b(d,o),a=m(d,a));let g=l/s;f*=g,u*=l;const y=c?o+f:o-f;e.translate(y,a-u);const v=c?-f:f;e.translate(v,u),e.rotate(h),e.translate(-v,-u),e.scale(g*(c?-1:1),l);const x=new Path2D(t);n>0&&e.stroke(x),r&&e.fill(x),e.setTransform(1,0,0,1,0,0)},renderCircle(e,t,i,n,r,o,a,l,s,h,f,u,c){e.strokeStyle=i,e.lineWidth=n,e.fillStyle=r,c||(o=b(u,o),a=m(u,a)),s*=l,h*=l;const d=f?o+s:o-s;e.translate(d,a-h),e.scale(l*(f?-1:1),l),e.beginPath(),e.arc(0,0,t,0,2*Math.PI),n>0&&e.stroke(),e.fill(),e.setTransform(1,0,0,1,0,0)}};class T{constructor(e,t){this.app=N[e],this.dv=this.av=0,this.rotation=0,this.turnScale=0,z.push(this),t.forEach(e=>e.push(this)),this.lists=t}u(e){this.dv+=this.av*e,this._dx=Math.cos(this.rotation)*this.dv,this._dy=Math.sin(this.rotation)*this.dv,this.x+=this._dx*e,this.y+=this._dy*e}destroy(){this.dead=!0}}class M extends T{constructor(e,t){super("ledOff",t),this.emoji=e,this.arcCounter=0}u(e){if(this.arcCounter>1)return void this.destroy();this.x=P/2-100+100*this.arcCounter;let t=P/2-50;this.y=.02*Math.pow(this.x-t,2)+5,this.y+=100,this.arcCounter+=e}specialRender(e){e.fillText(this.emoji,this.x,this.y)}}const L=e=>e+'px "Comic Sans MS"';let S,A,P=v.width,E=v.height;!function(){function e(){ih=window.innerHeight,iw=window.innerWidth,ih>iw?(rat=iw/ih,ih=Math.max(Math.min(ih,1e3),800),iw=ih*rat,A=!0):(rat=ih/iw,iw=Math.max(Math.min(iw,1e3),1200),ih=iw*rat,A=!1),S=ih/v.scrollHeight,v.width=iw,v.height=ih,P=v.width,E=v.height}window.addEventListener("resize",e,!1),e()}();var k=0,D=0;var F=[[],[],[]],z=[],R=[],U=v.getContext("2d");function O(e,t){e.dead||(e.specialRender?e.specialRender(U):C.renderShapes(U,e.app,e.x,e.y,e.scale,1,e.rotation,50,50,e.camera,"fixedToCamera"),e.postRender&&e.postRender(U))}function K(e){return Math.floor(100*e)/100+"y"}!function(e){function t(e){return window.requestAnimationFrame(function(){var t=Date.now(),i=t-D;i>999?i=1/60:i/=1e3,D=t,e(i)})}t(function i(n){e(n),t(i)})}(function(e){U.fillStyle="#fbe12d",U.fillRect(0,0,v.width,v.height),function(e,t){if(0==k)e.font=L(20),e.textAlign="center",e.fillStyle="#000000",l?e.fillText("Tap to continue",P/2,150):e.fillText("Loading...",P/2,150);else if(1==k)e.font="64px 'Comic Sans MS'",e.textAlign="center",e.fillStyle="#cf3436",e.fillText("TenderGotchi",P/2,80),e.font=L(20),e.fillStyle="#000",e.fillText("Select a magic egg",P/2,150),C.renderShapes(e,N.egg,P/2-100,300,3,1,0,50,50,void 0,!0),V?(C.renderShapes(e,N.lizardEgg,P/2,300,3,1,0,50,50,void 0,!0),C.renderShapes(e,N.egg,P/2+100,300,3,1,0,50,50,void 0,!0),e.fillStyle="#000",e.font=L(20),e.fillText("Chill",P/2+100,280)):(C.renderShapes(e,N.disabledEgg,P/2,300,3,1,0,50,50,void 0,!0),C.renderShapes(e,N.disabledEgg,P/2+100,300,3,1,0,50,50,void 0,!0),e.fillStyle="#FFF",e.font=L(40),e.fillText("?",P/2,300),e.fillText("?",P/2+100,300)),e.font=L(20),e.fillStyle="#000",e.fillText(ee,P/2,380),e.fillText(te,P/2,410),e.fillText("Made by @slashie_",P/2,E-120),e.fillText("Art by Mateo Robayo",P/2,E-90),e.fillText("Music by Ryan Malm",P/2,E-60),e.fillText("js13k22",P/2,E-30);else if(2==k||3==k||10==k){C.renderShapes(e,N.gotchi,P/2,200,4,1,0,50,50,void 0,!0),C.renderShapes(e,N.heart,P/2-100,170,.015*Y.health,1,0,50,50,void 0,!0);for(let t=0;t<9;t++){let i,n=Y.hunger>t+1;i=n?4===t?N.ledGreen:N.ledRed:N.ledOff,C.renderShapes(e,i,P/2-160+40*t,Z[t],1,1,0,50,50,void 0,!0)}C.renderShapes(e,p("Enter")?N.buttonPressed:N.button,P/2-100,300,7,1,0,50,50,void 0,!0),C.renderShapes(e,p("KeyZ")?N.buttonPressed:N.button,P/2+100,300,7,1,0,50,50,void 0,!0),C.renderShapes(e,p("KeyX")?N.buttonPressed:N.button,P/2,40,7,1,0,50,50,void 0,!0),e.font=L(32),e.textAlign="center",e.fillStyle="#000",e.fillText("🍴",P/2-100,312),e.fillText("🧹",P/2+100,312),e.fillText("✨",P/2,52),e.font=L(24),e.textAlign="center",e.fillStyle="#000";for(let t=0;t<Y.poopQuantity;t++)e.fillText("💩",P/2+I[t],B[t]);if(Y.poopQuantity>0&&Y.dirtyCounter<0&&e.fillText("☠️",P/2+50,100),e.textAlign="center",e.fillText(function(e){return Math.floor(e)}(Y.lifetime),P/2,105),10!=k&&!W){e.textAlign=A?"center":"left";for(let t=0;t<ne[$].length;t++)e.fillText("#"+(t+1)+": "+K(ne[$][t].lifetime),A?P/2:20,(A?600:80)+30*t)}}2==k&&Y.happyCounter>0&&(e.font=L(24),e.textAlign="center",e.fillStyle="#000",e.fillText("Paused, starting in "+Math.floor(Y.happyCounter),P/2,420));3==k&&(e.font=L(24),e.textAlign="center",e.fillStyle="#000",e.fillText(Y.deathCause,P/2,420),e.fillText("Tap the Sparkles button",P/2,450));10==k&&(e.fillStyle="#000",e.globalAlpha=.5,e.fillRect(0,E-(A?250:180),P,A?195:125),e.globalAlpha=1,A?(C.renderShapes(e,conversationApp,80,E-180,2,1,0,49,49,void 0,!0),e.font=L(24)):(C.renderShapes(e,conversationApp,150,E-120,4,1,0,49,49,void 0,!0),e.font=L(28)),e.fillStyle="#FFF",e.textAlign="left",function(e){wi=P-(A?200:310),y=E-(A?200:130),theX=A?170:290,words=e.split(" "),line="";var t=0;for(;words.length;){w=words.splice(0,1)[0];const e=U.measureText(w+" ").width;t+e>wi&&(U.fillText(line,theX,y),y+=A?30:40,line="",t=0),line+=w+" ",t+=e,words.length||U.fillText(line,theX,y)}}(_),e.textAlign="right",e.fillText("[Tap]",P-20,E-65))}(U),F.forEach(t=>t.forEach(t=>{t.u&&t.u(e),O(t),O(t)})),R.forEach(t=>{t.update(e),t.render(U)})}),fws=[];let I=[90,110,80,100,120],B=[170,170,190,190,190],Z=[235,232,230,245,245,245,230,232,235];const N={coolStar:[["M44 41Q49 14 56 41Q85 30 65 49Q77 73 55 59Q32 74 45 52Q18 50 44 41","#131047",2,"#5b5e8b","noflip"]],gato:[["M37 15Q36 11 27 10Q22 19 29 26Z","#e7ad3f",2,"#e7ad3f"],["M34 18Q33 14 29 14Q26 18 31 25Z","#d66ead",2,"#d66ead"],["M50 10Q28 15 24 37A4 6 0 0 0 24 52Q34 59 50 58Z","#eeeaeb",2,"#eeeaeb"],["M50 10Q28 16 24 37Q47 33 57 14Z","#ecae41",2,"#ecae41"],["M42 34Q38 20 31 34","#733621",2,!1],["M50 38Q40 41 50 44","#dc7ab7",2,"#dc7ab7"],["M50 47Q45 47 42 45Q40 54 50 55","#c52c5a",2,"#c52c5a"]],lizard:[["M50 31L39 31Q36 22 28 22Q18 23 17 33Q9 42 9 52Q8 67 50 67Q91 68 92 52Q92 44 83 32Q81 22 72 22Q65 22 61 31L50 31","#477238",2,"#8FD032",1],["C",28,34,8,"#33272A",2,"#F8E398"],["M28 29Q26 33 28 38Q31 33 28 28","#33272A",2,"#33272A"],["M20 49Q22 58 49 57","#477238",2,"#8FD032"],["M40 48Q40 50 41 51Q42 53 45 53Q46 52 43 50Q43 48 39 48","#293F21",2,"#293F21"]],fox:[["M34 30Q26 21 11 16Q6 33 16 46M27 32","#673931",2,"#673931"],["M28 33Q24 27 17 25Q15 36 20 40","#e88a36",2,"#e88a36"],["M50 27Q16 27 15 51Q15 65 8 64Q1 86 50 86","#673931",2,"#e88a36"],["M50 58Q41 58 41 68Q19 69 8 64Q4 71 11 78Q20 86 50 86","#673931",2,"#fcf7be"],["M25 68Q20 68 19 64Q16 66 18 71","#673931",2,"#fcf7be"],["M50 67Q48 71 44 68","#673931",2,"#fcf7be"],["M50 61Q44 61 46 64Q48 67 50 67","#673931",2,"#673931"]],eyeNormal:[["C",32,58,4,"#673931",2,"#673931"]],eyeBlink:[["M28 60Q31 57 35 60","#673931",2,"#673931"]],eyeDead:[["M28 63L35 55","#673931",2,"#673931"],["M35 63L28 55","#673931",2,"#673931"]],egg:[["M50 56Q34 54 40 34Q44 25 50 25","",0,"#ffffff"],["C",44,46,2,"",0,"#ff0000","noflip"],["C",48,36,1,"",0,"#00ff00","noflip"],["C",54,52,2,"",0,"#0000ff","noflip"]],lizardEgg:[["M50 56Q34 54 40 34Q44 25 50 25","",0,"#ff00ff"],["C",44,46,2,"",0,"#ff00ff","noflip"],["C",48,36,1,"",0,"#00ffff","noflip"],["C",54,52,2,"",0,"#0000ff","noflip"]],disabledEgg:[["M50 56Q34 54 40 34Q44 25 50 25","",0,"#444444"]],gotchi:[["C",50,50,45,"#000000",0,"#efedee"],["C",50,50,36,"#000000",0,"#ccbfc9"],["M5 56A45 39 0 0 0 95 57Z","",0,"#fc0f72","noflip"],["M50 57L41 57Q37 53 32 53Q9 52 3 56Q-1 61 5 64Q15 62 30 62Q33 65 40 65L50 65","",0,"#efedee"]],heart:[["M50 68Q28 60 29 44Q31 33 42 37Q48 39 50 45","#000000",0,"#ff0000"]],ledRed:[["C",50,50,10,"",0,"#ff0000","noflip"]],ledGreen:[["C",50,50,10,"",0,"#00ff00","noflip"]],ledYellow:[["C",50,50,10,"",0,"#ffff00","noflip"]],ledOff:[["C",50,50,10,"",0,"#000000","noflip"]],button:[["C",50,50,5,"",0,"#FFFACD","noflip"]],buttonPressed:[["C",50,50,5,"",0,"#beba99","noflip"]]};let X,_="Test";function q(e,t){return a(1),k=10,conversationApp=e,_=t,new Promise(e=>{X=e})}let W=!1;const j=[[{shape:"egg",scale:2,nextLevelThreshold:15},{shape:"fox",scale:.5,nextLevelThreshold:30},{shape:"fox",scale:.75,nextLevelThreshold:60},{shape:"fox",scale:1,nextLevelThreshold:90,hat:"🧢"},{shape:"fox",scale:1.3,nextLevelThreshold:120,hat:"🧢"},{shape:"fox",scale:1.3,nextLevelThreshold:160,hat:"🎩"},{shape:"fox",scale:1.3,nextLevelThreshold:190,hat:"👑"}],[{shape:"lizardEgg",scale:2,nextLevelThreshold:25},{shape:"lizard",scale:.3,nextLevelThreshold:40},{shape:"lizard",scale:.5,nextLevelThreshold:80},{shape:"lizard",scale:.8,nextLevelThreshold:120,hat:"👒"},{shape:"lizard",scale:.9,nextLevelThreshold:160,hat:"🎓"},{shape:"lizard",scale:1,nextLevelThreshold:180},{shape:"lizard",scale:1,nextLevelThreshold:220,hat:"👑"}]],G=[["🍼","🍌","🍎","🥕"],["🍇","🍈","🍉","🍊","🍋","🍍","🥭","🍏","🍐","🍑","🍒","🍓","🥝","🍅","🥥"],["🥑","🍆","🥔","🌽","🥒","🥦","🍄"],["🍞","🥐","🥨","🥞","🧀","🍔","🍟","🍕","🌭","🥪","🌮","🌯"],["🍱","🍙","🍚","🍛","🍝","🍣","🍥","🦀","🦞","🦐","🦑"],["🍦","🍧","🍨","🍩","🍪","🍰","🧁","🥧","🍬","🍯","☕"],["🍺","🥂","🍸","🍹","🍷"]];class H extends T{constructor(e,t){super("egg",t),this.levels=j[e],this.reset()}reset(){this.health=100,this.hunger=0,this.lifetime=0,this.nextPoop=5,this.poopQuantity=0,this.dirtyCounter=0,this.nextLevelThreshold=0,this.happyCounter=4,this.boopCounter=.7,this.boopPhaseUp=!1,this.level=0,this.hat=void 0,this.setupForLevel(),f=h(13312+20*$)}checkEvo(){this.level<this.levels.length-1&&this.lifetime>this.nextLevelThreshold&&(a(3+this.level%2),this.level++,this.setupForLevel(),this.happyCounter=4,this.hunger=0)}setupForLevel(){this.app=N[this.levels[this.level].shape],this.scale=this.levels[this.level].scale,this.nextLevelThreshold=this.levels[this.level].nextLevelThreshold,this.hat=this.levels[this.level].hat}u(e){if(this.x=P/2,2==k){if(this.happyCounter>0)return this.happyCounter-=e,void(this.happyCounter<0&&(this.happyCounter=0));this.boopCounter-=e,this.boopCounter<0&&(this.boopCounter=1,this.boopPhaseUp?this.y=175:this.y=180,this.boopPhaseUp=!this.boopPhaseUp),this.lifetime+=W?e/5:3*e,this.checkEvo(),W?(this.hunger+=e,this.hunger>6&&(this.hunger=6)):this.hunger+=e*(5+this.level/2),this.nextPoop-=e,this.nextPoop<0&&(this.nextPoop=u.range(0==$?10:5,15),this.poopQuantity||(this.poopQuantity=u.range(0==$?2:4,5),this.dirtyCounter=2)),this.deathCause="OVERSTUFFED",this.hunger>5&&!W&&(this.health-=10*e,this.deathCause="STARVED"),this.poopQuantity>0&&(this.dirtyCounter-=e,this.dirtyCounter<0&&!W&&(this.health-=20*e,this.deathCause="POISONED")),this.health<=0&&(this.health=0,this.die())}}feed(){if(this.happyCounter>0)return;var e=Math.min(this.level+1,G.length);let t=G[s.range(0,e)];if(t=t[s.range(0,t.length)],new M(t,[F[1]]),this.hunger<5&&!W)return a(5),this.health-=10,void(this.hunger=0);a(1),this.hunger-=5,this.hunger<0&&(this.hunger=0)}clean(){this.happyCounter>0||this.poopQuantity>0&&(this.poopQuantity-=1,this.poopQuantity<=0&&(this.dirtyCounter=0))}die(){a(2),ne[$].push({lifetime:this.lifetime}),ne[$].sort((e,t)=>t.lifetime-e.lifetime),ne[$].length>10&&(ne[$].length=10),localStorage.setItem("deathgotchi.history.2",JSON.stringify(ne)),k=3}postRender(e){if(0!=this.level){if(0==$){var t=0==this.health?N.eyeDead:this.boopPhaseUp?N.eyeNormal:N.eyeBlink;C.renderShapes(e,t,this.x,this.y,this.scale,1,this.rotation,50,50,this.camera,"fixedToCamera")}this.hat&&(e.font=L(24),e.textAlign="center",e.fillStyle="#000",e.fillText(this.hat,this.x,this.y-20*this.scale))}}}var Y;if(document.monetization){function J(){return"started"===document.monetization.state&&(ee="Thank you for subscribing.",te="You have access to the Lizard egg and chill mode!",V=!0,!0)}J()||document.monetization.addEventListener("monetizationstart",J)}let V=!1,$=0,ee="",te="";async function ie(){var e,t;let i;e=P/2,(t=new H($,[F[2]])).x=e,t.y=180,t.scale=2,t.rotation=0,Y=t,Q.x=Y.x,Q.y=Y.y,i=W?["Ah, it's time to relax.","This is a magical egg, take good care of it and a friend will hatch out of it.","Use the left button to feed it, and clean its poo using the right button.","This creature will live forever, as long as you give it your love!"]:0==$?["Hello! I am Gato, and I have a gift for you.","This is a magical egg, take good care of it and a friend will hatch out of it.","Use the left button to feed it, but only *exactly* when the green button lits.","Its belly will hurt badly if you feed it before, and it'll slowly die of hunger if you take too long.","Also, clean its poop using the right button, it'll harm it if you leave it there for too long.","Are you ready?"]:["Ah, I see you've found the lizard egg.","This egg is special, it's a bit harder to take care off, but it will pay off.","Good luck!"],await async function(e,t){for(let i=0;i<t.length;i++)await q(e,t[i])}(N.gato,i),k=2}g("Enter",()=>{0==k?l&&(function(e){r&&r.stop();var t=o[e].createWave();(r=document.createElement("audio")).src=URL.createObjectURL(new Blob([t],{type:"audio/wav"})),r.loop=!0,r.play()}(0),Q.x=P/2,Q.y=E/2,k=1):2==k?Y.feed():10==k&&X()}),g("KeyA",()=>{1==k&&(a(1),$=0,ie())}),g("KeyB",()=>{if(1==k){if(!V)return ee="The lizard egg is only available for subscribers!",void(te="Please visit coil.com to activate your subscription :)");a(1),$=1,ie()}}),g("KeyC",()=>{if(1==k){if(!V)return ee="Chill mode is only available for subscribers!",void(te="Please visit coil.com to activate your subscription :)");a(1),$=0,W=!0,ie()}}),g("KeyZ",()=>{2==k&&Y.clean()});let ne=[];ne[0]=[],ne[1]=[];const re=localStorage.getItem("deathgotchi.history.2");re&&(ne=JSON.parse(re)),g("KeyX",()=>{3==k&&(Y.reset(),k=2)})},{}]},{},[1]);