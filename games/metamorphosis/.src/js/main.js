function black_text(t){return{width:1,color:"black",align:"center",value:t}}function white_text(t){return{width:1,color:"white",align:"center",value:t}}function hide_tile(){for(var t=tile_array.length-1;t>=0;t--)tile_array[t].setAttribute("visible",!1)}function show_tile(){for(var t=tile_array.length-1;t>=0;t--)tile_array[t].setAttribute("visible",!0)}function set_event_plane(t,e){hide_tile(),action_text.removeEventListener("click",action_text_handler),action_text_primary.removeEventListener("click",action_text_primary_handler),action_text_secondary.removeEventListener("click",action_text_secondary_handler);var i=camera_plane.getAttribute("position"),r=camera_plane.getAttribute("rotation");if(event_plane.setAttribute("position",i),event_plane.setAttribute("rotation",r),"water"===t){var n=document.querySelector("#water-cup-hand");n.setAttribute("visible",!0),event_text.setAttribute("visible",!0),action_text.setAttribute("visible",!0)}else if("paper"===t){var a=document.querySelector("#envelope-hand");event_text.setAttribute("text",white_text("Enlistment paper? With my name on it?")),action_text.setAttribute("text",black_text("NEXT")),action_text_primary.setAttribute("text",black_text("READ DOCUMENT")),action_text_secondary.setAttribute("text",black_text("PUT BACK")),event_text.setAttribute("visible",!0),action_text_primary.setAttribute("visible",!0),action_text_secondary.setAttribute("visible",!0),a.setAttribute("visible",!0)}else if("phone"===t){var o=document.querySelector("#phone-hand");event_text.setAttribute("text",white_text("Someone unknown is calling. Maybe I should pick up the phone?")),action_text.setAttribute("text",black_text("PICK UP")),event_text.setAttribute("visible",!0),action_text.setAttribute("visible",!0),o.setAttribute("visible",!0)}else if("toilet_door_enter"===t)event_text.setAttribute("text",white_text("The door that leads to the toilet.")),action_text_primary.setAttribute("text",black_text("USE TOILET")),action_text_secondary.setAttribute("text",black_text("LEAVE")),event_text.setAttribute("visible",!0),action_text_primary.setAttribute("visible",!0),action_text_secondary.setAttribute("visible",!0);else if("toilet_door_leave"===t)event_text.setAttribute("text",white_text("The door that leads to the room.")),action_text_primary.setAttribute("text",black_text("LEAVE TOILET")),action_text_secondary.setAttribute("text",black_text("CANCEL")),action_text.setAttribute("visible",!1),event_text.setAttribute("visible",!0),action_text_primary.setAttribute("visible",!0),action_text_secondary.setAttribute("visible",!0);else if("front_door_enter"===t)event_text.setAttribute("text",white_text("Someone is knocking the door. It must be Jane.")),action_text.setAttribute("text",black_text("OPEN DOOR")),event_text.setAttribute("visible",!0),action_text.setAttribute("visible",!0);else if("mail"===t){var _=document.querySelector("#mail-hand");_.setAttribute("visible",!0),event_text.setAttribute("text",white_text("There is an mail on the floor. Should I read it?")),action_text_primary.setAttribute("text",black_text("READ MAIL")),action_text_secondary.setAttribute("text",black_text("PUT BACK")),action_text.setAttribute("text",black_text("NEXT")),event_text.setAttribute("visible",!0),action_text_primary.setAttribute("visible",!0),action_text_secondary.setAttribute("visible",!0)}else if("free"===t){if(console.log(t,e),null!==e&&void 0!==e){var s=document.querySelector(e);s.setAttribute("visible",!0)}event_text.setAttribute("visible",!0),action_text.setAttribute("visible",!0)}}function reset_event_plane(){for(var t=event_plane.children,e=t.length-1;e>=0;e--)t[e].setAttribute("visible",!1);event_plane.setAttribute("position","0 0 -20"),event_plane.setAttribute("rotation","0 0 0"),"free"===finite_state&&show_tile()}function first_stage(){setTimeout(function(){camera_text.setAttribute("visible",!0),help_text.setAttribute("visible",!0)},3e3)}function second_stage(){camera_text.setAttribute("visible",!0),camera_text.setAttribute("text",white_text("What is this place? Did I get too drunk and sleep over at someoneâ€™s place last night?")),show_tile(),help_text.setAttribute("visible",!0),help_text.setAttribute("text",white_text("Gaze at the floor tile to move, and explore the room.")),setTimeout(function(){camera_text.setAttribute("text",white_text("Why? I can't remember anything happened yesterday?"))},5e3),setTimeout(function(){camera_text.setAttribute("text",white_text("I need to find out what this place is!")),help_text.setAttribute("text",white_text("Gaze at items to pick up, and explore the room."))},1e4),setTimeout(function(){camera_text.setAttribute("visible",!1),help_text.setAttribute("visible",!1),finite_state="free"},15e3)}function third_stage(){event_text.setAttribute("text",white_text('"John Doe would be serving the country in the Navy from '+current_date_string+" to "+future_date_string+'..."')),action_text.setAttribute("visible",!0)}var current_date=new Date,current_date_string=(current_date.getDate()+1).toString()+"/"+(current_date.getMonth()+1).toString()+"/"+current_date.getFullYear().toString(),future_date_string=current_date.getDate().toString()+"/"+(current_date.getMonth()+1).toString()+"/"+(current_date.getFullYear()+3).toString(),finite_state="start",camera_plane=document.querySelector("a-camera"),event_plane=document.querySelector("#event-plane"),event_text=document.querySelector("#event-text"),action_text=document.querySelector("#action-text"),action_text_primary=document.querySelector("#action-text-primary"),action_text_secondary=document.querySelector("#action-text-secondary"),camera_text=document.querySelector("#camera-text"),help_text=document.querySelector("#help-text"),tile_array=document.getElementsByClassName("tile"),action_text_handler,action_text_primary_handler,action_text_secondary_handler,third_stage_state=1,fourth_stage_state=1,fifth_stage_state=1,mail_show=!1,extra_stage_state=1;hide_tile();