function printGameStatus(){console.log("John: "+john_lives+", Jane: "+jane_lives+", Heal times: "+heal_times)}function getJaneAction(){return Math.random()>.5?1:0}function endGame(){var e=document.getElementById("button-defense"),t=document.getElementById("button-talk"),a=document.getElementById("button-end");e.setAttribute("visible","false"),t.setAttribute("visible","false"),a.setAttribute("visible","true")}function black_text_big(e){return{width:4,color:"black",align:"center",value:e}}function white_text_big(e){return{width:4,color:"white",align:"center",value:e}}var john_lives=3,jane_lives=3,heal_times=0,heal_thres=3,game_status_str="Choose an action!",jane_action=0,game_state=1;AFRAME.registerComponent("defense",{init:function(){var e=this.el;e.addEventListener("click",function(e){var t=document.getElementById("combat-text");1==game_state&&(jane_action=getJaneAction(),0==jane_action?(game_status_str="Jane tries to listen to you but you defense...",jane_lives--,0==jane_lives&&(game_state=0,game_status_str="You killed Jane!",endGame())):game_status_str="Jane attacks you! Thankfully you defense!",t.setAttribute("text",white_text(game_status_str))),printGameStatus()})}}),AFRAME.registerComponent("talk",{init:function(){var e=this.el;e.addEventListener("click",function(e){var t=document.getElementById("combat-text");if(1==game_state){if(jane_action=getJaneAction(),0==jane_action){switch(heal_times){case 0:game_status_str='"You monster! Tell me where is John!"';break;case 1:game_status_str='"No way you are John! Tell me who you are!"';break;case 2:game_status_str='"You sounds like John! It can\'t be!"'}heal_times++,3==heal_times&&(game_state=0,game_status_str="Oh my dear, let't go home and figure all this out!",endGame())}else game_status_str="You try to explain but Jane attacks you!",john_lives--,0==john_lives&&(game_state=0,game_status_str="You are killed by Jane.",endGame());t.setAttribute("text",white_text(game_status_str))}printGameStatus()})}});
