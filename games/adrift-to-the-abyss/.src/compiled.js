var g,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,b){if(b){var c=ba;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}
function da(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}ca("String.prototype.repeat",function(a){return a?a:function(a){var b=da(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}});
ca("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=da(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<f&&c<e;)if(b[c++]!=a[h++])return!1;return h>=f}});var ea=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1E3/60)},l=0;
function fa(){this.scale=1;this.state=0;this.b={};this.w={};this.viewport={left:0,top:0};this.A={height:window.innerHeight,opacity:100,width:window.innerWidth};var a=document.createElement("canvas");this.A.height>this.A.width&&this.A.height>=1.5*this.A.width?(a.height=1.5*this.A.width,a.width=this.A.width,a.style["margin-top"]=(this.A.height-a.height)/2+"px"):(a.height=this.A.height,a.width=this.A.height/1.5);this.A.height=a.height;this.A.width=a.width;this.scale=a.width/480;document.body.appendChild(a);
this.context=a.getContext("glCanvas")?a.getContext("glCanvas"):a.getContext("2d")}function p(a,b){for(var c in b)if(void 0===a[c]||"function"!==typeof b[c])a[c]=b[c];return a}g=fa.prototype;g.set=function(a){for(var b in this)this[b]=a[b]};function q(a,b){b.context=a.context;b.K(a);if(b.c&&0<Object.keys(b.c).length)for(var c in b.c)b.c[c]&&(b.c[c].f=b,b.c[c].K());a.w[b.a.id]=b}function r(a,b){return a.w[b]?a.w[b]:!1}function t(a,b){var c=[],d;for(d in a.w)a.w[d].a.M==b&&c.push(a.w[d]);return c}
function ha(a,b){a.w[b]&&(a.w[b].ha(),delete a.w[b])}function ia(a){var b=[],c=[],d;for(d in a.w)ja(a.w[d]),a.w[d]instanceof u||a.w[d]instanceof v?-1==a.w[d].a.state?c.push(a.w[d]):b.push(a.w[d]):a.w[d].update(a);b.sort(function(a,b){return a.a.y+a.a.origin.y<b.a.y+b.a.origin.y?-1:a.a.y+a.a.origin.y>b.a.y+b.a.origin.y?1:a.a.zIndex<b.a.zIndex?-1:a.a.zIndex>b.a.zIndex?1:0});for(d=0;9>d;d++)for(var e=0;e<b.length;e++)b[e].a.M==d&&b[e].update(a);for(e=0;e<c.length;e++)ha(a,c[e].a.id)}
function ja(a){for(var b in a.c)a.c[b]&&(a.c[b].f=a,a.c[b].update())}g.update=function(){var a=this;this.context.clearRect(0,0,a.A.width,a.A.height);this.context.canvas.style.opacity=a.A.opacity/100;ia(this);setTimeout(function(){ea(function(){1==a.state||4==a.state?(a.state=3,a.update(),a.state=4):3==a.state&&setTimeout(function(){a.update()},1E3/60)})},1E3/60)};g.start=function(){this.state=1;this.update()};g.pause=function(){this.state=2};g.resume=function(){this.state=4;this.update()};
var x=[],y=[];
function ka(){var a=new z;A(a,{tag:"sf0",data:'R !&!.$.$,(,(.+.+!(!()$)$((%(!~R 8):&:"9!0!0.9.:-:+8&3&3)6)7+3+3$7$6&~R I!@!?"?.H.I-I)F)F+B+B$F$F&I&~R X"W!N!N.U.X+X)U)S+Q+Q$U$U)X)~R ^!]"].g.g+`+`)e)e&`&`$g$g!~R m!l"l.o.o)t)t&o&o$v$v!~R +0"0!1!<"=*=+<+6\'6&8(8(:$:$3+3~R 000=3=38787=:=:070753530~R ?0?=B=B0~R X0X<W=O=N<N7Q7Q:U:U0~R ]0]=`=`8c8d9d=g=g9e7g5g0d0d4c5`5`0~R m0l1l=v=v:o:o8o5o0~R !?!L$L$D&H(H*D*L-L-?*?\'D$?~R 0?0L3L3D7I7L:L:?7?7D3?~R I@H?@??@?K@LHLIKIGFIBIBBFBFIIG~R O?N@NLQLQIVIXGXBUBUFQFQBXBX@W?~R m?l@lLoLoHrHsLvLtFvCvBsBqEoEoBvBv@u?~R +N+R(R(Q$Q$R+U+Z*[![!W$W$X(X(W!T!O"N~R 0N;N;Q7Q7[4[4Q0Q~R BXBN@N?O?Z@[H[IZINFNFX~R QUQNONNONVR[T[XVXNUNUUSX~R ]N][`[cUf[i[iNfNfVdQbQ`V`N~R oPoNlNlQoUlXl[o[oYqWsYs[v[vXsUvQvNsNsPpTqS~R $_$]!]!`%d%j(j(d,`,])])_&b\'b~R 0]:]:`4f4g:g:j0j0e5`0`~R FgIgI^H]@]?^?i@jHjIiIgFgBgB`F`BfBgCgFb~R O]N`O`OjRjR]~R ]^^]f]g^gd`f`ggggj]j]ddbd````a]a~R l^m]u]v^vdviujmjlilfofogsgsenenbsbs`o`oala~R !s!w(w(y+y+l(l(t$t$t(p(l~R :l8o3o3q:q:x9y0y0v7v7t0t0m1l~R GlCl?q?x@yHyIxIqBqBtFtFvBvBqCq~R NlXlXpTtTyQyQsUoNo~R ]n_lelgngqfrgsgwey_y]w]s`p`vdvdt`t`qdqdo`o`t]q~R nllnlsnuqumyqyvtvososroroovovntl~pp  RR  Rz R~R ]A]D`D`A~R ]E]H`H`E~'});B(a,
{qa:"sf1",fill:"fff"});B(a,{qa:"sf2",fill:"dd0"});B(a,{qa:"sf3",fill:"f22"});A(a,{tag:"btn",data:"_5(p\u0084$0#4#=u=v9v0~qu{f\u0084M\u0084%7\u0084R&\u0084~pp  RR 5\u0084zJ\u0084~_5(u\u0084$!#%#.u.v*v!~"});A(a,{tag:"g",data:"qv4<\u0084kX/4\u0084R$\u0084~pp  }*4$Rz4\u0084~pq >7, $\u0084\u00844\u0084~qu d\u0084M!94\u0084R$\u0084~R4 , .)22.2,)(~Rp ,)02,)(~^4!u+%))+*~^ !$+*,)+%~R42,2.;2D.D,;(~Rq2,;0D,;(~RJ6+6*7+7,~RJ7+8*8+7,~RJ6*7*8*7+~R4D,D.M2V.V,M(~RuD,M0V,M(~^4!uT-U,S)~^ !qS)S,T-~R4V,V._2h.h,_(~RvV,_0h,_(~^4!u-^*^/~^ !$^/_-^*~R4h,h.q2z.z,q(~R$h,q0z,q(~^4!uo-p+n(~^ !$m,n(o-~R4 > @)D2@2>):~Rp >)B2>):~^4!u':%>(A~^ !$'?(>':~R42>2@;DD@D>;:~Rq2>;BD>;:~RJ=??>?<==~RJ;>;====?~RJ?<=;;===~R4D>D@MDV@V>M:~RuD>MBV>M:~^4!uI>J=H:~^ !qH:H=I>~R4V>V@_Dh@h>_:~RvV>_Bh>_:~^4!u`<b9b>~^ !$b>c<b9~R4h>h@qDz@z>q:~R$h>qBz>q:~^4!uv?w=u:~^ !$t>u:v?~"});
A(a,{tag:"t",data:"p{  RR  \u0084R7\u0084~p|  RR4 \u0084\u00b6G\u0084~p}  RR4 \u0084\u00b6T\u0084~n !{q)Bw5JBBr;$w4!.$r)B~n !}q)fw5nBfr;Nw4c.Nr)f~n !}q)hw5pBhr;Ow4k.Or)h~n !{q)Ew5MBEr;'w4*.'r)E~n !|qVEwbMoErh'wa$['rVE~n !|qVEwbMoErh'wa*['rVE~n !}qVfwbnofrhNwac[NrVf~n !@qVhwbpohrhOwak[OrVh~"});A(a,{tag:"e",data:"Rp$)$82GE8;)~o ! \u0084q4;v9R@9~_ ! \u0084?1<5A4~_ ! \u0084/21796~RqQ)Q8_Gr8h)~_ ! \u0084[2]7e6~_ ! \u0084n1k5p4~o ! \u0084qb:vg6n9~pq>Rfz U\u0084z\u0084~pp>Rfz %\u0084z&\u0084~"});la(a,function(){x=
x.concat(a.b)})}function ma(){var a=na();y.push({id:"default",ta:1200,volume:.1,repeat:!0,Kb:1,X:a});var b=na();a=[];for(var c=0;c<b.length;c++)a.push(b[c].duration),a.push(void 0==b[c].aa?91:oa(b[c].aa));b="";c=[];"number"==typeof a?c=c.push(a):c=c.concat(a);for(a=0;a<c.length;a++)b+=String.fromCharCode(c[a]+32);a=b;pa(a);pa('@{"6"1${$6(6(8(:(;!=${$=$=(>(@!B${$B$B(@(>$@(>"="{"=$;(;(=">"{$=$;$9(9(;"="{$;$9$8(8(:"<"{"?!=');console.debug("~"+a+"~")}
function qa(a){setTimeout(function(){8==x.length&&1==y.length?a():qa(a)},100)}function ra(a,b){for(var c=0;c<b.length;c++)if(b[c].id==a||b[c].tag==a)return b[c];return!1}function D(a){return ra(a,x)}function sa(a){var b=32*Math.round(a.x/32),c=16*Math.round(a.y/16);return b%64||c%32?b%64&&c%32?{x:b,y:c}:{x:64*Math.round(a.x/64),y:32*Math.round(a.y/32)}:{x:b,y:c}}function E(a,b){return b?{x:32*(a.x-a.y)+b.x,y:16*(a.x+a.y)+b.y}:{x:32*(a.x-a.y),y:16*(a.x+a.y)}}
function F(a,b,c){return"number"==typeof a?parseInt(String(a),10).toString(c):parseInt(a.toString(),b).toString(c)}function ta(a){for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c)-32);return b}function G(a,b){return a<=b.length?b:G(a,"0"+b)}function z(){this.b=[]}function A(a,b){b.L=a.create(b);b.L.tag=b.tag;b.src=b.L.src;b.width=900;b.height=900;b.L.crossOrigin="anonymous";a.b.push(b)}
function la(a,b){setTimeout(function(){for(var c=0;c<a.b.length;c++)if(!0!==a.b[c].L.vb){la(a,b);return}b()},50)}z.prototype.get=function(a){for(var b=0;b<this.b.length;b++)if(this.b[b].tag==a)return this.b[b];return!1};
z.prototype.create=function(a){var b=new Image;this.h=!1;void 0!==a.src?b.src=a.src:b.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg height="900" width="900" xmlns="http://www.w3.org/2000/svg">'+ua(this,a.data)+"</svg>");b.onload=function(){setTimeout(function(){b.vb=!0},10)};return b};
function B(a,b){var c=a.get("sf0");if(!1!==c){c=c.src;var d=atob(c.substring(26));b.fill&&(d=d.replace(/ fill="#000"/g,' fill="#'+b.fill+'"'));b.stroke&&(d=d.replace(/ stroke="#000"/g,' stroke="#'+b.stroke+'"'));b.qa&&A(a,{tag:b.qa,src:c.substring(0,26)+btoa(d)})}}function ua(a,b){b=b.split("~");for(var c="",d=0;d<b.length;d++)if(0<b[d].length){var e=ta(b[d]);c+=a.assign(e,va(e[0]))}return c}
function va(a){a=G(7,F(a,10,2));if("101"==a.substring(0,3)){var b='<defs><$g id="grad$s" $p><stop offset="$s%" style="stop-color:$c;stop-opacity:$o" /><stop offset="$s%" style="stop-color:$c;stop-opacity:$o" /></$g></defs>';return b="0"==a.charAt(6)?b.replace(/\$g/g,"linearGradient").replace("$p",'x1="$s%" y1="$s%" x2="$s%" y2="$s%"'):b.replace(/\$g/g,"radialGradient").replace("$p",'cx="$s%" cy="$s%" r="$s%" fx="$s%" fy="$s%"')}b="";for(var c=['stroke="$c"','stroke-width="$s"','fill="$c"','opacity="$o"'],
d=0;4>d;d++)"1"==a.substring(3).substring(0+d,1+d)&&(b+=" "+c[d]);return['<rect x="$n" y="$n" width="$n" height="$n"$a','<ellipse cx="$n" cy="$n" rx="$n" ry="$n"$a','<polyline$a points="$p"','<polygon$a points="$p"','<path$a d="$d"'][parseInt(F(a.substring(0,3),2,10),10)].replace("$a",b)+"/>"}
z.prototype.assign=function(a,b){for(var c=1;c<a.length;c++){var d=b.indexOf("$"),e=b.charAt(d+1),f="";switch(e){case "n":f=10*a[c];break;case "c":d=a[c];63>=d?(d=F(d,10,4),d=d.replace(/[1]/g,"6").replace(/[2]/g,"a").replace(/[3]/g,"f"),f="#"+G(3,d)):f=90==d?"none":"url(#grad"+d+")";break;case "o":f=90<a[c]?1:a[c]/100;break;case "s":f=a[c];break;case "p":f=","==b.charAt(d-1)?10*a[c]+" ":10*a[c]+",";c<a.length-1&&(f+="$p");break;case "d":d=a[c],81>d?f=10*d+" ":91==d?(this.h=this.h?!1:!0,f=""):f=(this.h?
"MLHVCSQTAZ".charAt(d-81).toLowerCase():"MLHVCSQTAZ".charAt(d-81))+" ",c<a.length-1&&(f+="$d")}b=b.replace("$"+e,f)}return b};function H(a){this.I={};this.a={id:"mouse-"+l++,type:"mouse",ba:!1,position:{x:0,y:0,Na:0,Oa:0,F:0,H:0,ka:0,la:0},ga:{Bb:!0,Ab:!0,Cb:!0,zb:!0,Db:!0}};this.b=[];for(var b in a)this.a[b]=a[b]}function I(a){return a.touches[0]||a.changedTouches[0]||a.wb.touches[0]||a.wb.changedTouches[0]}
H.prototype.K=function(a){this.a.ga.Db&&/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase())?wa(this,a):xa(this,a)};
function wa(a,b){a.context.canvas.addEventListener("touchmove",function(c){c=I(c);a.a.ba=!0;J(a,c,b);a.v(a.a)},{passive:!0});a.context.canvas.addEventListener("touchstart",function(c){J(a,I(c),b);a.a.position.ka=a.a.position.x;a.a.position.la=a.a.position.y;a.a.ba=!0;a.h(a.a);ya(a,b)},{passive:!0});a.context.canvas.addEventListener("touchend",function(c){J(a,I(c),b);a.a.ba=!1;a.D(a.a)},{passive:!0})}
function xa(a,b){a.a.ga.Bb&&a.context.canvas.addEventListener("mousemove",function(c){J(a,c,b);a.v(a.a)});a.a.ga.Ab&&a.context.canvas.addEventListener("mousedown",function(c){J(a,c,b);a.a.position.ka=a.a.position.x;a.a.position.la=a.a.position.y;a.a.ba=!0;a.h(a.a);ya(a,b)});a.a.ga.Cb&&a.context.canvas.addEventListener("mouseup",function(c){J(a,c,b);a.a.ba=!1;a.D(a.a)});a.a.ga.zb&&a.context.canvas.addEventListener("click",function(c){J(a,c,b);a.a.position.ka=a.a.position.x;a.a.position.la=a.a.position.y})}
function J(a,b,c){var d=a.context.canvas.getBoundingClientRect(),e=b.pageX-d.left;b=b.pageY-d.top;p(a.a.position,{x:e/c.scale-c.viewport.left,y:b/c.scale-c.viewport.top,F:e,H:b,Na:a.a.position.F-e,Oa:a.a.position.H-b})}function ya(a,b){for(var c=0;c<a.b.length;c++){var d=b.w[a.b[c].id];d&&a.a.position.x>=d.a.x+d.a.origin.x&&a.a.position.x<=d.a.x+d.a.origin.x+d.a.wa&&a.a.position.y>=d.a.y+d.a.origin.y&&a.a.position.y<=d.a.y+d.a.origin.y+d.a.height&&a.b[c].sb(a,d)}}
function K(a,b,c){a.b.push({id:b,sb:c})}H.prototype.v=function(){};H.prototype.h=function(){};H.prototype.D=function(){};function L(a){this.a={id:"sound",type:"sound",ta:1200,data:[],volume:10,repeat:!0,Ca:2E3,xa:!0,Aa:!1};for(var b in a)this.a[b]=a[b];window.AudioContext||window.webkitAudioContext?(this.b=new (window.AudioContext||window.webkitAudioContext),a=new Float32Array([0,0,1,0,1]),b=new Float32Array(a.length),this.h=this.b.createPeriodicWave(b,a)):this.a.xa=!1}
L.prototype.play=function(a){if(!(0>=this.a.data.length||0==this.a.xa)){for(var b=void 0,c=0;c<this.a.data.length;c++)if(a==this.a.data[c].id){b=this.a.data[c];b.X=this.a.data[c].X;b.V=this.b.createOscillator();b.T=this.b.createGain();b.T.connect(this.b.destination);b.T.gain.value=b.volume;b.V.connect(b.T);b.V.setPeriodicWave(this.h);b.index=0;break}if(a=void 0==b?!1:b)this.a.Aa=!0,a.V.start(),M(this,a)}};
L.prototype.stop=function(){for(var a=0;a<this.a.data.length;a++)this.a.xa&&this.a.data[a].V&&this.a.data[a].V.stop();this.a.Aa=!1};
function M(a,b){var c=b.ta/b.X[b.index].duration,d=b.Ca,e=c<d?c/2:d/2;void 0!=b.X[b.index].aa&&(b.V.frequency.setValueAtTime(b.X[b.index].aa,a.b.currentTime),b.V.frequency.linearRampToValueAtTime(b.X[b.index].aa,c),b.T.gain.setValueAtTime(b.T.gain.value,a.b.currentTime),b.T.gain.linearRampToValueAtTime(b.volume,a.b.currentTime+e/1E3),setTimeout(function(){b.T.gain.setValueAtTime(b.T.gain.value,a.b.currentTime);b.T.gain.linearRampToValueAtTime(0,a.b.currentTime+e/1E3)},e));setTimeout(function(){b.index++;
b.index<b.X.length?M(a,b):b.repeat?(b.index=0,M(a,b)):b.V.stop()},c)}var N=[];function oa(a){var b=45,c=Math.pow(2,1/12),d=440;if(void 0==a)return 91;if(440>a)for(;0<b&&(b--,d/=c,Math.floor(d)!=Math.floor(a)););else if(440<a)for(;90>b&&(b++,d*=c,Math.floor(d)!=Math.floor(a)););return b}
function na(){for(var a="32- 2#A1 2F1 4- 4#A1 8#A1 8C2 8D2 8#D2 1F2 4- 4F2 4F2 8#F2 8#G2 1#A2 4- 4#A2 4#A2 8#G2 8#F2 4#G2 8#F2 2F2 2- 2F2 4#D2 8#D2 8F2 2#F2 2- 4F2 4#D2 4#C2 8#C2 8#D2 2F2 2- 4#D2 4#C2 4C2 8C2 8D2 2E2 2- 2G2 1F2".split(" "),b=[],c=0;c<a.length;c++){var d=a[c],e=d[d.length-1];if("-"==e){var f=parseInt(d.substring(0,d.length-1),10);f={duration:f,Ea:"-",Ga:0}}else e=parseInt(e,10),d.startsWith("16")||d.startsWith("32")?(f=parseInt(d.substring(0,2),10),d=d.substring(2,d.length-1),d=d.split("").reverse().join(""),
f={duration:f,Ea:d,Ga:e}):(f=parseInt(d.substring(0,1),10),d=d.substring(1,d.length-1),d=d.split("").reverse().join(""),f={duration:f,Ea:d,Ga:e});e=f;d=f.Ea;var h=f.Ga+1;if(0>=N.length){for(var m="C C# D D# E F F# G G# A A# B".split(" "),k=[],n=0;9>n;n++)k[n]=[];var C=Math.pow(2,1/12);k[4][m[9]]=440;k[4][m[10]]=k[4][m[9]]*C;k[4][m[11]]=k[4][m[10]]*C;for(n=5;8>=n;n++){k[n][m[0]]=k[n-1][m[11]]*C;for(var w=0;w<m.length-1;w++)k[n][m[w+1]]=k[n][m[w]]*C}for(n=4;0<=n;n--)for(k[n][m[11]]=k[n+1][m[0]]/C,w=
m.length-1;0<w;w--)k[n][m[w-1]]=k[n][m[w]]/C;N=k}e.aa=N[parseInt(h,10)][d.toUpperCase()];b.push(f)}return b}function pa(a){a=ta(a);for(var b=[],c=0;c<a.length;c+=2){var d=a[c+1];var e=Math.pow(2,1/12),f=440;if(90<d)d=void 0;else{if(45>d){d=45-d;for(var h=0;h<d;h++)f/=e}else if(45<d)for(d-=45,h=0;h<d;h++)f*=e;d=f}b.push({duration:a[c],aa:d})}}function O(){this.f=new P;this.name="";this.speed=1;this.enabled=!1}O.prototype.K=function(){};O.prototype.update=function(){};O.prototype.v=function(){return new O};
O.prototype.s=function(){var a=this.v();a.f=this.f;for(var b in this)if("string"==typeof this[b]||"number"==typeof this[b])a[b]=this[b];return a};function Q(){p(this,new O);this.speed=1;this.y=this.x=0;this.b=!0}Q.prototype.v=function(){return new Q};Q.prototype.K=function(){this.x=this.f.a.x;this.y=this.f.a.y};
Q.prototype.update=function(){if(0!=this.enabled){for(var a=0;a<this.speed;a++)this.x<this.f.a.x&&(this.b=!0,this.f.a.x--),this.x>this.f.a.x&&(this.b=!0,this.f.a.x++),this.y<this.f.a.y&&(this.b=!0,this.f.a.y--),this.y>this.f.a.y&&(this.b=!0,this.f.a.y++);this.x==this.f.a.x&&this.y==this.f.a.y&&this.b&&(this.enabled=this.b=!1,this.Ha())}};Q.prototype.Ha=function(){};function R(){p(this,new O);this.opacity=0;this.speed=1;this.Ma=!0}R.prototype.v=function(){return new R};
R.prototype.K=function(){this.opacity=this.f.a.opacity};R.prototype.update=function(){if(0!=this.enabled){for(var a=0;a<this.speed;a++)this.opacity<this.f.a.opacity&&(this.b=!0,this.f.a.opacity--),this.opacity>this.f.a.opacity&&(this.b=!0,this.f.a.opacity++);this.f.a.opacity==this.opacity&&(this.enabled=!1,0==this.opacity&&(this.Va(),this.Ma&&(this.f.U(),this.f.a.state=-1)));if(0>this.f.a.opacity||100<this.f.a.opacity)this.enabled=!1}};R.prototype.Va=function(){};
function S(){p(this,new O);this.b=[];this.repeat=!0;this.h=this.$=this.D=0;this.data=[]}S.prototype.v=function(){return p(new S,this)};S.prototype.update=function(){0!=this.enabled&&(this.h>this.data.length-1&&(this.h=0,!1===this.repeat&&(this.enabled=!1)),this.$+this.data[this.h+2]<this.D&&(this.f.a.C=[],this.f.a.sheet.F=this.data[this.h],this.f.a.sheet.H=this.data[this.h+1],this.h+=3,this.D=0),this.D++)};
function za(a,b){b=p({name:"",Gb:0,$:10,repeat:!0,o:{},sheet:{O:1,P:1,F:0,H:0},data:[0,0,0]},b);a.b.push(b)}S.prototype.play=function(a){for(var b=0;b<this.b.length;b++)if(this.b[b].name==a){this.f.a.C=[];this.f.a.o=this.b[b].o;this.f.a.sheet=this.b[b].sheet;this.enabled=!0;this.h=this.D=0;this.$=this.b[b].$;this.data=this.b[b].data;this.repeat=this.b[b].repeat;break}};
function P(){this.a={id:l++,x:0,y:0,width:0,height:0,angle:0,opacity:100,M:0,zIndex:0,state:0};this.c={m:!1,u:!1,ea:!1};this.I={}}g=P.prototype;g.K=function(){};g.update=function(){};g.set=function(a){for(var b in a)this.a[b]=a[b]};g.s=function(){var a=new P;a.context=this.context;return a};g.U=function(){this.a.state=-1};g.da=function(){};g.ha=function(){};function T(){this.a={id:"grid"+l++,type:"grid",name:"grid"}}T.prototype.K=function(){};
T.prototype.update=function(a){this.context.save();this.context.scale(a.scale,a.scale);for(var b=-30;30>b;b++)this.context.strokeStyle="#222",this.context.beginPath(),this.context.moveTo(a.viewport.left%64-64,a.viewport.top%32+32*b),this.context.lineTo(a.viewport.left%64-64+2560,a.viewport.top%32+32*b+1280),this.context.stroke(),this.context.beginPath(),this.context.moveTo(a.viewport.left%64-64+1920,a.viewport.top%32+32*b),this.context.lineTo(a.viewport.left%64-64,a.viewport.top%32+32*b+960),this.context.stroke();
this.context.restore()};function u(a){p(this,new P);this.a.Eb=!1;this.a.o={src:"",L:{src:"",onload:function(){}}};this.a.origin={x:0,y:0};this.a.sheet={O:1,P:1,F:0,H:0};this.a.C=[];this.a.W={x:1,y:1};this.a.wa=0;this.a.align=0;this.a.Ka=0;p(this.a,a)}g=u.prototype;g.K=function(a){this.a.o.L=new Image;this.a.o.L.src=this.a.o.src;this.a.o.L.onload=this.ca;this.a.Ka=a.A.width/a.scale;this.da()};
g.update=function(a){if(!this.a.ab){this.a.ab=!0;this.cache();1==this.a.align&&(this.a.x=this.a.Ka/2-this.a.wa/2);this.context.imageSmoothingEnabled=!1;var b=a.viewport.left,c=a.viewport.top;this.a.W.x||this.a.W.y?(b*=this.a.W.x,c*=this.a.W.y):c=b=0;for(var d=0;d<this.a.C.length;d++)this.context.save(),this.context.scale(a.scale,a.scale),this.context.translate(this.a.x+this.a.C[d].mb+b,this.a.y+this.a.C[d].ob+c),this.context.rotate(this.a.angle*Math.PI/180),this.context.globalAlpha=this.a.opacity/
100,this.context.drawImage(this.a.o.L,this.a.C[d].nb,this.a.C[d].pb,this.a.G.width,this.a.G.height,this.a.origin.x,this.a.origin.y,this.a.width,this.a.height),this.context.restore();this.a.ab=!1}};g.s=function(){var a=new u(this.a);a.a.id=l++;if(this.c&&0<Object.keys(this.c).length)for(var b in this.c)this.c[b]&&(a.c[b]=this.c[b].s());return a};
g.cache=function(){if(this.a.o){if(!this.a.C.length){if(void 0==this.a.o.width||void 0==this.a.o.height)this.a.o.width=this.a.o.L.width,this.a.o.height=this.a.o.L.height;this.a.C.push({nb:this.a.o.width/this.a.sheet.P*this.a.sheet.F,pb:this.a.o.height/this.a.sheet.O*this.a.sheet.H,mb:0,ob:0})}this.a.G={width:this.a.o.width/this.a.sheet.P,height:this.a.o.height/this.a.sheet.O};this.a.wa=this.a.width}};g.da=function(){};g.ha=function(){};
function v(a){p(this,new u(a));this.I={};this.a={G:{set:"",width:1,height:1,xb:1,ya:1,gb:{},fb:1},Ra:1};for(var b in a)this.a[b]=a[b];this.b=new u(this.a);this.a=this.b.a;this.b.cache=this.cache;this.b.ca=this.ca;this.b.da=this.da;this.b.ha=this.ha}g=v.prototype;g.K=function(a){this.b.K(a);this.b.context=this.context};g.s=function(){var a=new v(this.a);a.a.id=l++;if(this.c&&0<Object.keys(this.c).length)for(var b in this.c)this.c[b]&&(a.c[b]=this.c[b].s());return a};
g.cache=function(){if(!this.a.C.length){var a=0,b=this.a.G.set,c=this.a.G.gb,d=this.a.G.fb;this.a.C=[];for(var e=0;e<this.a.t.length;e++){var f=b.indexOf(this.a.t.charAt(e)),h=Math.floor(f%this.a.G.ya)*this.a.G.width;f=Math.floor(f/this.a.G.ya)*this.a.G.height;var m=d,k;for(k in c)if(-1<k.indexOf(this.a.t.charAt(e))){m=c[k];break}this.a.C.push({nb:h,pb:f,mb:a,ob:0});a=a+this.a.width/this.a.G.width*m+this.a.width/this.a.G.width*this.a.Ra}this.a.wa=a}};
g.set=function(a){for(var b in a)this.b.a[b]=a[b];this.b.a.C=[];this.a=this.b.a};function U(a,b){a.b.a.t=b+"";a.b.a.C=[];a.a=a.b.a}g.U=function(){this.b.a.yb=-1;this.a.yb=-1};g.update=function(a){this.b.update(a)};g.ca=function(){};g.da=function(){};g.ha=function(){};function Aa(){this.D=0;this.b={};this.v=1;this.J=0;this.Y=1;this.h=10;this.time=this.state=0;this.R={j:0,l:0,ia:0}}
function V(a,b,c,d,e){a=Math.floor(Math.pow(a,Math.abs(b)+Math.abs(c)));d=a+d;return Math.max(Math.floor(Math.random()*(a+e-d+1))+d,1)}
function Ba(a){for(var b in a.b)if(!1!==a.b[b].l){var c=Ca(a,a.b[b].x,a.b[b].y,1);if(!1===c){c=a.b[b].x;var d=a.b[b].y,e=0,f=0;0!=c&&.5<Math.random()?e=0>c?c+1:c-1:0!=d?f=0>d?d+1:d-1:e=0>c?c+1:c-1;var h=a;var m=c,k=d;if(h.b[e+","+f]&&0==h.b[e+","+f].type&&!1===h.b[e+","+f].l){var n=h.b[e+","+f].l;h.b[e+","+f].l=h.b[m+","+k].l;h.b[m+","+k].l=n;h=!0}else h=!1;c=h?{hb:e,ib:f}:{hb:c,ib:d};a.Ua(a.b[c.hb+","+c.ib]);a.b[b].Hb=!1}else d=a,e=a.b[b],f=c,f.j.S-=Math.max(e.l.attack-f.j.fa,1),e.l.Qa={x:f.x,y:f.y},
d.$a(f),W(d,f.x,f.y),a.b[b].l.Qa=c,a.Sa(a.b[b],c)}}function Da(a){if(!(a.time%a.Y||24>a.R.ia)){var b=Math.max(1,Math.floor(a.R.ia/25)),c=[],d;for(d in a.b)0===a.b[d].type&&!1===a.b[d].l&&c.push(a.b[d]);if(!(0>=c.length))for(c.sort(function(a,b){a=Math.abs(a.x)+Math.abs(a.y);b=Math.abs(b.x)+Math.abs(b.y);return a>b?-1:a<b?1:0}),d=0;d<b;d++){3<b&&(c.length=3);var e=c[Math.floor(Math.random()*c.length)];switch(Math.floor(2*Math.random())+0){case 0:e.l=Ea(a,e);break;case 1:e.l=Fa(a,e)}a.Ta(e)}}}
function Ea(a,b){return{id:a.D++,S:V(1.1,b.x,b.y,0,3),attack:V(1.076,b.x,b.y,-3,0),fa:1,speed:1}}function Fa(a,b){return{id:a.D++,S:V(1.05,b.x,b.y,0,2),Lb:V(1.09,b.x,b.y,-3,0),fa:1,speed:1}}function Ga(a){for(var b in a.b)if(1===a.b[b].type&&!1!==a.b[b].j&&(0<a.b[b].j.sa&&(a.J+=a.b[b].j.sa),0<a.b[b].j.attack)){var c=Ca(a,a.b[b].x,a.b[b].y,0);if(!1!==c){var d=a,e=a.b[b],f=c;f.l.S-=Math.max(e.j.attack-f.l.fa,1);e.j.Qa={x:f.x,y:f.y};0>=f.l.S&&(d.ra(f),W(d,f.x,f.y));a.Ya(a.b[b],c)}}}
function Ha(a,b){if(void 0==a.b[b.x+","+b.y]||0==a.b[b.x+","+b.y])return{status:4};if(!1!==a.b[b.x+","+b.y].l){var c=a.b[b.x+","+b.y];a.ra(c);W(a,c.x,c.y);return{status:3,l:a.b[b.x+","+b.y].l}}if(!1!==a.b[b.x+","+b.y].j)return{status:2,j:a.b[b.x+","+b.y].j};if(a.J<a.h)return{status:5};--a.J;return{status:1,j:a.b[b.x+","+b.y].j}}
function Ia(a,b){if(void 0==a.b[b.x+","+b.y]||0==a.b[b.x+","+b.y])return{status:4};if(!1!==a.b[b.x+","+b.y].l){var c=a.b[b.x+","+b.y];a.ra(c);W(a,c.x,c.y);return{status:3,l:a.b[b.x+","+b.y].l}}if(!1!==a.b[b.x+","+b.y].j)return{status:2,j:a.b[b.x+","+b.y].j};if(a.J<a.h)return{status:5};b.l=!1;a.b[b.x+","+b.y]=b;Ja(a,b.x,b.y,1);a.Za(a.b[b.x+","+b.y]);a.J-=a.h;return{status:1,j:a.b[b.x+","+b.y].j}}
function Ja(a,b,c,d){for(var e=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:-1},{x:1,y:1}],f=0;f<e.length;f++)e[f].x+=b,e[f].y+=c,void 0===a.b[e[f].x+","+e[f].y]&&W(a,e[f].x,e[f].y),0==a.b[e[f].x+","+e[f].y].type&&0<d&&Ja(a,e[f].x,e[f].y,d-1)}function W(a,b,c){a.b[b+","+c]={x:b,y:c,type:0,l:!1,j:!1};a.Xa(a.b[b+","+c])}function Ka(a){a.R={j:0,l:0,ia:0};for(var b in a.b)0===a.b[b].type&&a.R.ia++,0!=a.b[b].j&&a.R.j++,0!=a.b[b].l&&a.R.l++}
function Ca(a,b,c,d){for(var e=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:-1},{x:1,y:1}],f=0;f<e.length;f++)if(e[f].x+=b,e[f].y+=c,0==d&&void 0!=a.b[e[f].x+","+e[f].y]&&!1!==a.b[e[f].x+","+e[f].y].l||1==d&&void 0!=a.b[e[f].x+","+e[f].y]&&!1!==a.b[e[f].x+","+e[f].y].j)return a.b[e[f].x+","+e[f].y];return!1}g=Aa.prototype;g.start=function(){this.state=1;this.update()};
g.play=function(){this.v=.6;this.J=this.h;this.Y=4;this.b={"0,0":{type:0,x:0,y:0,j:!1,l:!1}};W(this,0,0);Ia(this,{x:0,y:0,type:1,j:{S:2,attack:2,sa:2}});this.start()};g.update=function(){var a=this;Ga(a);Ka(a);Ba(a);Ka(a);La(a);Da(a);Ka(a);0<a.v&&1==a.state&&setTimeout(function(){a.update()},1E3/a.v);a.time++};g.pause=function(){1==this.state&&(this.state=2)};g.resume=function(){this.state=1;this.update()};function La(a){0<a.R.j||(a.state=-1,a.Wa())}g.qb=function(){};g.rb=function(){};g.Ta=function(){};
g.Sa=function(){};g.ra=function(){};g.Ua=function(){};g.Za=function(){};g.Ya=function(){};g.$a=function(){};g.Xa=function(){};g.Wa=function(){};function Ma(){this.state=0;this.b={};Na();this.i={};this.g=new fa;this.B={};this.f={};this.h=new X;this.h.context=this.g.context}function Oa(a){a.state=.1;ka();ma();qa(function(){a.state=1})}g=Ma.prototype;g.cb=function(){this.state=3.1;this.state=4};g.La=function(){this.state=4.1;this.state=5};g.Pa=function(){this.state=5.1;this.state=6};
g.eb=function(){this.state=6.1;this.state=7};function Pa(a){setTimeout(function(){switch(a.state){case 0:Y(a.h,5);Oa(a);Y(a.h,20);break;case 1:a.state=1.1;a.v=new Qa(a);a.Da=new Ra(a);a.state=2;Y(a.h,30);break;case 2:a.state=2.1;a.state=3;Y(a.h,40);break;case 3:a.cb();Y(a.h,50);break;case 4:a.La();Y(a.h,60);break;case 5:a.Pa();Y(a.h,70);break;case 6:a.eb();Y(a.h,80);break;case 7:a.state=7.1;a.state=8;Y(a.h,95);break;case 8:Y(a.h,100),a.state=9,setTimeout(a.ca,1E3)}9!=a.state&&Pa(a)},100)}
g.start=function(){Pa(this)};g.ca=function(){};function Na(){String.prototype.startsWith||(String.prototype.startsWith=function(a,b){b=b||0;return this.indexOf(a,b)===b})}function X(){function a(){b.b<b.h&&(b.b+=.1);100==b.h?b.b=100:setTimeout(a,10);b.context&&b.context.canvas&&(b.context.clearRect(0,0,b.context.canvas.width,b.context.canvas.height),b.context.font="16px Georgia, Arial",b.context.fillStyle="#ddd",b.context.fillText("LOADING "+Math.floor(b.b)+"%",10,50))}var b=this;a()}
X.prototype.context={};X.prototype.b=0;X.prototype.h=0;function Y(a,b){a.b=a.h;a.h=b}function Qa(a){this.app=a}
Qa.prototype.start=function(){var a=this;this.h=this.app.f.Z.s();this.h.set({M:5,width:16,height:16,W:{x:0,y:0},align:1,o:D("sf2")});this.v=this.h.s();this.v.set({id:"h1",t:"towerq0  energyq0",y:12});this.b=this.h.s();this.b.set({id:"h2",t:"",y:32,o:D("sf1")});q(this.app.g,this.v);q(this.app.g,this.b);setInterval(function(){U(a.v,"towerq"+a.app.i.R.j+" enemyq"+a.app.i.R.l+" energyq"+a.app.i.J+" areaq"+a.app.i.R.ia);10<a.app.i.J?U(a.b,"tower ready"):U(a.b,"")},100);K(this.app.B.N,"h1",function(){a.app.Da.state=
1;setTimeout(function(){for(var b=t(a.app.g,4),c=0;c<b.length;c++)b[c].c.u.y=b[c].a.y+20,b[c].c.u.enabled=!0,b[c].c.m.opacity=100,b[c].c.m.enabled=!0},100);a.app.i.pause()})};function Ra(a){this.app=a;this.state=0}
Ra.prototype.start=function(){var a=this,b=this.app.g.A.height/this.app.g.scale;this.Fa=this.app.f.Z.s();this.Fa.set({M:4,width:64,height:64,W:{x:0,y:0},align:1,o:D("sf1")});this.h=this.Fa.s();this.h.set({width:32,height:32});this.Ba=this.app.f.button.s();this.Ba.set({M:4,W:{x:0,y:0},align:1});this.pa=this.Fa.s();this.pa.set({id:"m1",t:"adrift",y:90});this.v=this.h.s();this.v.set({id:"m3",t:"play",y:this.pa.a.y+90+60});this.b=this.h.s();this.b.set({id:"m4",t:"sound off",y:this.v.a.y+32+60});this.Y=
this.h.s();this.Y.set({id:"m5",t:"lost in in the abyss",width:14,height:14,y:this.b.a.y+32+60});this.ma=this.Y.s();this.ma.set({id:"m6",t:"adrifted from an unknown world",y:this.Y.a.y+16});this.na=this.ma.s();this.na.set({id:"m7",t:"survive gather and find energy",y:this.ma.a.y+16});this.oa=this.na.s();this.oa.set({id:"m8",t:"protect your tower",y:this.na.a.y+26,o:D("sf3")});this.lb=this.oa.s();this.lb.set({id:"m9",t:"click monster to destory",y:this.oa.a.y+16});this.D=this.h.s();this.D.set({id:"c1",
t:"developer",width:14,height:14,o:D("sf2"),y:b-64});this.kb=this.D.s();this.kb.set({id:"c2",t:"pinoypixel",y:this.D.a.y+14+4});this.bb=this.Ba.s();this.bb.set({id:"b1",y:this.v.a.y-20});this.jb=this.Ba.s();this.jb.set({id:"b2",y:this.b.a.y-20});K(this.app.B.N,"b1",function(){1!=a.state||0!=a.app.i.state&&2!=a.app.i.state&&-1!=a.app.i.state||(a.state=2,setTimeout(function(){for(var b=t(a.app.g,4),d=0;d<b.length;d++)b[d].c.m.Ma=!1,b[d].c.u.y=b[d].a.y-20,b[d].c.u.enabled=!0,b[d].c.m.opacity=0,b[d].c.m.enabled=
!0;a.state=0;setTimeout(function(){if(0==a.app.i.state)a.app.i.play(),U(a.pa,"pause"),U(a.v,"resume");else if(2==a.app.i.state)a.app.i.resume();else if(-1==a.app.i.state){for(var b=t(a.app.g,1),c=0;c<b.length;c++)b[c].U();b=t(a.app.g,0);for(c=0;c<b.length;c++)b[c].U();a.app.i.play()}},400)},100))});K(this.app.B.N,"b2",function(){a.app.B.ja.a.Aa?(a.app.B.ja.stop(),U(a.b," sound on ")):(a.app.B.ja.play("default"),U(a.b,"sound off"))});q(this.app.g,this.bb);q(this.app.g,this.jb);q(this.app.g,this.pa);
q(this.app.g,this.v);q(this.app.g,this.b);q(this.app.g,this.Y);q(this.app.g,this.ma);q(this.app.g,this.na);q(this.app.g,this.oa);q(this.app.g,this.lb);q(this.app.g,this.D);q(this.app.g,this.kb);this.state=1};Ra.prototype.U=function(){};function Z(){p(this,new Ma);this.i=new Aa;this.g.context.canvas.style.background="#000";this.b.offset=sa({x:this.g.A.width/this.g.scale/2,y:this.g.A.height/this.g.scale/2})}
Z.prototype.cb=function(){this.state=3.1;this.B.N=new H({});var a=this.g,b=this.B.N;b.context=a.context;b.K(a);a.b[b.a.id]=b;this.B.ja=new L({});a=this.B.ja;b=ra("default",y);var c={ta:a.a.ta,repeat:a.a.repeat,volume:a.a.volume,Ca:a.a.Ca,X:[]},d;for(d in b)c[d]=b[d];a.a.data.push(c);this.state=4};
Z.prototype.La=function(){this.state=4.1;this.f.ub=new T;q(this.g,this.f.ub);this.f.Z=new v({name:"sf",height:32,width:32,t:"",Ra:0,origin:{x:0,y:0},o:D("sf1"),M:1,opacity:100,G:{set:"abcdefghijklmnopqrstuvwxyz0123456789 ",width:150,height:150,xb:6,ya:6,gb:{iq:40,"1 ":50,ty:120,mw:130},fb:110}});this.f.Z.c.m=new R;this.f.Z.c.m.speed=10;this.f.Z.c.u=new Q;this.f.Ja=this.f.Z.s();this.f.Ja.set({width:16,height:16,o:D("sf3")});this.f.Ja.c.m.speed=2;this.f.button=new u({name:"button",height:75,width:450,
origin:{x:0,y:0},o:D("btn"),sheet:{O:6,P:1,F:0,H:1},M:0,angle:0,zIndex:1});this.f.button.c.m=new R;this.f.button.c.m.speed=10;this.f.button.c.u=new Q;this.f.j=new u({name:"t",height:62,width:62,origin:{x:-31,y:-31},o:D("t"),sheet:{O:2,P:2,F:0,H:0},M:1,angle:0,zIndex:1});this.f.j.c.m=new R;this.f.j.c.ea=new S;za(this.f.j.c.ea,{name:"attack",o:D("t"),repeat:!1,$:5,sheet:{O:2,P:2,F:2,H:0},data:[1,0,1,0,0,2,1,0,1,0,0,1]});za(this.f.j.c.ea,{name:"dead",o:D("t"),repeat:!1,$:5,sheet:{O:2,P:2,F:2,H:0},data:[0,
1,3,1,1,3,0,1,3,1,1,3]});this.f.Ia=new u({name:"g",height:70,width:63,sheet:{O:5,P:5,F:0,H:0},origin:{x:-32,y:-35},o:D("g"),M:0,Fb:!1});this.f.Ia.c.m=new R;this.f.Ia.c.u=new Q;this.f.l=new u({name:"e",height:64,width:64,origin:{x:-32,y:-32},sheet:{O:2,P:2,F:0,H:0},o:D("e"),Nb:4,Mb:4,M:1,angle:0,zIndex:2});this.f.l.c.m=new R;this.f.l.c.u=new Q;this.state=5};
Z.prototype.Pa=function(){this.state=5.1;var a=this;a.i.qb=function(){};a.i.rb=function(){};a.i.Za=function(b){var c=E(b,a.b.offset),d=a.f.j.s();d.set(c);b.j.id=d.a.id;q(a.g,d)};a.i.Ya=function(b,c){var d=r(a.g,b.j.id),e=a.f.Ja.s();d.c.ea.play("attack");e.set(E(c,a.b.offset));U(e,b.j.attack);q(a.g,e);e.c.m.opacity=0;e.c.m.enabled=!0;e.c.u.y=e.a.y-20;e.c.u.enabled=!0};a.i.$a=function(b){var c=r(a.g,b.j.id);c.c.ea.play("dead");setTimeout(function(){c.U()},1E3)};a.i.Ta=function(b){var c=E(b,!1);c={x:c.x+
a.b.offset.x,y:c.y+a.b.offset.y,opacity:10};var d=a.f.l.s();b.l.id=d.a.id;d.set(c);q(a.g,d);d.c.m.speed=5;d.c.m.opacity=100;d.c.m.enabled=!0;d.I.va=a.i.time};a.i.Sa=function(b){b=r(a.g,b.l.id);b instanceof u&&(b.I.va=a.i.time)};a.i.Ua=function(b){var c=r(a.g,b.l.id);b=E(b,!1);var d={Ib:b.x+a.b.offset.x,Jb:b.y+a.b.offset.y};c instanceof u&&(c.c.u.enabled=!0,c.c.u.speed=4,c.c.u.x=b.x+a.b.offset.x,c.c.u.y=b.y+a.b.offset.y,c.c.u.Ha=function(){},c.set(d),c.I.va=a.i.time)};a.i.ra=function(b){var c=r(a.g,
b.l.id);c instanceof u&&(c.a.sheet.F=1,c.a.C=[],c.c.m.speed=5,c.c.m.opacity=0,c.c.m.enabled=!0,c.c.m.Va=function(){c.U()})};a.i.Xa=function(b){if(!1===r(a.g,b.id)){a.i.ua=void 0!=a.i.ua?a.i.ua+1:0;var c=E(b,!1),d={x:c.x+a.b.offset.x,y:c.y+a.b.offset.y-640+64*a.i.ua,opacity:10,sheet:{O:5,P:5,F:Math.floor(5*Math.random())+0,H:Math.floor(2*Math.random())+0}},e=a.f.Ia.s();b.id=e.a.id;e.set(d);e.a.C=[];q(a.g,e);e.c.m.speed=5;e.c.m.opacity=100;e.c.m.enabled=!0;e.c.u.speed=20;e.c.u.y=c.y+a.b.offset.y;e.c.u.enabled=
!0;e.c.u.Ha=function(){a.i.ua--}}};a.i.Wa=function(){a.Da.state=1;U(r(a.g,"m1"),"gameover");U(r(a.g,"m3"),"retry");setTimeout(function(){for(var b=t(a.g,4),c=0;c<b.length;c++)b[c].c.u.y=b[c].a.y+20,b[c].c.u.enabled=!0,b[c].c.m.opacity=100,b[c].c.m.enabled=!0},100)};this.state=6};
Z.prototype.eb=function(){this.state=6.1;var a=this;a.B.N.v=function(b){1==a.i.state&&b.ba&&(10<Math.abs(b.position.ka-b.position.x)||10<Math.abs(b.position.la-b.position.y))&&(a.g.viewport.left-=b.position.Na/a.g.scale,a.g.viewport.top-=b.position.Oa/a.g.scale,a.B.N.I.za=!0)};a.B.N.h=function(){a.B.N.I.za=!1};a.B.N.D=function(b){var c;if(1==a.i.state&&!1===a.B.N.I.za){b=sa(b.position);if(c=a.b.offset)b.x-=c.x,b.y-=c.y;c=(b.x/32+b.y/16)/2;var d=(b.y/16-b.x/32)/2;b=Ha(a.i,{x:c,y:d,type:1,j:{S:1,attack:0,
fa:1,speed:1,sa:0,tb:2}});1==b.status&&10<a.i.J&&(b=Ia(a.i,{x:c,y:d,type:1,j:{S:1,attack:0,fa:1,speed:1,sa:0,tb:2}}));if(1<b.status){c=a.f.Z.s();c.set({align:1,y:120,width:26,height:26,W:{x:0,y:0},M:5});c.c.m.speed=4;d=c.s();d.set({y:150});q(a.g,c);q(a.g,d);switch(b.status){case 2:U(c,"area");U(d,"occupied");break;case 3:U(c,"enemy spotted");U(d,"destroy target");break;case 4:U(c,"tile is too far");break;case 5:U(c,"not enough energy")}c.c.m.opacity=0;c.c.u.y=c.a.y-20;c.c.m.enabled=!0;c.c.u.enabled=
!0;d.c.m.opacity=0;d.c.u.y=d.a.y-20;d.c.m.enabled=!0;d.c.u.enabled=!0}}a.B.N.I.za=!1};this.state=7};window.onload=function(){var a=new Z;a.start();a.ca=function(){a.B.ja.play("default");a.g.start();a.Da.start();a.v.start();setInterval(function(){var b=0,c;for(c in a.g.w){var d=a.g.w[c];d.I&&d.I.va&&d.I.va<a.i.time-20&&d.U();b++}},1E3)};window.blur=function(){a.g.pause();a.i.pause()};window.focus=function(){a.g.resume();a.i.resume()}};
