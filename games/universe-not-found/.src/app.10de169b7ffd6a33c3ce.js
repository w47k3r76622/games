!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addVessels=t.probes=t.ships=t.GAME_STATE=t.PADDING=t.HEIGHT_WITH_GAP=t.WIDTH_WITH_GAP=t.HEIGHT=t.WIDTH=t.GAME_HEIGHT=t.GAME_WIDTH=t.FUEL_AMOUNT=t.FONT_SIZE=t.MOON_GATE_SIZE=t.DOOR_SIZE=t.PROBE_SIZE=t.SHIP_SIZE=void 0,t.SHIP_SIZE=10,t.PROBE_SIZE=5,t.DOOR_SIZE=25,t.MOON_GATE_SIZE=40,t.FONT_SIZE=20,t.FUEL_AMOUNT=1e3,t.GAME_WIDTH=1080,t.GAME_HEIGHT=612,t.WIDTH=250,t.HEIGHT=275,t.WIDTH_WITH_GAP=t.WIDTH+15,t.HEIGHT_WITH_GAP=t.HEIGHT+35,t.PADDING=10,t.GAME_STATE={NORMAL:0,DESTROYED:1,ENTERED_MOON_GATE:2,FUEL_EMPTY:3},t.ships=[[t.PADDING,5],[t.PADDING,50],[t.PADDING,95]],t.probes=[[t.ships[0][0]+t.SHIP_SIZE,t.ships[0][1]],[t.ships[1][0]+t.SHIP_SIZE,t.ships[1][1]],[t.ships[2][0]+t.SHIP_SIZE,t.ships[2][1]]],t.addVessels=()=>{t.ships.push([t.PADDING,140]),t.probes.push([t.ships[3][0]+t.SHIP_SIZE,t.ships[3][1]]),t.probes.push([t.PADDING+t.SHIP_SIZE,180])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLevels=void 0;const o=n(0),i=[[{x:0,y:0,name:"Π",active:!0,doors:[[o.WIDTH-o.PADDING,o.PADDING,2],[o.WIDTH-o.PADDING,200,-1]]},{x:o.WIDTH_WITH_GAP,y:0,name:"Ρ",doors:[[o.WIDTH-o.PADDING,o.HEIGHT/2,5],[o.PADDING/3,100,-1]]},{x:2*o.WIDTH_WITH_GAP,y:0,name:"Σ",doors:[[-o.PADDING/2,o.PADDING+o.PADDING,-1],[o.WIDTH-o.PADDING,.7*o.HEIGHT,4]]},{x:0,y:o.HEIGHT_WITH_GAP,name:"Τ",doors:[[o.WIDTH-o.PADDING,o.PADDING,1],[o.WIDTH-o.PADDING,200,-1]]},{x:o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"Υ",doors:[[o.WIDTH-o.PADDING,.45*o.HEIGHT,-1],[o.PADDING,.7*o.HEIGHT,3]]},{x:2*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"Φ",doors:[]}],[{x:0,y:0,name:"ΰ",active:!0,doors:[[o.WIDTH-o.PADDING,o.PADDING,-1],[o.WIDTH-o.PADDING,200,4],[0,170,4]]},{x:o.WIDTH_WITH_GAP,y:0,name:"α",doors:[]},{x:2*o.WIDTH_WITH_GAP,y:0,name:"β",doors:[[145,.75*o.HEIGHT,1]]},{x:3*o.WIDTH_WITH_GAP,y:0,name:"γ",doors:[[o.PADDING+o.PADDING,o.PADDING+o.PADDING,-1],[o.WIDTH-o.PADDING,.8*o.HEIGHT,5]]},{x:0,y:o.HEIGHT_WITH_GAP,name:"η",doors:[[o.WIDTH-o.PADDING,10,-1],[o.WIDTH-o.PADDING,50,3],[o.WIDTH-o.PADDING,100,-1],[o.WIDTH-o.PADDING,200,-1]]},{x:o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"δ",doors:[[o.WIDTH-o.PADDING,.66*o.HEIGHT,-1],[123,200,6]]},{x:2*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ζ",doors:[[o.PADDING+o.PADDING,o.PADDING+o.PADDING,7],[o.WIDTH-o.PADDING,.1*o.HEIGHT,-1]]},{x:3*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ε",doors:[[o.WIDTH-o.PADDING,50,-1],[o.WIDTH-o.PADDING,150,2]]}],[{x:0,y:0,name:"ΰπ",active:!0,doors:[[o.WIDTH-o.PADDING,o.PADDING,-1],[0,.9*o.HEIGHT,4]]},{x:o.WIDTH_WITH_GAP,y:0,name:"π",doors:[[o.WIDTH-o.PADDING,0,6],[o.WIDTH-o.PADDING,30,-1],[o.WIDTH-o.PADDING,70,3],[o.WIDTH-o.PADDING,100,0],[o.WIDTH-o.PADDING,200,-1]]},{x:2*o.WIDTH_WITH_GAP,y:0,name:"σ",doors:[[o.PADDING+o.PADDING,o.PADDING+o.PADDING,-1],[o.WIDTH-o.PADDING,.8*o.HEIGHT,1]]},{x:3*o.WIDTH_WITH_GAP,y:0,name:"ς",doors:[[o.WIDTH-o.PADDING,.15*o.HEIGHT,2]]},{x:0,y:o.HEIGHT_WITH_GAP,name:"τ",doors:[[0,200,3],[o.WIDTH-o.PADDING,200,-1]]},{x:o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"υ",doors:[]},{x:2*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ζυυ",doors:[[25,0,-1],[o.WIDTH-o.PADDING,.1*o.HEIGHT,7]]},{x:3*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"φ",doors:[[156,50,-1],[186,50,2],[216,50,5]]}]];t.default=i,t.addLevels=()=>{i.push([{x:0,y:0,name:"φπ",active:!0,doors:[[0,.9*o.HEIGHT,7]]},{x:o.WIDTH_WITH_GAP,y:0,name:"φ",doors:[[45,90,-1],[45,150,4],[o.WIDTH-o.PADDING,100,0]]},{x:2*o.WIDTH_WITH_GAP,y:0,name:"υ",doors:[[o.WIDTH-o.PADDING,0,1],[o.WIDTH-o.PADDING,30,-1],[o.WIDTH-o.PADDING,200,-1]]},{x:3*o.WIDTH_WITH_GAP,y:0,name:"ς",doors:[[o.WIDTH-o.PADDING,.65*o.HEIGHT,5],[o.WIDTH-o.PADDING,.85*o.HEIGHT,-1]]},{x:0,y:o.HEIGHT_WITH_GAP,name:"τ",doors:[[0,200,-1],[100,200,-1],[o.WIDTH-o.PADDING,200,3]]},{x:o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ε",doors:[[25,0,6],[25,50,6],[25,100,0]]},{x:2*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"COIL",doors:[]},{x:3*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ΦΦΦ",doors:[[156,50,-1],[186,50,2],[186,90,2],[186,130,2],[216,170,-1]]}],[{x:0,y:0,name:"ΰΦ",active:!0,doors:[[.55*o.WIDTH,.35*o.HEIGHT,5]]},{x:o.WIDTH_WITH_GAP,y:0,name:"π",doors:[[o.WIDTH-o.PADDING,0,-1],[o.PADDING,30,0],[o.WIDTH-o.PADDING,70,7],[o.PADDING,100,0],[o.WIDTH-o.PADDING,200,0]]},{x:2*o.WIDTH_WITH_GAP,y:0,name:"υ COIL",doors:[]},{x:3*o.WIDTH_WITH_GAP,y:0,name:"σ",doors:[[o.PADDING,.7*o.HEIGHT,4],[o.PADDING,.27*o.HEIGHT,-1]]},{x:0,y:o.HEIGHT_WITH_GAP,name:"Π",doors:[[0,.6*o.HEIGHT,1],[120,.6*o.HEIGHT,-1],[o.WIDTH-o.PADDING,200,-1]]},{x:o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ϕ",doors:[[o.WIDTH-o.PADDING,50,3],[0,200,-1]]},{x:2*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ζφυ",doors:[[55,55,2],[o.PADDING,.1*o.HEIGHT,-1]]},{x:3*o.WIDTH_WITH_GAP,y:o.HEIGHT_WITH_GAP,name:"ω",doors:[[o.PADDING,.8*o.HEIGHT,-1],[o.PADDING,.5*o.HEIGHT,6],[o.WIDTH-o.PADDING,.7*o.HEIGHT,-1]]}])}},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.checkCollisions=void 0;const i=n(0),r=o(n(3));t.checkCollisions=(e,t)=>{let n=void 0;return e.doors.forEach(o=>{r.default([t[0],t[1]],t[2],[e.x+o[0],e.y+o[1]],i.DOOR_SIZE)&&(n=o,-1===o[2]&&(o[3]=!0))}),n},t.render=function(e,t){t.doors.forEach(n=>{n[3]?e.fillStyle="crimson":e.fillStyle="darkviolet",e.fillRect(t.x+n[0],t.y+n[1],i.DOOR_SIZE/2,i.DOOR_SIZE)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t,n,o)=>{return i=e[0],r=e[1],s=e[0]+t,l=e[1]+t,a=n[0],c=n[1],u=n[0]+o,I=n[1]+o,!(s<=a||i>u||l<=c||r>I);var i,r,s,l,a,c,u,I}},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.checkCollisions=void 0;const i=n(0),r=o(n(3)),s=["255,0,0","255,127,0","255,255,0","127,255,0","0,255,0","0,255,127","0,255,255","0,127,255","0,0,255","127,0,255","255,0,255","255,0,127"],l=s.length,a=()=>s[(new Date).getSeconds()%l],c=e=>[e.x+i.WIDTH/2,e.y+i.HEIGHT/2];t.checkCollisions=(e,t)=>{if(e.doors.length)return!1;const n=c(e);return r.default([t[0],t[1]],t[2],[n[0]-i.MOON_GATE_SIZE,n[1]-i.MOON_GATE_SIZE],2*i.MOON_GATE_SIZE)},t.render=function(e,t){const n=c(t);e.beginPath(),e.arc(n[0],n[1],i.MOON_GATE_SIZE,-4,1),e.fillStyle=`rgb(${a()})`,e.fill(),e.fillStyle="#333",e.fillRect(n[0]-i.MOON_GATE_SIZE-10,n[1]+i.MOON_GATE_SIZE-10,100,7)}},function(e,t,n){e.exports=n(6)},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7),l=r(n(8)),a=n(9),c=n(2),u=n(4),I=n(11),D=n(12),d=n(13),H=n(14),T=n(0),f=n(1);let G=0,_=0,p=T.FUEL_AMOUNT,A=3;const y=document.getElementById("s"),E=document.getElementById("t"),h=document.getElementById("m"),P=document.getElementById("l"),W=document.getElementById("g"),v=document.createElement("canvas");W.appendChild(v),v.width=T.GAME_WIDTH,v.height=T.GAME_HEIGHT;const m=v.getContext("2d"),N=(e,t)=>{P.prepend(`[${t?"??:??:?? ::":(new Date).toLocaleTimeString()}]: ${e}\n`)};const S=e=>T.FUEL_AMOUNT*Math.max(1,e-1);function b(e,t,n){const o=c.checkCollisions(t,e);if(o){if(!(o[2]>-1))return p=S(n),a.play404(),s.destroyActivePlayer(),T.GAME_STATE.DESTROYED;{const t=s.goToUniverse(o[2]);t&&(a.playWarp(),function(e,t){e[0]=t.x+0,e[1]=t.y+T.HEIGHT/2,t.doors.length||N("A Moon Gate! Should we enter it?")}(e,t))}}return T.GAME_STATE.NORMAL}function M(e,t,n,o){const i=l.default(e);t[0]+=i[0],t[1]+=i[1],function(e,t){const n=t.x+T.WIDTH-e[2],o=t.y+T.HEIGHT-e[2];e[0]<t.x?e[0]=t.x:e[0]>n&&(e[0]=n),e[1]<t.y?e[1]=t.y:e[1]>o&&(e[1]=o)}(t,n);const r=b(t,n,o);if(u.checkCollisions(n,t))return function(e,t){a.playEnterGate(),s.goToNextLevel(),N("Moon Gate Entered."),N("----",!0),N(`We have entered into a new Mother Universe: Mμ${t+1}.`,!0),N("Calibrated sensors to new time vortex."),p=S(t+1),e[0]=T.WIDTH/2,e[1]=T.HEIGHT/2}(t,o),2;const c=function(e,t){return p-=.5*(Math.abs(e[0])+Math.abs(e[1])),p<0?(N("Fuel Supply Empty."),N("Vessel Lost."),N("---"),p=S(t),a.playNoFuel(),s.destroyActivePlayer(),T.GAME_STATE.FUEL_EMPTY):T.GAME_STATE.NORMAL}(i,o);return c!==T.GAME_STATE.NORMAL?c:r}const g=(e,t)=>{e!==t.innerHTML&&(t.innerHTML=e)};function O(e){G=e,requestAnimationFrame(x)}function x(){const e=Date.now(),t=(e-G)/1e3,n=s.getContext();return m.clearRect(0,0,v.width,v.height),n.levelNum>1&&void 0===n.universe?(a.playGameWin(),void I.render(m,T.ships.length===A,_)):function(e,t){let n=0;return t.player&&t.universe&&(p-=.25*e,n=M(e,t.player,t.universe,t.levelNum)),g("<b>Fuel:</b> "+~~p,E),g("<b>Survivors:</b> "+100*T.ships.length,y),g(`<b>Status:</b>\n\t\tExploring <i>Level ${t.levelNum}</i> |\n\t\t ${T.ships.length} <i>ships left</i> | ${T.probes.length} <i>probes left</i>`,h),n===T.GAME_STATE.DESTROYED&&(N("Warning - ERC#+404-0-404: Universe Not Found!"),N("Vessel Lost."),N("---")),n}(t,n)!==T.GAME_STATE.NORMAL?(O(e),void m.clearRect(0,0,v.width,v.height)):n.player?(function(e){e.level&&(H.render(m,e.level),D.render(m,T.ships),d.render(m,T.probes)),e.player&&l.render(m,e.player)}(n),void O(e)):(g('<div class="over">\n\t\t<h2>Game Over</h2>\n\t\t<p>Refresh reality (...the page) to Retry</p>\n\t\t</div>',W),void a.playGameLoss())}(()=>{const e=document.getElementById("title"),t=document.getElementById("game");e.addEventListener("click",()=>{t.className="",document.monetization&&"started"===document.monetization.state&&(N("We Have Discovered a Coil Scribe! Our Ships Were Cloned."),N("Our Sensors Have Detected Additional Levels Because of the Coil Scribe."),T.addVessels(),A=4,f.addLevels()),p=T.FUEL_AMOUNT,s.reset(),a.playBgm(),G=Date.now(),_=Date.now(),x()})})()},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.goToNextLevel=t.destroyActivePlayer=t.goToUniverse=t.reset=t.getContext=void 0;const i=n(0),r=o(n(1));let s=void 0,l=void 0,a=void 0,c=1,u=-1;const I=()=>{const e=r.default.shift();return c=u-r.default.length,e};t.getContext=()=>(s||(s=(()=>{const e=i.probes.pop();if(e)return[e[0],e[1],i.PROBE_SIZE,"rgba(0,255,0,0.5)"];const t=i.ships.pop();return t?[t[0],t[1],i.SHIP_SIZE,"rgba(34,100,140,0.9)"]:void 0})()),l||(l=I(),a=a||(l?l[0]:void 0)),{player:s,level:l,levelNum:c,universe:a}),t.reset=()=>{u=r.default.length,s=void 0,l=void 0,a=void 0},t.goToUniverse=e=>{if(l&&l[e])return l[e].active=!0,a=l[e],a},t.destroyActivePlayer=()=>{l&&(l=l.map((e,t)=>(0!==t&&(e.active=!1),e)),a=l[0]),s=void 0},t.goToNextLevel=()=>{l=I(),a=l?l[0]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;let o={};document.addEventListener("keydown",e=>{o[e.key]=1}),document.addEventListener("keyup",e=>{o[e.key]=0}),window.addEventListener("blur",()=>{o={}}),t.render=function(e,t){e.fillStyle=t[3],e.fillRect(t[0],t[1],t[2],t[2])},t.default=e=>{const t=[0,0];return o.s&&(t[1]+=120*e),o.w&&(t[1]-=120*e),o.a&&(t[0]-=120*e),o.d&&(t[0]+=120*e),t}},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.playBgm=t.playGameLoss=t.playGameWin=t.playEnterGate=t.playNoFuel=t.play404=t.playWarp=void 0;const i=o(n(10)),r=new AudioContext,s=new i.default.Sequence(r,300,["G4 s","D4 s","F4 s"]);s.loop=!1,t.playWarp=()=>{s.play(r.currentTime)};const l=new i.default.Sequence(r,220,["G4 s","G3 q"]);l.loop=!1,t.play404=()=>{l.play(r.currentTime)};const a=new i.default.Sequence(r,220,["G2 s","G3 s","F2 s","D3 s"]);a.loop=!1,t.playNoFuel=()=>{a.play(r.currentTime)};const c=new i.default.Sequence(r,180,["E3  e","F3  e","G3  e","F3  e","E3  e","F3  e","D3  q"]);c.loop=!1,t.playEnterGate=()=>{c.play(r.currentTime)};const u=new i.default.Sequence(r,180,["E5  s","F5  s","G5  q","F5  e","E5  e","D5  q"]);u.loop=!1,t.playGameWin=()=>{u.play(r.currentTime)};const I=new i.default.Sequence(r,180,["E2  s","F2  s","G2  q","F2  e","E2  e","D2  q"]);I.loop=!1,t.playGameLoss=()=>{I.play(r.currentTime)};const D=new i.default.Sequence(r,60,["- e","F3 e","A3 q","Bb3 e","F3 e","A3 q","Bb3 e","F3 e","E3 e","G3 e","F3 e","E3 e","D3 q","- e","Bb3 s","A3 s","Bb3 e","F3 e","A3 e","Bb3 s","F3 s","A3 e","E3 e","F3 e","G3 e","F3 e","E3 s","F3 s","E3 e","D3 q"]),d=new i.default.Sequence(r,60,["- e","F5 e","A5 q","Bb5 e","F5 e","A5 q","Bb5 e","F5 e","E5 e","G5 e","F5 e","E5 e","D5 q","- e","Bb5 s","A5 s","Bb5 e","F5 e","A5 e","Bb5 s","F5 s","A5 e","E6 e","F6 e","G6 e","F6 e","E6 s","F6 s","E6 e","D6 q"]),H=new i.default.Sequence(r,60,["F2 q","- h","F2 q","A2 q","- h","A2 q","Bb2 q","- h","Bb2 q","F2 h","A2 h"]);d.staccato=.55,H.smoothing=.4,D.gain.gain.value=.2,d.gain.gain.value=.05,H.gain.gain.value=.05,d.mid.frequency.value=1200,H.mid.gain.value=3,H.bass.gain.value=6,H.bass.frequency.value=80,H.mid.gain.value=-6,H.mid.frequency.value=500,H.treble.gain.value=-2,H.treble.frequency.value=1400,t.playBgm=()=>{const e=r.currentTime;D.play(e),d.play(e+15.5),H.play(e)}},function(e,t,n){var o,i,r;i=[t],void 0===(r="function"==typeof(o=function(e){var t=440*Math.pow(Math.pow(2,1/12),-9),n=/^[0-9.]+$/,o=/\s+/,i=/(\d+)/,r={};function s(e){var t=e.split(o);this.frequency=s.getFrequency(t[0])||0,this.duration=s.getDuration(t[1])||0}function l(e,t,n){this.ac=e||new AudioContext,this.createFxNodes(),this.tempo=t||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,n||[])}"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach((function(e,t){e.split("-").forEach((function(e){r[e]=t}))})),s.getFrequency=function(e){var n=e.split(i),o=r[n[0]],s=(n[1]||4)-4;return t*Math.pow(Math.pow(2,1/12),o)*Math.pow(2,s)},s.getDuration=function(e){return n.test(e)?parseFloat(e):e.toLowerCase().split("").reduce((function(e,t){return e+("w"===t?4:"h"===t?2:"q"===t?1:"e"===t?.5:"s"===t?.25:0)}),0)},l.prototype.createFxNodes=function(){var e=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(t,n){(n=this[t[0]]=this.ac.createBiquadFilter()).type="peaking",n.frequency.value=t[1],e.connect(e=n)}.bind(this)),e.connect(this.ac.destination),this},l.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(e){this.notes.push(e instanceof s?e:new s(e))}.bind(this)),this},l.prototype.createCustomWave=function(e,t){t||(t=e),this.waveType="custom",this.customWave=[new Float32Array(e),new Float32Array(t)]},l.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},l.prototype.scheduleNote=function(e,t){var n=60/this.tempo*this.notes[e].duration,o=n*(1-(this.staccato||0));return this.setFrequency(this.notes[e].frequency,t),this.smoothing&&this.notes[e].frequency&&this.slide(e,t,o),this.setFrequency(0,t+o),t+n},l.prototype.getNextNote=function(e){return this.notes[e<this.notes.length-1?e+1:0]},l.prototype.getSlideStartDelay=function(e){return e-Math.min(e,60/this.tempo*this.smoothing)},l.prototype.slide=function(e,t,n){var o=this.getNextNote(e),i=this.getSlideStartDelay(n);return this.setFrequency(this.notes[e].frequency,t+i),this.rampFrequency(o.frequency,t+n),this},l.prototype.setFrequency=function(e,t){return this.osc.frequency.setValueAtTime(e,t),this},l.prototype.rampFrequency=function(e,t){return this.osc.frequency.linearRampToValueAtTime(e,t),this},l.prototype.play=function(e){return e="number"==typeof e?e:this.ac.currentTime,this.createOscillator(),this.osc.start(e),this.notes.forEach(function(t,n){e=this.scheduleNote(n,e)}.bind(this)),this.osc.stop(e),this.osc.onended=this.loop?this.play.bind(this,e):null,this},l.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},e.Note=s,e.Sequence=l})?o.apply(t,i):o)||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const o=n(0),i=o.GAME_WIDTH/6,r=[o.GAME_WIDTH/2,o.GAME_HEIGHT/2];t.render=function(e,t,n){const s=(Date.now()-n)/1e3;e.fillStyle="#fff",e.font='25px "Courier New", Courier, monospace',e.fillText("You Found a Safe Universe",o.GAME_WIDTH/3,25),e.font='20px "Courier New", Courier, monospace',e.fillText(`Your Journey Score Was ${s} (lower is better)`,o.GAME_WIDTH/4,545),t?(e.fillStyle="#2E8B57",e.fillText("Accomplished Leader: All Ships Survived",o.GAME_WIDTH/3.5,65)):(e.fillStyle="rgba(34, 100, 140, 0.9)",e.fillText("Great Leader: Most Ships Survived",o.GAME_WIDTH/3,65),e.fillStyle="#333",e.fillText("Retry (refresh page) For a Perfect Mission",o.GAME_WIDTH/3.5,95)),e.beginPath(),e.arc(r[0],r[1],i,0,2*Math.PI),e.fillStyle="blue",e.fill();const l=[r[0]-i,r[1]-i];e.fillStyle="green",e.fillRect(l[0]+70,l[1]+40,10,15),e.fillRect(l[0]+65,l[1]+45,15,15),e.fillRect(l[0]+65,l[1]+50,15,15),e.fillRect(l[0]+65,l[1]+55,20,15),e.fillRect(l[0]+75,l[1]+100,25,25),e.fillRect(l[0]+70,l[1]+125,75,25),e.fillRect(l[0]+65,l[1]+150,100,25),e.fillRect(l[0]+45,l[1]+175,100,25),e.fillRect(l[0]+50,l[1]+200,115,25),e.fillRect(l[0]+65,l[1]+225,150,25),e.fillRect(l[0]+65,l[1]+250,125,25),e.fillRect(l[0]+70,l[1]+275,100,25),e.fillRect(l[0]+225,l[1]+40,15,15),e.fillRect(l[0]+220,l[1]+55,25,15),e.fillRect(l[0]+215,l[1]+70,30,15),e.fillRect(l[0]+215,l[1]+85,55,15),e.fillRect(l[0]+210,l[1]+100,70,15),e.fillRect(l[0]+205,l[1]+115,50,15),e.fillRect(l[0]+215,l[1]+130,45,15),e.fillRect(l[0]+220,l[1]+145,30,15),e.fillRect(l[0]+255,l[1]+275,30,20),e.fillRect(l[0]+265,l[1]+295,15,20),e.fillRect(l[0]+275,l[1]+315,5,10),e.fillRect(l[0]+305,l[1]+180,30,20),e.fillRect(l[0]+300,l[1]+200,15,20),e.fillRect(l[0]+275,l[1]+220,5,10),e.fillStyle="rgba(255,255,255,0.7)",e.fillRect(l[0]+70,l[1]+120,10,5),e.fillRect(l[0]+65,l[1]+125,20,5),e.fillRect(l[0]+70,l[1]+125,10,5),e.fillRect(l[0]+100,l[1]+35,10,5),e.fillRect(l[0]+95,l[1]+40,20,5),e.fillRect(l[0]+95,l[1]+45,15,5),e.fillRect(l[0]+100,l[1]+50,10,5),e.fillRect(l[0]+110,l[1]+85,10,5),e.fillRect(l[0]+100,l[1]+90,20,5),e.fillRect(l[0]+100,l[1]+95,15,5),e.fillRect(l[0]+120,l[1]+100,10,5),e.fillRect(l[0]+110,l[1]+185,10,5),e.fillRect(l[0]+100,l[1]+190,20,5),e.fillRect(l[0]+100,l[1]+195,35,5),e.fillRect(l[0]+120,l[1]+200,20,5),e.fillRect(l[0]+230,l[1]+215,30,20),e.fillRect(l[0]+225,l[1]+235,40,15),e.fillRect(l[0]+195,l[1]+280,25,10),e.fillRect(l[0]+200,l[1]+290,30,25)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const o=n(0);t.render=function(e,t){t.forEach((t,n)=>{e.fillStyle=`rgba(${34+25*n},100,140,0.9)`,e.fillRect(t[0],t[1],o.SHIP_SIZE,o.SHIP_SIZE)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const o=n(0);t.render=function(e,t){t.forEach((t,n)=>{e.fillStyle=`rgba(0,${255-25*n},0,0.5)`,e.fillRect(t[0],t[1],o.PROBE_SIZE,o.PROBE_SIZE)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const o=n(0),i=n(2),r=n(4);t.render=function(e,t){t.forEach(t=>{if(!t.active)return((e,t)=>{e.fillStyle="transparent",e.fillRect(t.x,t.y,o.WIDTH,o.HEIGHT)})(e,t);e.fillStyle="#fff",e.font=o.FONT_SIZE+'px "Courier New", Courier, monospace',e.fillText((e=>"Universe "+e.name)(t),t.x+o.WIDTH/3,t.y+o.FONT_SIZE+o.HEIGHT),e.fillStyle="#101",e.fillRect(t.x,t.y,o.WIDTH,o.HEIGHT),((e,t)=>{const n=t.x+o.WIDTH,i=t.y+o.HEIGHT;for(let o=t.x;o<n;o++)for(let n=t.y;n<i;n++)(o+n)%12==0&&n%6==0&&(e.fillStyle=`rgba(255,255,255,${Math.min(.3,Math.random())})`,e.fillRect(o,n,1,1))})(e,t),t.doors.length?i.render(e,t):r.render(e,t)})}}]);