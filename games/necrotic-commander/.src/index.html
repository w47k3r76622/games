<style> * {cursor: pointer;-webkit-tap-highlight-color: transparent;}</style><body><script>
let aa=0;const ba=Math.PI,e=t=>t<0?-t:t,ca=(t,e)=>t<e?t:e,da=(t,e)=>e<t?t:e,g=(t,e=0,i=1)=>t<e?e:i<t?i:t,ea=(t,e=0,i=1)=>i-e?g((t-e)/(i-e)):0,ha=(t,e=0,i=1)=>e+g(t)*(i-e),ia=(t,i,s,a)=>2*e(t.x-s.x)<i.x+a.x&2*e(t.y-s.y)<i.y+a.y,k=(t=1,e=0)=>e+(t-e)*Math.random(),ka=(t=1)=>0<t?ja(t*k(0/t,1)**.5):new p,ja=(t=1)=>la(k(2*ba),t),ma=(t=new q,e=new q(0,0,0,1),i)=>i?t.W(e,k()):new q(k(t.r,e.r),k(t.m,e.m),k(t.b,e.b),k(t.a,e.a)),u=(t=0,e)=>null==t.x?new p(t,null==e?t:e):new p(t.x,t.y);function la(t=0,e=1){var i=new p;return i.x=e*Math.sin(t),i.y=e*Math.cos(t),i}function na(t,e){return(t.x-e.x)**2+(t.y-e.y)**2}function oa(t){var e=t.length();return 1<e?t.scale(1/e):t}function pa(t,e){return 0<=t.x&&0<=t.y&&t.x<e.x&&t.y<e.y}class p{constructor(t=0,e=0){this.x=t,this.y=e}S(){return new p(this.x,this.y)}add(t){return new p(this.x+t.x,this.y+t.y)}o(t){return new p(this.x-t.x,this.y-t.y)}multiply(t){return new p(this.x*t.x,this.y*t.y)}ga(t){return new p(this.x/t.x,this.y/t.y)}scale(t){return new p(this.x*t,this.y*t)}length(){return(this.x**2+this.y**2)**.5}normalize(t=1){var e=this.length();return e?this.scale(t/e):new p(0,t)}angle(){return Math.atan2(this.x,this.y)}rotate(t){var e=Math.cos(t);return t=Math.sin(t),new p(this.x*e-this.y*t,this.x*t+this.y*e)}direction(){return e(this.x)>e(this.y)?this.x<0?3:1:this.y<0?2:0}floor(){return new p(Math.floor(this.x),Math.floor(this.y))}W(t,e){return this.add(t.o(this).scale(g(e)))}toString(t=3){return`(${(this.x<0?"":" ")+this.x.toFixed(t)},${(this.y<0?"":" ")+this.y.toFixed(t)} )`}}function qa(t){return(255*t.r|0)+(255*t.m<<8)+(255*t.b<<16)+(255*t.a<<24)}class q{constructor(t=1,e=1,i=1,s=1){this.r=t,this.m=e,this.b=i,this.a=s}S(){return new q(this.r,this.m,this.b,this.a)}add(t){return new q(this.r+t.r,this.m+t.m,this.b+t.b,this.a+t.a)}o(t){return new q(this.r-t.r,this.m-t.m,this.b-t.b,this.a-t.a)}multiply(t){return new q(this.r*t.r,this.m*t.m,this.b*t.b,this.a*t.a)}ga(t){return new q(this.r/t.r,this.m/t.m,this.b/t.b,this.a/t.a)}scale(t,e=t){return new q(this.r*t,this.m*t,this.b*t,this.a*e)}W(t,e){return this.add(t.o(this).scale(g(e)))}toString(){return`rgb(${255*this.r|0},${255*this.m|0},${255*this.b|0},${this.a})`}}class ra{constructor(){this.setTime=this.time=void 0}set(t=0){this.time=sa+t,this.setTime=t}active(){return sa<=this.time}get(){return null!=this.time?sa-this.time:0}toString(){}}let va=u(1920,1200),wa=u(),x=u(16),xa=u(1),y=u(),z=da(x.x,x.y);const za=1/60;let A=[],Ba=[],Ca=0,sa=0,B=0,Da=0,Ea=0,Fa=0,Ga,Ha,Ia,La;function Ma(){Na=u(D.width,D.height),Oa.imageSmoothingEnabled=!1;var t=D.width,e=D.height,i=y.x,s=y.y,a=z;E.viewport(0,0,F.width=t,F.height=e),E.clear(16384),E.bindTexture(3553,Pa),E.useProgram(Qa),Ra=void 0,t=2*a/t,e=2*a/e,E.uniformMatrix4fv(E.getUniformLocation(Qa,"m"),0,new Float32Array([t,0,0,0,0,e,0,0,1,1,-1,1,-1-t*i,-1-e*s,0,0]))}function Sa(){Ba=A.filter(t=>t.ea);const i=t=>{if(!t.v){t.update();for(const e of t.children)i(e)}};for(const t of A)t.parent||i(t);A=A.filter(t=>!t.v),sa=++Ca/60}function G(t){if(!t.v){t.v=1,t.parent&&t.parent.removeChild(t);for(const e of t.children)G(e,e.parent=0)}}function Ta(t,e){e=e.scale(1/t.i),t.i&&(t.h=t.h.add(e))}function Ua(t,e,i=u(),s=0){e.parent||t.children.includes(e),t.children.push(e),e.parent=t,e.Aa=i.S(),e.za=s}function Va(t,e=0){t.ea=1,t.ka=e,t.K=1}class H{constructor(t=u(),e=xa,i=-1,s=x,a=0,h,n=0){this.g=t.S(),this.size=e,this.wa,this.J=i,this.s=s,this.angle=a,this.color=h,this.pa,this.i=1,this.N=this.B=.99,this.u=0,this.T=.8,this.F=1,this.A=n,this.h=new p,this.Y=0,this.oa=sa,this.children=[],this.K=1,A.push(this)}update(){var t=this.parent;if(t)this.g=this.Aa.multiply(u(t.C?-1:1,1)).rotate(-t.angle).add(t.g),this.angle=(t.C?-1:1)*this.za+t.angle;else if(this.h.x=g(this.h.x,-1,1),this.h.y=g(this.h.y,-1,1),t=this.g.S(),this.g.x+=this.h.x*=this.B,this.g.y+=this.h.y=this.B*this.h.y+0*this.F,this.angle+=this.Y*=this.N,this.i){var i,s,a,h,n,r,c,o=this.h.y<0;if(this.G&&(i=this.G.h?this.G.h.x:0,this.h.x=i+(this.h.x-i)*this.T,this.G=0),this.ea)for(var l of Ba)!this.ka&!l.ka||l.v||l.parent||l==this||!ia(this.g,this.size,l.g,l.size)||!this.D(l)|!l.D(this)||(ia(t,this.size,l.g,l.size)?(i=(s=(i=t.o(l.g)).length())<.01?ja(.001):i.scale(.001/s),this.h=this.h.add(i),l.i&&(l.h=l.h.o(i))):(i=this.size.add(l.size),s=2*(t.y-l.g.y)>i.y+0,a=2*e(t.y-l.g.y)<i.y,h=2*e(t.x-l.g.x)<i.x,!s&&!h&&a||(this.g.y=l.g.y+(i.y/2+.001)*(t.y-l.g.y<0?-1:1),l.G&&o||!l.i?(o&&(this.G=l),this.h.y*=-this.u):l.i&&(n=(this.i*this.h.y+l.i*l.h.y)/(this.i+l.i),r=l.h.y*(l.i-this.i)/(this.i+l.i)+2*this.h.y*this.i/(this.i+l.i),c=da(this.u,l.u),this.h.y=ha(c,n,this.h.y*(this.i-l.i)/(this.i+l.i)+2*l.h.y*l.i/(this.i+l.i)),l.h.y=ha(c,n,r))),s||!a&&h||(this.g.x=l.g.x+(i.x/2+.001)*(t.x-l.g.x<0?-1:1),l.i?(i=(this.i*this.h.x+l.i*l.h.x)/(this.i+l.i),s=l.h.x*(l.i-this.i)/(this.i+l.i)+2*this.h.x*this.i/(this.i+l.i),a=da(this.u,l.u),this.h.x=ha(a,i,this.h.x*(this.i-l.i)/(this.i+l.i)+2*l.h.x*l.i/(this.i+l.i)),l.h.x=ha(a,i,s)):this.h.x*=-this.u)));this.K&&Wa(this.g,this.size,this)&&!Wa(t,this.size,this)&&(l=Wa(new p(this.g.x,t.y),this.size,this),!Wa(new p(t.x,this.g.y),this.size,this)&&l||(this.G=o,this.h.y*=-this.u,(o=(t.y-this.size.y/2|0)-(t.y-this.size.y/2))<0&&o>this.B*this.h.y+0*this.F&&(this.h.y=this.B?(o-0*this.F)/this.B:0),this.g.y=t.y),l&&(this.g.x=t.x,this.h.x*=-this.u))}}I(){I(this.g,this.wa||this.size,this.J,this.s,this.color,this.angle,this.C,this.pa)}D(){return 1}removeChild(t){t.parent==this&&this.children.includes(t),this.children.splice(this.children.indexOf(t),1),t.parent=0}toString(){}}const Za=new Image;let D,Oa,$a,J,Na=u();const ab=t=>t.o(y).multiply(u(z,-z)).add(Na.scale(.5)).o(u(.5));function I(t,e=u(1),h=-1,n=x,r=new q,i=0,s,a=new q(0,0,0,0),c=1){var o,l,y;aa&&++La,c?h<0||!Za.width?bb(t.x,t.y,e.x,e.y,i,0,0,0,0,0,qa(r)):(y=Ga.x/n.x|0,c=n.x/Ga.x,o=n.y/Ga.y,l=h%y*c,y=(h/y|0)*o,bb(t.x,t.y,s?-e.x:e.x,e.y,i,l+Ha.x,y+Ha.y,l-Ha.x+c,y-Ha.y+o,qa(r),qa(a))):cb(t,e,i,s,t=>{var e,i,s,a;h<0?(t.fillStyle=r,t.fillRect(-.5,-.5,1,1)):(i=Ga.x/n.x|0,e=h%i*n.x+.3,i=(h/i|0)*n.y+.3,s=n.x-.6,a=n.y-.6,t.globalAlpha=r.a,t.drawImage(Za,e,i,s,a,-.5,-.5,1,1))})}function K(t,e,i,s,a){I(t,e,-1,x,i,s,0,0,a)}function db(t,e,i=.1,s){e=u((e.x-t.x)/2,(e.y-t.y)/2),i=u(i,2*e.length()),K(t.add(e),i,s,e.angle(),0)}function cb(t,e,i,s,a){var h=Oa;t=ab(t),e=e.scale(z),h.save(),h.translate(t.x+.5|0,t.y-.5|0),h.rotate(i),h.scale(s?-e.x:e.x,e.y),a(h),h.restore()}let eb;function fb(r,t,c,o=4,l){const y=r.context,b=(y.save(),y.imageSmoothingEnabled=!1,r.s),d=b.add(r.Ba).scale(o),g=r.image.width/r.s.x|0;t.split("\n").forEach((e,i)=>{var s=l?e.length*b.x*o/2|0:0;for(let t=e.length;t--;){((a=e[t].charCodeAt())<32||127<a)&&(a=127);var a=(h=r.Ia+a-32)%g,h=h/g|0,n=c.add(u(t,i).multiply(d));y.drawImage(r.image,a*b.x,h*b.y,b.x,b.y,n.x-s,n.y,b.x*o,b.y*o)}}),y.restore()}function L(t,e,i,s=1,a){fb(t,e,ab(i).floor(),s*z|0,a)}class gb{constructor(t,e=u(8),i=u(0,1),s=0,a=J){t||eb||((eb=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAYAQAAAAA9+x6JAAAAAnRSTlMAAHaTzTgAAAGiSURBVHjaZZABhxxBEIUf6ECLBdFY+Q0PMNgf0yCgsSAGZcT9sgIPtBWwIA5wgAPEoHUyJeeSlW+gjK+fegWwtROWpVQEyWh2npdpBmTUFVhb29RINgLIukoXr5LIAvYQ5ve+1FqWEMqNKTX3FAJHyQDRZvmKWubAACcv5z5Gtg2oyCWE+Yk/8JZQX1jTTCpKAFGIgza+dJCNBF2UskRlsgwitHbSV0QLgt9sTPtsRlvJjEr8C/FARWA2bJ/TtJ7lko34dNDn6usJUMzuErP89UUBJbWeozrwLLncXczd508deAjLWipLO4Q5XGPcJvPu92cNDaN0P5G1FL0nSOzddZOrJ6rNhbXGmeDvO3TF7DeJWl4bvaYQTNHCTeuqKZmbjHaSOFes+IX/+IhHrnAkXOAsfn24EM68XieIECoccD4KZLk/odiwzeo2rovYdhvb2HYFgyznJyDpYJdYOmfXgVdJTaUi4xA2uWYNYec9BLeqdl9EsoTw582mSFDX2DxVLbNt9U3YYoeatBad1c2Tj8t2akrjaIGJNywKB/7h75/gN3vCMSaadIUTAAAAAElFTkSuQmCC"),this.image=t||eb,this.s=e,this.Ba=i,this.Ia=s,this.context=a}}const O=(t,e=0)=>N[e]&&1&N[e][t]?1:0;let hb=u(),ib=u();const jb=(t,e=0)=>O(t,e+1);let N=[[]];function kb(){document.hasFocus()||(N=[[]]),hb=ib.add(u(.5)).o(Na.scale(.5)).multiply(u(1/z,-1/z)).add(y),lb()}function mb(){for(const t of N)for(const e in t)t[e]&=1}onkeydown=t=>{t.repeat||(N[0][nb(t.keyCode)]=3)},onkeyup=t=>{N[0][nb(t.keyCode)]=4};const nb=t=>87==t?38:83==t?40:65==t?37:68==t?39:t,qb=(onmousedown=t=>{N[0][t.button]=3,onmousemove(t),t.button&&t.preventDefault()},onmouseup=t=>N[0][t.button]=2&N[0][t.button]|4,onmousemove=t=>{var e;return t=D?(e=D.getBoundingClientRect(),u(D.width,D.height).multiply(u(ea(t.x,e.left,e.right),ea(t.y,e.top,e.bottom)))):u(),ib=t},onwheel=t=>t.ctrlKey||(t.deltaY<0?-1:1),oncontextmenu=()=>!1,[]);function lb(){if(navigator.getGamepads&&document.hasFocus()){var e=navigator.getGamepads();for(let t=e.length;t--;){var i=e[t];const a=N[t+1]||(N[t+1]=[]),h=qb[t]||(qb[t]=[]);if(i){var s=t=>.3<t?ea(t,.3,.8):t<-.3?-ea(-t,.3,.8):0;for(let t=0;t<i.axes.length-1;t+=2)h[t>>1]=oa(u(s(i.axes[t]),s(-i.axes[t+1])));for(s=i.buttons.length;s--;)a[s]=i.buttons[s].pressed?1+2*!jb(s,t):4*jb(s,t);(i=u(jb(15,t)-jb(14,t),jb(12,t)-jb(13,t))).x**2+i.y**2&&(h[0]=oa(i))}}}}if(void 0!==window.ontouchstart){let i,s;ontouchstart=ontouchmove=ontouchend=t=>{t.button=0;var e=t.touches.length;return e?(s||rb([sb(...[0,s=1])]),t.x=t.touches[0].clientX,t.y=t.touches[0].clientY,(i?onmousemove:onmousedown)(t)):i&&onmouseup(t),i=e,!t.cancelable}}class tb{constructor(t){this.Ea=30,this.Ja=.7,this.ba=t[1]||0,t[1]=0,this.ra=sb(...t)}play(t,e=1,i=1,s=1){var a=0;if(t){if(a=this.Ea){var h=na(y,t);if(a*a<h)return;e*=ea(h**.5,a,a*this.Ja)}a=2*ab(t).x/D.width-1}return rb([this.ra],e,i+i*this.ba*s*k(-1,1),a)}}let ub;function rb(t,e=1,i=1,s=0){var a,h;if((ub=ub||new(window.AudioContext||webkitAudioContext)).resume(),"running"==ub.state)return a=ub.createBuffer(t.length,t[0].length,44100),h=ub.createBufferSource(),t.forEach((t,e)=>a.getChannelData(e).set(t)),h.buffer=a,h.playbackRate.value=i,h.loop=0,(t=ub.createGain()).gain.value=.5*e,t.connect(ub.destination),(window.StereoPannerNode?h.connect(new StereoPannerNode(ub,{pan:g(s,-1,1)})):h).connect(t),h.start(),h}function sb(t=1,i=.05,s=220,a=0,h=0,n=.1,r=0,c=1,o=0,u=0,l=0,y=0,b=0,d=0,g=0,x=0,w=0,f=1,p=0,v=0){let m=2*ba,q=o*=500*m/44100/44100,z=[],A=(i=s*=(1+i*k(-1,1))*m/44100,0),D=0,E=0,S=1,F=0,C=0,P=0,I,U;for(u*=500*m/44100**3,g*=m/44100,l*=m/44100,y*=44100,b=44100*b|0,U=(a=44100*a+9)+(p*=44100)+(h*=44100)+(n*=44100)+(w*=44100)|0;E<U;z[E++]=P)++C%(100*x|0)||(P=r?1<r?2<r?3<r?Math.sin((A%m)**3):da(ca(Math.tan(A),1),-1):1-(2*A/m%2+2)%2:1-4*e(Math.round(A/m)-A/m):Math.sin(A),P=(b?1-v+v*Math.sin(m*E/b):1)*(P<0?-1:1)*(P<0?-P:P)**c*t*.5*(E<a?E/a:E<a+p?1-(E-a)/p*(1-f):E<a+p+h?f:E<U-w?(U-E-w)/n*f:0),P=w?P/2+(w>E?0:(E<U-w?1:(U-E)/w)*z[E-w|0]/2):P),I=(s+=o+=u)*Math.cos(g*D++),A+=I-I*d*(1-1e9*(Math.sin(E)+1)%2),S&&++S>y&&(s+=l,i+=l,S=0),!b||++F%b||(s=i,o=q,S=S||1);return z}let vb=[],wb=u();function Wa(t,e=u(),i){var s=da(t.x-e.x/2|0,0),a=da(t.y-e.y/2|0,0),h=ca(t.x+e.x/2,wb.x);for(t=ca(t.y+e.y/2,wb.y);a<t;++a)for(e=s;e<h;++e){var n=vb[a*wb.x+e];if(n&&(!i||0<n))return 1}}class xb{constructor(t){var e=new q;this.da=t,this.C=this.direction=0,this.color=e}clear(){this.da=this.direction=this.C=0,color=new q}}function yb(t,e){var i=e.floor().add(t.g).add(u(.5));zb(t,i,t=>t.clearRect(-.5,-.5,1,1)),null!=(e=t.getData(e)).da&&I(i,u(1),e.da,t.s,e.color,e.direction*ba/2,e.C)}function zb(t,e,i){var s=u(1);const a=t.context;a.save(),e=e.o(t.g).multiply(t.s),s=s.multiply(t.s),a.translate(e.x,t.canvas.height-e.y),a.rotate(0),a.scale(s.x,s.y),i(a),a.restore()}class Ab extends H{constructor(t=wb,i=x,s=u(1)){for(super(u(0,0),t,-1,i,0,void 0,0),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.scale=s,this.xa,this.data=[],t=this.size,t=e(t.x*t.y);t--;)this.data.push(new xb)}setData(t,e,i){pa(t,this.size)&&(this.data[(0|t.y)*this.size.x+t.x|0]=e,i&&yb(this,t))}getData(t){return pa(t,this.size)&&this.data[(0|t.y)*this.size.x+t.x|0]}update(){}I(){var t=ab(this.g.add(u(0,this.size.y*this.scale.y)));(this.xa?J:Oa).drawImage(this.canvas,t.x,t.y,z*this.size.x*this.scale.x,z*this.size.y*this.scale.y)}}function Bb(t){var e=null!=t.$.x?new p(k(-.5,.5),k(-.5,.5)).multiply(t.$).rotate(t.angle):ka(.5*t.$),e=new Cb(t.g.add(e),t.J,t.s,t.angle+k(t.ma,-t.ma));const i=t.ba;var s=(r=t=>t+t*k(i,-i))(t.Da),a=r(t.ca),h=r(t.Ga),n=r(t.speed),r=r(t.qa)*(2*(0|k(2))-1);const c=k(t.ha,-t.ha),o=ma(t.ua,t.va,t.na),u=ma(t.sa,t.ta,t.na);e.R=o,e.P=u.o(o),e.h=la(t.angle+c,n),e.Y=r,e.ya=s,e.ca=a,e.Ha=h-a,e.aa=t.aa,e.B=t.B,e.N=t.N,e.u=t.u,e.T=t.T,e.F=t.F,e.K=t.K,e.M=t.M,e.A=t.A,e.X=t.X,e.C=k()<.5,e.fa=t.Ka,t.Ca&&t.Ca(e)}class Db extends H{constructor(t,e,i=0,s=0,a=100,h=ba,n=-1,r=x,c=new q,o=new q,u=new q(1,1,1,0),l=new q(1,1,1,0),y=.5,b=.1,d=1,g=.1,w=.05,f=1,v=1,m=0,z=ba,A=.1,D=.2,E,k,S=1,F=k?1e9:0){super(t,new p,n,r,e,void 0,F),this.$=i,this.ja=s,this.ia=a,this.ha=h,this.ua=c,this.va=o,this.sa=u,this.ta=l,this.na=S,this.Da=y,this.ca=b,this.Ga=d,this.speed=g,this.qa=w,this.B=f,this.N=v,this.F=m,this.ma=z,this.aa=A,this.ba=D,this.K=E,this.M=k,this.L=this.X=0}update(){if(this.parent&&super.update(),!this.ja||sa-this.oa<=this.ja){if(+this.ia){var t=1/this.ia;for(this.L+=za;0<this.L;this.L-=t)Bb(this)}}else G(this)}I(){}}class Cb extends H{constructor(t,e,i,s){super(t,new p,e,i,s)}I(){var t=ca((sa-this.oa)/this.ya,1),e=this.ca+t*this.Ha,e=new p(e,e),i=this.aa/2,i=new q(this.R.r+t*this.P.r,this.R.m+t*this.P.m,this.R.b+t*this.P.b,(this.R.a+t*this.P.a)*(t<i?t/i:1-i<t?(1-t)/i:1));if(this.M&&(Ra=1),this.X){var s=this.h.length();const a=this.h.scale(1/s);s*=this.X,e.y=da(e.x,s),this.angle=a.angle(),I(this.g.add(a.multiply(u(0,-s/2))),e,this.J,this.s,i,this.angle,this.C)}else I(this.g,e,this.J,this.s,i,this.angle,this.C);this.M&&(Ra=void 0),1==t&&(this.color=i,this.size=e,this.fa&&this.fa(this),this.v=1)}}let Eb=[],Fb;function Gb(){var t,e;Eb.length&&(t=Eb[0],e=B-Fb,Fb?5<e?Eb.shift(Fb=0):t.I():Fb=B)}let F,E,Pa,Qa,P,R,Hb,Ib,Ra;function Jb(){F=document.createElement("canvas"),E=F.getContext("webgl",{antialias:!1}),F.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",Pa=Kb(),document.body.appendChild(F),Qa=Lb();var t=new ArrayBuffer(9437184);Mb(t.byteLength),P=new Float32Array(t),R=new Uint32Array(t);let h=Hb=0;(t=(t,e,i,s,a=0)=>{t=E.getAttribLocation(Qa,t),E.enableVertexAttribArray(t),E.vertexAttribPointer(t,s,e,a,24,h),h+=s*i})("p",5126,4,2),t("t",5126,4,2),t("c",5121,1,4,1),t("a",5121,1,4,1)}function Nb(t,e){return e=E.createShader(e),E.shaderSource(e,t),E.compileShader(e),e}function Lb(){var t=E.createProgram();return E.attachShader(t,Nb("precision highp float;uniform mat4 m;attribute vec2 p,t;attribute vec4 c,a;varying vec2 v;varying vec4 d,e;void main(){gl_Position=m*vec4(p,1,1);v=t;d=c;e=a;}",35633)),E.attachShader(t,Nb("precision highp float;varying vec2 v;varying vec4 d,e;uniform sampler2D s;void main(){gl_FragColor=texture2D(s,v)*d+e;}",35632)),E.linkProgram(t),t}function Mb(t){var e=E.createBuffer();E.bindBuffer(34962,e),E.bufferData(34962,t,35048)}function Kb(){var t,e=Za;if(e&&e.width)return t=E.createTexture(),E.bindTexture(3553,t),E.texImage2D(3553,0,6408,6408,5121,e),E.texParameteri(3553,10241,9728),E.texParameteri(3553,10240,9728),E.texParameteri(3553,10242,33071),E.texParameteri(3553,10243,33071),t}function Ob(){var t;Hb&&(t=Ib?1:771,E.blendFuncSeparate(770,t,1,t),E.enable(3042),E.bufferSubData(34962,0,P.subarray(0,36*Hb)),E.drawArrays(4,0,6*Hb),Hb=0,Ib=Ra)}function Pb(t){var e=Oa;(Hb||t)&&(Ob(),t&&e.drawImage(F,0,0))}function bb(t,e,i,s,a,h,n,r,c,o=4294967295,u=0){65536!=Hb&&Ib==Ra||Ob();var l=Math.cos(a)/2,y=Math.sin(a)/2;a=l*i,l*=s,i*=y,s*=y,y=36*Hb++,P[y++]=t-a-s,P[y++]=e-l+i,P[y++]=h,P[y++]=c,R[y++]=o,R[y++]=u,P[y++]=t+a+s,P[y++]=e+l-i,P[y++]=r,P[y++]=n,R[y++]=o,R[y++]=u,P[y++]=t-a+s,P[y++]=e+l+i,P[y++]=h,P[y++]=n,R[y++]=o,R[y++]=u,P[y++]=t-a-s,P[y++]=e-l+i,P[y++]=h,P[y++]=c,R[y++]=o,R[y++]=u,P[y++]=t+a-s,P[y++]=e-l-i,P[y++]=r,P[y++]=c,R[y++]=o,R[y++]=u,P[y++]=t+a+s,P[y++]=e+l-i,P[y++]=r,P[y++]=n,R[y++]=o,R[+y]=u}aa=0;let S,Qb,T,U,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,V,Zb,$b,ac,bc,Z,cc,dc,ec;const fc=new tb([,0,400,,,,4,,,,,,,,,.2]),gc=new tb([,0,400,,.05,,4,,,,,,,,,.2]),hc=new tb([,0,400,,,,,,,,,,,1]),ic=new tb([,0,400,,.05,,2,,.2,,,,,,,.2]),jc=new tb([,0,400,,.3,,4,,,,,,,1,.5,.3]),mc=new tb([,0,400,,.3,,4,,,,,,,1,.5]),nc=new tb([,0,400,,,,2,,,,20,.1,,,1,.2]),oc=new tb([,0,400,,,,4,,,,20,.1,,,1,.2]);let pc=0;function qc(){G(Vb),G(Wb),G(Xb),U=new rc,T=new sc,$b=15,ac=1,bc=0,Tb=new tc,Ub=new uc,Rb=new vc,Sb=new wc,Zb=[],V=[],Yb=[],Z=0,cc=new ra;for(let e=-18;e<20;e+=6)for(let t=-18;t<20;t+=6)0!==e&&Zb.push(new xc(u(y.x+e,y.y+t+8)))}function yc(){var i=S;wb=i;for(var s=(vb=[]).length=e(wb.x*wb.y);s--;)vb[s]=0;for((Qb=new Ab(i,u(16),u(4))).A=10,s=u(5,$b);s.y<i.y;s.y++)Qb.setData(s,new xb(12));for((i=Qb).canvas.width=i.size.x*i.s.x,i.canvas.height=i.size.y*i.s.y,i.Fa=[D,Oa,y,z],D=i.canvas,Oa=i.context,y=i.size.scale(.5),z=i.s.x,Ma(),s=i.size.x;s--;)for(let t=i.size.y;t--;)yb(i,u(s,t));Pb(1),[D,Oa,y,z]=i.Fa}function zc(){Zb.forEach(t=>G(t)),V.forEach(t=>G(t)),Yb.forEach(t=>G(t))}function Ac(){wa=u(720,1280),S=u(44,80),y=S.scale(.5),z=16,T=new sc,Vb=new Bc,Wb=new Cc,Xb=new Dc}function Ec(h){[...V,...Yb].filter(t=>{var e=h.g.x,i=h.g.y,s=t.g.x,a=t.g.y;(s-e)*(s-e)+(a-i)*(a-i)<=64&&(t.j-=75,Ta(t,t.g.o(h.g).normalize().scale(10))),e=h.g.x,i=h.g.y,((s=t.g.x)-e)*(s-e)+((a=t.g.y)-i)*(a-i)<=16&&(t.j-=100,Ta(t,t.g.o(h.g).normalize().scale(20)))}),Fc(new q(1,0,0),new q(0,0,0),h.g,h.size.scale(2)),Fc(new q(0,1,0),new q(0,0,0),h.g,h.size.scale(2)),mc.play(h.g),bc=.1}function Fc(t,e,i,s){new Db(i,0,s,.1,200,ba,0,u(16),t,e,t.scale(1,0),e.scale(1,0),.2,1,1,.1,.05,.99,.95,.4,ba,.1,1,0,1)}class rc extends H{constructor(){super(u(S.x/2,22),u(4),10),Va(this,1),this.A=5,this.l=this.j=100,this.O=this.V=0,Ua(this,new H(this.g,u(5),13,x,0,new q,15),u(0,-3))}update(){if(this.O+=za,Tb.selected&&T==T&&O(0)&&T.g.y>$b&&10<=this.l&&.5<this.O){ic.play(this.g);const t=T.g.o(this.g);Ta(new Gc(this.g,t.angle()),t.normalize()),this.l-=10,this.O=0}2<this.V&&this.l<100&&(this.l+=5,this.V=0),100<this.l&&(this.l=100),this.V+=za}}class xc extends H{constructor(t){super(t,u(3),6),Va(this),this.U=!0}update(){var t;super.update(),this.color=new q(1,1,1),Rb.selected&&dc&&(t=e(Math.cos(B)),this.color=new q(t,t,t))}D(t){if(this.U){if(Rb.selected&&0<=U.l-10&&t===T&&O(0)){Yb.push(new Hc(this.g)),this.U=!1,this.J=7,U.l-=10;const e=new q(.7,.44,.44),i=e.W(new q,.5);Fc(e,i,this.g,this.size),gc.play(t.g)}return!1}}}function Ic(t){e(t.g.x-t.target.x)<.1&&e(t.g.y-t.target.y)<.1?(t.target=void 0,t.h=u(0,0)):(Ta(t,t.target.o(t.g).scale(.01)),t.h.x=g(t.h.x,-t.H,t.H),t.h.y=g(t.h.y,-t.H,t.H),t.g.x=g(t.g.x,t.size.x/2,S.x-t.size.x/2),t.g.y=g(t.g.y,t.size.y/2+14,S.y-t.size.y/2),t.target.x=g(t.target.x,t.size.x/2,S.x-t.size.x/2),t.target.y=g(t.target.y,t.size.y/2+14,S.y-t.size.y/2))}function Jc(t){var e;void 0===t.target&&(e=ka(1),t.target=u(t.g.x+e.x,t.g.y+e.y)),Ic(t)}class Kc extends H{constructor(t,e){super(t,u(3),e),Va(this,1),this.T=.9,this.i=10,this.u=.5,this.H=k(.08,.1),this.target=void 0,this.j=100,this.A=10}update(){super.update(),this.j<=0&&(Fc(new q(1,0,0),new q(0,0,0),this.g,this.size),G(this),oc.play(this.g))}attack(t,e){t.j-=e}}class Hc extends Kc{constructor(t){super(t,Math.round(k(3,5))),this.j=150}update(){var t;if(super.update(),this.color=new q(1,1,1),Sb.selected&&dc&&(t=e(Math.cos(B)),this.color=new q(t,t,t)),V.length){let e=void 0;V.forEach(t=>{void 0===e&&(e=t.g),na(this.g,t.g)**.5<na(this.g,e)**.5&&(e=t.g)}),this.target=e,Ic(this)}else Jc(this)}D(t){return t instanceof Lc?(this.attack(t,1),!0):t instanceof Kc||t instanceof rc?!(this.target=void 0):(t===T&&O(0)&&Sb.selected&&0<U.l-20&&(U.l-=20,Ec(this),G(this)),!1)}}class Lc extends Kc{constructor(){super(u(k(y.x-15,y.x+15),y.y+42),Math.round(k(8,9))),this.Z=!1}update(){if(super.update(),this.color=new q(1,1,1),this.Z)return this.j-=12*za,this.color=new q(0,1,1),U.l<100&&(U.l+=10*za),!1;var t;(Ub.selected||Tb.selected)&&dc&&(t=e(Math.cos(B)),this.color=new q(t,t,t))}D(t){return t instanceof Lc?!(this.target=void 0):t instanceof Hc||t instanceof rc?(this.attack(t,1),!0):(t===T&&O(0)&&Ub.selected&&(V.forEach(t=>{for(t.Z=!1,t.color=new q(1,1,1);0<t.children.length;){var e=t.children[0];t.removeChild(e),G(e),t.H=k(.08,.1)}}),this.Z=!0,this.H=.05,Ua(this,new Db(u(this.g),0,xa,0,4,0,0,x,new q(0,1,1),new q(0,0,0),new q(0,1,1,0),new q(0,0,0,0),2,.5,.2,.1,.05,.99,1,1,ba,.05,.5,0),u(),0),nc.play(this.g)),!1)}}class Mc extends Lc{update(){if(super.update(),Yb.length>V.length)this.target=V.reduce((t,e)=>t.add(e.g),u(0,0)).scale(1/V.length);else if(0<Yb.length){let e=void 0;Yb.forEach(t=>{void 0===e&&(e=t.g),na(this.g,t.g)**.5<na(this.g,e)**.5&&(e=t.g)}),this.target=e}else this.target=0<U.j?U.g:void 0;(this.target?Ic:Jc)(this)}}class Gc extends H{constructor(t,e){super(t,u(2),11,u(16),e),Va(this,1),this.A=50}D(t){return t instanceof Kc&&(fc.play(t.g),G(this),t.target=void 0,t.j-=50,t.i&&(t.h=t.h.add(this.h)),Fc(new q(0,1,0),new q(0,0,0),this.g,this.size),!0)}}class sc extends H{constructor(){super(u(S.x/2,S.y/2),u(1),-1,u(16),0,new q(0,0,0,0)),Va(this,1),this.A=20}update(){this.g.x=hb.x,this.g.y=hb.y,this.g.x=g(this.g.x,this.size.x/2,S.x-this.size.x/2),this.g.y=g(this.g.y,this.size.y/2,S.y-this.size.y/2)}}function Nc(t){A.forEach(t=>{t instanceof Oc&&(t.selected=!1)}),t.selected=!0}class Oc extends H{constructor(t,e,i,s){var a=new q(1,0,0),h=new q(.5,0,0);super(t,e),this.text=i,this.la=s,this.color=a,this.backgroundColor=h,this.selected=!1,this.font=new gb(void 0,u(8),u(0,1),0,Oa),Va(this)}I(){this.selected?(this.color=new q(1,0,1),this.backgroundColor=new q(.5,0,.5)):(this.color=new q(1,0,0),this.backgroundColor=new q(.5,0,0)),K(u(this.g.x,this.g.y),this.size,this.backgroundColor,0,!1),K(u(this.g.x,this.g.y),u(this.size.x-1,this.size.y-1),this.color,0,!1),L(this.font,this.text,u(this.g.x,this.g.y+1.5),.2,!0),-1<this.la&&L(this.font,this.la.toString(),u(this.g.x+5,this.g.y-1),.2,!0)}D(){return ia(T.g,T.size,this.g,this.size)&&O(0)&&Nc(this),!1}}class tc extends Oc{constructor(){super(u(S.x-19.5,10),u(11,5),"Nether\nBolt",1),this.selected=!0}}class uc extends Oc{constructor(){super(u(S.x-7.5,10),u(11,5),"Drain\nSoul",2)}}class vc extends Oc{constructor(){super(u(S.x-19.5,4),u(11,5),"Raise\nDead",3)}}class wc extends Oc{constructor(){super(u(S.x-7.5,4),u(11,5),"Corpse\nBomb",4)}}class Bc extends Oc{constructor(){super(u(y.x,y.y+3),u(18,8),"Guided\nMode",-1)}}class Cc extends Oc{constructor(){super(u(y.x,y.y-12),u(18,8),"Endless\nMode",-1)}}class Dc extends Oc{constructor(){super(u(y.x,y.y-27),u(18,8),"Certain\nDeath Mode",-1)}}!function(t,h,e){Za.onerror=Za.onload=()=>{Ha=u(.3).ga(Ga=u(Za.width,Za.height)),document.body.style="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none;-moz-user-select:none",document.body.appendChild(D=document.createElement("canvas")),Oa=D.getContext("2d"),D.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",Jb(),document.body.appendChild($a=document.createElement("canvas")),J=$a.getContext("2d"),$a.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",t(),n()};const n=(t=0)=>{var e,i=t-Ea;if(Ea=t,aa&&(Ia=ha(.05,Ia||0,1e3/(i||1))),B+=i/1e3,Fa=ca(Fa+!Da*i,50),wa.x?($a.width=D.width=wa.x,$a.height=D.height=wa.y,t=innerWidth/innerHeight,i=D.width/D.height,D.style.width=$a.style.width=t<i?"100%":"",D.style.height=$a.style.height=t<i?"":"100%",F&&(F.style.width=D.style.width,F.style.height=D.style.height)):($a.width=D.width=ca(innerWidth,va.x),$a.height=D.height=ca(innerHeight,va.y)),Na=u(D.width,D.height),Da)kb(),h(),mb();else{for(t=0,Fa<0&&-9<Fa&&(t=Fa,Fa=0);0<=Fa;Fa-=1e3/60){kb();if(0===pc)Vb.selected?(ec=!1,dc=!0,pc=1,yc(),qc()):Wb.selected?(ec=dc=!1,pc=1,yc(),qc()):Xb.selected&&(ec=!0,dc=!1,pc=1,yc(),qc());else if(1===pc)if(O(49)?Nc(Tb):O(50)?Nc(Ub):O(51)?Nc(Rb):O(52)&&Nc(Sb),!V.length&&sa>cc.time){Z++;for(let t=0;t<Z;t++)V.push(new Mc);ec||Z%10||Zb.forEach(t=>{if(!t.U){t.U=!0;t.J=6;const e=new q(.7,.44,.44),i=e.W(new q,.5);Fc(e,i,t.g,t.size);hc.play(t.g)}});!dc||1!==Z&&3!==Z&&5!==Z&&10!==Z||(Da=!0)}else cc.active()||cc.set(2);Sa(),h(),mb()}Fa+=t}Ma();{var s=new gb;0===pc?(K(y,S,new q(0,0,0),0,!1),L(s,"Necrotic\nCommander",u(y.x,y.y+36),.6,!0),I(u(y.x,y.y+16+Math.sin(B)),u(12),1,x,new q(1,1,1),0,0,new q(0,0,0,0),!0),L(s,"Learn how to play.",u(y.x,y.y-2),.18,!0),L(s,"No Instructions.\n",u(y.x,y.y-17),.18,!0),L(s,"No Hope.",u(y.x,y.y-32),.18,!0)):(L(s,"Peasant wave "+Z,u(2,78),.18,!1),K(y,S,new q(0,.1,.1),0,!1),K(u(22,7),u(S.x,15),new q(.4,.4,.4),0,!1),K(u(22,7),u(S.x-3,12),2,new q(1,1,1),!1),i=.14*U.j,L(s,`Health (${U.j})`,u(10,12),.18,!0),db(u(2,9),u(18,9),2,new q(.5,.5,.5)),0<U.j&&db(u(3,9),u(3+i,9),1,new q(1,0,0)),i=Math.floor(.14*U.l),L(s,`Mana (${Math.floor(U.l)})`,u(10,6),.18,!0),db(u(2,3),u(18,3),2,new q(.5,.5,.5)),0<U.l&&db(u(3,3),u(3+i,3),1,new q(0,0,1)))}A.sort((t,e)=>t.A-e.A);for(e of A)e.v||e.I();if(1===pc){var a=new gb;if(Da){switch(Z){case 1:K(y,u(40,35),new q(0,0,0),0,!0),I(u(y.x,y.y+8+Math.sin(B)),u(8),1,x,new q(1,1,1),0,0,new q(0,0,0,0),!0),L(a,"Look at that that fool!\nI'll destroy him with\nmy Nether Bolt!\n\nClick to fire!",y,.2,!0),L(a,"Click to Continue",u(y.x,y.y-12),.2,!0),Nc(Tb);break;case 3:K(y,u(40,35),new q(0,0,0),0,!0),I(u(y.x,y.y+8+Math.sin(B)),u(8),1,x,new q(1,1,1),0,0,new q(0,0,0,0),!0),L(a,"I can use Drain Soul\nto replenish my mana by\ntargeting a peasant.\n\nClick to curse\none of them.",y,.2,!0),L(a,"Click to Continue",u(y.x,y.y-12),.2,!0),Nc(Ub);break;case 5:K(y,u(40,35),new q(0,0,0),0,!0),I(u(y.x,y.y+10+Math.sin(B)),u(8),1,x,new q(1,1,1),0,0,new q(0,0,0,0),!0),L(a,"I can Raise the Dead\nby clicking on their\ngrave stones.\n\nUse Corpse Bomb on\nthem to blow them up!",u(y.x,y.y+2),.2,!0),L(a,"Click to Continue",u(y.x,y.y-12),.2,!0),Nc(Rb);break;case 10:K(y,u(40,35),new q(0,0,0),0,!0),I(u(y.x,y.y+8+Math.sin(B)),u(8),1,x,new q(1,1,1),0,0,new q(0,0,0,0),!0),L(a,"We have enough\nbodies to bury,\nbolstering our numbers.\n\nMuhahaha!",y,.2,!0),L(a,"Click to Continue",u(y.x,y.y-12),.2,!0)}O(0)&&(Da=!1)}0===U.j&&ac<=0&&(K(u(y.x,y.y+10),u(40,25),new q(0,0,0),0,!0),L(a,`You survived
to wave ${Z}!

Click to
play again`,u(y.x,y.y+18),.4,!0))}Gb(),Pb(),aa&&(J.textAlign="right",J.textBaseline="top",J.font="1em monospace",J.fillStyle="#000",e="LittleJS v1.3.8 / "+La+" / "+A.length+" / "+Ia.toFixed(1)+" GL",J.fillText(e,D.width-3,3),J.fillStyle="#fff",J.fillText(e,D.width-2,2),La=0),requestAnimationFrame(n)};Za.src=e}(Ac,function(){1===pc&&(Zb=Zb.filter(t=>!t.v),V=V.filter(t=>!t.v),Yb=Yb.filter(t=>!t.v),0<bc?(y.x+=k(-1,1),bc-=za):y=S.scale(.5),U.j<=0&&(ac-=za,U.j=0,U.v||(Fc(new q(1,0,0),new q(0,0,0),U.g,U.size),Fc(new q(.4,.4,.4),new q(0,0,0),U.g,U.size),jc.play(U.g)),G(U),G(T),ac<=0&&O(0)&&(zc(),Ac(),qc())))},"tiles.png");</script> 
