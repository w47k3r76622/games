!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,n){"use strict";n.r(e);var r,i,a,o,f,u,l,c,s,d,m,h,y,v,p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},g=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t};(o=a=a||{})[o.C=0]="C",o[o.Cs=1]="Cs",o[o.D=2]="D",o[o.Ds=3]="Ds",o[o.E=4]="E",o[o.F=5]="F",o[o.Fs=6]="Fs",o[o.G=7]="G",o[o.Gs=8]="Gs",o[o.A=9]="A",o[o.As=10]="As",o[o.B=11]="B",(u=f=f||{})[u.Major=0]="Major",u[u.Minor=1]="Minor",(c=l=l||{})[c.I=0]="I",c[c.ii=1]="ii",c[c.iii=2]="iii",c[c.IV=3]="IV",c[c.V=4]="V",c[c.vi=5]="vi",c[c.vii=6]="vii",(d=s=s||{})[d.i=0]="i",d[d.ii=1]="ii",d[d.III=2]="III",d[d.iv=3]="iv",d[d.V=4]="V",d[d.VI=5]="VI",d[d.VII=6]="VII",d[d.vii=7]="vii",(h=m=m||{})[h.Major=0]="Major",h[h.Minor=1]="Minor",h[h.Diminished=2]="Diminished",(v=y=y||{})[v.Soprano=0]="Soprano",v[v.Alto=1]="Alto",v[v.Tenor=2]="Tenor",v[v.Bass=3]="Bass";var M=Array.from({length:128},function(t,e){return e}).reduce(function(t,e){var n,r=a.C+e%12,i=432*Math.pow(2,(e-69)/12);return Object.assign(t,((n={})[e]={midiNumber:e,pitchClass:r,frequency:i},n))},{});function I(t,e){for(var n,r=0,i=[r],o=((n={})[f.Major]=[[0,.1,.01,.2,.6,.04,.05],[0,0,0,0,.75,0,.25],[0,0,0,.6,0,.4,0],[.2,.2,0,0,.4,0,.2],[.8,0,0,0,0,.2,0],[0,.5,0,.5,0,0,0],[1,0,0,0,0,0,0]],n[f.Minor]=[[0,.2,.01,.2,.4,.09,.05,.05],[0,0,0,0,.9,0,.1,0],[0,.2,0,.4,0,.4,0,0],[.2,.15,0,0,.5,0,0,.15],[.8,0,0,0,0,0,0,.2],[0,.6,0,.4,0,0,0,0],[0,0,1,0,0,0,0,0],[1,0,0,0,0,0,0,0]],n)[t],a=1;a<e;a++)for(var u=Math.random(),l=0,c=0;c<o[r].length;c++)if(u<(l+=o[r][c])){i.push(c),r=c;break}return i}var j,E=((r={})[l.I]={interval:0,quality:m.Major},r[l.ii]={interval:2,quality:m.Minor},r[l.iii]={interval:4,quality:m.Minor},r[l.IV]={interval:5,quality:m.Major},r[l.V]={interval:7,quality:m.Major},r[l.vi]={interval:9,quality:m.Minor},r[l.vii]={interval:11,quality:m.Diminished},r),B=((i={})[s.i]={interval:0,quality:m.Minor},i[s.ii]={interval:2,quality:m.Diminished},i[s.III]={interval:3,quality:m.Major},i[s.iv]={interval:5,quality:m.Minor},i[s.V]={interval:7,quality:m.Major},i[s.VI]={interval:8,quality:m.Major},i[s.VII]={interval:10,quality:m.Major},i[s.vii]={interval:11,quality:m.Diminished},i);function w(t,e,n){var r=e===f.Major?E[n]:B[n],i=(t+r.interval)%12,o=[i];switch(r.quality){case m.Major:o.push((4+i)%12),o.push((7+i)%12);break;case m.Minor:o.push((3+i)%12),o.push((7+i)%12);break;case m.Diminished:o.push((3+i)%12),o.push((6+i)%12)}return o}function A(n){return function(t){var e=t.midiNumber;switch(n){case y.Soprano:return 60<=e&&e<=79;case y.Alto:return 55<=e&&e<=74;case y.Tenor:return 48<=e&&e<=67;case y.Bass:return 40<=e&&e<=60}}}function T(n){return function(t){var e=t.pitchClass;return n.includes(e)}}function q(t){return t[Math.floor(Math.random()*t.length)]}function N(l,c,t){for(var e=g(t),n=w(l,c,e.pop()),r=q(Object.values(M).filter(A(y.Soprano)).filter(T(n))),i=[r],o=r;0<e.length;){var a=e.pop(),u=Object.values(M).filter(A(y.Soprano)).filter(T(w(l,c,a))).filter(function(t){return Math.abs(t.midiNumber-o.midiNumber)<=5});i.push(q(u))}var s=[];return i.slice(0,-1).map(function(t,e){return[t,i.slice(1)[e]]}).forEach(function(t){var e=b(t,2),n=e[0],r=e[1],i=function(r,i){return function(t){var e=t.pitchClass,n=i===f.Major?E:B;return Object.values(n).map(function(t){return t.interval}).map(function(t){return(r+t)%12}).includes(e)}}(l,c),o=i(M[n.midiNumber+1])?M[n.midiNumber+1]:M[n.midiNumber+2],a=i(M[n.midiNumber-1])?M[n.midiNumber-1]:M[n.midiNumber-2];if(.3<=Math.random()){var u=Math.abs(n.midiNumber-r.midiNumber);0===u?.5<=Math.random()?s.push([n,o]):s.push([n,a]):1===u||2===u?.5<=Math.random()?s.push([n,o]):s.push([n,a]):3===u||4===u?0<r.midiNumber-n.midiNumber?s.push([n,o]):s.push([n,a]):s.push(n)}else s.push(n)}),s.push(i[i.length-1]),s}function O(){var t,e,n;do{var r=(e=a,void 0,(n=Object.keys(e).map(function(t){return Number.parseInt(t)}).filter(function(t){return!Number.isNaN(t)}))[Math.floor(Math.random()*n.length)]),i=.5<Math.random()?f.Major:f.Minor,o=I(i,7)}while(0!==o[o.length-1]);return p(((t={})[y.Soprano]=N(r,i,o),t),function(l,c,s){function t(r){var i;switch(r){case y.Bass:i=0;break;case y.Tenor:i=1;break;case y.Alto:i=2}for(var o=g(s),e=w(l,c,o.pop())[i],t=q(Object.values(M).filter(function(t){return t.pitchClass===e}).filter(A(r))),a=[t],u=t,n=function(){var t=o.pop(),e=w(l,c,t)[i],n=Object.values(M).filter(function(t){return t.pitchClass===e}).filter(A(r)).map(function(t){return t.midiNumber}).reduce(function(t,e){return Math.abs(e-u.midiNumber)<Math.abs(t-u.midiNumber)?e:t},1/0);a.push(M[n])};0<o.length;)n();return a}var e,n=t(y.Alto),r=t(y.Tenor),i=t(y.Bass);return(e={})[y.Alto]=n,e[y.Tenor]=r,e[y.Bass]=i,e}(r,i,o))}var S=((j={})[y.Soprano]=new AudioContext,j[y.Alto]=new AudioContext,j[y.Tenor]=new AudioContext,j[y.Bass]=new AudioContext,j);function V(t,e){var n=S[t],r=n.createOscillator(),i=n.createGain();r.type="triangle",r.frequency.value=e.frequency,i.gain.exponentialRampToValueAtTime(1e-5,n.currentTime+2),i.gain.value="0"===t?1:.5,r.connect(i),i.connect(n.destination),r.start(0)}var k=[];var C=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},x=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(C(arguments[e]));return t};function D(t,e,n){return(1-n)*t+n*e}function H(t,n,r,i){void 0===i&&(i=1e3);var o=performance.now(),a=document.querySelector(t);return new Promise(function(t,e){window.requestAnimationFrame(function a(u,l,c,s,f,d){var m=arguments;return function(t){var e=t-u,n=e/f,r=D(c.start,s.start,n),i=D(c.end,s.end,n),o=l.getTotalLength();l.style.strokeDasharray=function(t,e,n){return"0 "+t*n+" "+(e-t)*n+" "+n}(r,i,o),e<f?window.requestAnimationFrame(a.apply(void 0,x(m))):d()}}(o,a,n,r,i,t))})}var P=!1,_=[];function F(t){alert("MUAHAHAHAHAHA! There is actually only one difficulty mode: EXPERT. Only those with perfect pitch may attract the lovebirds! (Yeah... I procrastinated too long. Didn't have the time to highlight the notes when they are played.)"),"hard"===t,document.getElementById("Easy").style.opacity="0",document.getElementById("Hard").style.opacity="0",setInterval(function(){document.getElementById("Easy").style.display="none",document.getElementById("Hard").style.display="none"},1e3);for(var e=document.getElementById("Black").children,n=0;n<e.length;n++)e[n].addEventListener("click",L),e[n].style.transition="none";var r=document.getElementById("White").children;for(n=0;n<r.length;n++)r[n].addEventListener("click",L),r[n].style.transition="none";!function(){var t=O();_=t[0].flat().map(function(t){return t.midiNumber}),function(t){for(var e=0;e<k.length;e++)clearTimeout(k[e]);try{Object.keys(y).forEach(function(n){t[n].forEach(function(t,e){2===t.length?(k.push(setTimeout(function(){V(n,t[0])},1e3*e)),k.push(setTimeout(function(){V(n,t[1])},1e3*e+500))):k.push(setTimeout(function(){V(n,t)},1e3*e))})})}catch(t){}}(t),setTimeout(function(){alert("Your turn. Repeat what you heard."),P=!0},8e3)}()}function L(t){if(P){var e=t.target.dataset.name;_[0]==e?(_.shift(),0===_.length&&alert("Yay! You are worthy of love.")):(alert("That wasn't quite right. You were unable to woo the lovebird..."),location.reload())}}!function(){Array.from({length:24},function(t,e){return e}).map(function(t){return"#_"+(t+60)}).forEach(function(t,e){setTimeout(function(){document.querySelector(t).style.opacity="1",H(t,{start:0,end:0},{start:0,end:1},200)},100*e)});for(var e=document.getElementById("Black").children,t=function(t){setTimeout(function(){e[t].style.fill="black"},1e3+200*t)},n=0;n<e.length;n++)t(n);function r(t){setTimeout(function(){i[t].style.opacity="1"},2e3+100*t),setTimeout(function(){i[t].style.opacity="0"},4e3+50*t)}var i=document.getElementById("Logo").children;for(n=0;n<i.length;n++)r(n);setTimeout(function(){document.getElementById("Easy").style.opacity="1",document.getElementById("Hard").style.opacity="1",document.getElementById("Bird1").style.opacity="1",document.getElementById("Bird2").style.opacity="1",document.getElementById("Easy").addEventListener("click",function(){F("easy")}),document.getElementById("Hard").addEventListener("click",function(){F("hard")})},4500)}()}]);