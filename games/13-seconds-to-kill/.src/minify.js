var t=document.createElement("canvas"),e=t.getContext("2d");document.body.appendChild(t),t.width=1024,t.height=768,document.addEventListener("keydown",(function(t){r[t.keyCode]=1})),document.addEventListener("keyup",(function(t){r[t.keyCode]=0})),document.addEventListener("mousemove",(function(e){s.x=e.x-t.getBoundingClientRect().left,s.y=e.y-t.getBoundingClientRect().top})),document.addEventListener("mouseup",(function(t){0!=t.button||Ae.D||(Ae.atk=1),2!=t.button||Ae.M.c||Ae.D||(Ae.fAk=1)})),document.addEventListener("contextmenu",(t=>{t.preventDefault()}));var n=Math,r=[],s={x:void 0,y:void 0},c=0;function a(t,n,h,r,s){e.fillStyle=s,e.fillRect(t,n,h,r)}function i(t,h,r,s){e.fillStyle=s,C(),e.arc(t,h,r,0,2*n.PI),D()}function l(t,h,r,s,w,c){e.fillStyle=c,C(),e.ellipse(t,h,r,s,w,0,2*n.PI),e.fill()}function o(t,e,n){return M((t.x+e/2-(Ae.x+Ae.w/2))**2+(t.y+n/2-(Ae.y+Ae.h/2))**2)*be<Fe}function u(t,e,n){for(var h=0;h<e.length;h++)for(var r=0;r<e[h].length;r++)e[h][r].J==t&&n.push(e[h][r])}function f(t,e){for(var n=[],h=0;h<e.length;h++)e[h]&&(n[h]=e[h][t]);return n}function d(t,e,n){var h=t,r=h.indexOf(";"),s=h.slice(0,r),w=h.slice(r+1);pe.sTX=s,pe.aTX=w,pe.clr=e,pe.t=n,pe.cTM=n}function b(t){67==t.keyCode&&(pe.t=0),document.removeEventListener("keyup",b)}function m(){e.save()}function p(){e.restore()}function g(t,n){e.translate(t,n)}function v(t,n){e.scale(t,n)}function k(t){e.rotate(t)}function z(t){return n.abs(t)}function C(){e.beginPath()}function D(){e.closePath(),e.fill()}function Y(t,n,h){e.fillStyle=h,C(),e.moveTo(t,n)}function F(t,n){e.lineTo(t,n)}function P(){return n.random()}function I(t){return n.sin(t)}function A(t){return n.cos(t)}function M(t){return n.sqrt(t)}function T(t){return parseInt(t)}function V(t,n){e.shadowColor=n,e.shadowBlur=t}class U{constructor(t,e,n,h){this.nam=t,this.tmr={c:30*e,m:30*e},this.act=n,this.atm={c:30*h,m:30*h}}}function $(t,e,n){let h=0;for(;h<e;){let e=T(20*P()+2),r=T(28*P()+2);3!=t[e+1][r]&&3!=t[e-1][r]&&3!=t[e][r+1]&&3!=t[e][r-1]&&(1!=t[e][r]&&12!=t[e][r]||(t[e][r]=n,h++))}}var R=[],E=[],B=[],L=[],S=[];function X(t,e,n){var h=E.indexOf(me[ze].m.a[t.l][t.c]);-1==h&&1!=me[ze].m.a[t.l][t.c].J?(R.push(me[ze].m.a[t.l][t.c]),me[ze].m.a[t.l][t.c]=e,B.push(t),E.push(me[ze].m.a[t.l][t.c]),L.push(0),S.push(n)):1!=me[ze].m.a[t.l][t.c].J&&(me[ze].m.a[t.l][t.c]=e,E[h]=me[ze].m.a[t.l][t.c],L[h]=0,S[h]=n)}zzfx=(...t)=>zzfxP(zzfxG(...t)),zzfxP=(...t)=>{let e=zzfxX.createBufferSource(),n=zzfxX.createBuffer(t.length,t[0].length,zzfxR);return t.map(((t,e)=>n.getChannelData(e).set(t))),e.buffer=n,e.connect(zzfxX.destination),e.start(),e},zzfxG=(t=1,e=.05,h=220,r=0,s=0,w=.1,c=0,a=1,x=0,i=0,l=0,y=0,o=0,u=0,f=0,d=0,b=0,m=1,p=0,g=0)=>{let v,k,z=2*n.PI,C=x*=500*z/zzfxR**2,D=(0<f?1:-1)*z/4,Y=h*=(1+2*e*P()-e)*z/zzfxR,F=[],I=0,A=0,M=0,T=1,V=0,U=0,$=0;for(r=99+zzfxR*r,p*=zzfxR,s*=zzfxR,w*=zzfxR,b*=zzfxR,i*=500*z/zzfxR**3,f*=z/zzfxR,l*=z/zzfxR,y*=zzfxR,o=zzfxR*o|0,k=r+p+s+w+b|0;M<k;F[M++]=$)++U%(100*d|0)||($=c?1<c?2<c?3<c?n.sin((I%z)**3):n.max(n.min(n.tan(I),1),-1):1-(2*I/z%2+2)%2:1-4*n.abs(n.round(I/z)-I/z):n.sin(I),$=(o?1-g+g*n.sin(2*n.PI*M/o):1)*(0<$?1:-1)*n.abs($)**a*t*zzfxV*(M<r?M/r:M<r+p?1-(M-r)/p*(1-m):M<r+p+s?m:M<k-b?(k-M-b)/w*m:0),$=b?$/2+(b>M?0:(M<k-b?1:(k-M)/b)*F[M-b|0]/2):$),v=(h+=x+=i)*n.sin(A*f-D),I+=v-v*u*(1-1e9*(n.sin(M)+1)%2),A+=v-v*u*(1-1e9*(n.sin(M)**2+1)%2),T&&++T>y&&(h+=l,Y+=l,T=0),!o||++V%o||(h=Y,x=C,T=T||1);return F},zzfxV=.3,zzfxR=44100,zzfxX=new(window.AudioContext||webkitAudioContext),zzfxM=(t,e,n,h=125)=>{let r,s,w,c,a,x,i,l,y,o,u,f,d,b,m,p=0,g=[],v=[],k=[],z=0,C=0,D=1,Y={},F=zzfxR/h*60>>2;for(;D;z++)g=[D=l=u=d=0],n.map(((h,u)=>{for(i=e[h][z]||[0,0,0],D|=!!e[h][z],m=d+(e[h][0].length-2-!l)*F,b=u==n.length-1,s=2,c=d;s<i.length+b;l=++s){for(a=i[s],y=s==i.length+b-1&&b||o!=(i[0]||0)|a,w=0;w<F&&l;w++>F-99&&y?f+=(f<1)/99:0)x=(1-f)*g[p++]/2||0,v[c]=(v[c]||0)-x*C+x,k[c]=(k[c++]||0)+x*C+x;a&&(f=a%1,C=i[1]||0,(a|=0)&&(g=Y[[o=i[p=0]||0,a]]=Y[[o,a]]||(r=[...t[o]],r[2]*=2**((a-12)/12),a>0?zzfxG(...r):[])))}d=m}));return[v,k]};var G=zzfxG(...[2,,172,.02,.05,.02,1,.2,1,,,,,1.2,10,.5,,.92,.08]),J=(zzfxG(...[2,,31,.04,.1,.71,4,.1,5,6,,,,1.1,,1,,.35,.25,.19]),zzfxG(...[2,.1,50,.06,.01,.69,4,.8,-.1,-1.8,50,-.99,,,1.2,.2,,.1,,,233]));function W(t){for(let e=0;e<t.length;e++)t[e].U(),t[e].I()&&(t.splice(e,1),e--)}zzfxG(...[2,,100,.1,.4,.6,4,1.5,,.3,,-.2,,.3,.5,.3,,.7,.1]);class _{constructor(t,e,h,r,s){let w=this;if(w.x=t.x+P()*t.w,w.y=t.y+P()*t.h,w.vx=2*P()-1,w.vy=4*P()-5,w.a=1,w.r=3,r&&(w.r=10,w.vy=40*-P()),s&&(w.r=5),w.w=t.w,w.h=t.h,w.cor=e,w.e=t,w.cen=h,h){var c=100*P(),a=P()*(2*n.PI),x={x:c*A(a),y:c*I(a)};w.x+=x.x,w.y+=x.y}}I(){return this.a<0}U(){let t=this;if(t.cen){let t=this;t.U=function(){var e=n.sqrt((t.cen.x-t.x)**2+(t.cen.y-t.y)**2)/50,h=n.atan2(2*(t.cen.y-t.y),2*(t.cen.x-t.x)),r=e*A(h)*5,s=e*I(h)*5;t.x+=r,t.y+=s,t.a-=.03}}else t.U=function(){t.x+=t.vx,t.y+=t.vy*(1-2*Pe),t.a-=.03,t.r>1&&(t.r-=.05+.05*P())}}Y(){let t=this;switch(t.cor){case"red":t.Y=function(){i(t.x,t.y,t.r,`rgba(${100+255*P()}, 10, 10, ${t.a})`)};break;case"ora":t.Y=function(){i(t.x,t.y,t.r,`rgba(${200+30*P()}, ${50+100*P()}, 10, ${t.a})`)};break;case"pur":t.y=t.e.y+t.e.h,t.Y=function(){i(t.x,t.y,t.r,`rgba(${60+200*P()}, ${115*P()}, 255, ${t.a})`)};break;case"bla":t.y=t.e.y+t.e.h,t.Y=function(){i(t.x,t.y,t.r,`rgba(${10*P()}, ${10*P()}, ${10*P()}, ${t.a})`)};break;case"blu":t.y=t.e.y+t.e.h,t.Y=function(){i(t.x,t.y,t.r,`rgba(10, ${50+100*P()}, ${200+30*P()}, ${t.a})`)};break;case"gre":t.y=t.e.y+t.e.h,t.Y=function(){i(t.x,t.y,t.r,`rgba(${0+50*P()}, ${100+255*P()}, ${0+50*P()}, ${t.a})`)}}}}class K{constructor(t){let e=this;e.x=t.x+P()*t.w,e.y=t.y+P()*t.h,e.r=7.5*P(),e.c=`rgb(${100+155*P()}, 10, 10)`}Y(){i(this.x,this.y,this.r,this.c)}}var N="#3A4A13",O="black",Q="white";function q(t){return x=t.x,y=t.y,w=t.w,h=t.h}function H(t){let e=0;for(;e<10;){let n=T(22*P()),h=T(30*P());1==t[n][h]&&(t[n][h]=11,e++)}}function j(t){a(t.x,t.y,32,32,"#24282E")}function Z(t,n,h,r,s){e.font=`${r}px Trebuchet MS`,e.textAlign="center",e.textBaseline="middle",e.fillStyle=s,e.fillText(h,t,n)}function tt(t){m(),g(t.x+t.w/2,t.y+t.h/2),k(t.cnt*n.PI/180),g(-(t.x+t.w/2),-(t.y+t.h/2))}function et(t){m(),t.c&&(g(t.x+t.w/2,t.y+t.h/2),v(-1,1),g(-(t.x+t.w/2),-(t.y+t.h/2)))}function nt(t,e){m(),g(t.x+t.w/2,t.y+t.h/2),k(e*n.PI/180),g(-(t.x+t.w/2),-(t.y+t.h/2))}function ht(t,e){m(),g(t.x+t.w/2,t.y+t.h/2),v(e,e),g(-(t.x+t.w/2),-(t.y+t.h/2))}function rt(t,e){a(t.x+t.w/4,t.y-t.h/2,t.w/2,t.h/2,`rgba(255,255,255,${e||1})`)}function st(t){a(t.x+.5*t.w/4,t.y+2.5*t.h/4,3*t.w/4,t.h/4,"#055769")}function wt(t,e){a(t.x+.5*t.w/4,t.y,3*t.w/4,1.25*t.h/2,e)}function ct(t,e,n,h,r){a(t.x+t.w*e,t.y-t.h*n+h,t.w/8,1.3*t.h/8,r)}function at(t,e,n){q(t);let r={x:x+.75*w/4,y:y+3*h/4,w:1.25*w/4*2,h:-h/4*2};nt(r,-5*e),a(r.x,r.y,r.w/2,-r.h/2,n),p()}function xt(t,e,n,r){q(t),a(x+4.15*w/4-w/14+e,y+h*n/7,w/14,h/14,r)}function it(t,e,n,r){q(t);let s={x:x+2*w/4,y:y+.5*h/4-e,w:-w/4*2,h:-h/4*2};nt(s,-10*e+r),a(s.x,s.y,-s.w/2,-s.h/2,n),p()}function lt(t,e,n){q(t);let r={x:x+2*w/4,y:y+3*h/4,w:-1.25*w/4*2,h:-h/4*2};nt(r,5*e),a(r.x,r.y,-r.w/2,-r.h/2,n),p()}function yt(t,e,n,r,s){q(t);var c={x:x+.3*w/4,y:y,w:3.4*w/4,h:h};wt(c,e),r&&(a(x+3*w/4-.5,y-.5+s,w/4+1,h/2+1,O),a(x+3*w/4,y+s,w/4,h/2,N),ct(t,7/8,-1.35/8,s,"red")),!r&&a(x+3.25*w/4,y-.1*h/2,2,1.2*h/2,"#D9D9D9"),a(x+.75*w/4-.5,y-.1*h/2-.5,2.5*w/4+1,1.2*h/2+1,O),a(x+.75*w/4,y-.1*h/2,2.5*w/4,1.2*h/2,n),st(c)}function ot(t,e,n){q(t),wt(t,e),a(x+.5*w/4-.5,y-.1*h/2-.5,3*w/4+1,1.2*h/2+1,O),a(x+.5*w/4,y-.1*h/2,3*w/4,1.2*h/2,n),st(t)}function ut(t,e){q(t),rt(t,e),ct(t,2.75/8,2.35/8,0,`rgba(0,0,0,${e||1})`),ct(t,4.25/8,2.35/8,0,`rgba(0,0,0,${e||1})`),a(x+2*w/8,y-4*h/8,4*w/8,.75*h/8,`rgba(217,217,217,${e||1})`),a(x+5*w/8,y-3.25*h/8,w/8,h/16),a(x+2*w/8,y-3.25*h/8,w/8,h/16)}function ft(t,e,n,r,s){q(t),a(n+x,y+.5*h/4-e+r/4,w/4,h/4,s)}function dt(t,e,n,r){q(t),a(n+x,y+.4*h/3.5-e,w/14,h/14,r)}function bt(t,e,n){q(t),a(x+n,y+.35*h/3.5+e,w/3.5,h/3.5,"#46464b"),dt(t,-e,n+w/64,"#0000FF"),dt(t,-e,n+w/3.5/2-w/14/2,"#FF0000"),dt(t,-e,n+w/3.5/2+w/18,"#0000FF"),!(t.a==t.bac)&&a(x+w/7+n,y+1.1*h/3.5+e,w/7,h/14,O),dt(t,-e,n+w/3.5/2+w/18,"#00FF00")}function mt(t,e,n){ft(t,-e,0,0,n),ft(t,e,3*t.w/4,0,n)}function pt(t,e,n,r,s){q(t);let c={x:x+.5*w/4,y:y+3*h/4,w:1.25*w/4,h:-h/4*2},i={x:x+2.25*w/4,y:c.y,w:c.w,h:c.h};ht(c,e),a(c.x,c.y,c.w,-c.h/2,r),p(),ht(i,n),a(i.x,i.y,i.w,-i.h/2,s),p()}function gt(t,e,r,s,c,i){q(t);let l={x:x+2*w/4,y:y+.5*h/4,w:-w/4*2,h:-h/4*2},o=0;t.a!=t.sid&&(o=s/4),t.a==t.sid&&nt(l,-10*r+s),a(e-2.5,y+h/16-r+o,w/4+5,h/16,O),a(e+w/10,y+.5*h/4-r+o,w/16,h/4,"#552A18"),a(e+w/16,y+1.5*h/4-r+o,w/8,h/8,"#6F6F6F"),Y(e+w/24,y-4*h/8+.5-r+o,c),F(e+w/8,y-6*h/8+.5-r+o),F(e+w/4.8,y-4*h/8+.5-r+o),D(),a(e+w/24,y-h/2-r+o,w/6,9*h/16,c);var u=-0*r*n.PI/180;t.a==t.sid&&(p(),u=(-10*r+s)*n.PI/180);let f={x:e+w/24,y:y-h/2-r+o+20*I(u),w:w/6,h:9*h/16},d={x:e+w/24-5.1*h/8,y:y-h/2-r+5*I(u),w:f.h,h:f.w};t.c&&(f.x-=w/4,d.x+=d.w);let b=f;if(180*u/n.PI<-45&&(b=d),t.D)for(let t=0;t<5;t++)ve.push(new _(b,"red",{x:f.x+f.w/2,y:f.y+f.h/2}));if(i||be)for(let t=0;t<5;t++)Ae.D?ve.push(new _(b,"ora",0,0,1)):ve.push(new _(b,"ora"))}function vt(t){q(t),e.fillStyle="red",nt(t,180*c/n.PI),C(),Y(x,y),F(x+w/2,y+h/6),F(x+w,y+h/2),F(x+w/2,y+h/1.2),F(x,y+h),F(x+w/3,y+h/1.3),F(x+w/2,y+h/2),F(x+w/3,y+h/4),D(),p(),e.fill()}function kt(t){q(t),Z(x+w/2,y-h/1.1,"[E]",w/2,Q)}function zt(t,e,n,h,r,s){q(t);let c=t.l1.c/t.l1.m*s||1;V(3,O),Y(x,y-n-r,e),F(x+w*c,y-n-r),F(x-h+(w+2*h)*c,y-n),F(x+w*c,y-n+r),F(x,y-n+r),F(x-h,y-n),D(),V(0,O)}function Ct(t){q(t),Yt(t,0),V(10,"black"),a(x+2*w/5,y,w/5,h,"black"),Ft(0),Pt(0),nt(t,180),Ft(0),Pt(0),p(),V(8,"red"),Y(x+2.3*w/5,y,"#880D41"),F(x+2.8*w/5,y),F(x+2.5*w/5,y+h),D(),V(0),It(t,0),It(t,w/1.6)}function Dt(t){q(t),V(10,"black"),Y(x+1.5*w/5,y,"black"),F(x+1.5*w/5,y-h/3.25),F(x+2*w/5,y-h/2.75),F(x+3*w/5,y-h/2.75),F(x+3.5*w/5,y-h/3.25),F(x+3.5*w/5,y),D(),a(x+w/2-w/16/2,y-h/4,w/16,h/32,"#FF8E54"),a(x+w/2-w/16/2,y-h/4-h/32,w/16,h/32,"#EC082A"),a(x+w/2-w/16/2,y-h/4+h/32,w/16,h/32),a(x+w/2+w/16/2,y-h/4,w/16,h/32),a(x+w/2-w/5.4/2,y-h/4,w/16,h/32),V(0),a(x+w/2+w/16/2,y-h/4+h/32,w/32,h/32,"#670816"),a(x+w/2+w/16/2,y-h/4-h/32,w/32,h/32),a(x+w/2-w/8/2,y-h/4+h/32,w/32,h/32),a(x+w/2-w/8/2,y-h/4-h/32,w/32,h/32)}function Yt(t,r,s){q(t),l(x+w/2,y-h/12,w/2.25*!r,h/4.5*!r,0,"#450462"),l(x+w/2,y-h/12,w/2.8*!r,h/4.6*!r,0,"black"),e.fillStyle="#450462",C(),e.ellipse(x+w/2,y-h/12,w/2.25*r,h/4.5*r,0,n.PI-60*n.PI/180,2*n.PI-30*n.PI/180),e.fill(),Y(x+1*w/5,y,"#28013A"),F(x+1.5*w/5,y-h/2),F(x+3.5*w/5,y-h/2),F(x+4*w/5,y),D(),l(x+w/2,y-h/12,w/2.25*s,h/4.5*s,0,"#450462"),Y(x+.9*w/5,y+h/8,"#450462"),F(x+.3*w/5,y-h/32),F(x+4.7*w/5,y-h/32),F(x+4.1*w/5,y+h/8),D(),Y(x,y+h,"#450462"),F(x+1*w/5,y),F(x+4*w/5,y),F(x+w,y+h),D(),Y(x+.9*w/5,y+h/9,"#28013A"),F(x+4.1*w/5,y+h/9),F(x+4.2*w/5,y+h/6),F(x+.8*w/5,y+h/6),D()}function Ft(t){Y(t+x+1.5*w/5,y,"black"),F(t+x+2*w/5,y),F(t+x+2*w/5,y+h/4),F(t+x+1.8*w/5,y+h/16),D()}function Pt(t){Y(t+x+3.5*w/5,y,"black"),F(t+x+3*w/5,y),F(t+x+3*w/5,y+h/4),F(t+x+3.2*w/5,y+h/16),D()}function It(t,e){q(t),Y(e+x,y+h/1,"black"),F(e+x+w/16,y+h/1.15),F(e+x+w/16,y+h/1.1),F(e+x+1*w/16,y+h/1.02),F(e+x+2*w/16,y+h/1.07),F(e+x+2.5*w/16,y+h/1.02),F(e+x+4*w/16,y+h/1.08),F(e+x+6*w/16,y+h/1),D()}function At(t,e,n){q(t),t.c=n;let r=0,s={x:x+2*w/4,y:y+.5*h/4-e,w:-w/4*2,h:-h/4*2};t.a==t.sid&&(nt(s,-10*e),r=15),et(t),V(5,"red"),Y(x+3*w/4-r,y+h/1.05-e,"#880D41"),F(x+3.4*w/4-r,y+h/5-e),F(x+3.5*w/4-r,y-h/4-e),F(x+4.5*w/4-r,y-h/3.5-e),F(x+4.75*w/4-r,y-h/2-e),F(x+5*w/4-r,y-h/2-e),F(x+4*w/4-r,y-h/5-e),F(x+3.75*w/4-r,y+h/5-e),F(x+3.4*w/4-r,y+h/1.05-e),D(),V(0),V(10,"red"),i(x+3.75*w/4-r,y-h/2-e,w/8,"white"),V(0),p(),t.a==t.sid&&p(),t.c=0}function Mt(t,e){a(t,e,1,10.6),a(t+8,e,1,10.6),a(t+16,e,1,10.6),a(t+24,e,1,10.6)}function Tt(t){q(t),a(x,y,32,32,"#20252E"),a(x,y,1,32,"#6D798B"),a(x+31,y,1,32)}function Vt(t,e,n){if(q(t),me[ze].m.a[y/32+n]&&me[ze].m.a[y/32+n][x/32+1*e])return me[ze].m.a[y/32+n][x/32+1*e].J}function Ut(t){Y(x,y+h/1.25,t),F(x+w/1.25,y),F(x+w,y),F(x+w,y+.25*h),F(x+.25*w,y+h),F(x,y+h),D()}class $t{constructor(t,e){this.x=t,this.y=e}s(t){this.x+=t.x,this.y+=t.y}d(t){this.x/=t,this.y/=t}m(t){this.x*=t,this.y*=t}l(t){let e=this;e.x=n.min(n.max(e.x,-t),t),e.y=n.min(n.max(e.y,-t),t)}}class Rt{constructor(t,e,n,h){let r=this;r.x=t,r.y=e,r.w=n/2,r.h=h/2,r.d=new $t(0,0),r.s=new $t(0,0),r.c=0,r.n=1,r.r=0,r.f=0}Y(){let t=this;t.d.x&&(t.a=t.sid,t.c=0,t.d.x<0&&(t.c=1)),t.d.y>0&&z(t.d.y)>z(t.d.x)&&(t.a=t.fro,t.c=0),t.d.y<0&&z(t.d.y)>z(t.d.x)&&(t.a=t.bac,t.c=0),t.s.x||t.s.y?(t.n++,t.r&&(t.n-=2),(t.n>=3||t.n<=-3)&&(t.r=!t.r)):t.n>0?t.n-=.25:t.n<0&&(t.n+=.25),t.a()}a(){this.fro()}L(t){let e=this;for(let n=0;n<t.length;n++)if(e.x+e.w>=t[n].x&&e.x<=t[n].x+t[n].w&&e.y+e.h>=t[n].y&&e.y<=t[n].y+t[n].h)return 1}u(t){return me[ze].m.a[t.l][t.c].col}C(){let t=this,e={c:T(t.x/32),l:T(t.y/32)},n={c:T((t.x+t.w)/32),l:T(t.y/32)},h={c:T((t.x+t.w)/32),l:T((t.y+t.h)/32)},r={c:T(t.x/32),l:T((t.y+t.h)/32)};return t.u(e)||t.u(n)||t.u(h)||t.u(r)}}class Et extends Rt{constructor(t,e,n,h){super(t,e,n,h);let r=this;r.A=0,r.F=0,r.W=0,r.b=[],r.m=5,r.i=0,r.e=0,r.t={c:390,m:390},r.M={c:0,m:60},r.D=0,r.Q=0}sid(){let t=this;et(t),function(t,e,n){q(t),a(x+3*w/4+e,y,w/4,h/4,n)}(t,t.n,Q),at(t,t.n,Q),tt(t),function(t,e){q(t),rt(t),a(x+2*w/8,y-4*h/8,4*w/8,.75*h/8+1,"#D9D9D9"),a(x+2*w/8,y-3.25*h/8,3*w/8,h/16+1),a(x+2*w/8,y-2.75*h/8,w/8,h/8+1),a(x+2.5*w/4,y-2.35*h/8,w/8,1.3*h/8,O),a(x+w/4,y-h/2,w/2*e,h/10*e,"red"),a(x+w/4,y-h/2,w/13*e,h/4*e,"red"),a(x+w/3.3,y-h/2,w/13*e,h/6*e,"red"),a(x+w/1.7,y-h/2,w/13*e,h/4*e,"red")}(t),yt(t,"#6F6F6F","#424242",0),p(),gt(t,t.x+2*t.w/4,t.n,t.A,"red",t.W),it(t,t.n,Q,t.A),lt(t,t.n,Q),p()}bac(){let t=this;gt(t,t.x,-t.n,t.A,"red",t.W),ft(t,-t.n,0,t.A,Q),ft(t,t.n,3*t.w/4,0,Q),pt(t,t.n<0?.8:t.n?1.2:1,t.n>0?.8:t.n?1.2:1,Q,Q),tt(t),function(t,e){q(t),rt(t),a(x+2*w/8,y-4*h/8,4*w/8,2.25*h/8,"#D9D9D9"),a(x+4*w/8-1,y-4*h/8-1,(2*w/8+2)*e,(4*h/8+2)*e,N),a(x+2*w/8,y-4*h/8,1*w/16*e,2*h/8*e,"red"),a(x+2*w/8,y-4*h/8,2*w/16*e,1*h/12*e,"red")}(t,"#424242"),ot(t,"#6F6F6F","#424242"),p()}fro(){let t=this;tt(t),ut(t),function(t){q(t),wt(t,"#6F6F6F");let e={w:w/4,h:1.2*h/2,y:.1*h/2};a(x+.5*w/4,y-e.y-.5,e.w+1,e.h+1,O),a(x+.5*w/4,y-e.y,e.w,e.h,"#424242"),a(x+w/3,y-e.y,2,e.h,"#D9D9D9"),function(t){q(t);let e={w:w/4,h:1.2*h/2,y:.1*h/2};a(x+2.5*w/4-1,y-e.y-.5,e.w+1,e.h+1,O),a(x+2.5*w/4,y-e.y,e.w,e.h,"#424242"),a(x+2*w/3-2,y-e.y,2,e.h,"#D9D9D9")}(t),st(t)}(t),p(),ft(t,t.n,3*t.w/4,t.A,Q),ft(t,-t.n,0*t.w/4,0,Q),gt(t,t.x+3*t.w/4,t.n,t.A,"red",t.W),pt(t,t.n<0?.8:t.n?1.2:1,t.n>0?.8:t.n?1.2:1,Q,Q)}ATK(){let t=this;var e={x:t.x+40*t.d.x,y:t.y+60*t.d.y-t.h/2,w:t.h,h:1.5*t.w};vt(e),zzfxP(G);for(var n=0;n<me[ze].bx.length;n++){let t=me[ze].bx[n].box;t.L([e])&&(t.x=t.spX,t.y=t.spY)}for(n=0;n<ge.length;n++)ge[n].L([e])&&(ge[n].l1.c-=50)}fir(){let t=this;zzfxP(J),t.b.push(new Bt(t.x+t.w/2,t.y,16,16,c)),t.M.c++}k(t){let e=this;e.x+=e.s.x*z(e.s.x/e.len)*t,e.y+=e.s.y*z(e.s.y/e.len)*t}U(){let t=this;t.M.c&&t.M.c++,t.M.c==t.M.m&&(t.M.c=0),t.atA&&(t.A+=20,t.atk=0,t.A>0&&(t.A=0,t.ATK(),t.atA=0)),t.atk&&(t.A-=15,t.A<-90&&(t.atA=1)),t.fAk&&!t.M.c&&(t.F++,t.W=1,t.F>30&&(t.W=0,t.F=0,t.fAk=0,t.fir())),t.D&&(r=[],t.s.m(0),c=n.PI/2,t.Q++,t.Q>120&&(clearInterval(Ie),Ie=setInterval(Ke,1e3/30))),t.i&&kt(t),t.i=0,t.len=t.s.x||t.s.y?M(t.s.x**2+t.s.y**2):1,t.k(1),t.C()&&(t.k(-1),t.s.m(0));for(var e=0;e<me[ze].bx.length;e++)t.L([me[ze].bx[e].box])&&(me[ze].bx[e].box.psh(t,t.d.x,t.d.y),t.k(-1));t.s.x*=t.f,t.s.y*=t.f,z(t.s.x)<.05&&(t.s.x=0),z(t.s.y)<.05&&(t.s.y=0);let h=T((t.x+t.w/2)/32),s=T((t.y+t.h/2)/32);if(t.e)for(let t=-1;t<2;t++)for(let e=-1;e<2;e++)X({l:t+s,c:e+h},new ie(32*(e+h),32*(t+s)),300);t.t.c<=0&&(t.D=1,t.t.c=0),t.t.c>t.t.m&&(t.t.c=t.t.m),t.t.c>0&&t.t.c--}}class Bt extends Rt{constructor(t,e,n,h,r){super(t,e,n,h),this.a=r}Y(){let t=this;a(t.x,t.y,t.w,t.h,"red");for(let e=0;e<5;e++)ve.push(new _(t,"ora"))}I(){let t=this;if(t.C())return 1;for(var e=0;e<me[ze].bx.length;e++)if(t.L([me[ze].bx[e].box]))return 1;for(e=0;e<ge.length;e++)if(ge[e].L([t]))return ge[e].l1.c-=100,1}U(){let t=this;t.x+=10*A(t.a),t.y+=10*I(t.a);let e={c:T((t.x+t.w/2)/32),l:T((t.y+t.h/2)/32)};me[ze].m.a[e.l][e.c].G&&X(e,new ne(32*e.c,32*e.l),30)}}class Lt extends Bt{constructor(t,e,n,h,r){super(t,e,n,h,r),this.x+=this.w/2}I(){let t=this;if(t.C())return 1;for(var e=0;e<me[ze].bx.length;e++)if(t.L([me[ze].bx[e].box]))return 1;return Ae.L([t])?(Ae.t.c-=30,1):void 0}U(){let t=this;super.Y(),t.x+=15*A(t.a),t.y+=15*I(t.a);let e=T((t.x+t.w/2)/32),n=T((t.y+t.h/2)/32);!me[ze].m.a[n][e].uFr&&(me[ze].m.a[n][e].uFr=1)}}class St{constructor(t,e,n,h,r){let s=this;s.dtx=t,s.dty=e,s.w=n,s.h=h,s.a=r,s.x=-400*A(r)+t,s.y=-400*I(r)+e-h}U(){let t=this;a(t.x,t.y,t.w,t.h,"rgb(161, 81, 35)");for(let e=0;e<5;e++)ve.push(new _(t,"ora"));t.x+=10*A(t.a),t.y+=10*I(t.a),i(t.dtx,t.dty,50,"rgba(255,0,0,"+100*t.y/t.dty/5/100+")")}}class Xt extends Rt{constructor(t,e){super(t,e,64,64),this.spY=e,this.spX=t}psh(t){this.s.x=t.s.x,this.s.y=t.s.y}Y(){!function(t){q(t);let e={x:x+w/2-w/16,y:y+w/3-6,w:w/8,h:h},n={x:x+w/2-w/16,y:y-7.5,w:w/16,h:h/1.2},r="#E29628",s="#B5701D";a(x,y,w,h,"#995F12"),nt(e,-60),a(e.x,e.y,e.w,e.h,s),p(),nt(n,82),a(n.x,n.y,n.w,n.h,s),p(),a(x+1,y+1,w/8-2,h-2,r),a(x+1,y+1,w-2,h/12-2,r),a(x+1,y+h/4+1,w-2,h/8-2,r),a(x+1+.875*w,y+1,w/8-2,h-2,r),a(x+1,y+.875*h+1,w-2,h/8-2,r)}(this)}U(){let t=this;t.x+=t.s.x,t.y+=t.s.y,t.C()&&(t.x-=t.s.x,t.y-=t.s.y,t.s.x=0,t.s.y=0),t.s.x*=t.f,t.s.y*=t.f,z(t.s.x)<.05&&(t.s.x=0),z(t.s.y)<.05&&(t.s.y=0)}}class Gt extends Rt{constructor(t,e,n,h){super(t,e,n,h);let r=this;r.anC=0,r.gra=0,r.spe=1,r.dmg=.5,r.spV=new $t(0,0),r.acV=new $t(0,0),r.sVM=2,r.tVM=1.25,r.r=50,r.raE=50,r.raP=400,r.rPM=600,r.wH=1,r.wHa=1}I(){return this.D}wlk(t,e){this.x+=t,this.y+=e}lfB(t){if(t.anC>=15&&(t.D=1,Ae.t.c+=t.rec,Ce++),t.l1.c<=0){t.anC+=1;for(let e=0;e<5;e++)ve.push(new _(t,"red"));return ke.push(new K(t)),zzfx(...[,,31,.04,.1,.71,4,.1,5,6,,,,1.1,,1,,.35,.25,.19]),1}}U(){let t=this,e=new $t(0,0),h=new $t(0,0),r=0;for(let s of ge){let w=M((t.x+t.w/2-(s.x+s.w/2))**2+(t.y+t.h/2-(s.y+s.h/2))**2),c=M((t.x+t.w/2-(Ae.x+Ae.w/2))**2+(t.y+t.h/2-(Ae.y+Ae.h/2))**2);if(c<=t.raP?(h=new $t(Ae.x+Ae.w/2-(t.x+t.w/2),Ae.y+Ae.h/2-(t.y+t.h/2)),t.raP=t.rPM):t.raP>150&&(t.raP-=.2),t!=s&&w<=t.raP&&(s.raP>t.raP||t.raP>s.raP)&&(s.raP=t.raP),t!=s&&w<=t.raE){let n=new $t(t.x+t.w/2-(s.x+s.w/2),t.y+t.h/2-(s.y+t.h/2));r++,e.s(n)}r&&e.d(r);let a=M(e.x**2+e.y**2);a&&e.d(a),e.m(t.spe*t.sVM);let x=M(h.x**2+h.y**2);x&&h.d(x),h.m(t.spe*t.tVM),t.acV.s(e),t.acV.s(h),t.spV.s(t.acV),t.spV.l(t.spe),c<28&&(Ae.t.c-=t.dmg,t.wlk(-t.spV.x*n.sign(t.sVM),-t.spV.y*n.sign(t.sVM))),t.anC&&(t.spV.m(0),h.m(0)),t.d=h,t.s=h}t.wlk(t.spV.x,t.spV.y),t.C()&&t.wlk(-t.spV.x,-t.spV.y),t.acV.m(0),t.spV.x*=t.f,t.spV.y*=t.f,t.spV.x<.1&&(t.spV.x=0),t.spV.y<.1&&(t.spV.y=0)}}class Jt extends Gt{constructor(t,e,n,h){super(t,e,n,h),this.l1={m:100,c:100},this.rec=90}sid(){let t=this;et(t),at(t,t.n,N),tt(t),yt(t,"#5C0C0C","#5C0C0C",1,t.anC),p(),it(t,t.n,N,0),lt(t,t.n,N),p()}bac(){let t=this;mt(t,t.n,N),pt(t,t.n<0?.8:t.n?1.2:1,t.n>0?.8:t.n?1.2:1,N,N),tt(t),ot(t,"#5C0C0C","#5C0C0C"),p()}fro(){let t=this;tt(t),ot(t,"#5C0C0C","#5C0C0C"),function(t,e){!function(t,e){q(t),a(x+w/4-.5,y-.5+e,w/2+1,h/2+1,O),a(x+2*w/8,y+e,3*w/8,h/2,N),a(x+5*w/8-1,y+h/8+e,w/8+1,1.5*h/4,N)}(t,e),ct(t,2.75/8,-1.35/8,e,"red"),ct(t,4.25/8,-1.35/8,e,"red")}(t,t.anC),p(),mt(t,t.n,N),pt(t,t.n<0?.8:t.n?1.2:1,t.n>0?.8:t.n?1.2:1,N,N)}Y(){let t=this;super.Y(),!t.lfB(t)&&(zt(t,Q,t.h/4,3,3,0),zt(t,"red",t.h/4,3,3,1))}}class Wt extends Gt{constructor(t,e,n,h){super(t,e,n,h);let r=this;r.l1={m:1e3,c:1e3},r.sVM*=-1,r.tVM*=-1,r.tpt=[],r.tpc={c:0,m:150},r.tpc.c=r.tpc.m,r.ats=[new U("Frb",2,0,.5),new U("Ice",6,0),new U("Mtr",10,0,.2)],r.b=[],r.mtT=[],r.mtr=[]}sid(){let t=this;et(t),function(t,e){q(t),a(x+3*w/4+e,y,w/3.5,h/3.5,"#46464b"),a(x+4.15*w/4-w/7+e,y+1*h/3.5-h/14,w/7,h/14,O),xt(t,e,0,"#0000FF"),xt(t,e,.1,"#FF0000"),xt(t,e,.2,"#00FF00")}(t,t.n),g(0,t.n/8),Yt(t,1),It(t,0),It(t,t.w/3),It(t,t.w/1.6),g(0,-t.n/8),At(t,t.n/5),it(t,t.n/5,O,0),p();for(let e=0;e<10;e++)ve.push(new _(t,"bla"))}fro(){let t=this;g(0,t.n/8),Ct(t,t.n),Dt(t,t.n),g(0,-t.n/8),mt(t,t.n,O),At(t,t.n),bt(t,t.n,0);for(let e=0;e<10;e++)ve.push(new _(t,"bla"))}bac(){let t=this;At(t,-t.n,1),mt(t,t.n,O),bt(t,-t.n,3*t.w/4),g(0,t.n/8),Yt(t,0,1),It(t,0),It(t,t.w/3),It(t,t.w/1.6),g(0,-t.n/8);for(let e=0;e<10;e++)ve.push(new _(t,"bla"))}tlp(){let t=this;t.tpt=[],u(8,me[ze].m.a,t.tpt);var e=t.tpt[T(P()*t.tpt.length)];t.x=e.x-t.w/2,t.y=e.y-t.h/2;let n=M((t.x+t.w/2-(Ae.x+Ae.w/2))**2+(t.y+t.h/2-(Ae.y+Ae.h/2))**2);(t.C()||null==e.x||null==e.y||n<250||n>700)&&t.tlp()}raG(){let t=this,e=Math.floor(P()*t.ats.length);var n=0;"Frb"==t.ats[e].nam&&(d("Die!;","purple",100),n=0),"Ice"==t.ats[e].nam&&(d("Freeze, insect!;","purple",100),n=1),"Mtr"==t.ats[e].nam&&(d("Behold the heaven's wrath!;","purple",100),u(8,me[ze].m.a,t.mtT),n=2),t.ats[n].act=1,t.ats[n].tmr.c=t.ats[n].tmr.m,"Frb"==t.ats[n].nam&&(t.ats[n].atm.c=t.ats[n].atm.m)}sFb(){let t=this;t.ats[0].tmr.c--,t.ats[0].atm.c--;var e=n.atan2(Ae.y-t.y,Ae.x-(t.x+t.w/2));!t.ats[0].atm.c&&(t.b.push(new Lt(t.x,t.y,40,40,e)),t.ats[0].atm.c=t.ats[0].atm.m),!t.ats[0].tmr.c&&(t.ats[0].act=0)}sIc(){let t=this;t.ats[1].tmr.c--,!t.ats[1].tmr.c&&(t.ats[1].act=0,Ae.e=0)}sMt(){let t=this;t.ats[2].tmr.c--,t.ats[2].atm.c--;var e=t.mtT[T(P()*t.mtT.length)];!t.ats[2].atm.c&&(t.mtr.push(new St(e.x,e.y,40,40,135*n.PI/180)),t.ats[2].atm.c=t.ats[2].atm.m),!t.ats[2].tmr.c&&(t.ats[2].act=0,t.mtT=[])}Y(){let t=this;super.Y(),!t.lfB(t)&&(zt(t,Q,t.h/1.5,5,4,0),zt(t,"purple",t.h/1.5,5,4,1))}U(){let t=this;t.tpc.c>0?t.tpc.c--:(t.tpc.c=t.tpc.m,t.raG(),t.tlp()),super.U(t),t.ats[0].act&&t.sFb(),t.ats[1].act&&(Ae.e=1,t.sIc()),t.ats[2].act&&t.sMt();for(let e=0;e<t.mtr.length;e++){t.mtr[e].U();let n=M((t.mtr[e].dtx-(Ae.x+Ae.w/2))**2+(t.mtr[e].dty-(Ae.y+Ae.h/2))**2);(t.mtr[e].y+t.mtr[e].h/2>=t.mtr[e].dty||t.mtr.x<=t.mtr[e].dtx)&&(n<50&&(Ae.t.c-=90),t.mtr.splice(e,1),e--)}W(t.b),t.anC>=14&&(clearInterval(Ie),Ie=setInterval(Ne,1e3/30))}}function _t(t){return Array.from({length:24},(e=>Array.from({length:32},(e=>t))))}function Kt(e){for(var n=0;n<t.height/32;n++)e[n][0]=e[n][31]=2;for(var h=1;h<t.width/32-1;h++)e[0][h]=e[23][h]=2;e[5][25]=e[5][5]=e[17][15]=4}var Nt=[{x:520,y:672}];function Ot(t){var e=0;for(let n=0;n<t.bt.length;n++)t.bt[n].act&&e++;Ye=e==t.bt.length&&0!=e?1:0}var Qt=0;function qt(t){return Qt==t.bn.length&&(Ye=1,Qt=0),Qt}function Ht(t){var e="";if(t.ma.length){for(let n=0;n<t.ma.length-2;n++)e+=t.ma[n].dgt;for(let n=0;n<t.ma.length;n++)t.ma[n].fix?t.ma[n].txC="black":t.ma[n].txC="crimson",Ye=0,Function("return parseInt("+e+")==13")()&&(t.ma[n].txC="green",Ye=1)}}class jt{constructor(t,e,h,r,s,w){let c=this;if(c.m=t,c.co=w,s){switch(T(3*P())){case 0:e=1;break;case 1:h=1;break;case 2:c.m.a=_t(12)}!function(t,e,n){var h=T(4*P()),r=T(3*P());switch(h){case 0:!function(t){Kt(t);for(var e=0;e<23;e++)t[11][e]=2;for(var n=12;n<24;n++)t[n][22]=2;for(e=0;e<22;e++)for(n=12;n<24;n++)t[n][e]=0;t[0][16]=t[0][15]=3,t[2][22]=t[1][1]=t[22][30]=4}(t),Nt.push({x:845,y:672});break;case 1:!function(t){Kt(t);for(var e=1;e<16;e++)for(var n=0;n<13;n++)t[e+8][n+19]=t[e+8][n]=0;for(n=0;n<13;n++)t[9][n+19]=t[9][n]=2;for(e=10;e<24;e++)t[e][12]=t[e][19]=2;t[0][16]=t[0][15]=3,t[5][5]=t[5][25]=4}(t),Nt.push({x:499.2,y:672});break;case 2:!function(t){Kt(t);for(var e=0;e<8;e++)for(var n=11;n<21;n++)t[e][n]=t[e+16][n]=0;for(n=11;n<21;n++)t[16][n]=t[7][n]=2;for(e=0;e<7;e++)t[e][11]=t[e][20]=t[e+17][11]=t[e+17][20]=2;t[0][6]=t[0][5]=3,t[12][3]=t[2][23]=t[1][1]=t[22][30]=4}(t),Nt.push({x:819,y:672});break;case 3:!function(t){Kt(t),t[0][16]=t[0][15]=2;for(var e=7;e<17;e++)for(var n=10;n<32;n++)t[e][n]=0;for(n=10;n<32;n++)t[16][n]=t[7][n]=2;for(e=8;e<16;e++)t[e][10]=2;t[0][26]=t[0][25]=3,t[4][9]=t[16][2]=t[17][30]=t[6][30]=4}(t),Nt.push({x:845,y:672})}var s=[[14,15,new le(0,0,"Dg",1,10),16,14,19,20],[14,17,new le(0,0,"Dg",1,2),16,14,19,20],[14,17,new le(0,0,"Dg",1,6),15,14,19,20],[14,18,new le(0,0,"Dg",1,3),15,14,19,20],[14,16,new le(0,0,"Dg",1,15),15,14,19,20]];let w=-1!=t[1].indexOf(1);switch(r){case 0:for(var c=0;c<2;)c=T(5*P());$(t,c,5),$(t,c,7),e.co=Ot;break;case 1:for(c=0;c<3;)c=T(4*P());$(t,c,6),e.co=qt;break;case 2:for(n=0;n<1;){var a=T(22*P()),x=T(30*P());if(1==t[a][x]&&1==t[a][x+1]&&1==t[a][x+2]&&1==t[a][x+3]&&1==t[a][x+4]&&1==t[a][x+5]&&1==t[a][x+6]&&1==t[a][x+7]||12==t[a][x]&&12==t[a][x+12]&&12==t[a][x+2]&&12==t[a][x+3]&&12==t[a][x+4]&&12==t[a][x+5]&&12==t[a][x+6]&&12==t[a][x+7]){var i=T(P()*s.length);for(h=0;h<7;h++)"Number"==s[i][h].constructor.name?t[a][x+h]=s[i][h]:(t[a][x+h]=s[i][h],t[a][x+h].x=32*(x+h),t[a][x+h].y=32*a);n++}}e.co=Ht}w&&H(t)}(c.m.a,c)}!function(t){for(var e=0;e<t.length;e++)for(var h=0;h<t[e].length;h++)switch(Number(t[e][h])){case 1:t[e][h]=new ne(32*h,32*e);break;case 2:t[e][h]=new ee(32*h,32*e);break;case 3:t[e][h]=new he(32*h,32*e);break;case 4:t[e][h]=new re(32*h,32*e);break;case 5:t[e][h]=new we(32*h,32*e);break;case 6:t[e][h]=new se(32*h,32*e,[0,1]);break;case 7:t[e][h]=new ce(32*h,32*e);break;case 8:t[e][h]=new xe(32*h,32*e);break;case 9:t[e][h]=new ue(32*h,32*e);break;case 10:t[e][h]=new fe(32*h,32*e);break;case 11:t[e][h]=new ye(32*h,32*e);break;case 12:t[e][h]=new ie(32*h,32*e);break;case 13:t[e][h]=new ae(32*h,32*e,[".","_"],n.round(P()));break;case 14:t[e][h]=new le(32*h,32*e,"Dg",0);break;case 15:t[e][h]=new le(32*h,32*e,"Add",1);break;case 16:t[e][h]=new le(32*h,32*e,"Sub",1);break;case 17:t[e][h]=new le(32*h,32*e,"Mul",1);break;case 18:t[e][h]=new le(32*h,32*e,"Div",1);break;case 19:t[e][h]=new le(32*h,32*e,"Res",1);break;case 20:t[e][h]=new le(32*h,32*e,"Ans",1);break;case 21:t[e][h]=new oe(32*h,32*e);break;case 22:t[e][h]=new de(32*h,32*e)}}(c.m.a),c.bx=[],c.bn=[],c.b=e,c.r=h,c.bt=[],c.ma=[],c.mo=[],c.spw=[],u(2,c.m.a,c.spw),u(3,c.m.a,c.mo),u(4,c.m.a,c.bx),u(5,c.m.a,c.bn),u(6,c.m.a,c.bt),u(7,c.m.a,c.ma),function(t){let e=t.length;for(;e;){let h=n.floor(P()*e);e--,[t[e],t[h]]=[t[h],t[e]]}}(c.bt),c.mo.sort(((t,e)=>t.x-e.x));for(let t=0;t<c.spw.length;t++)c.spw[t].spT=30*r.t,c.spw[t].enL=r.l;c.txt=".____...__"}U(){let t=this;be=t.b,Pe=t.r,t.co(t),t.m.U()}}class Zt{constructor(t){this.a=t}U(){let t=this;for(var e=0;e<t.a.length;e++)for(var n=0;n<t.a[e].length;n++)t.a[e][n]&&o(t.a[e][n],32,32)&&t.a[e][n].Y(),t.a[e][n]&&t.a[e][n].U()}}class te{constructor(t,e){let n=this;n.x=t,n.y=e,n.w=n.h=32,n.add=0,n.tim={c:0,m:90}}Y(){a(this.x,this.y,32,32,this.clr)}U(){}C(t){let e=this;return e.x+32>=t.x&&e.x<=t.x+t.w&&e.y+32>=t.y&&e.y<=t.y+t.h?1:0}uFr(){if(this.tim.c++,this.tim.c>this.tim.m)return this.tim.c=0,1}}class ee extends te{constructor(t,e){super(t,e),this.col=1,this.J=1}Y(){let t=this;Vt(t,1,0)&&Vt(t,-1,0)?t.Y=function(){j(t),q(t),a(x,y+h-1,w,1,"black"),a(x,y,w,1),Mt(x,y),a(x,y+1*h/3,h,1),Mt(x+1*w/8,y+1*h/3),a(x,y+2*h/3,h,1),Mt(x+1*w/32,y+2*h/3)}:Vt(t,0,-1)&&Vt(t,0,1)?t.Y=function(){Tt(t)}:(Vt(t,0,-1)||Vt(t,0,1)||(t.Y=function(){Tt(t),a(t.x,t.y+t.h-1,t.w,1,"#6D798B"),a(t.x,t.y,t.w,1,"#6D798B")}),Vt(t,0,-1)&&(t.Y=function(){Tt(t),a(t.x,t.y+t.h-1,t.w,1,"#6D798B")}),Vt(t,0,1)&&(t.Y=function(){Tt(t),a(t.x,t.y,t.w,1,"#6D798B")}))}}class ne extends te{constructor(t,e){super(t,e),this.J=8}U(){for(var t=0;t<Te.length;t++)this.C(Te[t])&&(Te[t].f=0,Te[t].acel=5)}Y(){j(this)}}class he extends te{constructor(t,e){super(t,e),this.clr="#6b5421",this.col=1}Y(){super.Y(),Ye&&j(this)}U(){let e={x:Ae.x-5,y:Ae.y-5,w:Ae.w+10,h:Ae.h+10};this.C(e)&&Ye&&(ze++,Ae.x=Nt[ze].x,Ae.y=Nt[ze].y,Ae.t.c=Ae.t.m,ge=[],ke=[],ve=[],Ae.bal=[],Ye=0,E=[],R=[],S=[],L=[],B=[],Ce=0,12==ze&&ge.push(new Wt(t.width/2,t.height/2,128,128)))}}class re extends te{constructor(t,e){super(t,e),this.cuT=0,this.J=2}arT(){let t=this;90==t.cuT&&(ge.push(new Jt(t.x,t.y,64,64,t)),t.cuT=0),t.cuT++}Y(){j(this),q(this),a(x+w/8,y+h/8,.75*w,.75*h,"#C6C6C8"),a(x+w/8,y+h/8,.75*w/8,.75*h,"red"),a(x+w/8,y+h/8,.75*w/4,.75*h/2.5,"red"),a(x+.05*w,y+h/1.5,.9*w,h/4,"#D9D9D9")}U(){30>=ge.length&&this.arT()}}class se extends te{constructor(t,e){super(t,e);let n=this;n.clr="red",n.cld=0,n.J=5}U(){let t=this;if(t.C(Ae)){if(me[ze].bn[Qt]!=t||t.cld){if(!t.cld){for(var e=0;e<me[ze].bn.length;e++)me[ze].bn[e].clr="red";Qt=0}}else t.clr="green",Qt++;t.cld=1,4==Qt&&(Ye=1)}else t.cld=0}Y(){j(this),function(t,e){q(t),l(x+w/2,y+h/2,w/3,h/8,0,e),l(x+w/2,y+h/1.2,w/2.5,h/5,0,"gray"),l(x+w/2,y+h/1.2,w/3,h/8,0,e),a(x+w/6,y+h/2,w/1.5,h/3,e)}(this,this.clr)}}class we extends te{constructor(t,e){super(t,e);let n=this;n.clr="#FF9633",n.box=new Xt(n.x,n.y),n.J=4}}class ce extends te{constructor(t,e){super(t,e);let n=this;n.act=0,n.clr="purple",n.J=6}bCD(){let t=this;for(var e=me[ze].bx.length,n=0;n<e;n++)if(t.x+32>=me[ze].bx[n].box.x&&t.x<=me[ze].bx[n].box.x+me[ze].bx[n].box.w&&t.y+32>=me[ze].bx[n].box.y&&t.y<=me[ze].bx[n].box.y+me[ze].bx[n].box.h)return 1}U(){let t=this;t.act=t.bCD(),t.bCD()?t.clr="green":t.clr="red"}Y(){j(this),function(t,e){q(t),Ut(e),nt(t,90),Ut(e),p()}(this,this.clr)}}class xe extends te{constructor(t,e,n){super(t,e),this.clr="#7C653C",this.col=1,this.txt=n}Y(){j(this),q(this),a(x,y,w,h/1.75,"#7C653C"),a(x+w/2.2,y,w/8,h,"#7C653C"),a(x+.1*w,y+h/1.75*.5/4,.8*w,h/3/4,"#574220"),a(x+.1*w,y+h/1.75*1.75/4,.8*w,h/3/4,"#574220"),a(x+.1*w,y+h/1.75*3/4,.8*w,h/3/4,"#574220")}U(){let t=this;M((t.x+t.w/2-(Ae.x+Ae.w/2))**2+(t.y+t.h/2-(Ae.y+Ae.h/2))**2)<50&&(r[69]&&d(t.txt,"black",100),Ae.i=1)}}class ie extends te{constructor(t,e){super(t,e),this.G=1}U(){for(var t=0;t<Te.length;t++)this.C(Te[t])&&(Te[t].f=.98,Te[t].acel=.1)}Y(){a(this.x,this.y,32,32,"lightblue")}}class le extends te{constructor(t,e,h,r,s){super(t,e);let w=this;switch(w.typ=h,w.fix=r,w.fix?w.txC="black":w.txC="crimson",w.val=0,w.J=7,w.typ){case"Dg":w.fix?w.val=s%21:w.val=n.floor(21*n.random()),w.dgt=w.val;break;case"Add":w.dgt="+";break;case"Sub":w.dgt="-";break;case"Mul":w.dgt="*";break;case"Div":w.dgt="/";break;case"Res":w.dgt="=";break;case"Ans":w.dgt=13}w.str=w.val}opr(t,e){let n=this;switch(n.typ){case"Add":e.str=t.str+e.val;break;case"Sub":e.str=t.str-e.val;break;case"Mul":e.str=t.str*e.val;break;case"Div":e.str=t.str/e.val;break;case"Res":n.str=t.str,e.str=t.str;break;case"Ans":n.str=n.dgt=n.val=13}}chg(t){return t}Y(){let t=this;q(t),a(x+1,y+1,w-2,h-2,"#30353D"),Z(t.x+t.w/2,t.y+t.h/2,t.dgt,t.w/1.5,t.txC)}U(){let t=this;M((t.x+t.w/2-(Ae.x+Ae.w/2))**2+(t.y+t.h/2-(Ae.y+Ae.h/2))**2)<50&&!t.fix&&(Ae.i=1,r[69]&&(t.val++,t.val%=21,t.dgt=t.val,t.str=t.val,r[69]=0))}}class ye extends te{constructor(t,e){super(t,e),this.r=90*T(4*P())}Y(){var t;j(this),V(3,"black"),t=this.r,q(this),nt(this,t),a(x+.4*w/3,y+1.6*h/3,w/5,h/5,"#4C4C4C"),a(x+1.7*w/3,y+2*h/3,w/3,h/4,"#4C4C4C"),a(x+.2*w/3,y+.2*h/3,w/3,h/3,"#333333"),a(x+2*w/3,y+.5*h/3,w/4,h/5,"#333333"),p(),V(0)}}class oe extends te{constructor(t,e){super(t,e),this.c="white",this.cnt=0,this.col=1}Y(){let t=this;Tt(t),Ce<=13&&(t.cnt=Ce),13==t.cnt&&(t.c="green"),function(t,e,n){q(t),a(x+1,y+1,w-2,h-2,"#20252E"),V(5,"black"),Z(x+w/2,y+h/2,e,w/1.25,n),V(0)}(t,t.cnt,t.c)}}class de extends te{constructor(t,e){super(t,e)}Y(){this.clr=De,super.Y()}}var be=0,me=[new jt(new Zt(function(t){return Kt(t),t[0][16]=t[0][15]=3,t[2][12]=new xe(384,64,"Well met, T’reze!;You hast reached the Tower of Dreizehn!;May the number thirteen bless your journey...;"),t[2][19]=new xe(608,64,"The sword you wield in your hand holds great power T’reze.;but everything has a price... If you dont feed the sword with souls...; In thirteen seconds she will feed on your own soul!;"),t[0][23]=21,H(t),t}(_t(1))),0,0,{t:3,l:50},0,(function(){Ce>=13&&(Ye=1)})),new jt(new Zt(_t(1)),0,0,{t:3,l:50},1),new jt(new Zt(_t(1)),1,0,{t:3,l:50},1),new jt(new Zt(_t(1)),0,0,{t:3,l:50},1),new jt(new Zt(_t(1)),0,0,{t:1,l:50},1),new jt(new Zt(_t(1)),0,1,{t:1,l:50},1),new jt(new Zt(_t(1)),0,0,{t:1,l:50},1),new jt(new Zt(_t(1)),0,0,{t:1,l:50},1),new jt(new Zt(_t(1)),0,0,{t:1,l:50},1),new jt(new Zt(_t(1)),0,0,{t:1,l:50},1),new jt(new Zt(_t(1)),0,0,{t:1,l:50},1),new jt(new Zt(_t(1)),0,0,{t:1,l:50},1),new jt(new Zt(function(t){return Kt(t),t[6][7]=t[6][8]=t[16][7]=t[16][8]=t[16][12]=t[16][11]=t[16][20]=t[16][21]=t[16][22]=t[16][23]=t[15][23]=t[14][23]=t[13][23]=t[10][23]=t[9][23]=t[8][23]=t[7][23]=t[7][22]=t[7][21]=t[7][20]=t[12][19]=t[11][19]=t[12][20]=t[11][20]=t[12][21]=t[11][21]=t[12][22]=t[11][22]=t[12][23]=t[11][23]=t[7][19]=t[6][19]=t[6][20]=t[6][21]=t[6][22]=t[6][23]=t[6][24]=t[7][24]=t[8][24]=t[9][24]=t[10][24]=t[11][24]=t[12][24]=t[13][24]=t[14][24]=t[15][24]=t[16][24]=t[17][24]=t[17][23]=t[17][22]=t[17][21]=t[17][20]=t[16][19]=t[17][19]=t[17][12]=t[17][7]=t[17][8]=t[17][11]=t[17][10]=t[17][9]=t[17][10]=t[16][9]=t[16][10]=t[15][9]=t[15][10]=t[14][9]=t[14][10]=t[13][9]=t[13][10]=t[12][9]=t[12][10]=t[11][9]=t[11][10]=t[10][9]=t[10][10]=t[9][9]=t[9][10]=t[8][9]=t[8][10]=t[7][7]=t[7][8]=t[7][9]=t[7][10]=t[6][10]=t[6][9]=22,H(t),Nt.push({x:520,y:672}),t}(_t(1))),0,0,{t:1,l:50},0,(function(){}))],pe={t:0,sTX:"",aTX:"",clr:"",cTM:0},ge=[],ve=[],ke=[],ze=0,Ce=0,De="#28013A",Ye=0,Fe=200,Pe=0,Ie=setInterval((function(){a(0,0,t.width,t.height,"black");for(let t=0;t<20;t++)ve.push(new _(Be,"pur",0,1));for(let t=0;t<ve.length;t++)o(ve[t],0,0)&&ve[t].Y();W(ve),V(15,"purple"),Ct(Re),Dt(Re),V(0,"purple"),V(10,"purple"),Z(t.width/2,t.height/8,"13-Seconds-To-Kill",t.width/10,"purple"),V(0),$e.Y(),V(10,"red"),zt(Ee,"purple",75,105,30,0),zt(Ee,Q,75,100,25,0),Z(t.width/2,t.height/1.34,"press space to play",40,O),V(0),r[32]&&(clearInterval(Ie),Ie=setInterval(_e,1e3/30))}),1e3/30),Ae=new Et(t.width/2,t.height/3,64,64),Me=[],Te=[],Ve=new class{constructor(){}Y(){V(5,"black"),Y(104,48,"white"),F(159,48),F(169,48),F(159,64),F(104,64),D();let t=Ae.M.c/Ae.M.m;!t&&(t=1),Y(104,48,"orange"),F(104+55*t,48),F(104+65*t,48),F(104+55*t,64),F(104,64),D(),Y(104,32,"white"),F(214,32),F(224,40),F(214,48),F(104,48),D(),Y(104,32,"red"),F(104+110*Ae.t.c/Ae.t.m,32),F(104+120*Ae.t.c/Ae.t.m,40),F(104+110*Ae.t.c/Ae.t.m,48),F(104,48),D(),V(0),ut({x:8,y:80,w:128,h:128},1*Ae.t.c/Ae.t.m||.001)}},Ue=new $t(0,0),$e=new Et(t.width/2-100,t.height/2+100,400,400),Re={x:-127.5,y:500,w:1.25*t.width,h:1.25*t.width},Ee={x:t.width/2-t.width/3/2,y:650,w:t.width/3,l1:{c:0,m:0}},Be={x:0,y:0,w:t.width,h:t.height},Le=0,Se=100,Xe=0,Ge=0,Je={x:t.width/2,y:t.height/2,w:200,h:200};const We=zzfxM([[1.5,0,130.8128,.03,.4,.27,1,.5,,,,,,.1,,,.07,.64,.04,,107],[1.1,0,65.40639,.04,.91,.06,,1.2,,,,,.4,.1,,,,.52,.09,.22],[1.3,0,65.40639132514966,,.02,,,1.5,,,,,,5,,,,.7,.02],[.5,0,260,,,.04,,,,,,,.1,99,,,,2,.005,.2]],[[[0,0,12,0,0,0,0,0,0,-1,13,0,0,0,0,0,0,-1],[0,0,,,,,15,0,0,0,0,0,0,-1,15,0,0,0],[2,0,12,-1,,,,,,,84,-1,,,,,,],[3,0,,,,,12,-1,,,,,,,12,-1,,]]],[0],120);function _e(){a(0,0,t.width,t.height,"black"),Te=ge.concat(Ae,f("box",me[ze].bx)),me[ze].U();for(let t=0;t<ke.length;t++)o(ke[t],0,0)&&ke[t].Y();(Me=ge.concat(Ae,Ae.b,f("box",me[ze].bx))).sort(((t,e)=>t.y-e.y));for(let t=0;t<Me.length;t++)o(Me[t],Me[t].w,Me[t].h)&&Me[t].Y();for(let t=0;t<ve.length;t++)o(ve[t],0,0)&&ve[t].Y();for(var e=0;e<f("box",me[ze].bx).length;e++)f("box",me[ze].bx)[e].U();var h,w;W(Ae.b),W(ge),W(ve),Ae.U(),!Ae.D&&(c=n.atan2(s.y-Ae.y,s.x-(Ae.x+Ae.w/2))+n.PI*Pe||n.PI/2),Ae.d.x=A(c),Ae.d.y=I(c),r[87-4*Pe]&&Ae.s.y>-Ae.m&&(Ae.s.y-=Ae.acel),r[83+4*Pe]&&Ae.s.y<Ae.m&&(Ae.s.y+=Ae.acel),r[65+3*Pe]&&Ae.s.x>-Ae.m&&(Ae.s.x-=Ae.acel),r[68-3*Pe]&&Ae.s.x<Ae.m&&(Ae.s.x+=Ae.acel),Ve.Y(),a(0,0,t.width*Pe,t.height*Pe,"rgba(75,0,130,0.4)"),function(){let t=P()*(P()<.5?1:-1)*Pe,e=P()*(P()<.5?1:-1)*Pe;Ue.x+=t,Ue.y+=e,g(t,e),!t&&(g(-Ue.x,-Ue.y),Ue.m(0)),(z(Ue.x)>2||z(Ue.y)>2)&&(Ue.x-=t,Ue.y-=e,g(-t,-e))}(),L&&function(){for(var t=0;t<L.length;t++)L[t]>=S[t]?(me[ze].m.a[B[t].l][B[t].c]=R[t],E.splice(t,1),R.splice(t,1),S.splice(t,1),L.splice(t,1),B.splice(t,1),t--):(R[t].constructor.name==E[t].constructor.name&&(E.splice(t,1),R.splice(t,1),S.splice(t,1),L.splice(t,1),B.splice(t,1),t--),L[t]++)}(),pe.t?(h=pe.sTX,w=pe.clr,pe.t,a(0,t.height-100,t.width,100,"rgba(255,255,255,0.5)"),a(10,t.height-90,t.width-20,80,"rgba(0,0,0,0.5)"),Z(t.width/2,t.height-50,h,20,w),pe.t--,document.addEventListener("keyup",b)):""!=pe.aTX&&d(pe.aTX,pe.clr,pe.cTM)}function Ke(){if(Le<100?99==++Le&&(ve=[]):Xe<100?Xe++:Ge<100&&(Ge+=5),a(0,0,t.width,t.height,"rgba(0,0,0,"+Le/100+")"),Xe>50){Se-=2,gt(Je,Je.x-25,0,0,"red",1);for(let t=0;t<ve.length;t++)o(ve[t],0,0)&&ve[t].Y();W(ve),a(0,0,t.width,t.height,"rgba(0,0,0,"+Se/100+")")}V(10,"purple"),Z(t.width/2,t.height-100,"You are dead.",t.width/30,"rgba(255,0,0,"+Xe/100+")"),Z(t.width/2,t.height-50,"The sword lays claim to your soul.",t.width/30,"rgba(255,0,0,"+Xe/100+")"),Z(t.width/2,150,"Press space to restart.",t.width/30,"rgba(255,0,0,"+Ge/100+")"),V(0,"purple"),100==Ge&&r[32]&&window.location.reload()}function Ne(){Le<100?Le++:Xe<100?Xe++:Ge<100&&(Ge+=5),a(0,0,t.width,t.height,"rgba(0,0,0,"+Le/100+")"),Z(t.width/2,t.height/2,"Congratulations!",t.width/30,"rgba(0,255,0,"+Xe/100+")"),Z(t.width/2,t.height/2+50,"Now get out.",t.width/30,"rgba(255,0,0,"+Ge/100+")")}We.loop=1,zzfxP(...We).loop=1;