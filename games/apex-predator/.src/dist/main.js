(()=>{"use strict";var __webpack_modules__={"./src/Character.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Character": () => (/* binding */ Character)\n/* harmony export */ });\nvar Character = /** @class */ (function () {\r\n    function Character(name, radius, speed, map) {\r\n        this.name = name;\r\n        this.radius = radius;\r\n        this.speed = speed;\r\n        this.map = map;\r\n        var position = map.randomOnLoad();\r\n        var leftTop = this.map.getTileLeftTop(position.x, position.y);\r\n        this.position = {\r\n            x: Math.floor(leftTop.left + this.map.getTileWidth() / 2),\r\n            y: Math.floor(leftTop.top + this.map.getTileHeight() / 2),\r\n        };\r\n        this.direction = { x: 0, y: 0 };\r\n        this.nextDirection = { x: 0, y: 0 };\r\n        this.distance = 0;\r\n        this.alive = true;\r\n    }\r\n    Character.prototype.getCx = function () {\r\n        return this.position.x - 12;\r\n    };\r\n    Character.prototype.getCy = function () {\r\n        return this.position.y - 12;\r\n    };\r\n    Character.prototype.getDistance = function (other) {\r\n        return Math.sqrt(Math.pow(this.getCx() - other.getCx(), 2) +\r\n            Math.pow(this.getCy() - other.getCy(), 2));\r\n    };\r\n    Character.prototype.getSpeed = function () {\r\n        return this.speed;\r\n    };\r\n    Character.prototype.isAlive = function () {\r\n        return this.alive;\r\n    };\r\n    Character.prototype.canMove = function () {\r\n        if (this.nextDirection.x < 0) {\r\n            return !this.map.canMoveLeft(this.position.x, this.position.y);\r\n        }\r\n        else if (this.nextDirection.x > 0) {\r\n            return !this.map.canMoveRight(this.position.x, this.position.y);\r\n        }\r\n        else if (this.nextDirection.y < 0) {\r\n            return !this.map.canMoveUp(this.position.x, this.position.y);\r\n        }\r\n        else if (this.nextDirection.y > 0) {\r\n            return !this.map.canMoveDown(this.position.x, this.position.y);\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    Character.prototype.die = function () {\r\n        this.alive = false;\r\n    };\r\n    Character.prototype.move = function (duration) {\r\n        var distance = (duration * this.getSpeed()) / 1000;\r\n        if (Boolean(this.direction.x)) {\r\n            this.distance += distance;\r\n            if (this.distance >= this.map.getTileWidth()) {\r\n                this.distance = 0;\r\n            }\r\n            else {\r\n                this.position.x += this.direction.x * distance;\r\n                return;\r\n            }\r\n        }\r\n        else if (Boolean(this.direction.y)) {\r\n            this.distance += distance;\r\n            if (this.distance >= this.map.getTileHeight()) {\r\n                this.distance = 0;\r\n            }\r\n            else {\r\n                this.position.y += this.direction.y * distance;\r\n                return;\r\n            }\r\n        }\r\n        this.position = this.map.getTileCenter(this.position.x, this.position.y);\r\n        if (this.canMove()) {\r\n            this.direction.x = this.nextDirection.x;\r\n            this.direction.y = this.nextDirection.y;\r\n        }\r\n        else {\r\n            this.nextDirection.x = this.direction.x;\r\n            this.nextDirection.y = this.direction.y;\r\n            this.direction = { x: 0, y: 0 };\r\n        }\r\n    };\r\n    return Character;\r\n}());\r\n\r\n\n\n//# sourceURL=webpack://hello-world-typescript/./src/Character.ts?')},"./src/Enemy.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Enemy": () => (/* binding */ Enemy)\n/* harmony export */ });\n/* harmony import */ var _Character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Character */ "./src/Character.ts");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== "function" && b !== null)\r\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar Enemy = /** @class */ (function (_super) {\r\n    __extends(Enemy, _super);\r\n    function Enemy(name, radius, speed, imagePath, map) {\r\n        var _this = _super.call(this, name, radius, speed, map) || this;\r\n        _this.imagePath = imagePath;\r\n        _this.targets = [];\r\n        return _this;\r\n    }\r\n    Enemy.prototype.decideDirection = function () {\r\n        var _this = this;\r\n        if (this.targets.some(function (t) { return t.isAlive(); })) {\r\n            this.targets.forEach(function (t) {\r\n                if (!t.isAlive())\r\n                    return;\r\n                if (Math.random() < 0.5) {\r\n                    t.getCx() - _this.getCx() < 0\r\n                        ? (_this.nextDirection.x = -1)\r\n                        : (_this.nextDirection.x = 1);\r\n                    _this.nextDirection.y = 0;\r\n                }\r\n                else {\r\n                    _this.nextDirection.x = 0;\r\n                    t.getCy() - _this.getCy() < 0\r\n                        ? (_this.nextDirection.y = -1)\r\n                        : (_this.nextDirection.y = 1);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (Math.random() < 0.5) {\r\n                Math.random() < 0.5\r\n                    ? (this.nextDirection.x = -1)\r\n                    : (this.nextDirection.x = 1);\r\n                this.nextDirection.y = 0;\r\n            }\r\n            else {\r\n                this.nextDirection.x = 0;\r\n                Math.random() < 0.5\r\n                    ? (this.nextDirection.y = -1)\r\n                    : (this.nextDirection.y = 1);\r\n            }\r\n        }\r\n    };\r\n    Enemy.prototype.move1 = function (duration) {\r\n        this.decideDirection();\r\n        this.move(duration);\r\n    };\r\n    Enemy.prototype.draw = function (ctx) {\r\n        var img = new Image();\r\n        img.src = this.imagePath;\r\n        ctx.drawImage(img, this.getCx(), this.getCy());\r\n    };\r\n    Enemy.prototype.setTarget = function (target) {\r\n        this.targets.push(target);\r\n    };\r\n    Enemy.prototype.killTarget = function () {\r\n        var _this = this;\r\n        if (!this.targets)\r\n            return;\r\n        this.targets.forEach(function (t) {\r\n            if (!t.isAlive())\r\n                return;\r\n            if (_this.getDistance(t) <= Math.max(_this.radius, t.radius)) {\r\n                t.die();\r\n                var audio = document.createElement("audio");\r\n                audio.setAttribute("src", "dist/sounds/disappear.wav");\r\n                audio.play();\r\n            }\r\n        });\r\n    };\r\n    return Enemy;\r\n}(_Character__WEBPACK_IMPORTED_MODULE_0__.Character));\r\n\r\n\n\n//# sourceURL=webpack://hello-world-typescript/./src/Enemy.ts?')},"./src/GameMap.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _GenerateMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GenerateMap */ "./src/GenerateMap.ts");\n\r\nvar GameMap = /** @class */ (function () {\r\n    function GameMap(x, y, width, height, wallFillStyle) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.tileSize = { width: width, height: height };\r\n        this.wallFillStyle = wallFillStyle;\r\n        this.map = this.generateMap();\r\n    }\r\n    GameMap.prototype.generateMap = function () {\r\n        return (0,_GenerateMap__WEBPACK_IMPORTED_MODULE_0__.setupMaze)();\r\n    };\r\n    GameMap.prototype.getTileWidth = function () {\r\n        return this.tileSize.width;\r\n    };\r\n    GameMap.prototype.getTileHeight = function () {\r\n        return this.tileSize.height;\r\n    };\r\n    GameMap.prototype.getTile = function (width, height) {\r\n        var x = Math.floor((width - this.x) / this.getTileWidth());\r\n        var y = Math.floor((height - this.y) / this.getTileHeight());\r\n        return { x: x, y: y, kind: this.map[y][x] };\r\n    };\r\n    GameMap.prototype.getTileLeftTop = function (y, x) {\r\n        return {\r\n            left: this.x + x * this.getTileWidth(),\r\n            top: this.y + y * this.getTileHeight(),\r\n        };\r\n    };\r\n    GameMap.prototype.getTileCenter = function (x, y) {\r\n        var tile = this.getTile(x, y);\r\n        var leftTop = this.getTileLeftTop(tile.y, tile.x);\r\n        return {\r\n            x: Math.floor(leftTop.left + this.getTileWidth() / 2),\r\n            y: Math.floor(leftTop.top + this.getTileHeight() / 2),\r\n        };\r\n    };\r\n    GameMap.prototype.canMoveLeft = function (x, y) {\r\n        var tile = this.getTile(x, y);\r\n        return tile.x === 0 || this.map[tile.y][tile.x - 1] === 0;\r\n    };\r\n    GameMap.prototype.canMoveUp = function (x, y) {\r\n        var tile = this.getTile(x, y);\r\n        return tile.y === 0 || this.map[tile.y - 1][tile.x] === 0;\r\n    };\r\n    GameMap.prototype.canMoveRight = function (x, y) {\r\n        var tile = this.getTile(x, y);\r\n        return (tile.x + 1 === this.map[0].length || this.map[tile.y][tile.x + 1] === 0);\r\n    };\r\n    GameMap.prototype.canMoveDown = function (x, y) {\r\n        var tile = this.getTile(x, y);\r\n        return tile.y + 1 === this.map.length || this.map[tile.y + 1][tile.x] === 0;\r\n    };\r\n    GameMap.prototype.randomOnLoad = function () {\r\n        var x = Math.floor(Math.random() * 15);\r\n        var y = Math.floor(Math.random() * 15);\r\n        while (!this.map[x][y]) {\r\n            x = Math.floor(Math.random() * 15);\r\n            y = Math.floor(Math.random() * 15);\r\n        }\r\n        return { x: x, y: y };\r\n    };\r\n    GameMap.prototype.drawWall = function (ctx, y, x) {\r\n        ctx.fillStyle = this.wallFillStyle;\r\n        ctx.rect(this.x + x * this.getTileWidth(), this.y + y * this.getTileHeight(), this.getTileWidth(), this.getTileHeight());\r\n        ctx.fill();\r\n    };\r\n    GameMap.prototype.draw = function (ctx) {\r\n        var _this = this;\r\n        ctx.beginPath();\r\n        this.map.forEach(function (y, i) {\r\n            y.forEach(function (x, j) {\r\n                if (!x) {\r\n                    _this.drawWall(ctx, i, j);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return GameMap;\r\n}());\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameMap);\r\n\n\n//# sourceURL=webpack://hello-world-typescript/./src/GameMap.ts?')},"./src/GenerateMap.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "setupMaze": () => (/* binding */ setupMaze)\n/* harmony export */ });\nvar maze;\r\nfunction setupMaze() {\r\n    maze = new Maze(15, 15);\r\n    maze.CreateMaze();\r\n    return maze.getMap();\r\n}\r\nvar Maze = /** @class */ (function () {\r\n    function Maze(width, height) {\r\n        var _this = this;\r\n        this.path = 1;\r\n        this.wall = 0;\r\n        this.width = width;\r\n        this.height = height;\r\n        if (this.width % 2 === 0) {\r\n            this.width++;\r\n        }\r\n        if (this.height % 2 === 0) {\r\n            this.height++;\r\n        }\r\n        this.map = Array.from(new Array(this.height), function () {\r\n            return new Array(_this.width).fill(_this.path);\r\n        });\r\n        this.start = [1, 1];\r\n    }\r\n    Maze.prototype.getMap = function () {\r\n        return this.map;\r\n    };\r\n    Maze.prototype.SetWall = function () {\r\n        var _this = this;\r\n        this.map.forEach(function (h, y) {\r\n            h.forEach(function (_, x) {\r\n                _this.map[y][x] = _this.wall;\r\n            });\r\n        });\r\n    };\r\n    Maze.prototype.SetOuter = function (value) {\r\n        var _this = this;\r\n        this.map.forEach(function (h, y) {\r\n            h.forEach(function (_, x) {\r\n                if (!x || !y || x === _this.width - 1 || y === _this.height - 1) {\r\n                    _this.map[y][x] = value;\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Maze.prototype.AddPath = function () {\r\n        var _this = this;\r\n        var count = 0;\r\n        this.map.forEach(function (h, y) {\r\n            h.forEach(function (w, x) {\r\n                if (!w) {\r\n                    count++;\r\n                }\r\n                if (count > 4) {\r\n                    _this.map[y][x] = _this.path;\r\n                    count = 0;\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Maze.prototype.CreateMaze = function () {\r\n        this.SetWall();\r\n        this.SetOuter(this.path);\r\n        var stack = [];\r\n        var point = this.start;\r\n        stack.push(point);\r\n        this.map[point[1]][point[0]] = this.path;\r\n        while (true) {\r\n            if (stack.length === 0) {\r\n                break;\r\n            }\r\n            stack = shuffle(stack);\r\n            point = stack.pop();\r\n            while (true) {\r\n                var directions = [];\r\n                if (this.map[point[1] - 1][point[0]] === this.wall &&\r\n                    this.map[point[1] - 2][point[0]] === this.wall) {\r\n                    directions.push(0);\r\n                }\r\n                if (this.map[point[1]][point[0] + 1] === this.wall &&\r\n                    this.map[point[1]][point[0] + 2] === this.wall) {\r\n                    directions.push(1);\r\n                }\r\n                if (this.map[point[1] + 1][point[0]] === this.wall &&\r\n                    this.map[point[1] + 2][point[0]] === this.wall) {\r\n                    directions.push(2);\r\n                }\r\n                if (this.map[point[1]][point[0] - 1] === this.wall &&\r\n                    this.map[point[1]][point[0] - 2] === this.wall) {\r\n                    directions.push(3);\r\n                }\r\n                if (directions.length === 0) {\r\n                    break;\r\n                }\r\n                var direction = directions[Math.floor(Math.random() * directions.length)];\r\n                switch (direction) {\r\n                    case 0:\r\n                        this.map[point[1] - 1][point[0]] = this.path;\r\n                        this.map[point[1] - 2][point[0]] = this.path;\r\n                        stack.push([point[0], point[1]]);\r\n                        point = [point[0], point[1] - 2];\r\n                        break;\r\n                    case 1:\r\n                        this.map[point[1]][point[0] + 1] = this.path;\r\n                        this.map[point[1]][point[0] + 2] = this.path;\r\n                        stack.push([point[0], point[1]]);\r\n                        point = [point[0] + 2, point[1]];\r\n                        break;\r\n                    case 2:\r\n                        this.map[point[1] + 1][point[0]] = this.path;\r\n                        this.map[point[1] + 2][point[0]] = this.path;\r\n                        stack.push([point[0], point[1]]);\r\n                        point = [point[0], point[1] + 2];\r\n                        break;\r\n                    case 3:\r\n                        this.map[point[1]][point[0] - 1] = this.path;\r\n                        this.map[point[1]][point[0] - 2] = this.path;\r\n                        stack.push([point[0], point[1]]);\r\n                        point = [point[0] - 2, point[1]];\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        this.AddPath();\r\n        this.SetOuter(this.wall);\r\n        return this.map;\r\n    };\r\n    return Maze;\r\n}());\r\nvar shuffle = function (_a) {\r\n    var _b;\r\n    var array = _a.slice(0);\r\n    for (var i = array.length - 1; i >= 0; i--) {\r\n        var j = Math.floor(Math.random() * (i + 1));\r\n        _b = [array[j], array[i]], array[i] = _b[0], array[j] = _b[1];\r\n    }\r\n    return array;\r\n};\r\n\n\n//# sourceURL=webpack://hello-world-typescript/./src/GenerateMap.ts?')},"./src/Player.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Player": () => (/* binding */ Player)\n/* harmony export */ });\n/* harmony import */ var _Character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Character */ "./src/Character.ts");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== "function" && b !== null)\r\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar Player = /** @class */ (function (_super) {\r\n    __extends(Player, _super);\r\n    function Player(name, radius, speed, imagePath, map) {\r\n        var _this = _super.call(this, name, radius, speed, map) || this;\r\n        _this.imagePath = imagePath;\r\n        _this.targets = [];\r\n        return _this;\r\n    }\r\n    Player.prototype.draw = function (ctx) {\r\n        var img = new Image();\r\n        img.src = this.imagePath;\r\n        ctx.drawImage(img, this.getCx(), this.getCy());\r\n    };\r\n    Player.prototype.goMove = function (direction) {\r\n        switch (direction) {\r\n            case 1:\r\n                this.nextDirection = { x: 0, y: -1 };\r\n                break;\r\n            case 2:\r\n                this.nextDirection = { x: 0, y: 1 };\r\n                break;\r\n            case 3:\r\n                this.nextDirection = { x: -1, y: 0 };\r\n                break;\r\n            case 4:\r\n                this.nextDirection = { x: 1, y: 0 };\r\n                break;\r\n        }\r\n    };\r\n    Player.prototype.setTarget = function (target) {\r\n        this.targets.push(target);\r\n    };\r\n    Player.prototype.killTarget = function () {\r\n        var _this = this;\r\n        if (!this.targets)\r\n            return;\r\n        this.targets.forEach(function (t) {\r\n            if (_this.getDistance(t) <= Math.max(_this.radius, t.radius)) {\r\n                t.die();\r\n            }\r\n        });\r\n    };\r\n    return Player;\r\n}(_Character__WEBPACK_IMPORTED_MODULE_0__.Character));\r\n\r\n\n\n//# sourceURL=webpack://hello-world-typescript/./src/Player.ts?')},"./src/main.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GameMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GameMap */ "./src/GameMap.ts");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Player */ "./src/Player.ts");\n/* harmony import */ var _Enemy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Enemy */ "./src/Enemy.ts");\n/* harmony import */ var _dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dist/CharacterParams.json */ "./dist/CharacterParams.json");\n\r\n\r\n\r\n\r\nvar createEnemy = function (map, player) {\r\n    var enemies = [];\r\n    Object.values(_dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__).forEach(function (c) {\r\n        var enemy = new _Enemy__WEBPACK_IMPORTED_MODULE_2__.Enemy(c.name, c.radius, c.speed, c.imgPath, map);\r\n        enemies.push(enemy);\r\n        enemies.forEach(function (e) {\r\n            if (c.target.includes(e.name)) {\r\n                enemy.setTarget(e);\r\n            }\r\n            else if (c.target.includes(player.name)) {\r\n                enemy.setTarget(player);\r\n            }\r\n        });\r\n    });\r\n    return enemies;\r\n};\r\nvar first = true;\r\nvar Main = function (canvas, ctx, p) {\r\n    first = false;\r\n    var map = new _GameMap__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, 30, 30, "#84C98B");\r\n    var player = new _Player__WEBPACK_IMPORTED_MODULE_1__.Player(p.name, p.radius, p.speed, p.imgPath, map);\r\n    var enemies = createEnemy(map, player);\r\n    enemies.forEach(function (e) {\r\n        if (p.target.includes(e.name)) {\r\n            player.setTarget(e);\r\n        }\r\n    });\r\n    var endFlag = false;\r\n    canvas.tabIndex = 1;\r\n    document.body.onkeydown = function (e) {\r\n        e.preventDefault();\r\n        switch (e.key) {\r\n            case "Up":\r\n            case "ArrowUp":\r\n                player.goMove(1);\r\n                break;\r\n            case "Down":\r\n            case "ArrowDown":\r\n                player.goMove(2);\r\n                break;\r\n            case "Left":\r\n            case "ArrowLeft":\r\n                player.goMove(3);\r\n                break;\r\n            case "Right":\r\n            case "ArrowRight":\r\n                player.goMove(4);\r\n                break;\r\n            default:\r\n                if (endFlag) {\r\n                    window.location.reload();\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    var playLoop = function (duration) {\r\n        ctx.beginPath();\r\n        ctx.fillStyle = "#FFFFFF";\r\n        ctx.strokeStyle = "#FFFFFF";\r\n        ctx.rect(0, 0, canvas.width, canvas.height);\r\n        ctx.fill();\r\n        map.draw(ctx);\r\n        player.move(duration);\r\n        player.draw(ctx);\r\n        enemies.forEach(function (enemy) {\r\n            enemy.move1(duration);\r\n            enemy.killTarget();\r\n            enemy.draw(ctx);\r\n        });\r\n    };\r\n    var prevDrawTime = 0;\r\n    var mainLoop = function (timestamp) {\r\n        var aliveEnemies = [];\r\n        enemies.forEach(function (enemy) {\r\n            if (enemy.isAlive()) {\r\n                aliveEnemies.push(enemy);\r\n            }\r\n        });\r\n        enemies = aliveEnemies;\r\n        if (player.isAlive()) {\r\n            player.killTarget();\r\n            var duration = timestamp - prevDrawTime;\r\n            playLoop(duration);\r\n            if (aliveEnemies.length === 1) {\r\n                enemies.push(aliveEnemies[0]);\r\n                message(canvas, ctx, "Game Clear!", "#0000FF");\r\n                endFlag = true;\r\n                return;\r\n            }\r\n            prevDrawTime = timestamp;\r\n            window.requestAnimationFrame(mainLoop);\r\n        }\r\n        else {\r\n            message(canvas, ctx, "Game Over!", "#FF0000");\r\n            endFlag = true;\r\n            return;\r\n        }\r\n    };\r\n    window.requestAnimationFrame(mainLoop);\r\n};\r\nvar message = function (canvas, ctx, message, color) {\r\n    ctx.font = "48px serif";\r\n    ctx.fillStyle = color;\r\n    ctx.fillText(message, (canvas.width - 26 * message.length) / 2, 190);\r\n    ctx.font = "36px serif";\r\n    ctx.fillText("Press any key.", 115, 250);\r\n};\r\nvar startScreen = function () {\r\n    var canvas = document.createElement("canvas");\r\n    canvas.setAttribute("width", "450");\r\n    canvas.setAttribute("height", "450");\r\n    canvas.style.marginLeft = "auto";\r\n    canvas.style.marginRight = "auto";\r\n    canvas.style.textAlign = "left";\r\n    canvas.style.width = "450px";\r\n    document.body.append(canvas);\r\n    var ctx = canvas.getContext("2d");\r\n    ctx.beginPath();\r\n    ctx.fillStyle = "#84C98B";\r\n    ctx.rect(0, 0, canvas.width, canvas.height);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    title(canvas, ctx, "Apex Predator", "#FF00FF");\r\n    Object.values(_dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__).forEach(function (c, i) {\r\n        var img = new Image();\r\n        img.src = c.imgPath;\r\n        img.onload = function () {\r\n            ctx.drawImage(img, i * 30 + 135, 275);\r\n        };\r\n    });\r\n    canvas.tabIndex = 1;\r\n    canvas.addEventListener("click", function (e) {\r\n        var rect = canvas.getBoundingClientRect();\r\n        var x = e.clientX - rect.left;\r\n        var y = e.clientY - rect.top;\r\n        if (!first)\r\n            return;\r\n        if (270 < y && y < 300) {\r\n            if (135 < x && x <= 165) {\r\n                Main(canvas, ctx, _dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__.grass);\r\n            }\r\n            else if (165 < x && x <= 195) {\r\n                Main(canvas, ctx, _dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__.zebra);\r\n            }\r\n            else if (195 < x && x <= 225) {\r\n                Main(canvas, ctx, _dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__.lion);\r\n            }\r\n            else if (225 < x && x <= 255) {\r\n                Main(canvas, ctx, _dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__.person_male);\r\n            }\r\n            else if (255 < x && x <= 285) {\r\n                Main(canvas, ctx, _dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__.person_female);\r\n            }\r\n            else if (285 < x && x <= 315) {\r\n                Main(canvas, ctx, _dist_CharacterParams_json__WEBPACK_IMPORTED_MODULE_3__.reaper);\r\n            }\r\n        }\r\n    });\r\n};\r\nvar title = function (canvas, ctx, message, color) {\r\n    ctx.font = "48px serif";\r\n    ctx.fillStyle = color;\r\n    ctx.fillText(message, (canvas.width - 24 * message.length) / 2, 190);\r\n    ctx.font = "36px serif";\r\n    ctx.fillText("Click your character.", 60, 250);\r\n};\r\nstartScreen();\r\n\n\n//# sourceURL=webpack://hello-world-typescript/./src/main.ts?')},"./dist/CharacterParams.json"(module){eval('module.exports = JSON.parse(\'{"grass":{"name":"grass","radius":10,"speed":70,"imgPath":"./dist/images/grass.png","target":[""]},"zebra":{"name":"zebra","radius":10,"speed":80,"imgPath":"./dist/images/zebra.png","target":["grass"]},"lion":{"name":"lion","radius":10,"speed":70,"imgPath":"./dist/images/lion.png","target":["grass","zebra"]},"person_male":{"name":"person_male","radius":10,"speed":60,"imgPath":"./dist/images/person_male.png","target":["grass","zebra","lion","person_female"]},"person_female":{"name":"person_female","radius":10,"speed":50,"imgPath":"./dist/images/person_female.png","target":["grass","zebra","lion","person_male"]},"reaper":{"name":"reaper","radius":10,"speed":50,"imgPath":"./dist/images/reaper.png","target":["grass","zebra","lion","person_male","person_female"]}}\');\n\n//# sourceURL=webpack://hello-world-typescript/./dist/CharacterParams.json?')}},__webpack_module_cache__={};function __webpack_require__(r){var n=__webpack_module_cache__[r];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(r,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),__webpack_require__.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/main.ts")})();