<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="Content-Type" content="text/html;charset=utf-8"/><title>BACKSPACE - Return to planet Figadore</title><style>body{background:black}#wrapper{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}</style><script type="text/javascript">function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ca(a){if(!(a instanceof Array)){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=b?b.call(a):{next:aa(a)};for(var c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function da(){this.A=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+b)]=a[b]||0;.01>this.c&&(this.c=.01);a=this.b+this.c+this.e;.18>a&&(a=.18/a,this.b*=a,this.c*=a,this.e*=a)}}
var ea=new function(){this.A=new da;var a,b,c,e,g,q,p,w,n,m,k,D;this.reset=function(){var t=this.A;e=100/(t.f*t.f+.001);g=100/(t.g*t.g+.001);q=1-t.h*t.h*t.h*.01;p=-t.i*t.i*t.i*1E-6;t.a||(k=.5-t.n/2,D=5E-5*-t.o);w=1+t.l*t.l*(0<t.l?-.9:10);n=0;m=1==t.m?0:(1-t.m)*(1-t.m)*2E4+32};this.L=function(){this.reset();var t=this.A;a=t.b*t.b*1E5;b=t.c*t.c*1E5;c=t.e*t.e*1E5+12;return 3*((a+b+c)/3|0)};this.K=function(t,ha){var h=this.A,C=1!=h.s||h.v,F=h.v*h.v*.1,y=1+3E-4*h.w,z=h.s*h.s*h.s*.1,R=1+1E-4*h.t,L=1!=h.s,
H=h.x*h.x,ib=h.g,Qa=h.q||h.r,jb=h.r*h.r*h.r*.2,Ra=h.q*h.q*(0>h.q?-1020:1020),Sa=h.p?((1-h.p)*(1-h.p)*2E4|0)+32:0,kb=h.d,Ta=h.j/2,lb=h.k*h.k*.01,Ea=h.a,Fa=a,mb=1/a,nb=1/b,ob=1/c;h=5/(1+h.u*h.u*20)*(.01+z);.8<h&&(h=.8);h=1-h;for(var Ga=!1,Ua=0,ia=0,ja=0,Va=0,ra=0,ka,la=0,G,W=0,X,Ha=0,x,Wa=0,ba,Xa=0,sa=Array(1024),ma=Array(32),I=sa.length;I--;)sa[I]=0;for(I=ma.length;I--;)ma[I]=2*Math.random()-1;for(I=0;I<ha;I++){if(Ga)return I;Sa&&++Wa>=Sa&&(Wa=0,this.reset());m&&++n>=m&&(m=0,e*=w);q+=p;e*=q;e>g&&(e=
g,0<ib&&(Ga=!0));G=e;0<Ta&&(Xa+=lb,G*=1+Math.sin(Xa)*Ta);G|=0;8>G&&(G=8);Ea||(k+=D,0>k?k=0:.5<k&&(k=.5));if(++ia>Fa)switch(ia=0,++Ua){case 1:Fa=b;break;case 2:Fa=c}switch(Ua){case 0:ja=ia*mb;break;case 1:ja=1+2*(1-ia*nb)*kb;break;case 2:ja=1-ia*ob;break;case 3:ja=0,Ga=!0}Qa&&(Ra+=jb,X=Ra|0,0>X?X=-X:1023<X&&(X=1023));C&&y&&(F*=y,1E-5>F?F=1E-5:.1<F&&(F=.1));ba=0;for(var pb=8;pb--;){W++;if(W>=G&&(W%=G,3==Ea))for(ka=ma.length;ka--;)ma[ka]=2*Math.random()-1;switch(Ea){case 0:x=W/G<k?.5:-.5;break;case 1:x=
1-W/G*2;break;case 2:x=W/G;x=6.28318531*(.5<x?x-1:x);x=1.27323954*x+.405284735*x*x*(0>x?1:-1);x=.225*((0>x?-1:1)*x*x-x)+x;break;case 3:x=ma[Math.abs(32*W/G|0)]}C&&(ka=la,z*=R,0>z?z=0:.1<z&&(z=.1),L?(ra+=(x-la)*z,ra*=h):(la=x,ra=0),la+=ra,Va+=la-ka,x=Va*=1-F);Qa&&(sa[Ha%1024]=x,x+=sa[(Ha-X+1024)%1024],Ha++);ba+=x}ba*=.125*ja*H;t[I]=1<=ba?32767:-1>=ba?-32768:32767*ba|0}return ha}};
function fa(a){ea.A.A(a);var b=ea.L();a=new Uint8Array(4*((b+1)/2|0)+44);b=2*ea.K(new Uint16Array(a.buffer,44),b);var c=new Uint32Array(a.buffer,0,44);c[0]=1179011410;c[1]=b+36;c[2]=1163280727;c[3]=544501094;c[4]=16;c[5]=65537;c[6]=44100;c[7]=88200;c[8]=1048578;c[9]=1635017060;c[10]=b;b+=44;c=0;for(var e="data:audio/wav;base64,";c<b;c+=3){var g=a[c]<<16|a[c+1]<<8|a[c+2];e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>
12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g&63]}return e}function na(a){var b=a.A<<1&255;var c=b+a.L;127<a.A&&c++;a.A=c&255;a.L=b;b=a.K;c=c/256+b+a.P&255;a.K=c;a.P=b;return c}function d(a){var b=oa,c=na(b);255<a&&(c=(c<<8)+na(b));65535<a&&(c=(c<<8)+na(b));return c%a}function pa(){this.A=[];this.K=this.L=0;this.P=null;this.T=!1}
pa.prototype.add=function(a,b){this.A.push({start:a,item:b,done:!1});this.A.sort(function(c,e){return e.start<c.start?1:e.start==c.start?0:-1})};pa.prototype.X=function(a){var b=0;if(this.T){if(0==this.L)this.K=a;else{for(var c=a-this.K,e=0;e<this.A.length;e++)!this.A[e].done&&this.A[e].start<c&&(this.A[e].done=!0,this.A[e].item()),this.A[e].done||b++;null!=this.P&&this.P()}this.L=a;(this.L==this.K||0<b)&&window.requestAnimationFrame(this.X.bind(this))}};
function qa(){var a=f;a.T=!0;window.requestAnimationFrame(a.X.bind(a))}pa.prototype.reset=function(){this.T=!1;this.A=[];this.K=this.L=0;this.P=null};var ta=window.URL||window.webkitURL;function ua(a){try{var b=fa(a),c=new Audio;c.src=b;c.play();c.addEventListener("ended",function(){ta.revokeObjectURL(b)},!1)}catch(e){}}
var va=[0,5385,514,4806,4845,3108,9561,512,9216,2304,16320,4800,2048,192,16384,3072,3135,1030,219,207,230,8297,253,5121,255,231,4608,2560,9216,200,2304,4259,699,247,4751,57,4623,249,241,61,246,4617,30,9328,56,1334,8502,63,243,8255,8435,237,4609,62,3120,10294,11520,5376,3081,57,8448,15,1026,8,256,223,252,216,222,251,5312,399,244,4096,8198,13824,3080,4308,8272,220,1137,391,80,8328,120,28,2064,10260,11520,654,2120,2377,4608,9353,1312],wa=[[10,67,13,69,40,69,43,67,40,64,13,64],[44,66,46,63,44,39,41,36,
39,39,41,63],[41,34,44,32,41,8,39,5,36,7,39,31],[5,4,7,6,35,6,37,4,35,1,7,1],[6,34,8,32,6,8,3,5,1,7,3,32],[9,66,11,63,9,39,6,36,4,38,6,63],[7,35,10,38,20,38,22,35,20,33,10,33],[25,35,28,38,38,38,41,35,38,33,28,33],[14,61,21,47,20,39,13,53],[26,63,29,61,27,40,24,37,22,39,23,60],[38,61,38,53,28,39,29,47],[20,32,19,23,9,9,10,18],[24,34,26,32,24,11,21,8,19,10,21,31],[28,32,34,18,34,9,27,23],[47,8,4]];
function l(a,b,c,e,g){for(var q=r.Y,p="",w=0;w<c.length;w++){var n=c.charCodeAt(w)-32;if(!(0>n||94<n)){n=va[n]||0;for(var m=0;2>m;m++){p+="<g style='transform:scale(1,-1); transform-origin:center;'";0==m&&(p+=" filter='url(#dblur2)'");p+=">";for(var k=0;16>k;k++)if(n&1<<k){if(14==k)p+='<circle cx="'+g*wa[k][0]+'" cy="'+g*wa[k][1]+'" r="'+g*wa[k][2];else{p+='<polygon points="';for(var D=0;D<wa[k].length/2;D++)p+=" "+g*wa[k][2*D],p+=","+g*wa[k][2*D+1]}p+='" style="fill:'+(e||"#ff0000")+';stroke:none;" transform="translate('+
(a+g*w*52)+" "+(r.ga-b)+')"/>'}p+="</g>"}}}q.innerHTML+=p}
var xa=[{t:"chipcube",D:[[-8,10,-10],[-10,10,-8],[-10,10,8],[-8,10,10],[8,10,10],[10,10,8],[10,10,-8],[8,10,-10],[-8,-10,-10],[-10,-10,-8],[-10,-10,8],[-8,-10,10],[8,-10,10],[10,-10,8],[10,-10,-8],[8,-10,-10],[-10,8,-10],[-10,8,10],[10,8,10],[10,8,-10],[-10,-8,-10],[-10,-8,10],[10,-8,10],[10,-8,-10]],N:[[1,2,3,4,5,6,7,8],[16,15,14,13,12,11,10,9],[3,2,17,21,10,11,22,18],[7,6,19,23,14,15,24,20],[17,1,8,20,24,16,9,21],[4,18,22,12,13,23,19,5],[1,17,2],[3,18,4],[5,19,6],[7,20,8],[10,21,9],[12,22,11],[14,
23,13],[16,24,15]],O:[1,1,1,1,1,1,1,1,1,1,1,1,1,1],C:10},{t:"tree",D:[[-.5,-4,-.5],[-.5,-4,.5],[.5,-4,.5],[.5,-4,-.5],[-.5,0,-.5],[-.5,0,.5],[.5,0,.5],[.5,0,-.5],[-3,0,-3],[-3,0,3],[3,0,3],[3,0,-3],[0,8,0]],N:[[1,5,8,4],[4,8,7,3],[1,2,6,5],[3,2,6,7],[9,13,12],[12,13,11],[11,13,10],[10,13,9],[9,12,11,10]],O:[9,9,9,9,10,10,10,10,10],C:10},{t:"starship",D:[[-5,-1,-9],[-5,-2,-9],[-3,-2,-7],[-2,-1,-7],[2,-1,-7],[3,-2,-7],[5,-2,-9],[5,-1,-9],[-3,0,-7],[-1,0,-7],[1,0,-7],[3,0,-7],[-3,1,-7],[-1,1,-7],[1,
1,-7],[3,1,-7],[-3,0,-8],[-1,0,-8],[-3,1,-8],[-1,1,-8],[1,0,-8],[3,0,-8],[1,1,-8],[3,1,-8],[-5,-2,-7],[5,-2,-7],[-4,-2,-3],[4,-2,-3],[-3,-2,-2],[3,-2,-2],[-3,0,2],[3,0,2],[0,0,9],[-2,1,1],[0,1,5],[2,1,1],[1,2,1],[-1,2,1],[-1,2,0],[1,2,0],[-1,2,-1],[1,2,-1],[-2,2,-3],[2,2,-3],[-2,2,-5],[2,2,-5],[-1,2,-6],[1,2,-6],[0,2,2],[-2,1,-7],[2,1,-7]],N:[[9,13,19,17],[19,20,18,17],[20,14,10,18],[13,14,20,19],[9,17,18,10],[11,15,23,21],[15,16,24,23],[21,23,24,22],[11,21,22,12],[24,16,12,22],[2,25,27,29,4,3],[1,
2,25],[1,25,2],[30,28,26,7,6,5],[8,7,26],[8,26,7],[34,35,49,38],[35,36,37,49],[49,37,40,39,38],[35,34,31,33],[32,36,35,33],[33,31,29],[33,32,30],[39,40,42,44,46,48,47,45,43,41],[38,41,29],[38,29,34],[31,34,29],[37,30,42],[37,36,30],[32,30,36],[4,5,33],[4,29,33],[5,30,33],[4,9,13,16,12,5],[50,47,48,51],[45,47,50],[46,51,48],[9,4,29],[12,30,5],[13,9,29],[12,16,30],[29,41,43],[44,42,30],[29,43,45],[46,44,30],[29,45,50],[30,51,46],[29,50,13],[30,16,51]],O:[0,33,0,0,0,0,0,33,0,0,0,0,0,0,0,0,4,4,0,0,0,
0,0,0,0,0,0,0,0,0,0],C:20},{t:"missile",D:[[-5,5,-25],[5,5,-25],[5,-5,-25],[-5,-5,-25],[0,0,25]],N:[[1,2,3],[3,4,1],[1,5,2],[2,5,3],[3,5,4],[4,5,1]],O:[14,14,14,14,14,14],C:5},{t:"invader",D:[[0,-1,-3],[-2,0,2],[-1,1,3],[1,1,3],[2,0,2],[0,0,-1],[-1,1,2],[0,1,1],[1,1,2],[-1,-1,3],[1,-1,3]],N:[[6,7,8],[9,6,8],[4,3,10,11],[5,4,11],[3,2,10],[5,11,1],[2,1,10],[11,10,1],[3,8,7],[4,9,8],[3,4,8],[4,5,9],[3,7,2],[9,5,6],[2,7,6],[6,5,1],[2,6,1]],O:[4,4,0,38,38,0,0,0,0,0,0,0,0,0,0,0,0],C:50},{t:"moon",D:[[0,
0,0]],N:[[1]],O:[15],C:50}],ya=[[102,102,102],[255,0,0],[0,255,0],[0,0,255],[0,255,255],[255,0,255],[255,255,0],[255,255,255],[0,0,0],[127,0,0],[0,127,0],[0,0,127],[0,127,127],[127,0,127],[127,127,0],[204,204,204]],u=Math.PI/180;function za(){this.Y=this.ba=this.T=null;this.J=0;this.B=180;this.G=45;this.H=0;this.U=-600;this.I=5E3;this.d=[];this.A=[];this.z=this.y=this.x=0;this.N=800;this.ga=720;this.X=800/1500;this.L=this.K=0;this.P={x:0,y:600,z:600}}
function Aa(a,b,c,e){b=u*b;a.d[4]=Math.cos(b);a.d[5]=Math.sin(b);a.d[6]=-a.d[5];a.d[7]=a.d[4];c=u*c;a.d[8]=Math.cos(c);a.d[9]=Math.sin(c);a.d[10]=-a.d[9];a.d[11]=a.d[8];e=u*e;a.d[0]=Math.cos(e);a.d[1]=Math.sin(e);a.d[2]=-a.d[1];a.d[3]=a.d[0]}function Ba(a,b,c,e){b=u*b;a.A[4]=Math.cos(b);a.A[5]=Math.sin(b);a.A[6]=-a.A[5];a.A[7]=a.A[4];c=u*c;a.A[8]=Math.cos(c);a.A[9]=Math.sin(c);a.A[10]=-a.A[9];a.A[11]=a.A[8];e=u*e;a.A[0]=Math.cos(e);a.A[1]=Math.sin(e);a.A[2]=-a.A[1];a.A[3]=a.A[0]}
function Ca(a,b,c,e){a.x=b;a.y=c;a.z=e;a.x*=a.X;a.y*=a.X;a.z*=a.X;a.y*=-1;b=a.x;a.x=b*a.d[4]+a.y*a.d[6];a.y=b*a.d[5]+a.y*a.d[7];b=a.x;a.x=b*a.d[8]+a.z*a.d[10];a.z=b*a.d[9]+a.z*a.d[11];b=a.y;a.y=b*a.d[0]+a.z*a.d[2];a.z=b*a.d[1]+a.z*a.d[3];a.x=a.N*a.x/(a.N+a.z);a.y=a.N*a.y/(a.N+a.z);a.y+=360;a.x+=640;a.K=Math.floor(a.x);a.L=Math.floor(a.y)}function Da(a,b,c){var e=b[0]-a[0],g=b[1]-a[1];b=b[2]-a[2];var q=c[0]-a[0],p=c[1]-a[1];a=c[2]-a[2];return{x:g*a-b*p,y:b*q-e*a,z:e*p-g*q}}
function Ia(a){var b=new ArrayBuffer(4),c=new Float32Array(b);b=new Uint32Array(b);a=.5*(c[0]=a);b[0]=1597463174-(b[0]>>1);c=c[0];return c*(1.5-a*c*c)}
function Ja(a,b,c,e,g,q,p,w){var n='<polygon points="',m={R:0,S:0,Z:0,aa:""},k=[],D=[],t=[],ha=[],h=[],C=[],F=[];if(1==c.length){if(90>a.B||270<a.B)return m;n='<g style="filter:url(#dblur1)"><circle ';Ca(a,q+b.D[c[0]-1][0]*e,p+b.D[c[0]-1][1]*e,w+b.D[c[0]-1][2]*e);n+='cx="'+a.K+'" cy="'+a.L+'" ';k.push(a.z);n+='r="'+b.C+'"';h=Math.floor(ya[g%16][0])+","+Math.floor(ya[g%16][1])+","+Math.floor(ya[g%16][2]);n=n+('" fill="rgb('+h+')" stroke="rgb('+h+')" /><ellipse cx="')+(a.K-b.C/3+'" cy="'+(a.L-b.C/3)+
'" ');n+='rx="'+b.C/4.5;n+='" ry="'+b.C/4;h=" rgba(20,20,20,0.4)";n=n+('" fill="'+h+'" stroke="'+h+'" /><ellipse cx="')+(a.K+b.C/4+'" cy="'+(a.L+b.C/4)+'" ');n+='rx="'+b.C/6;n+='" ry="'+b.C/6;h=" rgba(20,20,20,0.4)";n+='" fill="'+h+'" stroke="'+h+'" /></g>';m.S=Math.max.apply(Math,ca(k));m.R=Math.min.apply(Math,ca(k));m.Z=m.R+(m.S-m.R)/2;m.aa=n;return m}if(2==c.length)return n="<line ",Ca(a,q+b.D[c[0]-1][0]*e,p+b.D[c[0]-1][1]*e,w+b.D[c[0]-1][2]*e),n+='x1="'+a.K+'" y1="'+a.L+'" ',k.push(a.z),Ca(a,
q+b.D[c[1]-1][0]*e,p+b.D[c[1]-1][1]*e,w+b.D[c[1]-1][2]*e),n+='x2="'+a.K+'" y2="'+a.L+'"  class="line3d"/>',k.push(a.z),m.S=Math.max.apply(Math,ca(k)),m.R=Math.min.apply(Math,ca(k)),m.Z=m.R+(m.S-m.R)/2,m.aa=n,m;for(var y=0;y<c.length;y++){var z=b.D[c[y]-1][0];var R=b.D[c[y]-1][1],L=b.D[c[y]-1][2],H=z;z=H*a.A[4]+R*a.A[6];R=H*a.A[5]+R*a.A[7];H=z;z=H*a.A[8]+L*a.A[10];L=H*a.A[9]+L*a.A[11];H=R;R=H*a.A[0]+L*a.A[2];L=H*a.A[1]+L*a.A[3];z=[z,R,L];D[y]=q+z[0]*e;t[y]=p+z[1]*e;ha[y]=w+z[2]*e;Ca(a,D[y],t[y],ha[y]);
h[y]=a.K;C[y]=a.L;F[y]=a.z;k.push(a.z);n+=a.K+","+a.L+" "}0>(h[0]-h[1])*(C[2]-C[1])-(C[0]-C[1])*(h[2]-h[1])&&(m.S=Math.max.apply(Math,ca(k)),m.R=Math.min.apply(Math,ca(k)),m.Z=m.R+(m.S-m.R)/2,m.R>-a.N&&(b=[h[0],C[0],F[0]],k=Da(b,[h[1],C[1],F[1]],[h[2],C[2],F[2]]),h=a.P.x+a.H-b[0],C=a.P.y+a.U-b[1],b=a.P.z+a.I-b[2],a=k.x*k.x+k.y*k.y+k.z*k.z,a*=Ia(a),0!=a&&(a=1/a,k.x*=a,k.y*=a,k.z*=a),a=h*h+C*C+b*b,a*=Ia(a),0!=a&&(a=1/a,h*=a,C*=a,b*=a),a=.7*Math.max(0,k.x*h+k.y*C+k.z*b),a+=.18,0>a&&(a=0),1<a&&(a=1),
h=Math.floor(ya[g%16][0]*a)+","+Math.floor(ya[g%16][1]*a)+","+Math.floor(ya[g%16][2]*a),16<g&&(g=h.split(","),g[0]=""+(parseInt(g[0],10)+d(128)-75),g[1]=""+(parseInt(g[1],10)+d(128)-75),g[2]=""+(parseInt(g[2],10)+d(128)-75),h=g[0]+","+g[1]+","+g[2]),2400<m.S?n+='" style="filter:url(#dblur2)':2300<m.S&&(n+='" style="filter:url(#dblur1)'),m.aa=n+('" fill="rgb('+h+')" stroke="rgb('+h+')" />')));return m}
function Ka(a,b){var c=[],e=[],g=b.x,q=b.y,p=b.z;Ba(a,b.J,b.B,b.G);b.N.forEach(function(w,n){1<b.N.length&&void 0==b.n&&(e[n]=Da(b.D[w[0]-1],b.D[w[1]-1],b.D[w[2]-1]));c.push(Ja(this,b,w,b.C,b.O[n]||7,g+this.H,q+this.U,p+this.I))},a);void 0==b.n&&(b.n=e);return c}function La(a){var b="";a.sort(function(c,e){return e.Z-c.Z});a.forEach(function(c){b+=c.aa});return b}function Ma(){var a=r,b=[];Aa(a,a.J,a.B,a.G);v.forEach(function(c){b=b.concat(Ka(this,c))},a);a.ba.innerHTML=La(b)}
za.prototype.resize=function(){this.T.style.width=window.innerWidth+"px";this.T.style.height=window.innerHeight+"px"};function Na(){var a=r;a.T=document.getElementById("svg");a.ba=document.getElementById("playfield");a.Y=document.getElementById("hud")}var Oa=1/60,Pa=0,Ya=0,Za=-1,B=[],E=[],J=[],r=new za,v=[],K={},M={id:null,M:0,F:0},N=0,$a=0,ab=0,bb=0,O=0,P=0,cb=0,Q=[],S=[],db=0,T=1,eb=0,fb=500,gb=300,oa=new function(){this.A=3;this.L=this.K=6;this.P=4},f=new pa,U=0;
function V(a){return 0!=(M.M&a)||0!=(M.F&a)}
function hb(){if(0!=M.M||0!=M.F){var a=0;V(1)&&!V(4)&&(0!=(M.F&1)?a=J[0]:a=-1,r.B+=2*a,O=50*-a,P=50*-a);V(4)&&!V(1)&&(0!=(M.F&4)?a=J[0]:a=1,r.B+=2*a,O=50*-a,P=50*-a);V(2)&&!V(8)?(0!=(M.F&2)?a=J[1]:a=-1,r.H+=36*a*Math.sin(r.B*u),r.I+=36*a*Math.cos(r.B*u)):(r.H-=15*Math.sin(r.B*u),r.I-=15*Math.cos(r.B*u));V(8)&&!V(2)&&(0!=(M.F&8)?a=J[1]:a=1,r.H+=24*a*Math.sin(r.B*u),r.I+=24*a*Math.cos(r.B*u));0>r.J&&(r.J=360+r.J);0>r.B&&(r.B=360+r.B);0>r.G&&(r.G=360+r.G);360<r.J&&(r.J-=360);360<r.B&&(r.B-=360);360<
r.G&&(r.G-=360);V(16)&&0==cb&&5>Q.length&&(a=Y("missile",-r.H,-r.U,-r.I,r.J,r.B,0),v[a].V=100*Math.sin(v[a].B*u),v[a].W=100*Math.cos(v[a].B*u),v[a].ca=180,Q.push(v[a].id),ua([3,-.1273,.6436,.0195,-.1374,.9708,,.0012,-.3374,-.6906,-.4025,.0102,-.6567,.9377,.1812,-.6699,.7458,-.0607,.7014,-.4196,-.8569,.4117,-.3709,.25]),cb=30)}else r.H-=15*Math.sin(r.B*u),r.I-=15*Math.cos(r.B*u);bb!=ab&&(a=bb-ab,r.H+=a*Math.sin((r.B+90)*u),r.I+=a*Math.cos((r.B+90)*u),bb=bb=ab);0<O&&(O-=2<O?2:1);0>O&&(O+=-2>O?2:1);
0<P&&(P-=2<P?2:1);0>P&&(P+=-2>P?2:1);20<r.G&&(r.G-=.25)}function qb(a,b,c,e,g,q,p){b=Math.abs(Math.max(b,g)-Math.min(b,g));c=Math.abs(Math.max(c,q)-Math.min(c,q));return Math.abs(Math.max(a,e)-Math.min(a,e))<p&&b<p&&c<p}function Z(a){for(var b=0;b<v.length;b++)if(v[b].id==a)return b;return-1}function rb(a,b,c){try{if(-1!=a)for(var e=0;e<v[a].O.length;e++)v[a].O[e]==b&&(v[a].O[e]=c)}catch(g){}}function sb(a){for(var b=0,c=0;c<S.length;c++){var e=Z(S[c]);-1!=e&&v[e].flags==a&&b++}return b}
function tb(){for(var a=0;a<S.length;a++){var b=Z(S[a]);-1!=b&&v.splice(b,1)}S=[]}
function ub(){r.Y.innerHTML="";switch(U){case 1:l(180,200,"BACKSPACE","gold",2);l(180,300,"RETURN TO PLANET FIGADORE","gold",.7);l(120,700,"WASD/CURSORS/SPACE/ENTER/GAMEPAD TO PLAY","gold",.5);break;case 2:l(1E3,50,"SCORE "+db,"gold",.5);1==eb&&l(300,300,"LEVEL "+T,"gold",2);var a=sb(1),b=sb(0),c=a+b;r.Y.innerHTML+='<rect x="1200" y="100" width="50" height="300" rx="15" fill="black" fill-opacity="0" stroke="rgb(255,215,0)" stroke-width="4"/><rect x="1210" y="110" width="30" height="'+(a/c*280+'" rx="5" fill="red" stroke="none" /><rect x="1210" y="')+
(110+a/c*280+'" width="30" height="'+b/c*280+'" rx="5" fill="green" stroke="none" />');break;case 3:0==sb(1)?(l(100,340,"YOU'VE DONE IT","gold",1.5),l(185,480,"PLANET FIGADORE IS SAVED","gold",.7)):(l(350,340,"FAILED","red",2),l(140,480,"TO DISINFECT PLANET FIGADORE","red",.7),l(200,700,"PRESS FIRE TO GO BACK AND TRY AGAIN","gold",.5))}}
function vb(a){tb();for(var b=0;b<a;b++){var c=Y("invader",d(1E4)-5E3,800,0-d(1E4),0,d(360),0);b<a/2&&(rb(c,0,1),v[c].flags=1);S.push(v[c].id);v[c].V=25*Math.sin(v[c].B*u);v[c].W=-25*Math.cos(v[c].B*u)}}
function wb(){if(2==U)if(0==sb(1)||0==S.length)T++,6==T?(U=3,T=1,N=$a=0,ub(),tb(),v=[],f.reset(),f.add(1E3,function(){window.requestAnimationFrame(xb)}),qa()):(eb=1,r.J=0,r.B=180,r.G=45,r.H=0,r.U=-600,r.I=5E3,f.reset(),f.add(2E3,function(){eb=0}),qa(),fb=500-50*T,gb=300,r.G=45,ua([1,,.0957,.3189,.3562,.5325,,,,,,.5407,.6494,,,,,,1,,,,,.5]),vb(5*T));else{0<gb&&gb--;0<cb&&cb--;for(var a=0;a<Q.length;a++){var b=Z(Q[a]);if(-1!=b&&(v[b].ca--,0>=v[b].ca)){v.splice(b,1);Q.splice(a,1);break}}if(0<S.length&&
0==gb)for(a=0;a<S.length;a++){var c=Z(S[a]);if(-1!=c)for(b=0;b<S.length;b++){var e=Z(S[b]);if(-1!=e){var g=v[c],q=v[e];if(1==g.flags&&0==q.flags){if(qb(g.x,g.y,g.z,q.x,q.y,q.z,150)){rb(e,0,1);v[e].flags=1;if(sb(1)==S.length){ua([2,-.8487,.4388,.0386,.8212,.0033,,.0239,.842,.9778,-.7578,.632,.2456,-.5832,-.0135,.4773,-.0882,.0027,.7743,.8443,-.8965,.0863,-.9315,.25]);U=3;T=1;N=$a=0;ub();tb();v=[];f.reset();f.add(1E3,function(){window.requestAnimationFrame(xb)});qa();return}ua([1,-.3997,.4534,.4353,
-.3988,.6939,,-.2292,.0213,.5732,.2278,.7962,-.8172,-.3081,-.917,.7628,-.3341,.069,.9999,-.0474,-.9969,,-.1301,.5])}}else 0==g.flags&&1==q.flags&&qb(g.x,g.y,g.z,q.x,q.y,q.z,375)&&(g=v[c].B,v[c].V=5*Math.sin(g*u),v[c].W=-5*Math.cos(g*u))}}}for(e=0;e<Q.length;e++)if(b=Z(Q[e]),-1!=b){v[b].B=Ya%360;for(a=0;a<S.length;a++)if(c=Z(S[a]),-1!=c&&(q=v[b],g=v[c],1==g.flags&&qb(q.x,q.y,q.z,g.x,g.y,g.z,fb))){v.splice(b,1);Q.splice(e,1);rb(c,1,0);1==v[c].flags&&ua([2,.0016,.0106,.3845,.4799,.8265,,,-.5788,-15.1307,
-.5269,.6409,-.5847,-.795,.0018,.6167,-.0092,-.5819,.9686,.0028,-.5964,.4727,-5E-4,.5]);v[c].flags=0;db++;b=-1;break}if(-1==b)break}hb();if(-5E3>r.H||5E3<r.H||0>r.I||1E4<r.I)r.H=0,r.I=5E3;v[M.id].x=-r.H;v[M.id].y=-r.U;v[M.id].z=-r.I;v[M.id].J=-r.J;v[M.id].B=-r.B;v[M.id].G=0;v[M.id].J+=O;v[M.id].B+=P;v[M.id].G+=0;v.forEach(function(p){p.x+=p.V;p.y+=p.ea;p.z+=p.W});for(a=0;a<S.length;a++)if(c=Z(S[a]),-1!=c&&(g=v[c].B,10>d(250)&&(g=(v[c].B+(d(50)-25))%360,v[c].B=g,v[c].V=25*Math.sin(g*u),v[c].W=-25*
Math.cos(g*u)),-5E3>v[c].x||-1E4>v[c].z||5E3<v[c].x||0<v[c].z))g=(v[c].B+180+d(45))%360,v[c].B=g,v[c].V=25*Math.sin(g*u),v[c].W=-25*Math.cos(g*u),v[c].x+=v[c].V,v[c].z+=v[c].W;ub()}}
function yb(a){if(0<Ya){Pa+=(a-Ya)/1E3;Pa>Oa&&900<Pa/Oa&&(Pa=2*Oa);if(navigator.getGamepads){for(var b=navigator.getGamepads(),c=0,e=!1,g=!1,q=!1,p=!1,w=!1,n=0;n<b.length;n++)if(0==c&&b[n]&&b[n].connected){c++;Za!=n&&(Za=n,"standard"===b[n].mapping?(B[0]=14,B[1]=15,B[2]=12,B[3]=13,B[4]=0,E[0]=0,E[1]=1,E[2]=2,E[3]=3):"054c-0268-Sony PLAYSTATION(R)3 Controller"==b[n].id?(B[0]=15,B[1]=16,B[2]=13,B[3]=14,B[4]=0,E[0]=0,E[1]=1,E[2]=3,E[3]=4):"045e-028e-Microsoft X-Box 360 pad"==b[n].id?(B[0]=-1,B[1]=-1,
B[2]=-1,B[3]=-1,B[4]=0,E[0]=6,E[1]=7,E[2]=3,E[3]=4):"0f0d-00c1-  Switch Controller"==b[n].id?(B[0]=-1,B[1]=-1,B[2]=-1,B[3]=-1,B[4]=1,E[0]=4,E[1]=5,E[2]=2,E[3]=3):"054c-05c4-Sony Computer Entertainment Wireless Controller"==b[n].id?(B[0]=-1,B[1]=-1,B[2]=-1,B[3]=-1,B[4]=0,E[0]=0,E[1]=1,E[2]=3,E[3]=4):(B[0]=-1,B[1]=-1,B[2]=-1,B[3]=-1,B[4]=-1,E[0]=-1,E[1]=-1,E[2]=-1,E[3]=-1));for(var m=0;m<b[n].axes.length;m++){var k=b[n].axes[m];m==E[0]&&(J[0]=k,-.5>k&&(e=!0),.5<k&&(g=!0));m==E[1]&&(J[1]=k,-.5>k&&(q=
!0),.5<k&&(p=!0));m==E[2]&&(J[2]=k);m==E[3]&&(J[3]=k)}for(m=0;m<b[n].buttons.length;m++){k=b[n].buttons[m];var D=1==k;"object"==typeof k&&(D=k.pressed);if(D)switch(m){case B[0]:e=!0;break;case B[1]:g=!0;break;case B[2]:q=!0;break;case B[3]:p=!0;break;case B[4]:w=!0}}M.F=q?M.F|2:M.F&-3;M.F=p?M.F|8:M.F&-9;M.F=e?M.F|1:M.F&-2;M.F=g?M.F|4:M.F&-5;M.F=w?M.F|16:M.F&-17}0==c&&-1!=Za&&(Za=-1)}for(;Pa>Oa;)wb(),Pa-=Oa;Ma()}Ya=a;2==U&&window.requestAnimationFrame(yb)}
function zb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}function Ab(a,b,c,e,g,q,p){a=JSON.parse(JSON.stringify(a));a.id=zb();a.x=b;a.y=c;a.z=e;a.J=g;a.B=q;a.G=p;a.V=0;a.ea=0;a.W=0;a.flags=0;v.push(a);return v.length-1}
function Bb(a,b){switch(a.which){case 37:case 65:case 90:M.M=1==b?M.M|1:M.M&-2;a.preventDefault();break;case 38:case 87:case 59:M.M=1==b?M.M|2:M.M&-3;a.preventDefault();break;case 39:case 68:case 88:M.M=1==b?M.M|4:M.M&-5;a.preventDefault();break;case 40:case 83:case 190:M.M=1==b?M.M|8:M.M&-9;a.preventDefault();break;case 13:case 32:M.M=1==b?M.M|16:M.M&-17;a.preventDefault();break;case 27:a.preventDefault()}1==b&&(N=a.which)}
function Y(a,b,c,e,g,q,p){for(var w=0;w<xa.length;w++)if(xa[w].t==a)return Ab(xa[w],b,c,e,g,q,p)}
function xb(){1==U&&(Ma(),v[0].J=(v[0].J+2)%360,v[0].B=(v[0].B+2)%360,v[0].G=(v[0].G+1)%360,150>v[0].C&&v[0].C++);if(N!=$a)switch(U){case 1:f.reset();db=0;T=1;N=$a=0;tb();v=[];for(var a={t:"terrain",fa:10,d:10,da:100,$:[],D:[],N:[],O:[],C:10,x:0,y:0,z:0},b=0;10>b;b++)for(var c=0;10>c;c++)a.$[10*b+c]=0<c?a.$[10*b+(c-1)]+(d(16)-8):d(32),a.D.push([100*c-500,a.$[10*b+c],-(100*b)]);for(b=1;10>b;b++)for(c=1;10>c;c++){var e=10*b+c+1;a.N.push([e,e-1,e-10-1]);a.O.push(2);a.N.push([e,e-10-1,e-10]);a.O.push(2)}K=
a;for(a=0;10>a;a++)for(b=0;10>b;b++)5>d(10)&&Y("tree",(b-5)*K.da*K.C,(4+K.$[a*K.fa+b])*K.C,-(a*K.da*K.C),0,d(90),0);Y("moon",200,900,-5E4,0,0,0);M.id=Y("starship",0,0,0,0,0,0);Y("chipcube",200,200,-200,10,10,10);Ab(K,0,0,0,0,0,0);vb(5);r.J=0;r.B=180;r.G=45;r.H=0;r.U=-600;r.I=5E3;U=2;window.requestAnimationFrame(yb);break;case 2:break;case 3:Cb();break;default:$a=N}else window.requestAnimationFrame(xb)}
function Cb(){U=1;N=$a=0;ub();tb();v=[];Y("invader",0,0,0,0,0,0);v[0].C=.1;r.J=0;r.B=0;r.G=0;r.H=0;r.U=0;r.I=0;Ma();f.reset();f.add(1E3,function(){window.requestAnimationFrame(xb)});qa()}
function Db(){document.onkeydown=function(a){a=a||window.event;Bb(a,1)};document.onkeyup=function(a){a=a||window.event;Bb(a,0)};window.A=function(a){a=a||window.event;a.preventDefault()};Na();window.addEventListener("resize",function(){r.resize()});window.addEventListener("mousemove",function(a){ab=a.clientX});r.resize();Cb()}window.onload=function(){Db()};
</script><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/></head><body><div id="wrapper"><svg id="svg" style="position:absolute; top:0px; left:0px; width:1280px; height:720px;" viewbox="0 0 1280 720" xmlns="http://www.w3.org/2000/svg"><defs><filter id="dblur1"><feGaussianBlur stdDeviation="1" /></filter><filter id="dblur2"><feGaussianBlur stdDeviation="2" /></filter><filter id="dblur3"><feGaussianBlur stdDeviation="3" /></filter><filter id="dblur4"><feGaussianBlur stdDeviation="4" /></filter><clipPath id="crop"><rect x="0" y="0" width="1280" height="720" /></clipPath><linearGradient id="skygradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:1" /><stop offset="100%" style="stop-color:rgb(42,82,152);stop-opacity:1" /></linearGradient></defs><rect width="1280" height="720" fill="url(#skygradient)" /><g id="playfield" shaperendering="optimizeSpeed" clip-path="url(#crop)"></g><g id="hud" shaperendering="optimizeSpeed" clip-path="url(#crop)"></g></svg></div></body></html>