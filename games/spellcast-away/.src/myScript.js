function clearExtraIntervals(a){for(var b=0;b<a.length;b++)clearIntervalGbl(a[b])}function gameInit(){killAllShapes(shapeList),clearExtraIntervals(intervals),shapeList=[],currentLevel=[],startMainLoop(),startTime=new Date(Date.now()),frameCount=0,color="#FF0000",c=document.getElementById("canvas"),hud=null,InitShapes()}function killAllShapes(a){if(void 0!=a&&null!=a)for(var b=0;b<a.length;b++)a[b].kill&&a[b].kill()}function init(){function b(a,b){b||(b=window.e);var f=b.keyCode;b.charCode&&0==f&&(f=b.charCode),37==f?"L"!=this.magePlayer.direction?(this.magePlayer.direction="L",this.magePlayer.shape.vx=0):this.magePlayer.shape.vx=2*-a:39==f&&("R"!=this.magePlayer.direction?this.magePlayer.direction="R":this.magePlayer.shape.vx=2*a),49==f&&e(),50==f&&d(),51==f&&c()}function c(){if(null!=magePlayer&&void 0!=magePlayer){var a=document.getElementById("fire1");a.disabled||(magePlayer.castSpell(3),lockoutSubmit(a,1e3))}}function d(){if(null!=magePlayer&&void 0!=magePlayer){var a=document.getElementById("air1");a.disabled||(magePlayer.castSpell(2),lockoutSubmit(a,1e3))}}function e(){if(null!=magePlayer&&void 0!=magePlayer){var a=document.getElementById("earth1");a.disabled||(magePlayer.castSpell(1),lockoutSubmit(a,5e3))}}var a=getParameterByName("showHelp");void 0!=a&&null!=a&&"false"!=a&&alert('Mr Elementualle has been in a deserter island for a couple of years, \nunexpectedly he ran into a magic coconut which gave him magical powers that will help him escape from the island. \nPress:\n    "1"  - to fix the raft, with your earth power, and gain some health;\n    "2"  - to catch a fish, with your air power, and gain some health;\n    "3"  - to attack the sharks, with your fire power;\n    <=-  - to move left;\n    -=>  - to move right.'),document.onkeyup=function(a){b(0,a)},document.onkeydown=function(a){b(1,a)},document.getElementById("fire1").addEventListener("click",function(){c()},!1),document.getElementById("air1").addEventListener("click",function(){d()},!1),document.getElementById("earth1").addEventListener("click",function(){e()},!1),gameInit()}function startMainLoop(){var a=1e3/60;setIntervalGbl(mainloop,a)}function lockoutSubmit(a,b){var c=a.innerText;a.setAttribute("disabled",!0),setTimeout(function(){a.innerText=c,a.removeAttribute("disabled")},b);var d=new Date(Date.now()),e=function(){showCooldown(a,d,b/1e3,c)},f=setIntervalGbl(e,1e3);setTimeout(function(){clearIntervalGbl(f),a.value=c},b-1)}function showCooldown(a,b,c,d){var e=new Date(Date.now()),f=new Date(e-b).getSeconds(),g=c-f;a.innerText=d+" ("+g+")"}function cast(a,b,c,d){(void 0==b||null==b)&&(b=500),void 0!=d&&null!=d&&void 0!=d.isCasting&&null!=d.isCasting&&(d.isCasting=!0);var e=function(){if(void 0==c||null==c)a();else{var b=setIntervalGbl(a,c);void 0!=d&&null!=d&&d.attackIntervals.push(b)}};setTimeout(function(){void 0!=d&&null!=d&&void 0!=d.isCasting&&null!=d.isCasting&&(d.isCasting=!1)},1e3),setTimeout(e,b)}function ChangeColor(){return"#FF0000"==color?"#00FF00":"#FF0000"}function killListIntervals(a){if(null!=a&&void 0!=a)for(var b=0;b<a.length;b++)clearIntervalGbl(a[b])}function setIntervalGbl(a,b){var c=window.setInterval(a,b);return intervals.push(c),c}function clearIntervalGbl(a){var b=intervals.indexOf(a);b>0&&intervals.splice(b,1),window.clearInterval(a)}function InitShapes(){lvl.init(),lvl.lvl01()}function updateGame(){frameCount++;var a=c.getContext("2d");if(a.globalAlpha=opacity,a.clearRect(0,0,c.width,c.height),Draw.sky(a),Draw.hpBar(a),hud.health<=0){funcStopLoop(intervals[0]),clearExtraIntervals(intervals),currentLevel=null;var b=function(){var a=confirm("Game Over! You survived "+currentSeconds()+" seconds! Play again?");a?restartGame():(clearExtraIntervals(intervals),funcStopLoop(intervals[0]))};setTimeout(b,500)}if(null!=currentLevel)for(;currentLevel.length>0&&currentLevel[0].spawnTime<=currentSeconds();){var d=currentLevel.shift().event;d.spawn(null)}Draw.wavesPattern(a,waves.ys1);for(var e in shapeList){shapeList[e].shape.isCollision=!1;var f=moveShape(shapeList[e],c);null!=f&&(currShape=f.shape,showBoundingBoxs&&(a.fillStyle=getFill(currShape),a.fillRect(currShape.x,currShape.y,currShape.w,currShape.h)),write(f))}Draw.wavesPattern(a,waves.ys2)}function isScrollLeft(){return this.scrollLeft=!this.scrollLeft}function drawBlast(a,b){var d=40,e=c.getContext("2d");e.globalAlpha=.7,e.beginPath();var f=1;"R"==magePlayer.direction&&(f=-1);var g=a+25*f;e.arc(g,b,d,Math.PI,2*Math.PI,!1),e.fillStyle="#FFA500",e.fill(),e.lineWidth=5,e.strokeStyle="#FF8C00",e.stroke()}function moveShape(a){var d=a.shape,e="raft"==d.name;if(0===d.name.lastIndexOf("fish",0)){var f=this.magePlayer.shape.x+this.magePlayer.shape.w/2,g=this.magePlayer.shape.y+this.magePlayer.shape.h/2;if(d.x-f,a.isCaught){var i=14;if(Math.abs(d.x-f)<=i+5&&d.y<=g);else{var j=this.magePlayer.shape.y<d.y?-1:1;d.vy=j*i;var k=f<d.x?-1:1;d.vx=k*i}}else if(d.y<=220)d.vy*=-1;else if(d.y>=320&&d.vy>0)return a.kill(),null}else e&&(d.vx=this.magePlayer.shape.vx);var l=e||"mage"==d.name,m=clippedMoveTo(a,l);d.x=m.x,d.y=m.y;for(var n=shapeList.indexOf(a),o=0;n>o;o++){var p=doCollide(d,shapeList[o].shape);d.isCollision|=p,p&&a.hitWith(shapeList[o])}return a.shape=d,a}function clippedMoveTo(a,b){var c=1,d=function(a){return new Shape(a.x+c*a.vx,a.y+c*a.vy,a.w,a.h,a.fill,a.vx,a.vy,a.name)};if(b){var e=function(a,b){void 0==b&&(b=a);var c=0;if(a.x<0){c=a.x-0;var d=b.x+c,e=-(a.x-b.x);e>d&&"raft"==b.name?d=e:0>d&&"mage"==b.name&&(d=0),b.x=d}else a.x+a.w>canvas.width&&(c=canvas.width-(a.w+a.x),b.x=b.x+c);return b},f=null;if("raft"==a.shape.name){var g=d(this.magePlayer.shape),h=d(a.shape);f=e(g,h)}else{var i=d(a.shape);f=e(i)}return f}return d(a.shape)}function doCollide(a,b){return a.x<b.x+b.w&&a.x+a.w>b.x&&a.y<b.y+b.h&&a.h+a.y>b.y?!0:!1}function drawGame(){hud.draw()}function getFill(a){return a.fill}function lvlEvent(a,b){this.spawnTime=a,this.event=b}function Shape(a,b,c,d,e,f,g,h){this.x=a,this.y=b,this.w=c,this.h=d,this.fill=e,this.vx=f,this.vy=g,this.name=h,this.isCollision=!1,this.ignoreRightBottomCanvas=!0}function write(a){var b=a.shape,d=c.getContext("2d");d.fillStyle="Red",0===b.name.lastIndexOf("shark",0)?(d.fillStyle="White",Draw.shark(d,a),a.drawBlast&&drawBlast(b.x+b.w/2,b.y+20)):"mage"==a.shape.name?Draw.mage(d,a):0===b.name.lastIndexOf("fish",0)?Draw.fishJumping(d,a.shape):"raft"==b.name&&Draw.raft(d,a.shape)}function Hud(a,b){void 0==a&&(a=Constants.PLAYER_MAX_HP),void 0==b&&(b=10),this.strength=b,this.health=a,this.draw=function(){var a=c.getContext("2d");a.font="15pt Verdana",a.fillStyle="Black";var b="Health:     ",d=30;if(a.fillText(b,10,d),a.fillText("Time: "+currentSeconds(),c.width-130,d),null!=magePlayer&&void 0!=magePlayer){var e="->";"L"==magePlayer.direction&&(e="<-")}}}function isWithinXCanvas(a,b){return a.ignoreRightBottomCanvas||a.x>=0&&a.x+a.w<=b.width}function isWithinYCanvas(a,b){return a.ignoreRightBottomCanvas||a.y>=0&&a.y+a.h<=b.height}function isWithinCanvas(a,b){return isWithinXCanvas(a,b)&&isWithinYCanvas(a,b)}function funcStopLoop(a){null!==animFrame||clearIntervalGbl(a)}function logEveryFrameX(a,b){(0==frameCount%b||1==frameCount||void 0==b)&&console.log(a)}function currentSeconds(a){return void 0==a&&(a=new Date(Date.now())),new Date(a-startTime).getSeconds()}function vectorize(a,b){var c;return c="mage"==a.name?"R"==this.magePlayer.direction:a.x<magePlayer.shape.x,c?{scaleHoriz:-1,moveHoriz:a.w+Math.abs(b)}:{scaleHoriz:1,moveHoriz:b}}function ctxtransform(a,b,c,d,e,f,g,h,i){ctxTransform(a,b,c,d,e,f,g,h,i)}function ctxTransform(a,b,c,d,e,f,g,h,i){var j={x:0,y:0},k=vectorize(h,e);if(void 0!=h.name)if(0===h.name.lastIndexOf("shark",0)){var l=0;void 0!=i&&(l=25),j.y=-(h.h/2)+l}else 0===h.name.lastIndexOf("fish",0)&&(j.y=0);var m=h.x+k.moveHoriz+j.x,n=f+h.y+j.y;g.transform(a*k.scaleHoriz,b,c,d,m,n)}function restartGame(){window.location="?showHelp=false"}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))}window.onload=function(){init()};var lvl={init:function(){hud=new Hud},lvl01:function(){var a=[new waveCfg(-75,0,1)],b=ys=[new waveCfg(-35,-200,.8),new waveCfg(0,-30,1)];waves={ys1:a,ys2:b};var c=Math.random()<.5,d=c?"R":"L",e=c?"L":"R";currentLevel.push(new lvlEvent(0,new Raft)),currentLevel.push(new lvlEvent(3,new Shark(null,d))),currentLevel.push(new lvlEvent(6,new Shark(null,d))),currentLevel.push(new lvlEvent(10,new Fish)),currentLevel.push(new lvlEvent(13,new Shark(null,null,!0))),currentLevel.push(new lvlEvent(16,new Shark(null,e))),currentLevel.push(new lvlEvent(16,new Fish)),currentLevel.push(new lvlEvent(18,new Shark(null,e))),currentLevel.push(new lvlEvent(20,new Shark(null,d,!0))),currentLevel.push(new lvlEvent(22,new Shark(null,d,!0))),currentLevel.push(new lvlEvent(23,new Fish)),c=Math.random()<.5,d=c?"R":"L",e="R"==d?"L":"R",currentLevel.push(new lvlEvent(27,new Shark(null,d,!0))),currentLevel.push(new lvlEvent(29,new Shark(null,d))),currentLevel.push(new lvlEvent(30,new Fish)),currentLevel.push(new lvlEvent(30,new Shark(null,d,!0))),currentLevel.push(new lvlEvent(32,new Fish)),currentLevel.push(new lvlEvent(33,new Shark(null,e))),currentLevel.push(new lvlEvent(34,new Fish)),currentLevel.push(new lvlEvent(36,new Shark(null,e))),currentLevel.push(new lvlEvent(37,new Shark(null,e))),currentLevel.push(new lvlEvent(37,new Fish)),currentLevel.push(new lvlEvent(40,new Shark(null,null,!0))),currentLevel.push(new lvlEvent(43,new Shark(null,null,!0)))}},Constants={PLAYER_MAX_HP:6,SHARK_MAX_HP:3,SPEED_NORMAL:1,SPEED_ENRAGED:2},Mage=function(a){function c(a){var b=85,c=130,d=Math.floor(a.w/2),e=Math.floor(b/2),f=a.x+d-e;return new Shape(f,a.y-c,b,c,"#038EEF",a.vx,a.vy,"mage")}function d(){for(var a=0;a<shapeList.length;a++){var b=shapeList[a];if(0===b.shape.name.lastIndexOf("fish",0)&&magePlayer.isSameDirection(b.shape)){b.catch();break}}}function e(a){for(var b=0;b<shapeList.length;b++){var c=shapeList[b];if(0===c.shape.name.lastIndexOf("shark",0)&&magePlayer.isSameDirection(c.shape)){var d=c.takeDps(a);0==d&&c.kill();break}}}this.shape=c(a),this.direction="R",this.spawn=function(){shapeList.push(b)},this.gotHit=function(){},this.hitWith=function(a){a.gotHit(this)},this.healDps=function(a){var b=hud.health+a;b>Constants.PLAYER_MAX_HP&&(b=Constants.PLAYER_MAX_HP),hud.health=b},this.isSameDirection=function(a){var c=b.shape.name,d=a.x>=this.shape.x&&"R"==this.direction||a.x<=this.shape.x&&"L"==this.direction||c&&a.x+a.w>=this.shape.x&&a.x<=this.shape.x+this.shape.w;return d},this.castSpell=function(a){switch(a){case 1:var c=1;cast(function(){b.healDps(c)},0,null,this);break;case 2:cast(function(){d()},0,null,this);break;case 3:var c=1;cast(function(){e(c)},0,null,this)}},this.isCasting=!1;var b=this},Raft=function(){this.shape=new Shape(100,370,184,18,"#0000FF",0,0,"raft");var a=this;this.mage=new Mage(this.shape),this.spawn=function(){shapeList.push(a),shapeList.push(a.mage),magePlayer=a.mage},this.gotHit=function(){},this.hitWith=function(a){a.gotHit(this)},this.takeDps=function(a){return hud.health-=a,hud.health}},Shark=function(a,b,c){function g(){var a,c,d=null,e=Math.random()<.5;return void 0!=f&&void 0!=f.spawnSide&&null!=f.spawnSide&&(e="L"==b),e?(a=-65,c=Constants.SPEED_NORMAL):(a=700,c=-Constants.SPEED_NORMAL),d=340+5*5*Math.random(),new Shape(a,d,150,65,"#0000FF",c,0,"shark"+currentLevel.length)}function h(a,b){if(null==e){e=a,f.shape.vx=0;var c=2e3,d=function(){if(f.health<=0)return f.kill(),!1;var c=doCollide(f.shape,a.shape);if(!c){killListIntervals(f.attackIntervals),f.shape.isCollision=!1;var d=1;return a.shape.x<f.shape.x&&(d=-1),f.shape.vx=d*Constants.SPEED_ENRAGED,e=null,!1}a.takeDps(b)};f.health>0&&(a.takeDps(b),f.hasAttacked=!0),cast(d,1e3,c,f)}}(void 0==c||null==c)&&(c=!1),(void 0==a||null==a)&&(a=3),this.health=a,this.attackIntervals=[],this.drawBlast=!1,this.spawnSide=b,this.goesEnrage=c,this.hasAttacked=!1;var d=1,e=null,f=this;this.shape=g(),this.spawn=function(){shapeList.push(f)},this.gotHit=function(){},this.hitWith=function(a){a.gotHit(this),"raft"==a.shape.name&&h(a,d)},this.takeDps=function(a){if(this.drawBlast=!0,setTimeout(function(){f.drawBlast=!1},500),this.health==Constants.SHARK_MAX_HP&&Math.abs(this.shape.vx)==Constants.SPEED_NORMAL){var b=1;magePlayer.shape.x<f.shape.x&&(b=-1),f.goesEnrage&&(this.shape.vx=b*Constants.SPEED_ENRAGED)}var c=this.health-a;return this.health=c>0?c:0,this.health},this.kill=function(){f.shape.vx=0,killListIntervals(f.attackIntervals),setTimeout(function(){var a=shapeList.indexOf(f);a>1&&shapeList.splice(a,1)},1e3)}},Fish=function(){function e(){var a,b=null,d=10;b=-2,Math.random()<.5;var f=Math.floor(Math.random()*d),a=Math.floor(c.width/d)*f;return new Shape(a,305,50,65,"#FFFF00",0,b,"fish"+currentLevel.length)}this.shape=e(),this.isCaught=!1;var a=this;this.spawn=function(){shapeList.push(a)},this.gotHit=function(){},this.hitWith=function(b){b.gotHit(a),"mage"==b.shape.name&&a.isCaught&&a.kill()},this.kill=function(){this.isCaught&&magePlayer.healDps(2);var b=shapeList.indexOf(a);b>1&&shapeList.splice(b,1)},this.catch=function(){this.isCaught=!0}},waveCfg=function(a,b,c){this.y=a,this.offset=b,this.alpha=c,this.scrollLeft=isScrollLeft(),this.originalOffset=b},mainloop=function(){updateGame(),drawGame()},animFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,Draw={shark:function(a,b){Math.abs(b.shape.vx)>1||b.goesEnrage||b.hasAttacked?(this.sharkAttacking(a,b.shape),b.hasAttacked=!0):this.sharkSwimming(a,b.shape)},mage:function(a,b){b.isCasting?this.mageCasting(a,b.shape):this.mageStanding(a,b.shape)},sharkSwimming:function(a,b){a.save(),ctxtransform(1,0,0,1,-415.08035,-494.79591,a,b,0),a.save(),a.transform(1.005376,0,0,-1.005376,-143.32003,929.85379),a.save(),a.transform(1,0,0,1,7.878437,2.701178),a.save(),a.transform(1.243316,0,0,1.243316,77.718021,37.647598),a.save(),a.beginPath(),a.moveTo(0,600),a.lineTo(800,600),a.lineTo(800,0),a.lineTo(0,0),a.lineTo(0,600),a.clip(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=282,a.lineWidth=.253,a.beginPath(),a.moveTo(378.087,287.709),a.bezierCurveTo(387.377,301.852,404.104,311.336,421.478,315.405),a.bezierCurveTo(416.875,306.566,411.935,297.166,411.822,286.587),a.bezierCurveTo(400.989,284.089,388.443,285.38,378.087,287.709),a.closePath(),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=282,a.lineWidth=.253,a.beginPath(),a.moveTo(379.827,287.344),a.bezierCurveTo(388.471,302.946,405.648,308.25,421.141,314.76),a.stroke(),a.fillStyle="rgb(0, 84, 128)",a.beginPath(),a.moveTo(395.712,285.436),a.bezierCurveTo(391.587,285.633,387.265,286.109,382.942,286.896),a.bezierCurveTo(381.82,287.092,380.107,287.429,380.08,287.429),a.bezierCurveTo(380.08,287.456,380.248,287.737,380.444,288.102),a.bezierCurveTo(383.56,293.405,387.994,297.951,393.86,301.795),a.bezierCurveTo(396.386,303.479,398.519,304.686,401.662,306.257),a.bezierCurveTo(405.227,307.997,408.09,309.26,415.611,312.318),a.bezierCurveTo(417.352,313.048,419.232,313.806,419.766,314.03),a.bezierCurveTo(420.327,314.255,420.775,314.451,420.775,314.451),a.bezierCurveTo(420.775,314.451,420.551,313.974,420.242,313.385),a.bezierCurveTo(417.941,308.951,416.257,305.331,415.106,302.441),a.bezierCurveTo(412.974,296.997,411.879,292.171,411.71,287.597),a.bezierCurveTo(411.683,286.839,411.683,286.699,411.598,286.699),a.bezierCurveTo(411.346,286.614,409.773,286.306,408.848,286.166),a.bezierCurveTo(406.742,285.801,404.638,285.604,402.224,285.464),a.bezierCurveTo(400.849,285.38,397.228,285.38,395.712,285.436),a.fill(),a.fillStyle="rgb(103, 128, 144)",a.beginPath(),a.moveTo(378.985,287.652),a.bezierCurveTo(378.648,287.737,378.368,287.821,378.368,287.821),a.bezierCurveTo(378.339,287.821,378.508,288.102,378.732,288.41),a.bezierCurveTo(383.279,295.033,389.706,300.926,397.537,305.64),a.bezierCurveTo(403.038,308.951,409.381,311.757,415.752,313.693),a.bezierCurveTo(417.66,314.283,421.084,315.209,421.141,315.153),a.bezierCurveTo(421.141,315.125,421.141,315.068,421.084,315.012),a.bezierCurveTo(421.028,314.872,421.057,314.872,415.556,312.627),a.bezierCurveTo(409.605,310.214,407.697,309.4,404.778,308.081),a.bezierCurveTo(403.038,307.268,400.259,305.92,398.968,305.219),a.bezierCurveTo(393.72,302.357,389.734,299.495,386.338,296.155),a.bezierCurveTo(383.869,293.686,381.876,291.133,380.192,288.242),a.bezierCurveTo(379.883,287.737,379.743,287.541,379.687,287.541),a.bezierCurveTo(379.63,287.541,379.322,287.597,378.985,287.652),a.fill(),a.restore(),a.restore(),a.restore(),a.restore(),a.restore()},sharkAttacking:function(a,b){a.save(),ctxtransform(1,0,0,1,-274.3185,-447.94038,a,b),a.save(),a.transform(1.25,0,0,-1.25,-361.65806,908.56259),a.save(),a.beginPath(),a.moveTo(0,600),a.lineTo(800,600),a.lineTo(800,0),a.lineTo(0,0),a.lineTo(0,600),a.clip(),a.fillStyle="rgb(97, 146, 163)",a.beginPath(),a.moveTo(569.12,310.913),a.bezierCurveTo(569.12,310.913,580.744,284.342,586.689,289.26),a.bezierCurveTo(592.634,294.178,584.089,311.727,581.721,315.466),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(569.12,310.913),a.bezierCurveTo(569.12,310.913,580.744,284.342,586.689,289.26),a.bezierCurveTo(592.634,294.178,584.089,311.727,581.721,315.466),a.stroke(),a.fillStyle="rgb(97, 146, 163)",a.beginPath(),a.moveTo(561.076,343.993),a.bezierCurveTo(561.076,343.993,582.554,366.687,593.293,367.092),a.bezierCurveTo(604.032,367.498,602.208,373.982,590.456,344.804),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(561.076,343.993),a.bezierCurveTo(561.076,343.993,582.554,366.687,593.293,367.092),a.bezierCurveTo(604.032,367.498,602.208,373.982,590.456,344.804),a.stroke(),a.fillStyle="rgb(97, 146, 163)",a.beginPath(),a.moveTo(509.407,329.591),a.bezierCurveTo(509.407,329.591,593.865,367.221,641.313,326.552),a.bezierCurveTo(645.568,322.904,641.922,316.421,641.922,316.421),a.bezierCurveTo(641.922,316.421,606.092,289.825,543.244,301.427),a.bezierCurveTo(516.903,306.29,509.407,329.591,509.407,329.591),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(509.407,329.591),a.bezierCurveTo(509.407,329.591,593.865,367.221,641.313,326.552),a.bezierCurveTo(645.568,322.904,641.922,316.421,641.922,316.421),a.bezierCurveTo(641.922,316.421,606.092,289.825,543.244,301.427),a.bezierCurveTo(516.903,306.29,509.407,329.591,509.407,329.591),a.closePath(),a.stroke(),a.fillStyle="rgb(97, 146, 163)",a.beginPath(),a.moveTo(554.592,304.876),a.bezierCurveTo(554.592,304.876,558.239,276.104,565.331,279.143),a.bezierCurveTo(572.423,282.182,569.181,301.43,567.965,305.686),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(554.592,304.876),a.bezierCurveTo(554.592,304.876,558.239,276.104,565.331,279.143),a.bezierCurveTo(572.423,282.182,569.181,301.43,567.965,305.686),a.stroke(),a.fillStyle="rgb(97, 146, 163)",a.beginPath(),a.moveTo(636.249,329.798),a.bezierCurveTo(636.249,329.798,652.661,350.87,671.91,347.628),a.bezierCurveTo(691.159,344.387,670.491,332.837,669.884,332.432),a.bezierCurveTo(669.276,332.026,653.472,320.883,673.531,310.954),a.bezierCurveTo(693.591,301.025,635.034,298.999,631.184,310.751),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(636.249,329.798),a.bezierCurveTo(636.249,329.798,652.661,350.87,671.91,347.628),a.bezierCurveTo(691.159,344.387,670.491,332.837,669.884,332.432),a.bezierCurveTo(669.276,332.026,653.472,320.883,673.531,310.954),a.bezierCurveTo(693.591,301.025,635.034,298.999,631.184,310.751),a.stroke(),a.fillStyle="rgb(255, 255, 255)",a.beginPath(),a.moveTo(522.375,311.562),a.bezierCurveTo(522.375,311.562,530.517,316.518,535.748,319.262),a.bezierCurveTo(548.108,325.745,542.029,309.13,539.801,302.443),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(522.375,311.562),a.bezierCurveTo(522.375,311.562,530.517,316.518,535.748,319.262),a.bezierCurveTo(548.108,325.745,542.029,309.13,539.801,302.443),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(527.238,313.993),a.lineTo(541.422,306.294),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(534.735,319.059),a.lineTo(543.65,313.385),a.stroke(),a.fillStyle="rgb(55, 53, 53)",a.beginPath(),a.moveTo(539.598,334.309),a.bezierCurveTo(539.598,332.713,537.512,331.419,534.938,331.419),a.bezierCurveTo(532.363,331.419,530.277,332.713,530.277,334.309),a.bezierCurveTo(530.277,335.904,532.363,337.197,534.938,337.197),a.bezierCurveTo(537.512,337.197,539.598,335.904,539.598,334.309),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(55, 53, 53)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(539.598,334.309),a.bezierCurveTo(539.598,332.713,537.512,331.419,534.938,331.419),a.bezierCurveTo(532.363,331.419,530.277,332.713,530.277,334.309),a.bezierCurveTo(530.277,335.904,532.363,337.197,534.938,337.197),a.bezierCurveTo(537.512,337.197,539.598,335.904,539.598,334.309),a.closePath(),a.stroke(),a.restore(),a.restore(),a.restore()},mageStanding:function(a,b){a.save(),ctxtransform(1,0,0,1,-298.21872,-456.78565,a,b),a.save(),a.transform(1.005376,0,0,-1.005376,-143.32003,929.85379),a.save(),a.transform(1,0,0,1,7.878437,2.701178),a.save(),a.transform(.978265,0,0,.978265,-39.427372,-44.719947),a.save(),a.beginPath(),a.moveTo(0,600),a.lineTo(800,600),a.lineTo(800,0),a.lineTo(0,0),a.lineTo(0,600),a.clip(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(500.937,377.417),a.bezierCurveTo(502.934,379.324,504.891,380.961,507.689,381.242),a.bezierCurveTo(509.766,381.45,512.039,381.696,513.75,382.995),a.bezierCurveTo(517.49,385.832,516.746,390.385,516.211,394.519),a.bezierCurveTo(515.514,399.909,515.78,403.887,518.738,408.668),a.bezierCurveTo(522.045,414.013,527.763,417.92,532.829,421.43),a.bezierCurveTo(530.321,422.869,527.813,424.308,525.306,425.747),a.bezierCurveTo(525.48,416.789,522.689,406.255,527.734,398.138),a.bezierCurveTo(529.966,394.548,533.979,392.708,537.093,390.051),a.bezierCurveTo(537.753,389.504,538.291,388.856,538.708,388.107),a.bezierCurveTo(541.176,384.263,538.24,388.418,540.027,390.176),a.bezierCurveTo(538.35,388.526,535.686,387.891,533.589,386.929),a.bezierCurveTo(527.733,384.241,532.819,375.624,538.636,378.294),a.bezierCurveTo(542.586,380.107,546.399,381.476,548.894,385.292),a.bezierCurveTo(551.481,389.251,546.755,394.541,544.164,397.122),a.bezierCurveTo(540.187,401.086,535.518,401.959,534.895,408.239),a.bezierCurveTo(534.318,414.049,535.419,419.927,535.306,425.747),a.bezierCurveTo(535.236,429.29,531.019,432.306,527.782,430.064),a.bezierCurveTo(517.97,423.269,507.224,414.798,505.833,402.043),a.bezierCurveTo(505.596,399.869,505.775,397.875,506.053,395.708),a.bezierCurveTo(506.204,394.525,506.363,393.344,506.503,392.159),a.bezierCurveTo(506.584,391.446,506.641,390.732,506.674,390.016),a.bezierCurveTo(506.496,388.177,507.11,388.646,508.516,391.424),a.bezierCurveTo(506.425,390.68,504.193,391.021,502.082,390.152),a.bezierCurveTo(498.923,388.852,496.321,386.833,493.866,384.488),a.bezierCurveTo(489.194,380.027,496.276,372.966,500.937,377.417),a.fill(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(533.892,435.461),a.bezierCurveTo(529.836,443.019,526.811,450.986,521.22,457.613),a.bezierCurveTo(519.523,459.625,515.865,459.512,514.149,457.613),a.bezierCurveTo(509.826,452.83,501.425,455.969,495.723,455.789),a.bezierCurveTo(489.29,455.586,489.271,445.585,495.723,445.789),a.bezierCurveTo(504.831,446.077,514.205,442.78,521.22,450.542),a.lineTo(514.149,450.542),a.bezierCurveTo(519.095,444.679,521.666,437.106,525.257,430.414),a.bezierCurveTo(528.307,424.73,536.939,429.78,533.892,435.461),a.fill(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(526.682,441.791),a.bezierCurveTo(520.846,441.716,515.024,441.98,509.23,442.692),a.bezierCurveTo(506.519,443.025,504.23,440.166,504.23,437.692),a.bezierCurveTo(504.23,434.715,506.526,433.024,509.23,432.692),a.bezierCurveTo(515.024,431.98,520.846,431.716,526.682,431.791),a.bezierCurveTo(533.125,431.874,533.133,441.874,526.682,441.791),a.fill(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(515.862,462.124),a.bezierCurveTo(510.207,462.648,508.729,465.171,508.651,470.53),a.bezierCurveTo(508.594,474.496,511.307,477.36,515.328,476.203),a.bezierCurveTo(520.856,474.612,519.632,466.062,515.358,464.088),a.bezierCurveTo(509.509,461.388,514.593,452.77,520.405,455.454),a.bezierCurveTo(534.275,461.856,530.173,484.909,515.069,486.403),a.bezierCurveTo(505.271,487.373,499.039,479.647,498.651,470.53),a.bezierCurveTo(498.174,459.276,505.143,453.118,515.862,452.124),a.bezierCurveTo(522.285,451.528,522.228,461.534,515.862,462.124),a.fill(),a.fillStyle="rgb(79, 86, 163)",a.beginPath(),a.moveTo(504.199,476.588),a.lineTo(481.685,479.483),a.lineTo(501.487,489.928),a.lineTo(535.423,523.445),a.lineTo(527.438,491.542),a.lineTo(544.008,480.701),a.lineTo(504.199,476.588),a.closePath(),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(120, 81, 159)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(504.199,476.588),a.lineTo(481.685,479.483),a.lineTo(501.487,489.928),a.lineTo(535.423,523.445),a.lineTo(527.438,491.542),a.lineTo(544.008,480.701),a.lineTo(504.199,476.588),a.closePath(),a.stroke(),a.restore(),a.restore(),a.restore(),a.restore(),a.restore()},mageCasting:function(a,b){a.save(),ctxtransform(1,0,0,1,-329.98812,-403.60036,a,b),a.save(),a.transform(1.005376,0,0,-1.005376,-143.32003,929.85379),a.save(),a.transform(1,0,0,1,7.878437,2.701178),a.save(),a.transform(.97401,0,0,.97401,14.793252,9.32202),a.save(),a.beginPath(),a.moveTo(0,600),a.lineTo(800,600),a.lineTo(800,0),a.lineTo(0,0),a.lineTo(0,600),a.clip(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(500.937,377.417),a.bezierCurveTo(502.934,379.324,504.891,380.961,507.689,381.242),a.bezierCurveTo(509.766,381.45,512.039,381.696,513.75,382.995),a.bezierCurveTo(517.49,385.832,516.746,390.385,516.211,394.519),a.bezierCurveTo(515.514,399.909,515.78,403.887,518.738,408.668),a.bezierCurveTo(522.045,414.013,527.763,417.92,532.829,421.43),a.bezierCurveTo(530.321,422.869,527.813,424.308,525.306,425.747),a.bezierCurveTo(525.48,416.789,522.689,406.255,527.734,398.138),a.bezierCurveTo(529.966,394.548,533.979,392.708,537.093,390.051),a.bezierCurveTo(537.753,389.504,538.291,388.856,538.708,388.107),a.bezierCurveTo(541.176,384.263,538.24,388.418,540.027,390.176),a.bezierCurveTo(538.35,388.526,535.686,387.891,533.589,386.929),a.bezierCurveTo(527.733,384.241,532.819,375.624,538.636,378.294),a.bezierCurveTo(542.586,380.107,546.399,381.476,548.894,385.292),a.bezierCurveTo(551.481,389.251,546.755,394.541,544.164,397.122),a.bezierCurveTo(540.187,401.086,535.518,401.959,534.895,408.239),a.bezierCurveTo(534.318,414.049,535.419,419.927,535.306,425.747),a.bezierCurveTo(535.236,429.29,531.019,432.306,527.782,430.064),a.bezierCurveTo(517.97,423.269,507.224,414.798,505.833,402.043),a.bezierCurveTo(505.596,399.869,505.775,397.875,506.053,395.708),a.bezierCurveTo(506.204,394.525,506.363,393.344,506.503,392.159),a.bezierCurveTo(506.584,391.446,506.641,390.732,506.674,390.016),a.bezierCurveTo(506.496,388.177,507.11,388.646,508.516,391.424),a.bezierCurveTo(506.425,390.68,504.193,391.021,502.082,390.152),a.bezierCurveTo(498.923,388.852,496.321,386.833,493.866,384.488),a.bezierCurveTo(489.194,380.027,496.276,372.966,500.937,377.417),a.fill(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(533.808,435.415),a.bezierCurveTo(529.343,443.733,526.094,452.585,519.854,459.823),a.bezierCurveTo(518.133,461.822,514.522,461.73,512.784,459.823),a.bezierCurveTo(507.533,454.063,497.943,457.496,491.056,457.123),a.bezierCurveTo(484.643,456.775,484.609,446.773,491.056,447.123),a.bezierCurveTo(501.278,447.677,511.973,444.106,519.854,452.752),a.lineTo(512.784,452.752),a.bezierCurveTo(518.365,446.276,521.174,437.818,525.173,430.368),a.bezierCurveTo(528.223,424.684,536.856,429.734,533.808,435.415),a.fill(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(525.715,443.556),a.bezierCurveTo(517.425,442.747,509.115,442.284,500.785,442.266),a.bezierCurveTo(494.337,442.251,494.336,432.251,500.785,432.266),a.bezierCurveTo(509.115,432.284,517.425,432.747,525.715,433.556),a.bezierCurveTo(532.072,434.176,532.133,444.182,525.715,443.556),a.fill(),a.fillStyle="rgb(44, 44, 44)",a.beginPath(),a.moveTo(515.862,462.124),a.bezierCurveTo(510.207,462.648,508.729,465.171,508.651,470.53),a.bezierCurveTo(508.594,474.496,511.307,477.36,515.328,476.203),a.bezierCurveTo(520.856,474.612,519.632,466.062,515.358,464.088),a.bezierCurveTo(509.509,461.388,514.593,452.77,520.405,455.454),a.bezierCurveTo(534.275,461.856,530.173,484.909,515.069,486.403),a.bezierCurveTo(505.271,487.373,499.039,479.647,498.651,470.53),a.bezierCurveTo(498.174,459.276,505.143,453.118,515.862,452.124),a.bezierCurveTo(522.285,451.528,522.228,461.534,515.862,462.124),a.fill(),a.fillStyle="rgb(79, 86, 163)",a.beginPath(),a.moveTo(504.199,476.588),a.lineTo(481.685,479.483),a.lineTo(501.487,489.928),a.lineTo(535.423,523.445),a.lineTo(527.438,491.542),a.lineTo(544.008,480.701),a.lineTo(504.199,476.588),a.closePath(),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(120, 81, 159)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(504.199,476.588),a.lineTo(481.685,479.483),a.lineTo(501.487,489.928),a.lineTo(535.423,523.445),a.lineTo(527.438,491.542),a.lineTo(544.008,480.701),a.lineTo(504.199,476.588),a.closePath(),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(44, 44, 44)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(479.667,459.167),a.bezierCurveTo(479.667,459.167,466.167,461,460.5,471.5),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(44, 44, 44)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(485,440.833),a.bezierCurveTo(485,440.833,466.833,435,463.333,424.167),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(44, 44, 44)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(483.5,447.167),a.bezierCurveTo(483.5,447.167,473.666,447.5,470.833,451),a.stroke(),a.restore(),a.restore(),a.restore(),a.restore(),a.restore()},fishJumping:function(a,b){a.save(),ctxtransform(1,0,0,1,-346.12443,-470.47206,a,b),a.save(),a.transform(1.25,0,0,-1.25,-241.33496,1192.7252),a.save(),a.beginPath(),a.moveTo(0,600),a.lineTo(800,600),a.lineTo(800,0),a.lineTo(0,0),a.lineTo(0,600),a.clip(),a.fillStyle="rgb(160, 162, 164)",a.beginPath(),a.moveTo(483.475,532.915),a.bezierCurveTo(479.78,532.915,469.252,530.514,472.022,524.973),a.bezierCurveTo(472.946,522.756,476.641,521.648,478.487,520.54),a.bezierCurveTo(480.334,519.432,482.366,517.031,484.397,516.661),a.bezierCurveTo(486.983,516.107,488.83,518.139,489.754,520.54),a.bezierCurveTo(490.862,523.311,489.385,524.604,487.723,526.82),a.bezierCurveTo(484.213,531.807,483.475,535.5,483.844,541.596),a.bezierCurveTo(484.582,551.939,483.659,560.989,491.971,568.747),a.bezierCurveTo(497.142,573.364,503.791,573.733,510.256,574.657),a.bezierCurveTo(513.026,575.026,521.892,578.351,522.631,575.026),a.bezierCurveTo(523,572.995,520.783,569.116,520.414,567.084),a.bezierCurveTo(518.937,561.913,518.752,556.926,516.351,551.939),a.bezierCurveTo(514.135,547.506,511.918,545.29,508.224,542.334),a.bezierCurveTo(506.784,541.183,506.256,540.766,506.911,538.907),a.bezierCurveTo(507.333,537.712,508.072,536.738,509.2,536.136),a.bezierCurveTo(511.467,534.928,514.422,535.651,516.535,536.84),a.bezierCurveTo(520.397,539.014,519.979,544.626,518.987,548.42),a.bezierCurveTo(518.506,550.264,518.252,551.311,516.166,550.881),a.bezierCurveTo(514.727,550.584,513.16,549.396,511.949,548.568),a.bezierCurveTo(510.345,547.471,508.869,545.805,507.85,544.176),a.bezierCurveTo(506.739,542.402,506.448,540.968,504.803,539.603),a.bezierCurveTo(502.983,538.094,501.046,536.682,499.072,535.383),a.bezierCurveTo(495.232,532.856,490.917,530.721,486.245,530.514),a.fill(),a.fillStyle="rgb(55, 53, 53)",a.beginPath(),a.moveTo(483.615,534.401),a.bezierCurveTo(479.398,534.261,467.771,531.926,470.332,525.227),a.bezierCurveTo(471.923,521.067,476.722,520.177,479.925,517.58),a.bezierCurveTo(482.797,515.251,487.199,513.636,489.752,517.488),a.bezierCurveTo(492.433,521.535,491.669,524.147,488.86,527.785),a.bezierCurveTo(484.07,533.991,485.336,541.695,485.742,548.97),a.bezierCurveTo(486.141,556.115,487.724,562.42,492.937,567.608),a.bezierCurveTo(497.93,572.578,505.569,572.048,511.914,573.47),a.bezierCurveTo(513.945,573.925,515.938,574.487,517.991,574.843),a.bezierCurveTo(522.433,575.614,520.766,572.505,519.68,569.71),a.bezierCurveTo(516.979,562.754,517.208,555.395,512.857,548.991),a.bezierCurveTo(511.33,546.743,504.389,543.099,505.168,539.806),a.bezierCurveTo(506.233,535.299,509.496,533.65,513.952,534.261),a.bezierCurveTo(517.527,534.751,520.557,537.724,520.982,541.301),a.bezierCurveTo(521.323,544.164,521.513,550.039,518.777,551.954),a.bezierCurveTo(515.616,554.167,510.726,549.687,508.715,547.709),a.bezierCurveTo(506.646,545.676,505.846,542.803,503.837,540.741),a.bezierCurveTo(500.758,537.581,496.316,535.205,492.33,533.427),a.bezierCurveTo(490.266,532.506,488.193,532.193,485.986,531.983),a.bezierCurveTo(484.068,531.801,484.602,528.863,486.504,529.044),a.bezierCurveTo(495.339,529.885,504.738,535.597,509.072,543.32),a.bezierCurveTo(510.498,545.862,512.911,547.528,515.343,548.985),a.bezierCurveTo(518.258,550.732,518.169,543.55,518.15,542.754),a.bezierCurveTo(518.128,541.195,517.584,539.828,516.52,538.652),a.bezierCurveTo(513.672,535.554,506.896,539.326,510.368,542.158),a.bezierCurveTo(511.876,543.389,513.21,544.765,514.488,546.227),a.bezierCurveTo(517.401,549.557,518.927,553.865,519.946,558.086),a.bezierCurveTo(521.124,562.958,522.315,567.631,523.817,572.401),a.bezierCurveTo(525.92,579.08,518.257,578.055,514.272,577.125),a.bezierCurveTo(506.724,575.364,498.846,575.345,492.224,570.877),a.bezierCurveTo(484.683,565.789,483.153,556.111,482.688,547.787),a.bezierCurveTo(482.196,538.967,481.907,531.914,487.54,524.616),a.bezierCurveTo(489.665,520.746,488.094,518.903,482.827,519.089),a.bezierCurveTo(481.606,519.864,480.531,520.927,479.343,521.762),a.bezierCurveTo(477.387,523.138,474.753,523.396,473.371,525.613),a.bezierCurveTo(470.888,529.594,481.295,531.362,483.334,531.429),a.bezierCurveTo(485.233,531.492,485.532,534.464,483.615,534.401),a.fill(),a.fillStyle="rgb(160, 162, 164)",a.beginPath(),a.moveTo(485.327,559.454),a.bezierCurveTo(482.624,558.136,479.864,561.208,479.712,563.848),a.bezierCurveTo(479.382,566.438,481.594,569.538,483.486,571.016),a.bezierCurveTo(486.042,572.869,490.303,572.7,489.551,568.47),a.bezierCurveTo(488.91,565.229,483.813,562.869,484.891,558.951),a.fill(),a.fillStyle="rgb(55, 53, 53)",a.beginPath(),a.moveTo(484.687,560.802),a.bezierCurveTo(482.897,560.147,481.648,562.051,481.262,563.492),a.bezierCurveTo(480.802,565.208,481.86,566.898,482.815,568.221),a.bezierCurveTo(483.437,569.081,487.333,572.368,488.089,569.919),a.bezierCurveTo(488.715,567.893,486.099,565.752,484.996,564.372),a.bezierCurveTo(483.672,562.714,482.994,560.798,483.421,558.692),a.bezierCurveTo(483.803,556.809,486.742,557.322,486.36,559.21),a.bezierCurveTo(485.925,561.358,487.638,562.924,488.918,564.43),a.bezierCurveTo(490.072,565.788,490.896,567.179,491.115,568.964),a.bezierCurveTo(491.562,572.598,488.036,574.16,485.005,573.368),a.bezierCurveTo(481.406,572.427,478.034,567.979,478.211,564.246),a.bezierCurveTo(478.403,560.208,481.807,556.582,485.968,558.106),a.bezierCurveTo(487.772,558.767,486.481,561.459,484.687,560.802),a.fill(),a.fillStyle="rgb(160, 162, 164)",a.beginPath(),a.moveTo(498.805,570.224),a.bezierCurveTo(498.25,562.097,510.256,555.264,517.274,556.372),a.fill(),a.fillStyle="rgb(55, 53, 53)",a.beginPath(),a.moveTo(497.318,570.365),a.bezierCurveTo(497.149,560.768,508.796,553.873,517.533,554.902),a.bezierCurveTo(519.447,555.127,518.918,558.065,517.016,557.841),a.bezierCurveTo(510.342,557.055,500.158,562.559,500.291,570.083),a.bezierCurveTo(500.324,571.998,497.353,572.288,497.318,570.365),a.fill(),a.fillStyle="rgb(160, 162, 164)",a.beginPath(),a.moveTo(503.237,572.256),a.bezierCurveTo(504.899,566.345,510.256,568.377,510.625,573.549),a.fill(),a.fillStyle="rgb(55, 53, 53)",a.beginPath(),a.moveTo(501.768,571.997),a.bezierCurveTo(502.584,569.33,504.41,566.702,507.559,567.249),a.bezierCurveTo(510.402,567.743,511.863,570.83,512.111,573.408),a.bezierCurveTo(512.295,575.327,509.322,575.603,509.139,573.689),a.bezierCurveTo(509.004,572.285,508.502,570.813,507.122,570.208),a.bezierCurveTo(505.835,569.644,504.971,571.654,504.707,572.515),a.bezierCurveTo(504.151,574.331,501.205,573.834,501.768,571.997),a.fill(),a.fillStyle="rgb(160, 162, 164)",a.beginPath(),a.moveTo(491.786,550.276),a.bezierCurveTo(492.524,548.43,496.219,541.965,498.805,543.997),a.bezierCurveTo(501.944,546.398,496.219,552.678,495.664,554.894),a.fill(),a.fillStyle="rgb(55, 53, 53)",a.beginPath(),a.moveTo(490.438,549.636),a.bezierCurveTo(491.808,546.385,495.561,540.116,499.771,542.858),a.bezierCurveTo(501.807,544.185,501.271,547.002,500.563,548.872),a.bezierCurveTo(499.727,551.083,497.821,552.915,497.134,555.153),a.bezierCurveTo(496.576,556.968,493.63,556.472,494.194,554.635),a.bezierCurveTo(495.104,551.678,497.632,549.424,498.222,546.335),a.bezierCurveTo(498.674,543.969,496.313,545.992,495.74,546.647),a.bezierCurveTo(494.653,547.892,493.775,549.396,493.135,550.917),a.bezierCurveTo(492.388,552.69,489.692,551.407,490.438,549.636),a.fill(),a.restore(),a.restore(),a.restore()
},raft:function(a,b){a.save(),ctxtransform(1,0,0,1,-271.8538,-583.23108,a,b),a.save(),a.transform(1.005376,0,0,-1.005376,-143.32003,929.85379),a.save(),a.transform(1,0,0,1,7.878437,2.701178),a.save(),a.transform(1.243316,0,0,1.243316,-61.090407,45.925738),a.save(),a.beginPath(),a.moveTo(0,600),a.lineTo(800,600),a.lineTo(800,0),a.lineTo(0,0),a.lineTo(0,600),a.clip(),a.fillStyle="rgb(183, 117, 0)",a.beginPath(),a.moveTo(468.526,215.455),a.lineTo(375.446,218.848),a.lineTo(375.583,222.596),a.lineTo(468.663,219.203),a.lineTo(468.526,215.455),a.closePath(),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(468.526,215.455),a.lineTo(375.446,218.848),a.lineTo(375.583,222.596),a.lineTo(468.663,219.203),a.lineTo(468.526,215.455),a.closePath(),a.stroke(),a.fillStyle="rgb(183, 117, 0)",a.beginPath(),a.moveTo(470.149,219.284),a.lineTo(377.212,222.672),a.lineTo(377.349,226.42),a.lineTo(470.286,223.032),a.lineTo(470.149,219.284),a.closePath(),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(470.149,219.284),a.lineTo(377.212,222.672),a.lineTo(377.349,226.42),a.lineTo(470.286,223.032),a.lineTo(470.149,219.284),a.closePath(),a.stroke(),a.fillStyle="rgb(183, 117, 0)",a.beginPath(),a.moveTo(471.651,223.08),a.lineTo(379.962,226.422),a.lineTo(380.099,230.17),a.lineTo(471.788,226.828),a.lineTo(471.651,223.08),a.closePath(),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(471.651,223.08),a.lineTo(379.962,226.422),a.lineTo(380.099,230.17),a.lineTo(471.788,226.828),a.lineTo(471.651,223.08),a.closePath(),a.stroke(),a.fillStyle="rgb(183, 117, 0)",a.beginPath(),a.moveTo(474.401,226.83),a.lineTo(381.715,230.208),a.lineTo(381.852,233.956),a.lineTo(474.538,230.578),a.lineTo(474.401,226.83),a.closePath(),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(474.401,226.83),a.lineTo(381.715,230.208),a.lineTo(381.852,233.956),a.lineTo(474.538,230.578),a.lineTo(474.401,226.83),a.closePath(),a.stroke(),a.fillStyle="rgb(183, 117, 0)",a.beginPath(),a.moveTo(476.901,230.58),a.lineTo(385.212,233.922),a.lineTo(385.349,237.67),a.lineTo(477.038,234.328),a.lineTo(476.901,230.58),a.closePath(),a.fill(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=1,a.beginPath(),a.moveTo(476.901,230.58),a.lineTo(385.212,233.922),a.lineTo(385.349,237.67),a.lineTo(477.038,234.328),a.lineTo(476.901,230.58),a.closePath(),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=2,a.beginPath(),a.moveTo(465.125,234.75),a.lineTo(457.625,215.875),a.stroke(),a.lineJoin="miter",a.strokeStyle="rgb(0, 0, 0)",a.lineCap="butt",a.miterLimit=4,a.lineWidth=2,a.beginPath(),a.moveTo(394.875,237.125),a.lineTo(386.375,218.5),a.stroke(),a.restore(),a.restore(),a.restore(),a.restore(),a.restore()},wavesPattern:function(a,b){for(var c=0;c<b.length;c++)for(var d=0;14>d;d++){if(0==frameCount%10){var e;e=b[c].scrollLeft?1:-1,Math.abs(b[c].offset-b[c].originalOffset)>80&&(b[c].offset=b[c].originalOffset);var f;f=b[c].y<=-75?.1:b[c].y<=-35?.3:.6,b[c].offset+=.1*e}Draw.waves(a,d,b[c].y,b[c].offset,1,b[c].alpha)}},waves:function(a,b,c,d,e,f){a.globalAlpha=f;var g=a.createLinearGradient(80,0,80,140);g.addColorStop(0,"#0099ff"),g.addColorStop(1,"white"),a.fillStyle=g,a.save(),a.transform(1,0,0,1,-407.9523+80*b+d-currentSeconds(),-545.13071+408+c),a.save(),a.transform(1.005376,0,0,-1.005376,-143.32003,929.85379),a.save(),a.transform(1,0,0,1,7.878437,2.701178),a.save(),a.transform(1.243316,0,0,1.243316,516.71115,218.56112),a.fillStyle=g,a.beginPath(),a.moveTo(64.179,113.205),a.bezierCurveTo(61.159,110.508,44.98,98.867,19.09,129.278),a.lineTo(19.09,72.54),a.lineTo(83.487,72.54),a.lineTo(83.487,129.817),a.lineTo(64.179,113.205),a.closePath(),a.fill(),a.restore(),a.restore(),a.restore(),a.restore()},sky:function(a){a.globalAlpha=.9;var b=a.createLinearGradient(80,0,80,140);b.addColorStop(0,"#0099ff"),b.addColorStop(1,"white"),a.fillStyle=b,a.fillRect(0,0,c.width,c.height)},hpBar:function(a){for(var b=0;b<Constants.PLAYER_MAX_HP;b++)a.fillStyle=hud.health>b?"#1c5cff":"#a90000",a.fillRect(100+25*b,16,15,15)}}