<!DOCTYPE html><html><head><style>body{margin:0;padding:0}</style><body><h2><center>InstructionsSpace to Jump, 'a' for Fire,'s' for Rock,'d' for Water</center></h2><canvas id=myCanvas width=1000 height=600 style="border:6px solid #111;background:#99D9EA"></canvas><script>function animate(){reqAnimFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,reqAnimFrame(animate),grassX>x?(x=canvas.width,loop1=!1):grassX>x1&&(x1=canvas.width,loop2=!1),xSpawn>x?loop2=!0:xSpawn>x1&&(loop1=!0),loop1&&loop2&&!jump&&(playerX>x-grassX&&x1>playerX+player.width||playerX>x1-grassX&&x>playerX+player.width)&&(gameOver=!0),draw()}function draw(){for(var e=0;grassLen>e&&loop1;e++)context.clearRect(x+grass.width*e,.85*canvas.height,grass.width,grass.height),context.drawImage(grass,x+grass.width*e,.85*canvas.height,grass.width,grass.height);lastX=grass.width*grassLen,loop1&&(context.clearRect(x+lastX,.85*canvas.height,-speed,grass.height),x+=speed);for(var e=0;grassLen>e&&loop2;e++)context.clearRect(x1+grass.width*e,.85*canvas.height,grass.width,grass.height),context.drawImage(grass,x1+grass.width*e,.85*canvas.height,grass.width,grass.height);loop2&&(context.clearRect(x1+lastX,.85*canvas.height,-speed,grass.height),x1+=speed),gameOver?(context.clearRect(playerX,playerY,player.width,player.height),playerY-=jumpDir2,context.drawImage(player,playerX,playerY),playerY+player.width>canvas.height&&(location.href="index.html?score="+score)):jump&&(context.clearRect(playerX,playerY,player.width,player.height),playerY<=canvas.width/5&&(jumpDir*=-1),playerY+=jumpDir,context.drawImage(player,playerX,playerY),playerY==playerYDefault&&(jump=!1,jumpDir*=-1));for(var e=0;e<obstacleArr.length;e++)obstacleArr[e].x+=speed,obstacleArr[e].x<=playerX+player.width&&(gameOver=!0),context.clearRect(obstacleArr[e].x-speed,obstacleArr[e].y,obstacleArr[e].obsImg.width,obstacleArr[e].obsImg.height),context.drawImage(obstacleArr[e].obsImg,obstacleArr[e].x,obstacleArr[e].y,obstacleArr[e].obsImg.width,obstacleArr[e].obsImg.height)}function generateObstacle(){var e,a=new Image,r=randomInt(0,3);a.onload=function(){e={index:r,x:canvas.width,y:.85*canvas.height-a.height,obsImg:a},obstacleArr[obstacleArr.length]=e},a.src=obstacleSrc[r]}function whatKey(e){32==e.keyCode?jump=!0:65==e.keyCode?(console.log(0),delObstacle(0)):83==e.keyCode?(console.log(1),delObstacle(1)):68==e.keyCode?(console.log(2),delObstacle(2)):80==e.keyCode&&alert("press OK to continue")}function randomInt(e,a){return e+~~(Math.random()*a)}function delObstacle(e){context.clearRect(.85*canvas.width,.1*canvas.height-50,150,60);for(var a=0;a<obstacleArr.length;a++)if(obstacleArr[a].index==e)return context.clearRect(obstacleArr[a].x,obstacleArr[a].y,obstacleArr[a].obsImg.width,obstacleArr[a].obsImg.height),obstacleArr.remove(a),score+=5,context.fillStyle="#00A300",void context.fillText(score,.85*canvas.width,.1*canvas.height);score-=10,context.fillStyle="red",context.fillText(score,.85*canvas.width,.1*canvas.height)}var x=0,x1,score=0,speed=-10,grassLen=30,gorgeSize=7,loop1=!0,loop2=!1,lastX,xSpawn=-10,canvas=document.getElementById("myCanvas"),context=canvas.getContext("2d"),playerY,playerX=.05*canvas.width,playerYDefault,jump=!1,jumpDir=-5,jumpDir2=-5,grass,obstacleSrc=["fire.png","rock.png","water.png"],obstacleArr=[],gameOver=!1;window.addEventListener("keydown",whatKey,!0),Array.prototype.remove=function(e,a){var r=this.slice((a||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,r)};var player=new Image;setInterval(generateObstacle,1700);var currenttime=new Date;player.onload=function(){currenttime.getSeconds();playerY=.85*canvas.height-player.height,playerYDefault=playerY,context.drawImage(player,playerX,playerY)},player.src="player.png";var img=new Image;img.src="cloud.png",img.onload=function(){for(var e=0;e<canvas.width-img.width;e+=img.width+70)context.drawImage(img,e,20)};var grassX=-10;x1=canvas.width,grass=new Image,grass.onload=function(){grassX=grass.width*grassLen*-1,xSpawn=canvas.width-grass.width*gorgeSize+grassX},grass.src="grass.png",animate(),context.font="bolder 50px Georgia";</script>