document.addEventListener("DOMContentLoaded",(async()=>{const e=document.getElementById("canvas"),n=e.getContext("2d",{alpha:!1,imageSmoothingEnabled:!1});await game.init(e,n),graphics.resizeContainer(game.size,{width:window.innerWidth,height:window.innerHeight},game.canvas),document.addEventListener("pointerdown",(e=>{0===e.button&&e.isPrimary&&game.onPointerDown(e)})),document.addEventListener("pointerup",(e=>{0===e.button&&e.isPrimary&&game.onPointerUp(e)})),document.addEventListener("keydown",(e=>{game.onKeyDown(e.key.toLowerCase())})),document.addEventListener("keyup",(e=>{game.onKeyUp(e.key.toLowerCase())})),document.addEventListener("contextmenu",(e=>e.preventDefault())),window.addEventListener("resize",(()=>{graphics.resizeContainer(game.size,{width:window.innerWidth,height:window.innerHeight},game.canvas)})),window.requestAnimationFrame((function e(n){const t=n-game.previous;game.previous=n,game.ctx=game.canvas.getContext("2d",{alpha:!1,imageSmoothingEnabled:!1}),game.update(t),game.clear(),graphics.draw(game.objects,game.ctx,game.debug),window.requestAnimationFrame(e)}))}));
