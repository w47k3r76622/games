const t=new(window.AudioContext||webkitAudioContext),h=(...h)=>{let i=t.createBuffer(h.length,h[0].length,44100),s=t.createBufferSource();return h.map(((t,h)=>i.getChannelData(h).set(t))),s.buffer=i,s.connect(t.destination),s.start(),s},i=(t=1,h=.05,i=220,s=0,e=0,l=.1,r=0,a=1,n=0,f=0,c=0,o=0,d=0,w=0,p=0,y=0,u=0,x=1,g=0,A=0)=>{let m=2*Math.PI,C=n*=500*m/44100/44100;h=i*=(1+2*h*Math.random()-h)*m/44100;let B,b,v=[],k=0,$=0,M=0,D=1,I=0,F=0,G=0;for(f*=500*m/44100**3,p*=m/44100,c*=m/44100,o*=44100,d=44100*d|0,b=(s=44100*s+9)+(g*=44100)+(e*=44100)+(l*=44100)+(u*=44100)|0;M<b;v[M++]=G)++F%(100*y|0)||(G=r?1<r?2<r?3<r?Math.sin((k%m)**3):Math.max(Math.min(Math.tan(k),1),-1):1-(2*k/m%2+2)%2:1-4*Math.abs(Math.round(k/m)-k/m):Math.sin(k),G=(d?1-A+A*Math.sin(m*M/d):1)*(0<G?1:-1)*Math.abs(G)**a*t*.3*(M<s?M/s:M<s+g?1-(M-s)/g*(1-x):M<s+g+e?x:M<b-u?(b-M-u)/l*x:0),G=u?G/2+(u>M?0:(M<b-u?1:(b-M)/u)*v[M-u|0]/2):G),B=(i+=n+=f)*Math.cos(p*$++),k+=B-B*w*(1-1e9*(Math.sin(M)+1)%2),D&&++D>o&&(i+=c,h+=c,D=0),!d||++I%d||(i=h,n=C,D=D||1);return v},s=(t,h,s,e=125)=>{let l,r,a,n,f,c,o,d,w,p,y,u,x,g,A=0,m=[],C=[],B=[],b=0,v=0,k=1,$={},M=44100/e*60>>2;for(;k;b++)m=[k=d=u=0],s.map(((e,D)=>{for(o=h[e][b]||[0,0,0],k|=!!h[e][b],g=u+(h[e][0].length-2-!d)*M,x=D==s.length-1,r=2,n=u;r<o.length+x;d=++r){for(f=o[r],w=r==o.length+x-1&&x||p!=(o[0]||0)|f|0,a=0;a<M&&d;a++>M-99&&w?y+=(1>y)/99:0)c=(1-y)*m[A++]/2||0,C[n]=(C[n]||0)-c*v+c,B[n]=(B[n++]||0)+c*v+c;f&&(y=f%1,v=o[1]||0,(f|=0)&&(m=$[[p=o[A=0]||0,f]]=$[[p,f]]||(l=[...t[p]],l[2]*=2**((f-12)/12),0<f?i(...l):[])))}u=g}));return[C,B]};function e(t,h){t.U=[];for(let i=0;i<h;i++)t.U.push({x:et(0,C.width,1),y:et(0,C.height,1),r:et(1,3,1)})}function l(){var t=$;t.buttons=[],t.text=[],t.state="main",it=0,e(t,C.width/10),t.text.push(new a("Play",C.width/25,"#fff",.5,.5,2)),t.text.push(new a("Controls",C.width/25,"#fff",.5,.6,3)),t.text.push(new a("Credits",C.width/25,"#fff",.5,.7,4)),t.text.push(new a("Keep",C.width/20,"#fff",.3,.08)),t.text.push(new a("YOur",C.width/15,"#fff",.5,.16)),t.text.push(new a("space",C.width/10,"#fff",.6,.26)),g=C.width/4,t.H=new o(0,0,[],1),t.H.A={x:et(0,C.width,1),y:et(0,C.height,1)},t.H.I=et(-5,5,1),t.H.G=et(-5,5,1)}class r{constructor(){this.buttons=[],this.text=[],this.state,this.U=[],this.H}pause(){it=0,this.state="pause",this.buttons=[],this.text=[],console.log("test")}options(){this.buttons=[],this.text=[],this.state="options",it=0,e(this,C.width/5),this.text.push(new a("Difficulty",C.width/15,"#fff",.5,.15)),this.text.push(new a("Easy",C.width/25,"#fff",.5,.4,5)),this.text.push(new a("NOrmal",C.width/25,"#fff",.5,.5,6)),this.text.push(new a("Hard",C.width/25,"#fff",.5,.6,7)),this.text.push(new a("Back",C.width/25,"#fff",.5,.8,8))}controls(){this.buttons=[],this.text=[],this.state="controls",it=0,e(this,C.width/5),this.text.push(new a("Move with",C.width/30,"#fff",.5,.1)),this.text.push(new a("w",C.width/40,"#fff",.42,.3)),this.text.push(new a("a",C.width/40,"#fff",.36,.37)),this.text.push(new a("s",C.width/40,"#fff",.42,.37)),this.text.push(new a("d",C.width/40,"#fff",.48,.37)),this.text.push(new a("z",C.width/40,"#fff",.655,.3)),this.text.push(new a("q",C.width/40,"#fff",.595,.37)),this.text.push(new a("s",C.width/40,"#fff",.655,.37)),this.text.push(new a("d",C.width/40,"#fff",.715,.37)),this.text.push(new a("Find the red buidling",C.width/30,"#fff",.5,.5)),this.text.push(new a("         red         ",C.width/30,"red",.5,.5)),this.text.push(new a("Keep Your Space!",C.width/20,"#fff",.5,.6)),this.text.push(new a("Back",C.width/25,"#fff",.5,.8,8))}update(){for(let t=0;t<this.buttons.length;t++)this.buttons[t].update()}N(){"main"==this.state&&(this.H.A.x+=this.H.I,this.H.A.y+=this.H.G,this.H.A.x>C.width+200&&(this.H.A.x=-200,this.H.A.y=et(0,C.height,1),this.H.G=et(-5,5,1)),-200>this.H.A.x&&(this.H.A.x=C.width+100,this.H.A.y=et(0,C.height,1),this.H.G=et(-5,5,1)),this.H.A.y>C.height+200&&(this.H.A.y=-200,this.H.A.x=et(0,C.width,1),this.H.I=et(-5,5,1)),-200>this.H.A.y&&(this.H.A.y=C.height+200,this.H.A.x=et(0,C.width,1),this.H.I=et(-5,5,1)),this.H.N()),"controls"==this.state&&(yt("c white 1 1, w 3, p m 20 25 l 20 50 l 50 25 l 20 0 l 20 25 1,",[.201*C.width,.35*C.height,.7,.7]),yt("c white 1 1, w 3, p m 20 25 l 20 50 l 50 25 l 20 0 l 20 25 1,",[.161*C.width,.35*C.height,-.7,.7]),yt("c white 1 1, w 3, q 90, p m 20 25 l 20 50 l 50 25 l 20 0 l 20 25 1,",[.2*C.width,.35*C.height,.7,.7]),yt("c white 1 1, w 3, q 90, p m 20 25 l 20 50 l 50 25 l 20 0 l 20 25 1,",[.2*C.width,.35*C.height,.7,-.7]),yt("w 0.5,c #252323 1 1, a 10 25 10 0 360 1, r 0 15 20 10 1, p m 0 15 l 2 5 l 8 3 l 8 15 1, p m 20 15 l 18 5 l 12 3 l 12 15 1, r 8 7 4 10 1, c #39ff14 1 1 1, s 4, r 8.5 7 3 6 0 1, p m 0 15 l 8.5 13 0 1, p m 20 15 l 11.5 13 0 1, p m 10 17.5 l 5 25 l 15 25 0 1, a 10 22.25 1 0 360 0 1,",[.8*C.width,.25*C.height,5,5]));for(let t=0;t<this.text.length;t++)this.text[t].N()}}class a{constructor(t,h,i,s,e,l=0){this.color=i,this.text=t,this.scale=h/50,this.x=C.width*s,this.y=C.height*e,this.b=l,this.x-=60*t.length*this.scale/2,this.b&&$.buttons.push(new n(this.x-5,this.y-5,60*t.length*this.scale+10,h+10,this.b))}N(){B.fillStyle=B.strokeStyle=this.color;for(let t=0;t<this.text.length;t++)yt(K[this.text.charAt(t).toLowerCase()],[this.x+60*t*this.scale,this.y,this.scale,this.scale])}}class n{constructor(t,h,i,s,e){this.x=t,this.y=h,this.w=i,this.D=s,this.e=e}update(){if(H&&H.x>this.x&&H.x<this.x+this.w&&H.y>this.y&&H.y<this.y+this.D){if(1!=this.e||P||(S=!S),2==this.e&&$.options(),3==this.e&&$.controls(),4==this.e){var t=$;t.buttons=[],t.text=[],t.state="credits",it=0,e(t,C.width/5),t.text.push(new a("Credits",C.width/20,"#fff",.5,.11)),t.text.push(new a("Coding",C.width/30,"#ff01cc",.3,.225)),t.text.push(new a("Nathan Yang",C.width/50,"#fff",.3,.3)),t.text.push(new a("Addison Craik",C.width/50,"#fff",.3,.375)),t.text.push(new a("Artwork",C.width/30,"#39ff14",.7,.225)),t.text.push(new a("Nathan Yang",C.width/50,"#fff",.7,.3)),t.text.push(new a("Addison Craik",C.width/50,"#fff",.7,.375)),t.text.push(new a("Playtesting",C.width/30,"#00c0f9",.3,.475)),t.text.push(new a("Nathan Yang",C.width/50,"#fff",.3,.55)),t.text.push(new a("Addison Craik",C.width/50,"#fff",.3,.625)),t.text.push(new a("Aidan Webb",C.width/50,"#fff",.3,.7)),t.text.push(new a("Music",C.width/30,"#ffff00",.7,.475)),t.text.push(new a("Aidan Webb",C.width/50,"#fff",.7,.55)),t.text.push(new a("Back",C.width/25,"#fff",.5,.8,8))}5==this.e&&wt(1),6==this.e&&wt(2),7==this.e&&wt(3),8==this.e&&l(),9==this.e&&((W=!W)?(M.stop(),E=0,clearTimeout(D)):U(st(I/L*Y.length))),H=0,h(q)}}}function f(t){if(630<I)return!0;for(let h=0;10>h;h++)for(let i=0;10>i;i++)if(t.P[h][i])return!1;return!0}function c(t=1){var h=b;for(let e=0;e<t;e++){var i=et(0,10,1),s=et(0,10,1);if(f(h))break;h.P[i][s]?h.P[i][s]=0:e--}}class o{constructor(t,h,i,s=0){this.P=i,this.size=g/6,this.fa=s,this.angle=0,this.B=t,this.C=h,this.G=this.I=0,this.scale=this.size/21,this.width=this.size,this.height=-46*this.scale,this.A={x:C.width/2-this.width/2,y:C.height/2-this.height/2},this.F=[0,0,0,0],this.S=[],this.a=[0,this.width/1e3,0,0,5],this.d,this.T=[]}move(){H&&(H.x>C.width/2?this.F[1]=1:this.F[0]=1,H.y>C.height/2?this.F[3]=1:this.F[2]=1),this.F[0]&&40>this.I&&(this.I+=4),this.F[1]&&-40<this.I&&(this.I-=4),this.F[2]&&20>this.G&&(this.G+=2),this.F[3]&&-20<this.G&&(this.G-=2),this.F[0]||this.F[1]||(0<this.I&&(this.I=st(.8*this.I)),0>this.I&&(this.I=Math.ceil(.8*this.I))),this.F[2]||this.F[3]||(0<this.G&&(this.G=st(.8*this.G)),0>this.G&&(this.G=Math.ceil(.8*this.G)));for(var t=b,h=0;h<t.S.length;h++){var i=t.S[h],s=A+(i.B-i.C)*g,e=m+(i.B+i.C)*g/2;i=[lt(i.B-1,i.C)&&u[i.B-1][i.C].type!=j&&u[i.B-1][i.C].type!=V||!lt(i.B-1,i.C)?1:0,lt(i.B+1,i.C)&&u[i.B+1][i.C].type!=j&&u[i.B+1][i.C].type!=V||!lt(i.B+1,i.C)?1:0,lt(i.B,i.C-1)&&u[i.B][i.C-1].type!=j&&u[i.B][i.C-1].type!=V||!lt(i.B,i.C-1)?1:0,lt(i.B,i.C+1)&&u[i.B][i.C+1].type!=j&&u[i.B][i.C+1].type!=V||!lt(i.B,i.C+1)?1:0,lt(i.B+1,i.C+1)&&u[i.B+1][i.C+1].type!=j&&u[i.B+1][i.C+1].type!=V||!lt(i.B+1,i.C+1)?1:0,lt(i.B-1,i.C-1)&&u[i.B-1][i.C-1].type!=j&&u[i.B-1][i.C-1].type!=V||!lt(i.B-1,i.C-1)?1:0];var l=g/60*t.I/20,r=g/60*t.G/20;if(s=[s,s-g,s,s+g],e=[e,e+g/2,e+g,e+g/2],l=[t.A.x-l,t.A.y-r,t.A.x+t.width-l,t.A.y-r],i[5]&&xt(...l,s[0],e[0],10)&&(m+=t.A.y-e[0]-10-5,t.G=-t.G),i[4]&&xt(...l,s[2],e[2],10)&&(m+=t.A.y-e[2]+15,t.G=-t.G),i[0]&&gt(...l,s[0],e[0],s[1],e[1])){var a=gt(...l,s[0],e[0],s[1],e[1],1);r=t.A.y-a.y,A+=t.A.x-a.x,m+=r,t.I=-t.I,t.G=-t.G}i[2]&&gt(...l,s[0],e[0],s[3],e[3])&&(a=gt(...l,s[0],e[0],s[3],e[3],1),r=t.A.y-a.y,A+=t.A.x-(a.x-t.width),m+=r,t.I=-t.I,t.G=-t.G),i[3]&&gt(...l,s[1],e[1],s[2],e[2])&&(a=gt(...l,s[1],e[1],s[2],e[2],1),r=t.A.y-a.y,A+=t.A.x-a.x,m+=r,t.I=-t.I,t.G=-t.G),i[1]&&gt(...l,s[2],e[2],s[3],e[3])&&(s=gt(...l,s[2],e[2],s[3],e[3],1),i=t.A.y-s.y,A+=t.A.x-(s.x-t.width),m+=i,t.I=-t.I,t.G=-t.G)}for(A+=g/60*this.I/20,m+=g/60*this.G/20,this.F[0]&&(this.d="l"),this.F[1]&&(this.d="r"),this.B=nt(1),this.C=nt(0),this.S=[],t=-1;2>t;t++)for(h=-1;2>h;h++)lt(st(b.B)+t,st(b.C)+h)&&((i=u[st(b.B)+t][st(b.C)+h].type)!=j&&i!=V||this.S.push(u[st(b.B)+t][st(b.C)+h]))}N(){this.fa&&(this.angle+=.3),ct(this.a,this.F[0]+this.F[1]+this.F[2]+this.F[3]),0==this.a[3]&&this.F[0]+this.F[1]+this.F[2]+this.F[3]&&this.T.push({B:this.B,C:this.C}),B.save(),B.translate("l"==this.d?this.A.x:this.A.x+this.width,this.A.y+this.height-5*this.scale),B.rotate(this.angle);let t=0,h=0;this.fa&&(t=this.width/2,h=this.height/2),yt(`c #000 1,g 0.1,r 0 47.8 21 8.2 1,g 1,c #51fe0e 0 0 1,s 10,c #ffc001 1,<t 0 ${-this.a[0]}, q ${this.a[2]},c #666 0 1,w 2,r 9 12 9.6 18 0 1,r 9 16.8 12 15 1,r 4.8 18 12 24 1,><t 0 ${this.a[0]},r 1.5 6 15 18 1,c #fff 1,r 1.5 13 8.6 8.8 1,c #3b3d3b 1,r 1.5 13.8 7.8 7.2 1,>s 4,c #666 1,<t 10.5 25,q ${this.a[3]/5},r -2.5 ${6+this.a[0]} 6 6 1,><t 10.5 40,q ${this.a[3]},r -7.5 7.5 6 3 1,><t 10.5 40,q ${-this.a[3]},r 1.5 7.5 6 3 1,>`,[t,h,"l"==this.d?this.scale:-this.scale,this.scale]),B.restore()}}function d(t){if(0<t.P){var i=C.width/2-(t.A.x+t.width/2),s=C.height/2-(t.A.y+t.height/2);Math.sqrt(i*i+s*s)<2*-t.height&&0==t.aa&&(t.aa=!0,t.P--,setTimeout((()=>{t.aa=0}),40))}else{for(h(J),s=0;s<v.length;s++){for(let h=0;h<t.S.length;h++)3>At(t.x,t.y,v[s].x,v[s].y)&&(v[s].W=1,v[s].$=0);0>=v[s].P&&(i=s)}v.splice(i,1)}}class w{constructor(t,h){this.x=t,this.y=h,this.destination={x:t,y:h},this.ba={x:st(t),y:st(h)},this.W=0,this.P=20,this.$=1,this.aa=!1,this.A={x:st(t+(this.x-this.y)*g),y:st(h+(this.x+this.y)*g/2)},this.K=g/300,this.scale=b.size/21,this.width=21*this.scale,this.height=-44*this.scale,this.a=[0,this.width/1e3,0,0,5],this.X=this.V=0,this.d,this.R=[_[et(0,_.length,1)],tt[et(0,tt.length,1)],ht[et(0,ht.length,1)]],this.f=et(0,2,1),this.S=[]}N(){0>this.A.x+this.width||this.A.x>C.width||0>this.A.y||this.A.y+this.height>C.width||(ct(this.a,this.$),yt(`c green 0 0 1, s ${10>this.P?30:0}, c #000 1, g 0.1, r 0 46 21 8 1, g 1, <t 0 ${-this.a[0]}, q ${this.a[2]}, c ${this.R[0][0]} 1, r 4.8 18 12 24 1, c ${this.R[0][1]} 1, r 4.4 35 12.8 10 1, >< t 0 ${this.a[0]}, c ${this.R[2]} 1, r 4 8 14 14 1, c ${this.W?"red":"#fff"} 1, r 5.5 13.2 4 4 1, c ${this.W?"darkred":"#000"} 1, r 6.5 14.2 2 2 1, c ${this.R[1]} 1, r 3 7 14.4 5 1, r 14 7 5 ${this.f?18:8} 1,> c ${this.R[2]} 1, < t 10.5 25, q ${this.a[3]/5}, r ${-2.5+this.X} ${6+this.a[0]+this.V} 6 6 1, >< t 10.5 40, q ${this.a[3]}, r -7.5 7.5 6 3 1, >< t 10.5 40, q ${-this.a[3]}, r 1.5 7.5 6 3 1, >`,["l"==this.d?this.A.x:this.A.x+this.width,this.A.y+this.height-5*this.scale,"l"==this.d?this.scale:-this.scale,this.scale]),yt(`c #fff 1, r 0.5 0 ${20==this.P?0:this.P} 2 1,`,[this.A.x,this.A.y+this.height,this.scale,this.scale]))}check(t,h,i,s){return!lt(t,h)||u[t][h].type!=j&&u[t][h].type!=V||(i?t:h)==(i?this.ba.B:this.ba.C)||s.push({x:t+et(0,.8)+.1,y:h+et(0,.8)+.1}),s}move(){if(this.A={x:A+(this.x-this.y)*g,y:m+(this.x+this.y)*g/2},this.A.x<b.A.x&&(this.d="r"),this.A.x>b.A.y&&(this.d="l"),this.$){var t=st(A+(this.destination.x-this.destination.y)*g),h=st(m+(this.destination.x+this.destination.y)*g/2);if(5>Math.abs(this.A.x+this.width/2-t)&&5>Math.abs(this.A.y-h)){var i={B:st(this.x),C:st(this.y)};let t=[],h=[[i.B-1,i.C,1],[i.B+1,i.C,1],[i.B,i.C-1,0],[i.B,i.C+1,0]];for(let i=0;i<h.length;i++)t=this.check(h[i][0],h[i][1],h[i][2],t);0<t.length&&(this.destination=t[Math.floor(et(0,t.length))]),this.ba=i}for(this.A.x+this.width/2<t&&(this.A.x+=2*this.K),this.A.x+this.width/2>t&&(this.A.x-=2*this.K),this.A.y<h&&(this.A.y+=this.K),this.A.y>h&&(this.A.y-=this.K),this.A.x<t&&(this.d="r"),this.A.x>t&&(this.d="l"),this.x=(this.A.y-m)/g+(this.A.x-A)/(2*g),this.y=(this.A.y-m)/g-(this.A.x-A)/(2*g),this.S=[],t=-1;2>t;t++)for(h=-1;2>h;h++)lt(st(this.x)+t,st(this.y)+h)&&((i=u[st(this.x)+t][st(this.y)+h].type)!=j&&i!=V||this.S.push(u[st(this.x)+t][st(this.y)+h]))}}}function p(t,i){this.B=t,this.C=i,this.type,this.id=-1,this.ca,this.da,this.ea,this.alpha=1,this.R=Q[et(0,Q.length,1)],this.scale=g/100,this.type!=j&&(this.D=et(1.3,3)),(this.type=V)&&(this.ca=this.B+et(0,.5)+.25,this.da=this.C+et(0,.5)+.25,this.ea=et(0,2,1)),this.N=()=>{var t=A+(this.B-this.C)*g,h=m+(this.B+this.C)*g/2;if(!(0>t+g||t-g>C.width||0>h+g||h>C.width)){var i=this.type;B.fillStyle=B.strokeStyle=i==j?"#213131":i==X?"red":i==V?"#81a71b":i==Z?"#58bcd8":"silver",yt(`w ${1/g}, p m 0 0 l 1 .5 l 0 1 l -1 .5 1 1,`,[t,h,g,g]),t=[t,h,g,g],this.B==x-1&&yt("g 0.8, p m 1 .5 l 1 .7 l 0 1.2 l 0 1 1,",t),this.C==x-1&&yt("g 0.8, p m -1 .5 l -1 .7 l 0 1.2 l 0 1 1,",t)}},this.ha=()=>{var i=A+(this.B-this.C)*g,s=m+(this.B+this.C)*g/2;if(!(0>i+g||i-g>C.width||0>s+g||s-this.D*g>C.width)){for(var l=0;l<b.T.length;l++)st(b.T[l].B)==this.B&&st(b.T[l].C)==this.C&&yt("c #39ff19 1 1 1, s 20, r 0 0 20 10 1,",[A+(b.T[l].B-b.T[l].C)*g,m+(b.T[l].B+b.T[l].C)*g/2,1,1]);if(0==this.type){let t=0;l=A+(st(b.B)-st(b.C))*g;var r=m+(st(b.B)+st(b.C))*g/2;if(l+g>i-g&&l-g<i+g&&r<s+g/2&&r+g>s-this.D*g&&(t=1),t?.15<this.alpha?this.alpha-=.03:this.alpha=.15:1>this.alpha?this.alpha+=.01:this.alpha=1,B.globalAlpha=this.alpha,yt(`w ${.5/g}, c ${this.R[0]} 1 1, p m 0 0 l 1 .5 l 0 1 l -1 .5 1 1, c ${this.R[1]} 1 1, p m 0 1 l 0 ${1+this.D} l -1 ${.5+this.D} l -1 .5 1 1, c ${this.R[2]} 1 1, p m 0 1 l 0 ${1+this.D} l 1 ${.5+this.D} l 1 .5 1 1,`,[i,s-this.D*g,g,g]),.15<this.alpha)for(l=this.D-.15;.2<l;l-=.15)yt(`w ${5/g}, c ${this.R[2]} 0 1, p m -0.9 0.55 l -.1 .95 0 1, c ${this.R[3]} 0 1, p m 0.9 0.55 l .1 .95 0 1,`,[i,s-l*g,g,g]);B.globalAlpha=1}else if(1==this.type)1>At(b.B,b.C,this.B+.5,this.C+.5)&&((l=$).buttons=[],l.text=[],l.state="win",it=0,e(l,C.width/5),l.text.push(new a("You Win!",C.width/15,"#fff",.5,.3)),l.text.push(new a("Click to continue",C.width/25,"#fff",.5,.8,8)),h(N)),yt(`w ${.5/g}, c #98002e 0 1, c #E31B23 1, p m 0 0 l 1 .5 l 0 1 l -1 .5 m 0 1 l 0 ${1+this.D} l -1 ${.5+this.D} l -1 .5 m 0 1 l 0 ${1+this.D} l 1 ${.5+this.D} l 1 .5 1 1,`,[i,s-this.D*g,g,g]);else if(2==this.type){if(this.J={x:A+(this.ca-this.da)*g-40*this.scale,y:m+(this.ca+this.da)*g/2},B.globalAlpha=1,this.ea){for(this.J.y-=63*this.scale,b.A.y<this.J.y+63*this.scale&&b.A.y>this.J.y&&b.A.x<this.J.x+40*this.scale&&b.A.x+b.width>this.J.x&&(B.globalAlpha=.1),t=0;t<v.length;t++)v[t].A.y<this.J.y+70*this.scale&&v[t].A.y>this.J.y&&v[t].A.x<this.J.x+40*this.scale&&v[t].A.x+b.width>this.J.x&&(B.globalAlpha=.1);yt("c #613e28 1 1, p m 15 44 l 15 60 l 20 63 l 20 45 1, c #986748 1, p m 20 63 l 20 45 l 25 44 l 25 60 1, c #4e7d13 1 1, p m 0 10 l 0 45 l 20 55 l 20 20 1, c #8db344 1 1, p m 20 55 l 40 45 l 40 10 l 20 20 1, c #c9fd66 1, p m 0 10 l 20 20 l 40 10 l 20 0 1,",[this.J.x,this.J.y,this.scale,this.scale])}else{for(this.J.y-=70*this.scale,b.A.y<this.J.y+70*this.scale&&b.A.y>this.J.y&&b.A.x<this.J.x+40*this.scale&&b.A.x+b.width>this.J.x&&(B.globalAlpha=.1),t=0;t<v.length;t++)v[t].A.y<this.J.y+70*this.scale&&v[t].A.y>this.J.y&&v[t].A.x<this.J.x+40*this.scale&&v[t].A.x+b.width>this.J.x&&(B.globalAlpha=.1);yt("c #613e28 1 1, p m 15 50 l 15 66 l 20 69 l 20 51 1, c #986748 1, p m 20 69 l 20 51 l 25 50 l 25 66 1, c #4e7d13 1 1, p m 0 50 l 20 60 l 20 0 1, c #8db344 1 1, p m 20 60 l 40 50 l 20 0 1,",[this.J.x,this.J.y,this.scale,this.scale])}B.globalAlpha=1}for(t=0;t<v.length;t++)st(v[t].x)==this.B&&st(v[t].y)==this.C&&v[t].N();for(st(b.B)==this.B&&st(b.C)==this.C&&b.N(),i=0;i<F.length;i++)st(F[i].x)==this.B&&st(F[i].y)==this.C&&F[i].N()}}}function y(t){let h,i=[],s=t.length;for(;s;)h=et(0,t.length,1),h in t&&(i.push(t[h]),delete t[h],s--);return i}var u,x,g,A,m,C=document.getElementById("canvas"),B=C.getContext("2d");let b,v,k,$,M,D,I=0,F=[],G=[{M:"c red 1 0 1, s 10, g 0.8, r 0 0 5 125 1, s 0, c silver 1, r -1 125 7 35 1, c black 1, r -1 125 7 4 1, r -1 133 7 7 1, r -1 142 7 16 1,",L:99,w:5,D:160,O:1,K:12.5,p:.01},{M:"w 6, c #1b88f5 1 1, p m 57 2.5 l 57 32.5 0 1, p m 23 2.5 l 23 32.5 0 1, c #000 1 1, p m 10 0 l 10 -27 l 70 -27 l 70 0 m 10 0 l 10 1 0 1, r 0 0 20 35 1, r 60 0 20 35 1,",L:5,w:80,D:8,O:.5,K:6,p:.07},{M:"c silver 1, r 0 2 65 35 1, <c black 1, r 62 0 40 10 1, c white 0 1, r 1 35 63 1 0 1,> a 71 5 3 0 360 1, a 83.5 5 3 0 360 1, a 95 5 3 0 360 1,",L:20,w:102,D:40,O:.65,K:8,p:.05},{M:"c #c7372f 1, r 0 15 40 40 1, c #ffb8b8 1, r 27.5 25 5 7 1, < q 15, c #964B00 1, r 22 0 4 15 1, c lightgreen 1, r 26 2 10 4 1, r 14 8 8 3 1,>",L:5,w:40,D:65,O:.4,K:10,p:.1},{M:"c white 0 0 1, s 30, r 2 0 10 120 1, s 0, c #0f0f0f 1, p m 12 105 l 82 100 l 82 110 l 12 115 1, r 70 110 7 3 1, c black 0 0 1, c #171717 1, p m 80 25 l 110 30 l 110 80 l 90 90 l 90 105 l 20 115 l 20 118 l 10 119 l 10 30 1, < w .5, c black 0 1, p m 18 100 l 85 93 0 1, p m 18 105 l 85 96.5 0 1, p m 18 110 l 85 100 0 1,> s 30, p m 10 1 l 20 3 l 20 7 l 80 25 l 80 90 l 10 100 1, s 0, c #000 1, g 0.19, r 30 30 30 6 1, g 0.2, p m 30 36 l 60 36 l 30 50 1, g 1, c #535d61 1, r 0 0 12 120 1,",L:50,w:110,D:120,O:.9,K:4,p:.04},{M:"c #fff 1, p m 1 5 l 4 35 l 20 35 l 23 5 1, c black 1, r 2 0 20 2 1, c #0f0f0f 1, r 0 2 24 3 1, c #6f4e37 1, p m 1 11 l 2.5 27 l 21.5 27 l 23 11 1, c #000 1, r 5 17 5 1 1, r 11 17 3 1 1, r 10 19 7 1 1,",L:5,w:24,D:35,O:.35,K:7,p:.1},{M:"w 4, c #542d2d 1, r 30 0 30 10 1, c #693d3d 1, r 55 3 20 10 1, r c #666 1 1, p m 0 6 l 100 6 l 87.5 21 l 12.5 21 1, c silver 1 1, p m 100 8 l 150 3 l 152.5 8 l 91 15.5 1, p m 11 11 l 15.5 16 0 1,",L:10,w:152.5,D:30,O:.8,K:6.5,p:.05},{M:"c silver 1, r 6 3 38 40 1, c gray 1, r 0 12 7 3 1, r 43 12 7 3 1, r 4 0 42 4 1, c #fff 1, g 0.2, r 35 7 3 30 1,",L:15,w:50,D:43,O:.5,K:6,p:.05},{M:`w 3, c white 1, r 0 20 30 30 1, c silver 0 1, p m 10 20 l 6 12.5 m 20 20 l 24 12.5 m 12.5 20 0 1, c gold 1 1, r 0 20 30 30 0 1, p m 12.5 50 l 0 57.5 m 17.5 50 l 30 57.5 m 12.5 50 0 1, p m 2.5 14 l 12 10 l 9 6 l 0 9 1, p m 27.5 14 l 18 10 l 21 6 l 30 9 1, c black 1, <t 15 35, q ${et(0,360)}, r 0 0 1 12.5 1,> <t 15 35, q ${et(0,360)}, r 0 0 10 1 1,> <t 15 35, q ${et(0,360)}, r 0 0 1 -5 1,>`,L:5*et(1,3,1),w:30,D:51.5,O:.4,K:et(3,11),p:.07},{M:"c grey 1, r 22.5 25 5 28.5 1, c #9bb2ba 1 1, r 17.5 53.5 15 10 1, r 15.5 92 19 5 1, c #AEC6CF 1, r 10.5 60 30 32.5 1, c yellow 0 0 1, s 30, g 0.8, c white 1 1, p m 0 45 l 50 45 l 40 0 l 10 0 1,",L:10,w:50,D:97,O:.8,K:6.5,p:.05},{M:"w 3, c silver 1 1, p m 0 0 l 0 12.5 l 5 12.5 l 5 0 l 5 12.5 l 10 12.5 l 10 0 m 0 0 l 0 0 0 1, r 3 12.5 4 25 1,",L:5,w:10,D:37.5,O:.25,K:9,p:.1},{M:"c silver 1, r 0 0 15 20 1, r 5.5 20 4 35 1,",L:5,w:15,D:55,O:.35,K:9,p:.1},{M:"c grey 1, r 6.5 37 7 3.5 1, c silver 1, r 5 25 10 12.5 1, g 0.8, c yellow 0 0 1, c yellow 1, s 30, r 0 0 20 25 1,",L:5,w:20,D:40.5,O:.4,K:8,p:.12},{M:"c red 1, r 0 5 12.5 70 1, r 12 5 10 15 1, r 12 60 10 15 1,c darkred 1, r 22 1 10 22.5 1, r 22 56 10 22.5 1,",L:5,w:44.5,D:79.5,O:.45,K:8,p:.09}],S=0,H=0,L=100,P=0,K={a:"p m 25 0 l 0 50 l 50 50 1 1,",b:"c #fff 1 1, r 0 0 34 50 1 1, a 35 10 10 0 360 1 1, a 35 35 15 0 360 1 1,",c:"a 25 25 25 90 270 1 1, p m 25 0 l 50 0 l 30 25 l 50 50 l 25 50 1 1,",d:"r 0 0 25 50 1 1, a 25 25 25 0 360 1 1,",e:"p m 0 0 l 50 0 l 30 17 l 50 25 l 30 33 l 50 50 l 0 50 1 1,",f:"p m 0 0 l 50 0 l 30 17 l 50 34 l 20 34 l 20 50 l 0 50 1 1,",g:"r 0 0 50 15 1 1, r 0 0 15 50 1 1, r 0 35 50 15 1 1, r 35 23 15 12 1 1,",h:"r 0 0 22 50 1 1, r 28 0 22 50 1 1, r 22 22 5 5 1 1,",i:"r 15 0 20 50 1 1,",j:"r 0 25 17 10 1 1, r 0 35 50 15 1 1, r 30 0 20 35 1 1,",k:"r 0 0 18 50 1 1, p m 17 20 l 30.5 0 l 50 0 l 30.5 25 l 50 50 l 30.5 50 l 17 35 1 1,",l:"r 0 0 25 50 1 1, r 19 32.5 31 17.5 1 1,",m:"p m 0 0 l 0 50 l 50 50 l 50 0 l 25 25 1 1,",n:"r 0 0 15 50 1 1, r 35 0 15 50 1 1, p m 14.8 0 l 36 20 l 35.8 50 l 14 30 1 1,",o:"a 25 25 25 0 360 1 1,",p:"r 0 0 15 50 1 1, a 32 17.5 17.5 0 360 1 1, r 14 0 18 35 1 1,",q:"a 25 25 25 0 360 1 1, r 30 40 20 10 1 1,",r:"r 0 0 20 50 1 1, a 32.5 12.5 12.5 0 360 1 1, r 19 0 12.5 25 1 1, p m 20 24 l 32 50 l 50 50 l 39 23 1 1,",s:"p m 0 0 l 50 0 l 50 16 l 0 16 l 30 16 l 50 34 l 50 50 l 0 50 l 0 34 l 20 34 l 0 16 1,",t:"r 0 0 50 20 1 1, r 15 17 20 33 1 1,",u:"a 25 25 25 0 360 1 1, r 0 0 50 25 1 1,",v:"p m 25 50 l 0 0 l 50 0 1 1,",w:"p m 0 0 l 0 50 l 17 50 l 25 39 l 33 50 l 50 50 l 50 0 l 33 15 l 25 4 l 17 15 l 0 0 1 1,",x:"p m 0 0 l 12 25 l 0 50 l 20 50 l 25 41 l 30 50 l 50 50 l 38 25 l 50 0 l 30 0 l 25 9 l 20 0 1 1,",y:"p m 0 0 l 18 0 l 25 10 l 32 0 l 50 0 l 32.5 30 l 17.5 30 1, r 17.5 30 15 20 1 1,",z:"p m 0 0 l 50 0 l 28 35 l 50 35 l 50 50 l 0 50 l 23 15 l 0 15 1 1,","!":"r 15 0 20 30 1 1, r 15 40 20 10 1 1,"," ":""},R=i(...[.5,,341,,,.24,,1.96,,,,,,.9,,.3,,.51,.09,.15]),J=i(...[,,537,.02,.02,.22,1,1.59,-6.98,4.97]),q=i(...[2,,877,.11,,.09,4,2.88,,4.2,,,,,-.6,,.16,.63,,.17]),T=i(...[,,925,.04,.3,.6,1,.3,,6.27,-184,.09,.17]),N=i(...[,,20,.04,,.6,,1.31,,,-990,.06,.17,,,.04,.07]),O=i(...[,,224,.02,.02,.08,1,1.7,-13.9,,,,,,6.7]),Y=[],E=0,W=0,z=new n(50,50,45,40,9);function U(t){M=h(...Y[t]),E++,2<E&&t<Y.length-1&&(t++,E=0),D=setTimeout((()=>{U(t)}),1e3*(M.buffer.duration-.1))}var X=1,V=2,Z=3,j=4;let Q=[["#417bb2","#306ba3","#204774","#143255"],["#3a94a7","#2c8796","#246f83","#246077"],["#f49885","#d68675","#c66c5c","#a25749"],["#dbcfd3","#cfc9d0","#b2adb3","#948b94"]],_=[["#B96493","#9B4674"],["#357DED","#1462E1"],["#D5D508","#9A981D"],["#C05746","#984134"],["#BC5F04","#1b306b"],["#636B61","#454B44"]],tt=["#9a3300","#4f1a00","#241c11","#F0E2B6"],ht=["#a1665e","#ecbcb4","#503335","tan"],it=0;function st(t){return Math.floor(t)}function et(t=0,h=1,i=0){return t=Math.random()*(h-t)+t,i?st(t):t}function lt(t,h){return!(0>t||t>=x||0>h||h>=x)}function rt(){H=0,it&&(b.F=[0,0,0,0])}function at(t){t.preventDefault(),1!=t.which&&0!=t.which||(H={x:t.clientX-C.getBoundingClientRect().left||t.touches[0].clientX-C.getBoundingClientRect().left,y:t.clientY-C.getBoundingClientRect().top||t.touches[0].clientY-C.getBoundingClientRect().top}),"ss"==$.state&&(H=0,U(0),l(),dt())}function nt(t){return t?(b.A.y-m)/g+(b.A.x-A)/(2*g):(b.A.y-m)/g-(b.A.x-A)/(2*g)}function ft(t){let h=[];for(let i=0;i<x;i++)for(let s=0;s<x;s++)u[i][s].type==t&&h.push(u[i][s]);return h}function ct(t,h){!h||S||P?(0>t[2]?t[2]+=.125:t[2]=0,t[4]=Math.abs(t[4]),0<t[3]&&(t[3]-=t[4]),0>t[3]&&(t[3]+=t[4])):(-3<t[2]?t[2]-=.5:t[2]=-3,(50<t[3]||-80>t[3])&&(t[4]=-t[4]),t[3]+=t[4]),(t[0]>Math.abs(20*t[1])||0>t[0])&&(t[1]=-t[1]),t[0]+=t[1]}window.onresize=()=>{C.width=C.height=window.innerHeight<window.innerWidth?window.innerHeight:window.innerWidth},C.addEventListener("touchstart",at),C.addEventListener("touchend",rt),C.addEventListener("mousedown",at),C.addEventListener("mouseup",rt),document.onkeydown=t=>{t.preventDefault(),"ArrowLeft"!=t.key&&"a"!=t.key&&"q"!=t.key||(b.F[0]=1),"ArrowRight"!=t.key&&"d"!=t.key||(b.F[1]=1),"ArrowUp"!=t.key&&"w"!=t.key&&"z"!=t.key||(b.F[2]=1),"ArrowDown"!=t.key&&"s"!=t.key||(b.F[3]=1),"m"!=t.key||P||(S=!S),"p"!=t.key||S||(P=!P),"Escape"==t.key&&l()},document.onkeyup=t=>{t.preventDefault(),"ArrowLeft"!=t.key&&"a"!=t.key&&"q"!=t.key||(b.F[0]=0),"ArrowRight"!=t.key&&"d"!=t.key||(b.F[1]=0),"ArrowUp"!=t.key&&"w"!=t.key&&"z"!=t.key||(b.F[2]=0),"ArrowDown"!=t.key&&"s"!=t.key||(b.F[3]=0)};let ot=0;function dt(t){if(!(t-ot<1e3/60)){for(ot=t,C.width^=0,B.fillStyle="#ffffffE6",t=0;t<$.U.length;t++)B.beginPath(),B.arc($.U[t].x,$.U[t].y,$.U[t].r,0,2*Math.PI),B.fill();if(it){if(S||!document.hasFocus()||P)b.F=[0,0,0,0];else{b.move();for(var i=0;i<v.length;i++){if(!(0>(t=v[i]).A.x+t.width||t.A.x>C.width||0>t.A.y||t.A.y+t.height>C.width))for(var s=0;s<t.S.length;s++)if(st(b.B)==t.S[s].B&&st(b.C)==t.S[s].C&&t.W){if(!(-25>=t.V)){t.V-=.3,t.X+=.15;break}{let i=[],s=Math.abs(Math.atan((C.height/2-(t.A.y+t.height))/(C.width/2-(t.A.x+t.width/2))));i[0]=C.width/2<t.A.x+t.width/2?-1:1,i[1]=C.width/2<t.A.y+t.height?-1:1;let e=et();var l=void 0;let r=0;for(let t=0;t<G.length&&(r+=(l=G[t]).p,!(e<r));t++);F.push(new pt((t.A.y+t.height-m)/g+(t.A.x+t.width/2-A)/(2*g),(t.A.y+t.height-m)/g-(t.A.x+t.width/2-A)/(2*g),Math.cos(s)*i[0],Math.sin(s)*i[1],l)),h(O),t.V=t.X=0}}v[i].move(),d(v[i])}for(l=0;l<F.length;l++)F[l].move(l);f(b)&&((l=$).buttons=[],l.text=[],l.state="lose",it=0,e(l,C.width/5),l.text.push(new a("You Lose",C.width/15,"#fff",.5,.3)),l.text.push(new a("Click to continue",C.width/25,"#fff",.5,.8,8)),1==st(I/L)?l.text.push(new a("you died of radiation poisoning",C.width/50,"#fff",.5,.5)):l.text.push(new a("you were killed by scared citizens",C.width/50,"#fff",.5,.5)),h(T))}for(l=0;l<x;l++)for(t=0;t<x;t++)u[l][t].N();for(l=0;l<x;l++)for(t=0;t<x;t++)u[l][t].ha();for(i=(t=C.width-200)+80,l=b,B.save(),B.translate(i,20),B.lineWidth=.8,B.fillStyle="rgba(0,0,0,0.4)",B.strokeStyle="#98002e",B.lineWidth=4,B.fillRect(0,0,80,80),B.strokeRect(-2,-2,84,84),i=0;10>i;i++)for(s=0;10>s;s++)l.P[i][s]&&(B.fillStyle="#E31B23",B.fillRect(8*i,8*s,8,8));for(B.restore(),yt("w 4, c black 0 1, c #ffc001 1, r -5 -5 110 110 1 1, c black 1, a 50 50 50 0 360 1, c #ffc001 1 1, p m 50 50 l 0 50 l 0 88 l 22.5 97.5 1, p m 50 50 l 100 50 l 100 88 l 77.5 97.5 1, p m 50 50 l 25 0 l 75 0 1, a 50 50 14 0 360 0 1, c black 1 1, a 50 50 12 0 360 1,",[t-40,20,.8,.8]),I<=L&&!P?I+=.1:P||c(),B.fillStyle="#39ff19e6",B.fillRect(t-40-5,15,90,I/L*90),i=S?(C.width-20)/(x+4):3,B.save(),S?(k=new n(10,10,(x+4)*i,(x+4)*i,1),B.translate(10,10)):(k=new n(10,C.height-x*i-4*i-10,(x+4)*i,(x+4)*i,1),B.translate(10,C.height-x*i-4*i-10)),B.translate((x+4)*i,0),B.rotate(90*Math.PI/180),B.scale(i,i),B.fillStyle="#000000a1",B.fillRect(0,0,x+4,x+4),l=0;l<x;l++)for(t=0;t<x;t++)yt(`w ${1/i}, c ${u[l][t].type==j?"#fff":"transparent"} 1 1, r ${l} ${t} 1 1 1 ${S?"1":""}, c #ffc001 1, r ${S?nt(1):st(nt(1))-.25} ${S?nt(0):st(nt(0))-.25} ${S?10/i:1.5} ${S?10/i:1.5} 1,`,[2,2,1,1]);B.restore(),P&&(B.fillStyle="rgba(0,0,0,0.5)",B.fillRect(0,0,C.width,C.width),l=new a("Paused",C.width/20,"#fff",.5,.4),t=new a("Press esc to return to main menu",C.width/50,"#fff",.5,.5),l.N(),t.N()),k.update()}else $.N(),$.update();it&&!P||(z.update(),yt(W?"c silver 1 1, w 3, p m 0 12 l 10 12 l 25 0 l 25 40 l 10 28 l 0 28 1, a 23 20 10 -50 50 0 1, a 23 20 20 -60 60 0 1, c red 0 1, p m 0 0 l 45 40 0 1,":"c #fff 1 1, w 3, p m 0 12 l 10 12 l 25 0 l 25 40 l 10 28 l 0 28 1, a 23 20 10 -50 50 0 1, a 23 20 20 -60 60 0 1,",[50,50,1,1]))}window.requestAnimationFrame(dt)}function wt(t){P=0,M&&(M.stop(),E=0,clearTimeout(D)),setTimeout((()=>{W||U(0)}),100),u=[],v=[],F=[],x=15*t,g=st(C.width/4),function(){for(var t=0;t<x;t++){u[t]=[];for(var h=0;h<x;h++)u[t][h]=new p(t,h)}for(var i=[],s=0;s<x;s+=2)for(var e=0;e<x;e+=2)i.push(u[s][e]);for(i=y(i),s=1;s<i.length;s++)if(-1==(e=i[s]).id){let i=.9<et(0,1)?2:0,l=et(4,(t=.5<Math.random()?1:0)?10:4),r=et(4,t?4:10);for(t=0;t<l;t+=2)for(h=0;h<r;h+=2)lt(e.B+t+1,e.C+h+1)&&(u[e.B+t][e.C+h].id=s,u[e.B+t][e.C+h].type=i,u[e.B+t+1][e.C+h].id=s,u[e.B+t+1][e.C+h].type=i,u[e.B+t][e.C+h+1].id=s,u[e.B+t][e.C+h+1].type=i,u[e.B+t+1][e.C+h+1].id=s,u[e.B+t+1][e.C+h+1].type=i)}for(t=0;t<x;t++)for(h=0;h<x;h++)lt(t+1,h)&&u[t+1][h].id!=u[t][h].id&&(u[t][h].type=j),lt(t,h+1)&&u[t][h+1].id!=u[t][h].id&&(u[t][h].type=j);for(i=ft(V).length,s=0;s<st(.2*i);s++)e=y(ft(V))[0],u[e.B][e.C].type=3}(),function(){var t=ft(j);t=t[st(Math.random()*t.length)];let h=[];for(let t=0;10>t;t++)h.push([1,1,1,1,1,1,1,1,1,1]);b=new o(t.B,t.C,h),A=-(t.B-t.C)*g+st(C.width/2),m=-(t.B+t.C)*g/2+st(C.width/2)-g/2+b.size/2}(),function(){let t=y(ft(0));for(let h=0;h<t.length;h++){let i=t[h],s=0;if(lt(i.B+1,i.C)&&u[i.B+1][i.C].type==j&&(s=!0),lt(i.B,i.C+1)&&u[i.B][i.C+1].type==j&&(s=!0),At(i.B,i.C,b.B,b.C)>x/2&&s)return void(u[i.B][i.C].type=1)}$.options()}(),function(t){let h=ft(j);for(let i=0;i<t;i++){let t=h[st(Math.random()*h.length)];v.push(new w(t.B+et(0,.8)+.1,t.C+et(0,.8)+.1))}}(50*t),it=!0,L=300*t,I=0}window.onload=()=>{$=new r,window.onresize(),B.fillStyle="white",B.font="40px Georgia",B.fillText("Loading...",C.width/2-150,C.height/2-40),document.title="Loading...",setTimeout((()=>{!function(){let t=[[[,0,300,,.2,,1],[.9,0,440,,,.12,1,.9,,,,,,,,,.4,,.11]],[[[,-.7,22,,25,,17,,25,,22,,25,,17,,25,,22,,25,,17,,25,,22,,25,,17,,25,,15,,18,,10,,18,,15,,18,,10,,18,,15,,18,,10,,18,,15,,18,,10,,18,,],[,-.7,,,29,,,,29,,,,29,,,,29,,,,29,,,,29,,,,29,,,,29,,,,22,,,,22,,,,22,,,,22,,,,22,,,,22,,,,22,,,,22,,],[,,10,,,,,,,,,,,,,,,,10,,,,,,,,,,,,,,,,3,,,,,,,,3,,,,,,,,3,,,,,,,,3,,,,,,,,],[1,.7,,,,,,27,27,27,29,27,30,29,27,,,,,,,,,18,18,18,20,18,21,20,18,,,,,,,,,17,17,17,18,17,20,18,17,,,,,,,,,15,15,15,17,15,18,17,15,,,,]],[[,-.7,17,,20,,12,,20,,17,,20,,12,,20,,17,,20,,12,,20,,17,,20,,12,,20,,13,,16,,8,,16,,13,,16,,8,,16,,13,,16,,8,,16,,13,,16,,8,,16,,],[,-.7,,,24,,,,24,,,,24,,,,24,,,,24,,,,24,,,,24,,,,24,,1,,20,,,,20,,1,,20,,,,20,,1,,20,,,,20,,1,,20,,,,20,,],[,,5,,,,,,,,5,,,,,,,,5,,,,,,,,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,.7,,,,,,29,29,29,30,29,32,30,29,,,,,,,,,25,25,25,27,25,28,27,25,,,,,,,,,22,22,22,24,22,25,24,22,,,,,,,,,24,24,24,25,24,27,25,24,,,,]]],[0,1]];for(let h=0;1>h;h++)Y.push(s(...t,60+10*h))}(),document.title="Songs Loaded",setTimeout((()=>{C.width^=0,document.title="Keep Your Space!",$.state="ss",B.fillStyle="white",B.font="40px Georgia",B.fillText("Click To Continue",C.width/2-200,C.height/2-40)}),1e3)}),10)};class pt{constructor(t,h,i,s,e){this.x=t,this.y=h,this.angle=0,this.ga=e.K,this.Y=i*e.K,this.Z=s*e.K,this.M=e.M,this.L=e.L,this.scale=-e.O*b.height/(e.D>e.w?e.D:e.w),this.width=e.w*this.scale,this.height=e.D*this.scale}N(){S||P||(this.angle+=2*this.ga);var t=A+(this.x-this.y)*g,h=m+(this.x+this.y)*g/2;B.save(),B.translate(t,h),B.rotate(this.angle*Math.PI/180),yt(this.M,[-this.width/2,-this.height/2,this.scale,this.scale]),B.restore()}move(t){setTimeout((()=>{this.Z=this.Y=0}),3e3);var i=A+(this.x-this.y)*g,s=m+(this.x+this.y)*g/2;i+=this.Y,s+=this.Z,this.x=(s-m)/g+(i-A)/(2*g),this.y=(s-m)/g-(i-A)/(2*g);for(let t=0;t<u.length;t++)for(let h=0;h<u[t].length;h++){var e=A+(u[t][h].B-u[t][h].C)*g,l=m+(u[t][h].B+u[t][h].C)*g/2;let r=this.height>this.width?this.height/2:this.width/2;e=[e,e-g,e,e+g],l=[l,l+g/2,l+g,l+g/2],lt(t,h+1)&&u[t][h+1].type==j&&(e[1]-=b.height,e[2]-=b.height,l[1]+=b.height/2,l[2]+=b.height/2),lt(t+1,h)&&u[t+1][h].type==j&&(e[2]+=b.height,e[3]+=b.height,l[3]+=b.height/2,l[2]+=b.height/2),0==u[t][h].type&&0<xt(e[0],l[0],e[1],l[1],i,s,r)+xt(e[0],l[0],e[3],l[3],i,s,r)+xt(e[1],l[1],e[2],l[2],i,s,r)+xt(e[2],l[2],e[3],l[3],i,s,r)&&(this.Z=this.Y=0)}(function(t,h,i){var s=b.A.x,e=b.A.y+b.height,l=b.width,r=-b.height;let a=t,n=h;return t<s?a=s:t>s+l&&(a=s+l),h<e?n=e:h>e+r&&(n=e+r),At(a,n,t,h)<=i})(i,s,this.height>this.width?this.height/2:this.width/2)&&(c(this.L),h(R),F.splice(t,1)),this.Z||this.Y||F.splice(t,1)}}function yt(t,h=[0,0,1,1]){B.save(),B.translate(h[0],h[1]),B.scale(h[2],h[3]);for(let e=0;e<t.length;e++)if("p"==t.charAt(e)){B.beginPath();for(var i=ut(t,e),s=0;s<i.length;s++)if("m"==i[s])B.moveTo(i[s+1],i[s+2]),s+=2;else{if("l"!=i[s]){B.closePath(),parseInt(i[s])&&B.fill(),parseInt(i[s+1])&&B.stroke();break}B.lineTo(i[s+1],i[s+2]),s+=2}}else if("w"==t.charAt(e))B.lineWidth=ut(t,e)[0];else if("g"==t.charAt(e))B.globalAlpha=ut(t,e)[0];else if("s"==t.charAt(e))B.shadowBlur=ut(t,e)[0]*Math.abs(h[2]);else if("c"==t.charAt(e)){for(i=ut(t,e),s=1;s<i.length;s++)i[s]=parseInt(i[s]);i[1]&&(B.fillStyle=i[0]),i[2]&&(B.strokeStyle=i[0]),i[3]&&(B.shadowColor=i[0]),e+=i[0].length+1}else"a"==t.charAt(e)?(i=ut(t,e),B.beginPath(),B.arc(i[0],i[1],i[2],i[3]*Math.PI/180,i[4]*Math.PI/180),parseInt(i[5])&&B.fill(),parseInt(i[6])&&B.stroke()):"r"==t.charAt(e)?(i=ut(t,e),B.beginPath(),B.rect(i[0],i[1],i[2],i[3]),parseInt(i[4])&&B.fill(),parseInt(i[5])&&B.stroke()):"<"==t.charAt(e)?B.save():">"==t.charAt(e)?B.restore():"t"==t.charAt(e)?(i=ut(t,e),B.translate(i[0],i[1])):"q"==t.charAt(e)&&B.rotate(ut(t,e)*Math.PI/180);B.restore()}function ut(t,h){return t.slice(h+2,t.indexOf(",",h+2)).split(" ")}function xt(t,h,i,s,e,l,r){var a;if((a=At(t,h,e,l)<=r+0)||(a=At(i,s,e,l)<=r+0),a)return!0;var n=((e-t)*(i-t)+(l-h)*(s-h))/At(t,h,i,s)**2;let f=At(a=t+n*(i-t),n=h+n*(s-h),t,h),c=At(a,n,i,s);return f+c>=(t=At(t,h,i,s))-2&&f+c<=t+2&&At(a,n,e,l)<=r}function gt(t,h,i,s,e,l,r,a,n){let f=((r-e)*(h-l)-(a-l)*(t-e))/((a-l)*(i-t)-(r-e)*(s-h));return e=((i-t)*(h-l)-(s-h)*(t-e))/((a-l)*(i-t)-(r-e)*(s-h)),0<=f&&1>=f&&0<=e&&1>=e&&(!n||{x:t+f*(i-t),y:h+e*(s-h)})}function At(t,h,i,s){return Math.sqrt((t-i)**2+(h-s)**2)}