'use strict';var F="function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,e){if(d==Array.prototype||d==Object.prototype)return d;d[c]=e.value;return d};function G(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<d.length;++c){var e=d[c];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}var H=G(this);
function I(d,c){if(c)a:{var e=H;d=d.split(".");for(var a=0;a<d.length-1;a++){var b=d[a];if(!(b in e))break a;e=e[b]}d=d[d.length-1];a=e[d];c=c(a);c!=a&&null!=c&&F(e,d,{configurable:!0,writable:!0,value:c})}}I("Array.prototype.includes",function(d){return d?d:function(c,e){var a=this;a instanceof String&&(a=String(a));var b=a.length;e=e||0;for(0>e&&(e=Math.max(e+b,0));e<b;e++){var l=a[e];if(l===c||Object.is(l,c))return!0}return!1}});
function J(){return{$:[["",0],["Fours or Better Pair",1],["Two Pair",2],["Three of a Kind",3],["Straight",4],["Flush",6],["Full House",9],["Four of a Kind",12],["Straight Flush",15],["Royal Flush",18]],J:"23456789tjqka".split(""),la:["s","h","c","d"],T:{s:"#1F191B",c:"#1F191B",h:"#CB1728",d:"#CB1728"},ka:{as:"\ud83c\udca1",ah:"\ud83c\udcb1",ad:"\ud83c\udcc1",ac:"\ud83c\udcd1","2s":"\ud83c\udca2","2h":"\ud83c\udcb2","2d":"\ud83c\udcc2","2c":"\ud83c\udcd2","3s":"\ud83c\udca3","3h":"\ud83c\udcb3","3d":"\ud83c\udcc3",
"3c":"\ud83c\udcd3","4s":"\ud83c\udca4","4h":"\ud83c\udcb4","4d":"\ud83c\udcc4","4c":"\ud83c\udcd4","5s":"\ud83c\udca5","5h":"\ud83c\udcb5","5d":"\ud83c\udcc5","5c":"\ud83c\udcd5","6s":"\ud83c\udca6","6h":"\ud83c\udcb6","6d":"\ud83c\udcc6","6c":"\ud83c\udcd6","7s":"\ud83c\udca7","7h":"\ud83c\udcb7","7d":"\ud83c\udcc7","7c":"\ud83c\udcd7","8s":"\ud83c\udca8","8h":"\ud83c\udcb8","8d":"\ud83c\udcc8","8c":"\ud83c\udcd8","9s":"\ud83c\udca9","9h":"\ud83c\udcb9","9d":"\ud83c\udcc9","9c":"\ud83c\udcd9",ts:"\ud83c\udcaa",
th:"\ud83c\udcba",td:"\ud83c\udcca",tc:"\ud83c\udcda",js:"\ud83c\udcab",jh:"\ud83c\udcbb",jd:"\ud83c\udccb",jc:"\ud83c\udcdb",qs:"\ud83c\udcad",qh:"\ud83c\udcbd",qd:"\ud83c\udccd",qc:"\ud83c\udcdd",ks:"\ud83c\udcae",kh:"\ud83c\udcbe",kd:"\ud83c\udcce",kc:"\ud83c\udcde"}}};CanvasRenderingContext2D.prototype.K=function(d,c,e,a,b){e<2*b&&(b=e/2);a<2*b&&(b=a/2);this.beginPath();this.moveTo(d+b,c);this.arcTo(d+e,c,d+e,c+a,b);this.arcTo(d+e,c+a,d,c+a,b);this.arcTo(d,c+a,d,c,b);this.arcTo(d,c,d+e,c,b);this.closePath()};
const N=M(),ba=function(d){function c(){m=411;v=!0;t.B();w.a("");q.a("");a();l();C.aa()}function e(){z=d.subscribe(k);f.f(!0);t.f(!0)}function a(){x.a(`BALANCE ${m}`);const n=m-404;D.ia(14<n?14:0<n?n:0)}function b(){if(y){z();f.f(!1);t.f(!1);y=!1;u=[];--m;r=O();var n=r.I(5);t.ha(n,v).then(e);v&&(v=!1);a();w.a("");q.a("");f.a("SUBMIT")}else{z();f.f(!1);t.f(!1);g();{n=t.Z();const [A,B]=P(n);n=m+B;m=418<n?418:n;a();w.a(A);B?q.a(`Win ${B}`):q.a("Better luck next time");418===m?C.show(!0):404===m?C.show(!1):
l()}}}function l(){y=!0;e();f.a("PLACE A BET")}function h(n){-1===u.indexOf(n)&&(f.a("DEAL AND SUBMIT"),u.push(n),t.ga(n))}function g(){if(u.length){const n=r.I(u.length),A=u.map((B,E)=>[B,n[E]]);t.fa(A)}}function k(n){!y&&n.ca&&0<n.A&&6>n.A?h(n.A-1):n.ea&&b()}const p=Q(function(n){const A=n.i,B=n.o,E=n.H,K=n.ba,W=n.W,L=n.X;x.setPosition(n.l/2,n.N);x.G(W);q.setPosition(E+B-A,K);q.G(L);w.setPosition(B,K);w.G(L)}),t=R(function(n){!y&&0<=n&&5>n&&h(n)}),x=S({fill:"white",fontFamily:"Fredoka One"}),q=
S({fill:"white",textAlign:"right"}),w=S({fill:"white",textAlign:"left"}),f=T(b);let m=411,v=!0,r,u,y,z,D,C;return{C:function(n,A){D=U(n,A);C=aa(n,A,c);p.add(t,q,w,f,D,x,C);t.C();f.a("PLACE A BET");a();l();p.start()}}}(N),ca=function(){const d=document.querySelector(".help-outer");let c=!0;return{toggle:function(){c=!c;d.style.display=c?"table":"none"}}}();let V=!1;const X=new Image;X.onload=Y;X.src="assets/teapot_y.svg";const Z=new Image;Z.onload=Y;Z.src="assets/teapot_p.svg";
function Y(){V?(N.subscribe(da),setTimeout(()=>{ba.C(X,Z)},0)):V=!0}function da(d){d.isEscape&&ca.toggle()};function M(){function d(h){const g=Number(h.key),k={};" "===h.key?k.ea=!0:Number.isInteger(g)?(k.A=g,k.ca=!0):k[`is${h.key}`]=!0;b.forEach(p=>{a[p](k)})}function c(h){l=h.timeStamp}function e(h){if(1E3<h.timeStamp-l){const g={isEscape:!0};b.forEach(k=>{a[k](g)})}}let a={},b=[],l;"ontouchstart"in window?(window.addEventListener("touchstart",c),window.addEventListener("touchend",e)):window.addEventListener("keyup",d);return{subscribe:function(h){const g=Date.now();a[g]=h;b=Object.keys(a);return function(){delete a[g];
b=Object.keys(a)}},reset:function(){a={};b=[]}}};function Q(d){function c(){g.width=window.innerWidth;g.height=window.innerHeight;k.textAlign="center";k.textBaseline="middle";k.lineJoin="round";const f=g.width>g.height,m=g.width,v=g.height;var r=.6;let u=Math.round(v*r),y=Math.round(.66*u),z=Math.round(.06*u),D=5*(y+z);const C=Math.round(.045*v),n=Math.round(.75*C),A=f?5:3;for(;D>m;)r-=.05,u=Math.round(v*r),y=Math.round(.66*u),z=Math.round(.06*u),D=A*(y+z);r=f?(v-u)/2:v/2-u;const B={S:A,l:m,ch:v,u,v:y,i:z,H:D,o:(m-D+z)/2,R:r,N:Math.min(r-2*C,.2*
v),P:.8*v,ba:r-n,O:Math.round(u*(f?.2:.34)),W:C,X:n};q.forEach(E=>E.g(B));d(B)}function e(f){const m=a(f);x.forEach(v=>v(m))}function a(f){const m=g.getBoundingClientRect();return{x:f.pageX-m.left,y:f.pageY-m.top}}function b(f){w&&(l(f),k.clearRect(0,0,g.width,g.height),h());requestAnimationFrame(b)}function l(f){t.forEach(m=>m.update(f))}function h(){p.forEach(f=>f.b(k))}const g=document.querySelector("canvas"),k=g.getContext("2d");let p=[],t=[],x=[],q=[],w=!1;g.addEventListener("touchstart",e);
g.addEventListener("click",e);window.addEventListener("resize",c);g.width=window.innerWidth;g.height=window.innerHeight;k.textAlign="center";k.textBaseline="middle";k.lineJoin="round";requestAnimationFrame(b);return{add:function(...f){f.forEach(m=>{p.push(m);"function"===typeof m.m&&x.push(m.m);"function"===typeof m.update&&t.push(m);"function"===typeof m.g&&q.push(m)})},start:function(){c();w=!0},stop:function(){w=!1}}};function O(){const {la:d,J:c}=J(),e=d.reduce((a,b)=>{const l=c.map(h=>{{const {ka:g,J:k,T:p}=J();h={D:h,L:b,value:k.indexOf(h),ja:g[h+b],color:p[b]}}return h});return[...a,...l]},[]);for(let a=e.length-1;0<a;a--){const b=Math.floor(Math.random()*(a+1));[e[a],e[b]]=[e[b],e[a]]}return{I:function(a){return e.splice(-1*a)}}};function P(d){const {$:c}=J(),e=[...d].sort(function(g,k){return g.value<k.value?1:g.value>k.value?-1:0});let a=!0,b=!0;const l=e.reduce((g,k,p)=>{a&&0!==p&&(a=k.value===e[p-1].value-1);b&&0!==p&&(b=k.L===e[p-1].L);g[k.D]?g[k.D].push(k):g[k.D]=[k];return g},{});d=c[0];var h=b&&a;h&&l.M&&1===l.M.length?d=c[9]:h?d=c[8]:b?d=c[5]:a?d=c[4]:(h=Object.keys(l).reduce((g,k)=>{g[l[k].length].push(l[k]);return g},{1:[],2:[],3:[],4:[]}),1===h["4"].length?d=c[7]:1===h["2"].length&&1===h["3"].length?d=c[6]:1===
h["3"].length?d=c[3]:2===h["2"].length?d=c[2]:1===h["2"].length&&h["2"][0].every(g=>2<g.value)&&(d=c[1]));return d};function T(d){function c(q,w,f){return q>=Math.min(w,f)&&q<=Math.max(w,f)}let e=!1,a,b,l,h,g,k,p,t,x="";return{b:function(q){q.save();q.fillStyle="#C35B68";q.K(a,b,g,k,p);q.fill();q.fillStyle="#DCB600";q.font=`${t}px "Fredoka One"`;q.fillText(x,l,h);q.restore()},a:function(q){x=q},m:function(q){var w;if(w=e)w=c(q.x,a,a+g)&&c(q.y,b,b+k);w&&d()},f:function(q){e=q},g:function({o:q,P:w,O:f,l:m,H:v,i:r}){a=q;b=w;l=m/2;h=w+f/2;g=v-r;k=f;p=Math.round(.1*k);t=Math.round(.66*k)}}};function R(d){let c=[],e=!1;return{b:function(a){c.forEach(b=>b.b(a))},ga:function(a){c[a].j(.16)},fa:function(a){a.forEach(([b,l])=>{c[b].F(l);c[b].j(.16)})},Z:function(){return c.map(a=>a.Y())},ha:function(a,b){if(b)return c.reduce((l,h,g)=>l.then(()=>{h.F(a[g]);return h.j(.24)}),Promise.resolve());b=c.map((l,h)=>{l.F(a[h]);return l.j(.16)});return Promise.all(b).then(()=>c.reduce((l,h)=>l.then(()=>h.j(.24)),Promise.resolve()))},B:function(){c.forEach(a=>a.B())},C:function(){c=Array.from({length:5},
()=>ea())},m:function(a){if(e){let b=0;for(;5>b&&!c[b].da(a);b++);d(b)}},f:function(a){e=a},update:function(){c.forEach(a=>a.update())},g:function({u:a,v:b,i:l,o:h,R:g,S:k}){c.forEach((p,t)=>{p.g({U:t<k?h+t*(b+l):h+b/2+(t-k)*(b+l),V:g+Math.floor(t/k)*(a+l),u:a,v:b,i:l})})}}};function ea(){function d(f,m,v){return f>=Math.min(m,v)&&f<=Math.max(m,v)}let c,e,a,b,l,h,g,k=!0,p=!1,t=1,x=-.16,q=()=>{};const w=navigator.userAgent.includes("Firefox");return{b:function(f){f.save();const m=b/2;f.translate(e+m,a);f.scale(t,1);f.fillStyle="white";f.K(-1*m,0,b,l-g,g);f.fill();f.font=`${l}px system`;f.textBaseline="top";f.textAlign="left";f.fillStyle=k?"#DCB600":c.color;f.fillText(k?"\ud83c\udca0":c.ja,-1*m,h);f.restore()},j:function(f){x=-1*f;p=!0;return new Promise(m=>{q=m})},B:function(){k=
!0},F:function(f){c=f},Y:function(){return c},da:function(f){return d(f.x,e,e+b)&&d(f.y,a,a+l)},update:function(){p&&(t+=x,0>=t?(t=0,x*=-1,k=!k):1<=t&&(t=1,x*=-1,p=!1,q()))},g:function({U:f,V:m,u:v,v:r,i:u}){a=m;e=f;b=r;l=v;h=w?u/2:u;g=u/2}}};function aa(d,c,e){let a,b,l,h,g,k,p,t,x=!1,q=!1,w=!1,f=0,m=0,v=()=>{};return{b:function(r){if(q){const u=x?"#668706":"#DCB600",y=x?"YOU WON":"YOU LOSE",z=x?d:c;r.save();r.globalAlpha=f;r.fillStyle=u;r.fillRect(0,0,h,g);r.save();r.translate(p,t);r.scale(k,k);r.globalAlpha=m;r.drawImage(z,0,0);r.restore();1===f&&(r.font=`${l}px "Fredoka One"`,r.fillText(y,h/2,g/2+l/2));r.restore()}},show:function(r){x=r;return new Promise(u=>{v=u;setTimeout(()=>{w=q=!0},1E3)})},aa:function(){return new Promise(r=>
{v=r;w=!1})},g:function({l:r,ch:u}){const y=Math.min(r,u);l=Math.round(.12*y);h=r;g=u;k=1;a=d.width*k;for(b=d.height*k;a>1.08*y;)k-=.002,a=d.width*k,b=d.height*k;p=(r-a)/2;t=(u-b)/2},update:function(){q&&(w?1===f?(m+=.01,1<=m&&(m=1,v())):(f+=.02,1<=f&&(f=1)):0===m?(f-=.02,0>=f&&(f=0,v())):(m-=.01,0>=m&&(m=0)))},m:function(){1===m&&e()}}};function U(d,c){let e,a,b,l;return{b:function(h){h.save();h.scale(b,b);for(let g=0;14>g;g++)h.drawImage(g<e?d:c,(a*g+(a/2-l/2))/b,0);h.restore()},ia:function(h){e=h},g:function({l:h}){a=h/14;b=.06;for(l=d.width*b;l>a;)b-=.002,l=d.width*b}}};function S(d){let c="",e,a,b,{fill:l,stroke:h,textAlign:g,fontFamily:k="system"}=d;return{b:function(p){p.save();p.font=`${b}px ${k}`;p.fillStyle=l;g&&(p.textAlign=g);p.fillText(c,e,a);h&&(p.strokeStyle=h,p.strokeText(c,e,a));p.restore()},a:function(p){c=p},setPosition:function(p,t){e=p;a=t},G:function(p){b=p},ma:function(){}}};
