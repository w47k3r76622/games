<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><style id="webmakerstyle">:root{--unit:100px}*{box-sizing:border-box}:focus{outline-offset:3px;outline-color:#000;outline-width:5px;outline-style:dashed}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:200%;line-height:1.4;max-width:100vw;overflow-x:hidden;margin:0;min-height:100vh;background:linear-gradient(180deg,#141142,#58549c 82%,#46345a);color:#b5b1fb;text-align:center;position:relative}@media screen and (max-width:400px){body{font-size:100%}}.link{color:#faebd7}.small-text{font-size:.7em}.screen{top:0;left:0;right:0;bottom:0;opacity:0;width:100vw;min-height:90vh;overflow-x:hidden;display:none}.screen.visible{opacity:1;visibility:visible;display:block}.btn{font-family:inherit;font-size:inherit;padding:1rem 2rem;margin:.5rem;border:4px solid #000;box-shadow:6px 6px;cursor:pointer;transition:.25s ease;will-change:transform}.btn:focus,.btn:hover{transform:rotate(6deg)}.btn:active{box-shadow:1px 1px}.btn p{margin-bottom:0}summary{cursor:pointer}.container{transform:rotateX(60deg) rotateY(0deg) rotate(-45deg);position:relative;width:calc(var(--unit)*6);transform-origin:center center}.tile{font-size:calc(var(--unit)*0.7);text-align:center;--border-width:0.1em;width:var(--unit);height:var(--unit);position:absolute;background:#8ba069;border-left:var(--border-width) solid rgba(0,0,0,.5);border-bottom:var(--border-width) solid rgba(0,0,0,.3);color:#414e2d;contain:size layout style;transition:opacity .25s ease,border .25s ease,margin .25s ease,color .25s ease}.tile:not(.hole):not(.cover){text-shadow:7px -4px 0 rgba(0,0,0,.5),6px -4px 0 rgba(0,0,0,.6),0 -4px 0 hsla(0,0%,100%,.6)}.game-started .tile:not(.hole):not(.cover):focus,.game-started .tile:not(.hole):not(.cover):hover{margin-left:10px;margin-top:-10px;z-index:10;box-shadow:5px -5px 20px 2px rgba(0,0,0,.35)}.cover{border:0;background:#3b3779;height:20px}.hole:before{content:"";display:block;position:absolute;width:10px;height:200vw;bottom:200vh;background:#fff;left:20px;opacity:0;transition:.5s ease;transition-delay:var(--blast-delay)}.bomb-place-anim-1 .hole:before{opacity:1;bottom:30px}.bomb-place-anim-2 .hole:before{height:0}.bomb-place-anim-2 .hole{background:#fff}.game-started .hole{--hole-width:0.5em;background:#dc143c;border-left:0;border-bottom:0;border-right:var(--hole-width) solid rgba(0,0,0,.5);border-top:var(--hole-width) solid rgba(0,0,0,.3)}.game-started .hole:after{content:"💣";display:block;margin:-.2em 0 0 .1em}.tile:focus{outline-width:8px;outline-style:solid;outline-color:#000}.overlay{background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,0) 50%,rgba(0,0,0,.2) 70%,rgba(0,0,0,.4));background-size:5px 5px;pointer-events:none;position:fixed;z-index:3;left:0;right:0;top:0;bottom:0;opacity:.4}[data-screen=game]{flex-direction:column}.game-board,[data-screen=game].visible{display:flex;justify-content:center;align-items:center;perspective:1170px;transition:perspective-origin 2s cubic-bezier(.42,0,.24,1.01)}details{margin:2rem auto;padding:2rem;color:#000;background:#fff;transition:.5s cubic-bezier(.5,-.03,.25,1);border:5px solid;box-shadow:6px 6px;width:95vw;max-width:600px}details[open]{transform:translateY(-240px);max-width:95vw}.message{position:fixed;contain:layout style paint;top:30vh;left:50%;width:3px;height:10px;transform:translateX(-50%);overflow:hidden;background:#fff;color:#000;transition:.4s cubic-bezier(.99,-.1,.71,1.68)}.message__text{overflow:hidden;max-height:0}.message-anim-1 .message{width:90vw}.message-anim-2 .message{transition:.3s ease;width:90vw;transform:translateX(-50%) scale(1);border:5px solid #000;box-shadow:6px 6px}.message-anim-2 .message__text{max-height:700px}.message-anim-2 .message{padding:3rem;height:auto}.particle{width:15px;height:15px;background:red;position:fixed;top:0;left:0;z-index:3;will-change:transform,opacity;contain:size layout paint style}[data-screen=menu] .container{animation:board-swing 50s;animation-iteration-count:infinite;animation-timing-function:linear;transform-origin:center center}@keyframes board-swing{30%{transform:rotateX(60deg) rotateY(0deg) rotate(-15deg)}60%{transform:rotateX(40deg) rotateY(0deg) rotate(-55deg)}80%{transform:rotateX(80deg) rotateY(0deg) rotate(0deg)}}.bomb{position:fixed;contain:size layout paint paint;height:100px;font-size:100px;z-index:-1;top:0;left:0;will-change:transform,opacity}.title{display:inline-flex;justify-content:center;transition:.7s cubic-bezier(.95,.05,.795,.035)}.title-letter{width:1em;overflow:hidden;transition:.6s cubic-bezier(.8,-.07,.51,1.13);text-transform:uppercase}.title-letter-odd,.title-wrap:hover .title-letter{width:0;opacity:0}.title-wrap:hover .title-letter-odd{width:1em;opacity:1}</style></head><body> <div class="screen visible" data-screen="menu"> <div class="title-wrap"> <h1 id="titleEl" class="title" aria-label="Repeewsenim (Minesweeper in reverse)"></h1> <script>const t="Minesweeper".split("");t.forEach((e,l)=>{const n=document.createElement("div");n.className="title-letter title-letter-odd",n.textContent=e,titleEl.append(n);const c=document.createElement("div");c.className="title-letter",c.textContent=t[t.length-l-1],titleEl.append(c)});</script> </div> <div class="d-f"> <button class="btn" type="button" data-level="0" onclick="setupGame(event)"> Play easy <span aria-hidden="true">🙂</span> <p class="small-text"> Highscore: <span id="easyHighScoreEl">-</span> </p> </button> <button class="btn" type="button" data-level="1" onclick="setupGame(event)"> Play hard <span aria-hidden="true">🤪</span> <p class="small-text"> Highscore: <span id="hardHighScoreEl">-</span> </p> </button> </div> <div> <details> <summary>See Help</summary> <h2>If you know how to play Minesweeper:</h2> <p> You need to play Minesweeper backwards. You know where the bombs and you need to put correct number on each tile. </p> <h2>If you don't know how to play Minesweeper:</h2> <p> A grid will show up with bombs placed in random cells. Your task is to assign correct number to each cell which does not have a bomb. </p> <p> A cell's number is the count of bombs that are placed around it i.e. the (at most) eight cells surrounding it. So if there is just one bomb around a cell, its number should be 1 and so on...If there is no bomb around a cell, it should be left empty. </p> </details> <details> <summary>Controls</summary> <h2>Mouse</h2> <p> Click any cell to cycle between values 0 to 8. Left click increments by 1 and right click decrements by 1. </p> <h2>Keyboard</h2> <strong>This game is screen-reader compatible.</strong> <p> Navigate through cells with <kbd>Tab</kbd> or <kbd>Arrow</kbd> keys. Press <kbd>Space</kbd> or <kbd>Enter</kbd> key to cycle between values 0 to 8 or simply press the numeric key to assign value directly. </p> </details> </div> <div aria-hidden="true" style="position:fixed;z-index:-1;top:100px;opacity:.5;pointer-events:none"> <div class="game-board game-started"> <div id="menuTileContainer" class="container"></div> </div> </div> </div> <div class="screen" data-screen="help"> <h2>Help</h2> <p>Hahahaha</p> </div> <div class="screen" data-screen="game"> <div id="tileContainer" class="container"></div> <div class="time">Your time: <span id="timeEl">0</span> seconds</div>  </div> <div aria-hidden="true" id="particleContainer" style="position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:4;contain:size layout paint style;pointer-events:none"></div> <div class="overlay"></div> <footer class="small-text"> A Js13kGames 2019 entry by <a class="link" href="https://kushagra.dev">Kushagra Gour</a> </footer> <script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ul+k":[function(require,module,exports) {
var define;
var t;!function(e,s){"function"==typeof t&&t.amd?t(["exports"],s):s("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.TinyMusic={})}(this,function(t){function e(t){var s=t.split(n);this.frequency=e.getFrequency(s[0])||0,this.duration=e.getDuration(s[1])||0}function s(t,e,s){this.ac=t||new AudioContext,this.createFxNodes(),this.tempo=e||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,s||[])}var i=440*Math.pow(Math.pow(2,1/12),-9),o=/^[0-9.]+$/,n=/\s+/,r=/(\d+)/,c={};"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach(function(t,e){t.split("-").forEach(function(t){c[t]=e})}),e.getFrequency=function(t){var e=t.split(r),s=c[e[0]],o=(e[1]||4)-4;return i*Math.pow(Math.pow(2,1/12),s)*Math.pow(2,o)},e.getDuration=function(t){return o.test(t)?parseFloat(t):t.toLowerCase().split("").reduce(function(t,e){return t+("w"===e?4:"h"===e?2:"q"===e?1:"e"===e?.5:"s"===e?.25:0)},0)},s.prototype.createFxNodes=function(){var t=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(e,s){(s=this[e[0]]=this.ac.createBiquadFilter()).type="peaking",s.frequency.value=e[1],t.connect(t=s)}.bind(this)),t.connect(this.ac.destination),this},s.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(t){this.notes.push(t instanceof e?t:new e(t))}.bind(this)),this},s.prototype.createCustomWave=function(t,e){e||(e=t),this.waveType="custom",this.customWave=[new Float32Array(t),new Float32Array(e)]},s.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},s.prototype.scheduleNote=function(t,e){var s=60/this.tempo*this.notes[t].duration,i=s*(1-(this.staccato||0));return this.setFrequency(this.notes[t].frequency,e),this.smoothing&&this.notes[t].frequency&&this.slide(t,e,i),this.setFrequency(0,e+i),e+s},s.prototype.getNextNote=function(t){return this.notes[t<this.notes.length-1?t+1:0]},s.prototype.getSlideStartDelay=function(t){return t-Math.min(t,60/this.tempo*this.smoothing)},s.prototype.slide=function(t,e,s){var i=this.getNextNote(t),o=this.getSlideStartDelay(s);return this.setFrequency(this.notes[t].frequency,e+o),this.rampFrequency(i.frequency,e+s),this},s.prototype.setFrequency=function(t,e){return this.osc.frequency.setValueAtTime(t,e),this},s.prototype.rampFrequency=function(t,e){return this.osc.frequency.linearRampToValueAtTime(t,e),this},s.prototype.play=function(t){return t="number"==typeof t?t:this.ac.currentTime,this.createOscillator(),this.osc.start(t),this.notes.forEach(function(e,s){t=this.scheduleNote(s,t)}.bind(this)),this.osc.stop(t),this.osc.onended=this.loop?this.play.bind(this,t):null,this},s.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},t.Note=e,t.Sequence=s});
},{}]},{},["ul+k"], null)</script> <script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ul+k":[function(require,module,exports) {
var define;
var t;!function(e,s){"function"==typeof t&&t.amd?t(["exports"],s):s("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.TinyMusic={})}(this,function(t){function e(t){var s=t.split(n);this.frequency=e.getFrequency(s[0])||0,this.duration=e.getDuration(s[1])||0}function s(t,e,s){this.ac=t||new AudioContext,this.createFxNodes(),this.tempo=e||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,s||[])}var i=440*Math.pow(Math.pow(2,1/12),-9),o=/^[0-9.]+$/,n=/\s+/,r=/(\d+)/,c={};"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach(function(t,e){t.split("-").forEach(function(t){c[t]=e})}),e.getFrequency=function(t){var e=t.split(r),s=c[e[0]],o=(e[1]||4)-4;return i*Math.pow(Math.pow(2,1/12),s)*Math.pow(2,o)},e.getDuration=function(t){return o.test(t)?parseFloat(t):t.toLowerCase().split("").reduce(function(t,e){return t+("w"===e?4:"h"===e?2:"q"===e?1:"e"===e?.5:"s"===e?.25:0)},0)},s.prototype.createFxNodes=function(){var t=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(e,s){(s=this[e[0]]=this.ac.createBiquadFilter()).type="peaking",s.frequency.value=e[1],t.connect(t=s)}.bind(this)),t.connect(this.ac.destination),this},s.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(t){this.notes.push(t instanceof e?t:new e(t))}.bind(this)),this},s.prototype.createCustomWave=function(t,e){e||(e=t),this.waveType="custom",this.customWave=[new Float32Array(t),new Float32Array(e)]},s.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},s.prototype.scheduleNote=function(t,e){var s=60/this.tempo*this.notes[t].duration,i=s*(1-(this.staccato||0));return this.setFrequency(this.notes[t].frequency,e),this.smoothing&&this.notes[t].frequency&&this.slide(t,e,i),this.setFrequency(0,e+i),e+s},s.prototype.getNextNote=function(t){return this.notes[t<this.notes.length-1?t+1:0]},s.prototype.getSlideStartDelay=function(t){return t-Math.min(t,60/this.tempo*this.smoothing)},s.prototype.slide=function(t,e,s){var i=this.getNextNote(t),o=this.getSlideStartDelay(s);return this.setFrequency(this.notes[t].frequency,e+o),this.rampFrequency(i.frequency,e+s),this},s.prototype.setFrequency=function(t,e){return this.osc.frequency.setValueAtTime(t,e),this},s.prototype.rampFrequency=function(t,e){return this.osc.frequency.linearRampToValueAtTime(t,e),this},s.prototype.play=function(t){return t="number"==typeof t?t:this.ac.currentTime,this.createOscillator(),this.osc.start(t),this.notes.forEach(function(e,s){t=this.scheduleNote(s,t)}.bind(this)),this.osc.stop(t),this.osc.onended=this.loop?this.play.bind(this,t):null,this},s.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},t.Note=e,t.Sequence=s});
},{}],"8iXM":[function(require,module,exports) {
const e=window.TinyMusic||require("./TinyMusic.min.js");var s=new AudioContext,A=120,B=new e.Sequence(s,A,["- w","- w","- w","- w","B2 h","B3 e","B3 e","- h","B2 h","B1 s","B1 s","- h","A2 h","A3 s","A3 s","- h","F#1 e","F#1 e","F#2 e","F#2 e","B2 h","B3 e","B3 e","- h","B2 h","B1 s","B1 s","- h","A2 h","A3 s","A3 s","- h","F#1 e","F#1 e","F#2 e","F#2 e","B2 h","B3 e","B3 e","- h","B2 h","B1 s","B1 s","- h","A2 h","A3 s","A3 s","- h","F#1 e","F#1 e","F#2 e","F#2 e"]);B.staccato=.05,B.smoothing=.4,B.gain.gain.value=.3,B.mid.gain.value=3,B.bass.gain.value=8,B.bass.frequency.value=80,B.mid.gain.value=-6,B.mid.frequency.value=500,B.treble.gain.value=-2,B.treble.frequency.value=1400,B.loop=!1;const C=["B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","C#4 e","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","C#4 e","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","F#3 e","F#3 s","F#3 s","F#3 e","F#3 s","F#3 s","G3 e","G3 s","G3 s","G3 e","G3 s","G3 s","B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","C#4 e","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","C#4 e","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","F#3 e","F#3 s","F#3 s","F#3 e","F#3 s","F#3 s","G3 e","G3 s","G3 s","G3 e","G3 s","G3 s","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","A3 e","A3 e","E4 e","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","C#4 s","C#4 s","C#4 s","C#4 s","C#4 e","C#4 s","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","A3 e","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","A3 e","A3 e","E4 e","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","C#4 s","C#4 s","C#4 s","C#4 s","C#4 e","C#4 s","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","A3 e"],D=new e.Sequence(s,A,C),a=new e.Sequence(s,A,C);[D,a].forEach(e=>{e.staccato=.4,e.gain.gain.value=.7,e.mid.frequency.value=800,e.mid.gain.value=3,e.loop=!0,e.waveType="triangle"}),B.loop=!0,B.play(),D.play(),setTimeout(()=>{a.play()},8e3);
},{"./TinyMusic.min.js":"ul+k"}]},{},["8iXM"], null)</script> <script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"FO+Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.random=n,exports.setStyle=o,exports.createElement=r,exports.H=exports.W=void 0;const e=window.innerWidth;exports.W=e;const t=window.innerHeight;function n(e,t){return e+~~(Math.random()*(t-e))}function o(e,t){Object.keys(t).map(n=>{e.style[n]=t[n]})}function r(e,t){const n=document.createElement(e);return n.className=t,n}exports.H=t;
},{}],"Yogb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Particle=void 0;var t=require("./utils");class i{constructor({width:t=15,height:i=15,x:s=0,y:e=0,rotationX:h=0,rotationY:a=0,rotationZ:o=0,angularSpeed:r={x:10,y:10,z:10},alpha:l=1,vx:n=0,vy:d=0,friction:p=1,isConfetti:c=!1,classes:y="",color:v="red",gravity:x=0,alphaSpeed:u=-.01,scale:g=1,timeToDie:m=.6}){this.width=t,this.height=i,this.x=s,this.y=e,this.rotationX=h,this.rotationY=a,this.rotationZ=o,this.alpha=l,this.vx=n,this.vy=d,this.isConfetti=c,this.angularSpeed=r,this.friction=p,this.color=v,this.gravity=x,this.alphaSpeed=u,this.scale=g,this.timeToDie=m,this.el=document.createElement("div"),this.el.classList.add("particle"),y&&this.el.classList.add(y),this.el.style.backgroundColor=v,this.el.style.width=`${this.width}px`,this.el.style.height=`${this.height}px`,this.draw(),window.particleContainer.append(this.el)}destroy(){this.el.remove()}hasHitEnd(){return this.alpha<0||this.y>t.H}update(){this.x+=this.vx,this.y+=this.vy,this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,this.isConfetti&&(Math.random()>.5&&(this.rotationX+=this.angularSpeed.x),Math.random()>.8&&(this.rotationY+=this.angularSpeed.y),Math.random()>.3&&(this.rotationZ+=this.angularSpeed.z)),this.timeToDie-=1/60,this.timeToDie<0&&(this.alpha+=this.alphaSpeed)}draw(){this.el.style.transform=`translate(${this.x}px, ${this.y}px) rotate3d(1,1,1,${this.rotationX}deg)  scale(${this.scale})`,this.el.style.opacity=this.alpha}}exports.Particle=i;
},{"./utils":"FO+Z"}],"Mrtn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bomb=void 0;var t=require("./utils.js");class s{constructor({width:s=100,height:i=100,x:h=0,y:e=0,angularSpeed:a={x:10,y:10,z:10},alpha:l=0,vx:o=0,vy:r=0,classes:d="",gravity:y=.2,alphaSpeed:n=.01,scale:p=1,timeToDie:c=.6}){this.type="bomb",this.width=s,this.height=i,this.x=h,this.y=e,this.rotationZ=(0,t.random)(0,360),this.alpha=l,this.vx=o,this.vy=r,this.angularSpeed=a,this.gravity=y,this.alphaSpeed=n,this.scale=p,this.timeToDie=c,this.bounces=(0,t.random)(1,4),this.el=document.createElement("div"),this.el.classList.add("bomb"),this.el.textContent="💣",d&&this.el.classList.add(d),this.el.style.width=`${this.width}px`,this.el.style.height=`${this.height}px`,document.querySelector('[data-screen="menu"]').append(this.el)}destroy(){this.el.remove()}hasHitEnd(){return this.y+this.height===t.H}update(){this.x+=this.vx,this.y+=this.vy,this.vy+=this.gravity,this.y+this.height>t.H&&(this.bounces--,this.bounces?(this.y=t.H-this.height-1,this.rotationZ=this.rotationZ+(0,t.random)(-50,50),this.vy=.5*-this.vy):(this.y=t.H-this.height,this.gravity=0,this.vy=0)),this.alpha<1&&(this.alpha+=this.alphaSpeed)}draw(){this.el.style.transform=`translate(${this.x}px, ${this.y}px) rotateZ(${this.rotationZ}deg)  scale(${this.scale})`,this.el.style.opacity=this.alpha}}exports.Bomb=s;
},{"./utils.js":"FO+Z"}],"ul+k":[function(require,module,exports) {
var define;
var t;!function(e,s){"function"==typeof t&&t.amd?t(["exports"],s):s("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.TinyMusic={})}(this,function(t){function e(t){var s=t.split(n);this.frequency=e.getFrequency(s[0])||0,this.duration=e.getDuration(s[1])||0}function s(t,e,s){this.ac=t||new AudioContext,this.createFxNodes(),this.tempo=e||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,s||[])}var i=440*Math.pow(Math.pow(2,1/12),-9),o=/^[0-9.]+$/,n=/\s+/,r=/(\d+)/,c={};"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach(function(t,e){t.split("-").forEach(function(t){c[t]=e})}),e.getFrequency=function(t){var e=t.split(r),s=c[e[0]],o=(e[1]||4)-4;return i*Math.pow(Math.pow(2,1/12),s)*Math.pow(2,o)},e.getDuration=function(t){return o.test(t)?parseFloat(t):t.toLowerCase().split("").reduce(function(t,e){return t+("w"===e?4:"h"===e?2:"q"===e?1:"e"===e?.5:"s"===e?.25:0)},0)},s.prototype.createFxNodes=function(){var t=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(e,s){(s=this[e[0]]=this.ac.createBiquadFilter()).type="peaking",s.frequency.value=e[1],t.connect(t=s)}.bind(this)),t.connect(this.ac.destination),this},s.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(t){this.notes.push(t instanceof e?t:new e(t))}.bind(this)),this},s.prototype.createCustomWave=function(t,e){e||(e=t),this.waveType="custom",this.customWave=[new Float32Array(t),new Float32Array(e)]},s.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},s.prototype.scheduleNote=function(t,e){var s=60/this.tempo*this.notes[t].duration,i=s*(1-(this.staccato||0));return this.setFrequency(this.notes[t].frequency,e),this.smoothing&&this.notes[t].frequency&&this.slide(t,e,i),this.setFrequency(0,e+i),e+s},s.prototype.getNextNote=function(t){return this.notes[t<this.notes.length-1?t+1:0]},s.prototype.getSlideStartDelay=function(t){return t-Math.min(t,60/this.tempo*this.smoothing)},s.prototype.slide=function(t,e,s){var i=this.getNextNote(t),o=this.getSlideStartDelay(s);return this.setFrequency(this.notes[t].frequency,e+o),this.rampFrequency(i.frequency,e+s),this},s.prototype.setFrequency=function(t,e){return this.osc.frequency.setValueAtTime(t,e),this},s.prototype.rampFrequency=function(t,e){return this.osc.frequency.linearRampToValueAtTime(t,e),this},s.prototype.play=function(t){return t="number"==typeof t?t:this.ac.currentTime,this.createOscillator(),this.osc.start(t),this.notes.forEach(function(e,s){t=this.scheduleNote(s,t)}.bind(this)),this.osc.stop(t),this.osc.onended=this.loop?this.play.bind(this,t):null,this},s.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},t.Note=e,t.Sequence=s});
},{}],"vmHy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.playSound=n,exports.playWinSound=u;var e=require("./utils");!function(){function e(){this.B=function(e){for(var s=0;24>s;s++)this[String.fromCharCode(97+s)]=e[s]||0;.01>this.c&&(this.c=.01),.18>(e=this.b+this.c+this.e)&&(e=.18/e,this.b*=e,this.c*=e,this.e*=e)}}var s=new function(){var s,r,n,t,i,a,o,c,h,u,f,l;this.A=new e,this.reset=function(){var e=this.A;t=100/(e.f*e.f+.001),i=100/(e.g*e.g+.001),a=1-.01*e.h*e.h*e.h,o=1e-6*-e.i*e.i*e.i,e.a||(f=.5-e.n/2,l=5e-5*-e.o),c=0<e.l?1-.9*e.l*e.l:1+10*e.l*e.l,h=0,u=1==e.m?0:2e4*(1-e.m)*(1-e.m)+32},this.D=function(){this.reset();var e=this.A;return s=1e5*e.b*e.b,r=1e5*e.c*e.c,n=1e5*e.e*e.e+10,s+r+n|0},this.C=function(e,p){var w=1!=(z=this.A).s||z.v,v=.1*z.v*z.v,q=1+3e-4*z.w,A=.1*z.s*z.s*z.s,y=1+1e-4*z.t,b=1!=z.s,d=z.x*z.x,g=z.g,C=z.q||z.r,x=.2*z.r*z.r*z.r,k=z.q*z.q*(0>z.q?-1020:1020),m=z.p?32+(2e4*(1-z.p)*(1-z.p)|0):0,M=z.d,S=z.j/2,j=.01*z.k*z.k,B=z.a,D=s,E=1/s,T=1/r,F=1/n;.8<(z=5/(1+20*z.u*z.u)*(.01+A))&&(z=.8);for(var G,U,O,P,W,z=1-z,H=!1,I=0,J=0,K=0,L=0,N=0,Q=0,R=0,V=0,X=0,Y=0,Z=Array(1024),_=Array(32),$=Z.length;$--;)Z[$]=0;for($=_.length;$--;)_[$]=2*Math.random()-1;for($=0;$<p;$++){if(H)return $;if(m&&++X>=m&&(X=0,this.reset()),u&&++h>=u&&(u=0,t*=c),(t*=a+=o)>i&&(t=i,0<g&&(H=!0)),U=t,0<S&&(Y+=j,U*=1+Math.sin(Y)*S),8>(U|=0)&&(U=8),B||(0>(f+=l)?f=0:.5<f&&(f=.5)),++J>D)switch(J=0,++I){case 1:D=r;break;case 2:D=n}switch(I){case 0:K=J*E;break;case 1:K=1+2*(1-J*T)*M;break;case 2:K=1-J*F;break;case 3:K=0,H=!0}C&&(0>(O=0|(k+=x))?O=-O:1023<O&&(O=1023)),w&&q&&(1e-5>(v*=q)?v=1e-5:.1<v&&(v=.1)),W=0;for(var ee=8;ee--;){if(++R>=U&&(R%=U,3==B))for(G=_.length;G--;)_[G]=2*Math.random()-1;switch(B){case 0:P=R/U<f?.5:-.5;break;case 1:P=1-R/U*2;break;case 2:P=0>(P=0>(P=.5<(P=R/U)?6.28318531*(P-1):6.28318531*P)?1.27323954*P+.405284735*P*P:1.27323954*P-.405284735*P*P)?.225*(P*-P-P)+P:.225*(P*P-P)+P;break;case 3:P=_[Math.abs(32*R/U|0)]}w&&(G=Q,0>(A*=y)?A=0:.1<A&&(A=.1),b?(N+=(P-Q)*A,N*=z):(Q=P,N=0),L+=(Q+=N)-G,P=L*=1-v),C&&(Z[V%1024]=P,P+=Z[(V-O+1024)%1024],V++),W+=P}W=.125*W*K*d,e[$]=1<=W?32767:-1>=W?-32768:32767*W|0}return p}};window.jsfxr=function(e){s.A.B(e);var r=s.D();e=new Uint8Array(4*((r+1)/2|0)+44);r=2*s.C(new Uint16Array(e.buffer,44),r);(n=new Uint32Array(e.buffer,0,44))[0]=1179011410,n[1]=r+36,n[2]=1163280727,n[3]=544501094,n[4]=16,n[5]=65537,n[6]=44100,n[7]=88200,n[8]=1048578,n[9]=1635017060,n[10]=r;r+=44;for(var n=0,t="data:audio/wav;base64,";n<r;n+=3){var i=e[n]<<16|e[n+1]<<8|e[n+2];t=t+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&i])}return n-=r,t.slice(0,t.length-n)+"==".slice(0,n)}}();const s={};function r(e,r){s[e]=[],r.forEach(function(r){var n=new Audio;n.src=jsfxr(r),s[e].push(n)})}function n(r){s[r]&&s[r][(0,e.random)(0,s[r].length-1)].play()}r("laser",[[0,0,.20186369123006712,.08864788869394417,.3533138312310672,.730741378990208,.2,-.18340614838729788,0,0,0,0,0,.13312363811900763,.13711016008646912,0,0,0,1,0,0,.1086867241891986,0,.5],[0,0,.2732218187386066,.09292699553578221,.03300790675047618,.764744932473655,.36691959834015275,-.23915212474273018,0,0,0,0,0,.20399771679086742,.0022463616577739656,0,0,0,1,0,0,.0673932643123878,0,.5]]),r("explosion",[[3,,.3417,.4126,.2799,.0141,,.1053,,,,.239,.612,,,,.4363,-.2564,1,,,,,.5],[3,0,.29543862264632753,.34516609461402187,.42899737981196207,.33660416688363043,0,-.2690700410417636,0,0,0,0,0,0,0,0,-.21134041848609875,-.2316907481419962,1,0,0,0,0,.5],[3,0,.25248370901712475,.6325791872481547,.09061954133800243,.10337277112428506,0,-.2985780353874932,0,0,0,-.7302524884341515,.6027070326674928,0,0,0,.0061548340192078,-.02154246942121234,1,0,0,0,0,.5]]),r("hit",[[3,,.2403,.6344,.2291,.1147,,-.0681,,,,-.7594,.7851,,,.5514,,,1,,,,,.5],[3,.0341,.1945,.5512,.1999,.1522,.0221,-.0542,-.0411,.0473,,-.7584,.7943,,-.0028,.5986,,-.0285,1,.0442,,,-.0111,.5],[3,.0715,.2252,.5179,.1874,.1626,.0116,-.0217,-.0186,.0577,.0614,-.8043,.827,,-.0028,.6757,-.0179,-.0466,1,.0064,,,.0265,.5]]),r("winExplosion",[[3,0,.37402130250153964,.37755261732779943,.20860049840982053,.2615879349464807,0,-.3452769016527329,0,0,0,-.7349481878855222,.8091127974010215,0,0,0,-.059400677951952086,-.19253254157222524,1,0,0,0,0,.5]]),r("powerup",[[0,,.2102,,.321,.375,,.4517,,,,,,.341,,.4955,,,1,,,,,.5]]);const t=window.TinyMusic||require("./TinyMusic.min.js");var i=new AudioContext,a=220,o=new t.Sequence(i,a,["F5 s","- es","F5 es","F5 q","- s","G5 s","- es","G5 es","G5 q","- s","A5 s","- es","A5 es","A5 q"]),c=new t.Sequence(i,a,["A5 s","- es","A5 es","A5 q","- s","B5 s","- es","B5 es","B5 q","- s","C#6 s","- es","C#6 es","C#6 q"]),h=new t.Sequence(i,a,["C6 s","- es","C6 es","C6 q","- s","D6 s","- es","D6 es","D6 q","- s","E6 s","- es","E6 es","E6 q"]);function u(){o.play(),c.play(),h.play()}o.loop=!1,c.loop=!1,h.loop=!1,o.waveType="triangle",c.waveType="triangle",h.waveType="triangle";
},{"./utils":"FO+Z","./TinyMusic.min.js":"ul+k"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./particle.js"),t=require("./bomb.js"),n=require("./utils.js"),o=require("./sfx.js");const a=!0;let i=parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--unit")),r=[],s=[],l=6;const c={0:{n:3,mines:2},1:{n:6,mines:8},2:{n:12,mines:20}},m=[...document.querySelectorAll(".screen")],d={NOT_STARTED:"notStarted",STARTED:"started",ENDED:"ended"};let u,p,y=d.NOT_STARTED,f="menu",h=[];const w="bms-high-score",g="bms-last-score";let b,x=window.localStorage.getItem(w)&&JSON.parse(window.localStorage.getItem(w))||{0:0,1:0};const S={laser:[0,0,.20186369123006712,.08864788869394417,.3533138312310672,.730741378990208,.2,-.18340614838729788,0,0,0,0,0,.13312363811900763,.13711016008646912,0,0,0,1,0,0,.1086867241891986,0,.5]};function v(e){easyHighScoreEl.textContent=x[0]?`${x[0]}s`:"-",hardHighScoreEl.textContent=x[1]?`${x[1]}s`:"-"}function T(e){m.forEach(e=>e.classList.remove("visible")),document.querySelector(`[data-screen="${e}"]`).classList.add("visible"),f=e,C(),window.removeEventListener("keyup",R),window.removeEventListener("click",R),"game"!==e&&(r=[],s=[],timeEl.textContent="0",document.body.classList.remove("bomb-place-anim-1","bomb-place-anim-2","bomb-place-anim-3","game-started"),Array.from(tileContainer.children).map(e=>e.remove()),y=d.NOT_STARTED)}function E(e){console.log("Field:");for(let t=0;t<l;t++)console.log(e[t]),console.log("---")}function A({isHole:e,isFake:t,isDummy:o}){const a=(0,n.createElement)(t||e||o?"div":"button","tile");return e&&(a.classList.add("hole"),a.tileType="hole"),"BUTTON"===a.tagName&&a.setAttribute("type","button"),a}function $(e,t=window.tileContainer,o){l=c[e].n;const a=c[e].mines;i=~~(.8*Math.min(n.W,n.H)/l),document.documentElement.style.setProperty("--unit",`${i}px`),(0,n.setStyle)(t,{width:`${i*l}px`,height:`${i*l}px`});let m=[];for(;m.length<a;){let e=(0,n.random)(0,l*l);m.includes(e)||m.push(e)}m=m.map(e=>({y:~~(e/l),x:e%l})),Array.from(t.children).map(e=>e.remove()),r=[];for(var d=0;d<l;d++){r[d]=[],s[d]=[];for(var u=0;u<l;u++)r[d][u]=0,s[d][u]=0}for(u=0;u<l+1;u++)for(d=0;d<l;d++){const e=A({isHole:m.some(e=>e.x===d&&e.y===u),isFake:u===l,isDummy:o});e.style.top=`${u*i}px`,e.style.left=`${d*i}px`,e.count=0,e.posX=d,e.posY=u,e.className.match(/(hole|cover)/)||q(e,u+1,d+1,0),e.className.match(/hole/)&&(q(e,u+1,d+1,"Bomb"),e.setAttribute("tabindex",0));const a=-10;if((0,n.setStyle)(e,{transform:`translate(${a}px, -${a}px)`,transitionDelay:`${.02*(u*l+d)}s`,transitionTimingFunction:"0.25s cubic-bezier(0, 0.6, 0.6, 1.34)",opacity:0}),e.style.setProperty("--blast-delay",`${.3*Math.random()}s`),setTimeout(()=>{(0,n.setStyle)(e,{transform:"translate(0px, 0px)",opacity:1})},1),setTimeout(()=>{(0,n.setStyle)(e,{transitionTimingFunction:null,transitionDelay:null,transitionDuration:null})},2e3),u===l)e.setAttribute("class","tile cover");else if("hole"===e.tileType){r[d][u]=-1;for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)0===e&&0===t||d+e<0||u+t<0||d+e>l-1||u+t>l-1||-1===r[d+e][u+t]||(r[d+e][u+t]=r[d+e][u+t]+1)}t.append(e)}}function D(){for(var e=0;e<l;e++)for(var t=0;t<l+1;t++)if(-1!==r[e][t]&&r[e][t]!==s[e][t])return!1;return!0}function k(e,t,n){setTimeout()}function Y(e){return new Promise(t=>{setTimeout(t,e)})}async function L(e){const t=(0,n.createElement)("div","message");t.setAttribute("role","alert"),document.body.append(t),t.innerHTML=`<div class="message__text">${e}</div>`,await Y(10),document.body.classList.add("message-anim-1"),await Y(430),document.body.classList.add("message-anim-2"),(0,o.playSound)("powerup")}async function C(){document.body.classList.remove("message-anim-2"),document.querySelector(".message")&&document.querySelector(".message").remove(),document.body.classList.remove("message-anim-1")}function N(e,t){e&&(t=parseInt(e.currentTarget.dataset.level,10),e.stopPropagation()),p=t,$(t),async function(){const e=document.querySelector('[data-screen="game"]');e.style.transition="none",e.style.perspectiveOrigin=`1170px ${n.H/2}px`,await Y(10),e.style.transition=null,e.style.perspectiveOrigin=`${n.W/2}px ${n.H/2}px`}(),T("game"),L("Click/Tap anywhere or press any key to start").then(()=>{window.addEventListener("keyup",R,{once:!0}),window.addEventListener("click",R,{once:!0})})}function R(){y===d.NOT_STARTED&&X()}async function X(){C();const t=Array.from(document.querySelectorAll(".tile.hole"));document.body.classList.add("bomb-place-anim-1"),t.forEach(e=>{setTimeout(()=>{(0,o.playSound)("laser")},(0,n.random)(0,600))}),await Y(500),document.body.classList.add("bomb-place-anim-2"),P({time:.5}),t.forEach(t=>{const a=t.getBoundingClientRect();for(let o=(0,n.random)(5,8);o--;)h.push(new e.Particle({height:(0,n.random)(5,15),width:(0,n.random)(5,15),x:(0,n.random)(a.left,a.left+a.width),y:(0,n.random)(a.top,a.top+a.height),vx:(0,n.random)(-10,10),vy:-(0,n.random)(20,55),isConfetti:!0,gravity:.2,friction:.88,alphaSpeed:-.025,scale:.3+Math.random(0,1),angularSpeed:{x:(0,n.random)(-5,5),y:0,z:0},color:"#f00",timeToDie:.7}));setTimeout(()=>{(0,o.playSound)("explosion")},(0,n.random)(0,500))}),await Y(500),document.body.classList.add("bomb-place-anim-3"),document.body.classList.add("game-started"),y=d.STARTED,u=Date.now()}function q(e,t,n,o){e.setAttribute("aria-label",`Row ${t}, Column ${n}, Value ${o}`)}function H(t,a,i=1){s[t.posX][t.posY]=void 0!==a?a:s[t.posX][t.posY]+i,s[t.posX][t.posY]%=9,s[t.posX][t.posY]<0&&(s[t.posX][t.posY]=8),t.textContent=[1,2,3,4,5,6,7,8][s[t.posX][t.posY]-1],q(t,t.posY+1,t.posX+1,s[t.posX][t.posY]),P({time:.3,el:t,shakeIntensity:5}),(0,o.playSound)("hit");const r=t.getBoundingClientRect();for(let o=(0,n.random)(5,15);o--;)h.push(new e.Particle({height:20,width:20,x:(0,n.random)(r.left,r.left+r.width),y:(0,n.random)(r.top,r.top+r.height),vx:(0,n.random)(-10,10),vy:-(0,n.random)(20,55),isConfetti:!0,gravity:.2,friction:.88,alphaSpeed:-.025,scale:.3+Math.random(0,1),angularSpeed:{x:(0,n.random)(-5,5),y:0,z:(0,n.random)(-20,25)},color:"#5d6f41",timeToDie:.4}));if(D()){const e=(Date.now()-u)/1e3;y=d.ENDED,setTimeout(async()=>{await L(`<p>You completed the level in <strong>${e} seconds!</strong></p>\n        <p>\n          <button class="btn" onclick="window.changeScreen('menu')">👈🏽 Back to menu</button>\n          <button class="btn" onclick="window.tweetScore(${b}, ${p})">🐦 Tweet your score!</button>\n        </p>`),document.querySelector(".message button").focus()},10),B(),(0,o.playWinSound)(),M(e)}}function W(e){if(y!==d.STARTED)return;const t=e.target;t.className.match(/tile/)&&"BUTTON"===t.tagName&&H(t,void 0,0===e.button?1:-1)}function O({n:t=20,minX:o=0,maxX:a=n.W,minY:i=0,maxY:r=n.H,...s}){for(let l=t;l--;)h.push(new e.Particle({x:o===a?o:(0,n.random)(o,a),y:i===r?i:(0,n.random)(i,r),vy:-(0,n.random)(40,60),vx:(0,n.random)(-40,40),isConfetti:!0,gravity:.5,friction:.88,color:`rgb(${(0,n.random)(0,255)}, ${(0,n.random)(0,255)}, ${(0,n.random)(0,255)} )`,...s}))}async function B(){O({n:30,minX:n.W/4-50,maxX:n.W/4+50,minY:100,maxY:n.H-100}),(0,o.playSound)("winExplosion"),await Y(500),O({n:30,minX:3*n.W/4-50,maxX:3*n.W/4+50,minY:100,maxY:n.H-100}),(0,o.playSound)("winExplosion"),await Y(1500),(0,o.playSound)("winExplosion"),O({n:20,minX:n.W/2-200,maxX:n.W/2+200,minY:100,maxY:n.H-100})}function I(e,t){function n(e,t,n){return e.parentElement.children[n*l+t]}if("right"===t||"left"===t){let n=e;const o="right"===t?"nextElementSibling":"previousElementSibling";for(;(n=n[o]?n[o]:e.parentElement.children["right"===t?0:l*l-1])&&n.className.match(/cover/););n.focus()}else if("up"===t||"down"===t){let o=e;const a="down"===t?1:-1;for(;(o=o.posY+a<l&&o.posY+a>=0?n(o,o.posX,o.posY+a):n(o,o.posX,"down"===t?0:l-1))&&o.className.match(/cover/););o.focus()}}function P({time:e,el:t=document.body,shakeIntensity:o=15}){let a=e;!function e(){a-=1/60,t.style.transform=`translate(${(0,n.random)(-o,o)}px,${(0,n.random)(-o,o)}px)`,a>0?requestAnimationFrame(e):t.style.transform=null}()}function F(t){const o=t.getBoundingClientRect();for(let a=(0,n.random)(5,20);a--;)h.push(new e.Particle({height:(0,n.random)(5,15),width:(0,n.random)(5,15),x:(0,n.random)(o.left,o.left+o.width),y:(0,n.random)(o.top,o.top+o.height),vx:(0,n.random)(-10,10),vy:-(0,n.random)(20,55),isConfetti:!0,gravity:.4,friction:.88,alphaSpeed:-.025,scale:.3+Math.random(0,1),angularSpeed:{x:(0,n.random)(-5,5),y:0,z:0},color:"yellow",timeToDie:.7}))}function M(e){(e<x[p]||!x[p])&&(x[p]=e,window.localStorage.setItem(w,JSON.stringify(x)),v()),b=e}function j(e,t){const o=["Yay!","Wohoo!","Yuhoo!","Check it out!","Rad!","Dang!","Woah!","Beat this!"];window.open(`http://twitter.com/share?url=${location.href}&text=🎮 ${o[(0,n.random)(0,o.length)]} I finished "Repeewsenim" in just ${e} seconds in ${t?"hard":"easy"} mode! 🔥💣&hashtags=js13k,indiedev&related=chinchang457`)}function _(){const e=Date.now();if("menu"===f&&Math.random()<.005&&h.push(new t.Bomb({x:(0,n.random)(0,n.W),y:(0,n.random)(0,n.H/2)})),y===d.STARTED){const t=(~~(e-u)/1e3).toFixed(1);window.timeEl.textContent=t}h.map(e=>{e.update(),e.draw(),e.hasHitEnd&&e.hasHitEnd()&&(e.dead=!0,"bomb"===e.type&&F(e.el),e.destroy())}),h=h.filter(e=>!e.dead),requestAnimationFrame(_)}function U(){document.querySelectorAll("details").forEach(e=>{e.innerHTML+='<p><button class="btn">Close</button></p>',e.querySelector("button").addEventListener("click",()=>{e.open=!1})})}function z(){$(0,window.menuTileContainer,!0),_(),v(),U(),window.setupGame=N,window.changeScreen=T,window.tweetScore=j}window.oncontextmenu=(e=>{if(e.target.className.match(/tile/))return W(e),!1}),window.onclick=(e=>{r.length&&"game"===f&&y===d.STARTED&&W(e)}),window.onkeyup=(e=>{const t=e.target;if(y!==d.STARTED)return;t.className.match(/tile/)||["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key)&&tileContainer.querySelector(".tile:not(.cover):not(.hole)").focus();let n=parseInt(e.key,10);isNaN(n)||H(t,n),"ArrowRight"===e.key?I(e.target,"right"):"ArrowLeft"===e.key?I(e.target,"left"):"ArrowDown"===e.key?I(e.target,"down"):"ArrowUp"===e.key&&I(e.target,"up"),["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key)&&e.preventDefault()}),z();
},{"./particle.js":"Yogb","./bomb.js":"Mrtn","./utils.js":"FO+Z","./sfx.js":"vmHy"}]},{},["Focm"], null)</script> </body></html>