const t=new(window.AudioContext||window.webkitAudioContext);let e=null,n=[];function o(e,n){let o=t.sampleRate,i=o*e,r=t.createBuffer(2,i,o),a=r.getChannelData(0),s=r.getChannelData(1);n||(n=2);for(let t=0;t<i;t++)a[t]=(2*Math.random()-1)*Math.pow(1-t/i,n),s[t]=(2*Math.random()-1)*Math.pow(1-t/i,n);return r}function i(i,r,a){!function(n,i,r){let a=t.createOscillator();a.type=i,a.frequency.value=n;const s=t.createConvolver(),c=r/1e3;s.buffer=o(c,1),a.connect(s);let l=t.createBiquadFilter();l.type="bandpass",l.frequency.value=n,l.Q.value=50,s.connect(l),l.connect(e),a.start(),a.stop(t.currentTime+c),setTimeout((()=>{a.stop(),l.disconnect()}),c/1e3+1e3)}(n[i][r],"sine",a)}const r=[{name:"Crop Harvesters",basePrice:130,weight:130},{name:"Marine Supplies",basePrice:310,weight:300},{name:"Windtraps",basePrice:210,weight:200},{name:"Basic Medicines",basePrice:100,weight:.1},{name:"Vaccines",basePrice:1e3,weight:.1},{name:"Retinax",basePrice:500,weight:.1},{name:"Animal Monitors",basePrice:100,weight:1},{name:"Terrain Enrichment",basePrice:50,weight:30},{name:"Acquaponic Systems",basePrice:5e4,weight:100},{name:"Cotton",basePrice:20,weight:10},{name:"Leather",basePrice:100,weight:10},{name:"Wool",basePrice:50,weight:10},{name:"Laser gun",basePrice:1e3,weight:3},{name:"Reactive armour",basePrice:2e4,weight:100},{name:"Proton cannon",basePrice:1e4,weight:500},{name:"Diamonds",basePrice:1e4,weight:1},{name:"Opals",basePrice:2e3,weight:1},{name:"Gold",basePrice:400,weight:1},{name:"Iron",basePrice:1e3,weight:100},{name:"Aluminium",basePrice:2e3,weight:100},{name:"Tungsten",basePrice:3e3,weight:100}].sort(((t,e)=>t.name.localeCompare(e.name)));function a(t){if(!window.localStorage)return null;const e=window.localStorage.getItem(t);return e?JSON.parse(e):null}function s(t,e){if(!window.localStorage)return null;const n=JSON.stringify(e);window.localStorage.setItem(t,n)}const c={slots:[],credit:1e4,capacity:1e3,gross:0};function l(t){return c.slots.find((e=>e.product===t))}function d(t,e){var n=function(t){for(var e=t.split(/([#.])/),n="",o="",i=[],r=0;r<e.length;r++){var a=e[r];"#"===a?o=e[++r]:"."===a?i.push(e[++r]):a.length&&(n=a)}return{tag:n||"div",id:o,className:i.join(" ")}}(t),o=n.tag,i=n.id,r=n.className,a=e?document.createElementNS(e,o):document.createElement(o);return i&&(a.id=i),r&&(e?a.setAttribute("class",r):a.className=r),a}function u(t,e){var n=E(t),o=E(e);return e===o&&o.__redom_view&&(e=o.__redom_view),o.parentNode&&(h(e,o,n),n.removeChild(o)),e}function h(t,e,n){var o=e.__redom_lifecycle;if(f(o))e.__redom_lifecycle={};else{var i=n;for(e.__redom_mounted&&g(e,"onunmount");i;){var r=i.__redom_lifecycle||{};for(var a in o)r[a]&&(r[a]-=o[a]);f(r)&&(i.__redom_lifecycle=null),i=i.parentNode}}}function f(t){if(null==t)return!0;for(var e in t)if(t[e])return!1;return!0}var m=["onmount","onremount","onunmount"],p="undefined"!=typeof window&&"ShadowRoot"in window;function v(t,e,n,o){var i=E(t),r=E(e);e===r&&r.__redom_view&&(e=r.__redom_view),e!==r&&(r.__redom_view=e);var a=r.__redom_mounted,s=r.parentNode;return a&&s!==i&&h(0,r,s),null!=n?o?i.replaceChild(r,E(n)):i.insertBefore(r,E(n)):i.appendChild(r),function(t,e,n,o){for(var i=e.__redom_lifecycle||(e.__redom_lifecycle={}),r=n===o,a=!1,s=0,c=m;s<c.length;s+=1){var l=c[s];r||t!==e&&l in t&&(i[l]=(i[l]||0)+1),i[l]&&(a=!0)}if(!a)return void(e.__redom_lifecycle={});var d=n,u=!1;(r||d&&d.__redom_mounted)&&(g(e,r?"onremount":"onmount"),u=!0);for(;d;){var h=d.parentNode,f=d.__redom_lifecycle||(d.__redom_lifecycle={});for(var v in i)f[v]=(f[v]||0)+i[v];if(u)break;(d.nodeType===Node.DOCUMENT_NODE||p&&d instanceof ShadowRoot||h&&h.__redom_mounted)&&(g(d,r?"onremount":"onmount"),u=!0),d=h}}(e,r,i,s),e}function g(t,e){"onmount"===e||"onremount"===e?t.__redom_mounted=!0:"onunmount"===e&&(t.__redom_mounted=!1);var n=t.__redom_lifecycle;if(n){var o=t.__redom_view,i=0;for(var r in o&&o[e]&&o[e](),n)r&&i++;if(i)for(var a=t.firstChild;a;){var s=a.nextSibling;g(a,e),a=s}}}function w(t,e,n){t.style[e]=null==n?"":n}function y(t,e,n,o){var i=E(t);if("object"==typeof e)for(var r in e)y(i,r,e[r],o);else{var a=i instanceof SVGElement,s="function"==typeof n;if("style"===e&&"object"==typeof n)!function(t,e,n){var o=E(t);if("object"==typeof e)for(var i in e)w(o,i,e[i]);else w(o,e,n)}(i,n);else if(a&&s)i[e]=n;else if("dataset"===e)M(i,n);else if(a||!(e in i)&&!s||"list"===e){if(a&&"xlink"===e)return void b(i,n);o&&"class"===e&&(n=i.className+" "+n),null==n?i.removeAttribute(e):i.setAttribute(e,n)}else i[e]=n}}function b(t,e,n){if("object"==typeof e)for(var o in e)b(t,o,e[o]);else null!=n?t.setAttributeNS("http://www.w3.org/1999/xlink",e,n):t.removeAttributeNS("http://www.w3.org/1999/xlink",e,n)}function M(t,e,n){if("object"==typeof e)for(var o in e)M(t,o,e[o]);else null!=n?t.dataset[e]=n:delete t.dataset[e]}function _(t){return document.createTextNode(null!=t?t:"")}function x(t,e,n){for(var o=0,i=e;o<i.length;o+=1){var r=i[o];if(0===r||r){var a=typeof r;"function"===a?r(t):"string"===a||"number"===a?t.appendChild(_(r)):L(E(r))?v(t,r):r.length?x(t,r,n):"object"===a&&y(t,r,null,n)}}}function C(t){return"string"==typeof t?A(t):E(t)}function E(t){return t.nodeType&&t||!t.el&&t||E(t.el)}function L(t){return t&&t.nodeType}var T={};function A(t){for(var e,n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];var i=typeof t;if("string"===i)e=$(t).cloneNode(!1);else if(L(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var r=t;e=new(Function.prototype.bind.apply(r,[null].concat(n)))}return x(E(e),n,!0),e}var S=A;function $(t){return T[t]||(T[t]=d(t))}function N(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var o=E(t),i=k(t,e,o.firstChild);i;){var r=i.nextSibling;u(t,i),i=r}}function k(t,e,n){for(var o=n,i=new Array(e.length),r=0;r<e.length;r++)i[r]=e[r]&&E(e[r]);for(var a=0;a<e.length;a++){var s=e[a];if(s){var c=i[a];if(c!==o)if(L(c)){var l=o&&o.nextSibling,d=null!=s.__redom_index&&l===i[a+1];v(t,s,o,d),d&&(o=l)}else null!=s.length&&(o=k(t,s,o));else o=o.nextSibling}}return o}A.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var o=$(t);return A.bind.apply(A,[this,o].concat(e))};var P=function(t,e,n){this.View=t,this.initData=n,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=e&&(this.key="function"==typeof e?e:function(t){return function(e){return e[t]}}(e))};P.prototype.update=function(t,e){for(var n=this,o=n.View,i=n.key,r=n.initData,a=null!=i,s=this.lookup,c={},l=new Array(t.length),d=this.views,u=0;u<t.length;u++){var h=t[u],f=void 0;if(a){var m=i(h);f=s[m]||new o(r,h,u,t),c[m]=f,f.__redom_id=m}else f=d[u]||new o(r,h,u,t);f.update&&f.update(h,u,t,e),E(f.el).__redom_view=f,l[u]=f}this.oldViews=d,this.views=l,this.oldLookup=s,this.lookup=c};var D=function(t,e,n,o){this.View=e,this.initData=o,this.views=[],this.pool=new P(e,n,o),this.el=C(t),this.keySet=null!=n};D.prototype.update=function(t,e){void 0===t&&(t=[]);var n=this.keySet,o=this.views;this.pool.update(t,e);var i=this.pool,r=i.views,a=i.lookup;if(n)for(var s=0;s<o.length;s++){var c=o[s];null==a[c.__redom_id]&&(c.__redom_index=null,u(this,c))}for(var l=0;l<r.length;l++){r[l].__redom_index=l}N(this,r),n&&(this.lookup=a),this.views=r},D.extend=function(t,e,n,o){return D.bind(D,t,e,n,o)},D.extend;var R=function(t,e){this.el=_(""),this.visible=!1,this.view=null,this._placeholder=this.el,t instanceof Node?this._el=t:t.el instanceof Node?(this._el=t,this.view=t):this._View=t,this._initData=e};R.prototype.update=function(t,e){var n=this._placeholder,o=this.el.parentNode;if(t){if(!this.visible)if(this._el)v(o,this._el,n),u(o,n),this.el=E(this._el),this.visible=t;else{var i=new(0,this._View)(this._initData);this.el=E(i),this.view=i,v(o,i,n),u(o,n)}this.view&&this.view.update&&this.view.update(e)}else if(this.visible){if(this._el)return v(o,n,this._el),u(o,this._el),this.el=n,void(this.visible=t);v(o,n,this.view),u(o,this.view),this.el=n,this.view=null}this.visible=t};var I=function(t,e,n){this.el=C(t),this.Views=e,this.initData=n};I.prototype.update=function(t,e){if(t!==this.route){var n=this.Views[t];this.route=t,n&&(n instanceof Node||n.el instanceof Node)?this.view=n:this.view=n&&new n(this.initData,e),N(this.el,[this.view])}this.view&&this.view.update&&this.view.update(e,t)};var q={};function G(t){for(var e,n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];var i=typeof t;if("string"===i)e=U(t).cloneNode(!1);else if(L(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var r=t;e=new(Function.prototype.bind.apply(r,[null].concat(n)))}return x(E(e),n,!0),e}function U(t){return q[t]||(q[t]=d(t,"http://www.w3.org/2000/svg"))}function O(t,e,n){let o,i,r,a,s,c,l,d;switch(1===arguments.length&&(e=t.s,n=t.v,t=t.h),a=Math.floor(6*t),s=6*t-a,c=n*(1-e),l=n*(1-s*e),d=n*(1-(1-s)*e),a%6){case 0:o=n,i=d,r=c;break;case 1:o=l,i=n,r=c;break;case 2:o=c,i=n,r=d;break;case 3:o=c,i=l,r=n;break;case 4:o=d,i=c,r=n;break;case 5:o=n,i=c,r=l}return{r:Math.round(255*o),g:Math.round(255*i),b:Math.round(255*r)}}function z(t,e,n){1===arguments.length&&(e=t.g,n=t.b,t=t.r);var o,i=Math.max(t,e,n),r=Math.min(t,e,n),a=i-r,s=0===i?0:a/i,c=i/255;switch(i){case r:o=0;break;case t:o=e-n+a*(e<n?6:0),o/=6*a;break;case e:o=n-t+2*a,o/=6*a;break;case n:o=t-e+4*a,o/=6*a}return{h:o,s:s,v:c}}G.extend=function(t){var e=U(t);return G.bind(this,e)},G.ns="http://www.w3.org/2000/svg";const B=(()=>{let t=0;return e=>e+"_"+t++})(),F=Math.random,H=t=>t>0?"+":t<0?"-":"",V=t=>H(t)+""+Math.abs(t);function W(t,e,n){const o=S("td",{id:n??B("hud"),textContent:e});return v(t,o),o}function j(t,e,n){v(t,S("th",{id:n??B("hud"),textContent:e}))}function Q(t){const e=S("tr",{id:B("hud")});return v(t,e),e}function Y(){document.querySelector("#cargoWeight").textContent=""+Math.trunc(c.capacity-c.gross);document.querySelector("#cargoCredit").textContent=""+c.credit}function K(t){const e=l(t.product);return 0===e.lastPrice?0:Math.trunc(1e4*(t.price-e.lastPrice)/e.lastPrice)/100}function X(t){const e=Math.trunc(1e3*F()+1),n=Math.trunc(1e3*F()+1);return[e,n,Math.round(t.basePrice*(e/n)*100)/100]}function J(t,e,n){const o=document.querySelector("#hudtr-container"),r=S("div",{id:"hud-product"});v(o,r);{const t=S("div",{id:B("hud"),classList:"hud-header",style:{"margin-top":"10px"}});v(r,t);const n=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(t,n);const o=S("thead",{id:B("hud")});v(n,o);j(Q(o),e.product.name+" ("+e.product.weight+" Kg)")}{const o=S("div",{id:"hud-product",classList:"hud-content-auto"});v(r,o);const a=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(o,a);const d=S("tbody",{id:B("hud")});let u,h;v(a,d);{const o=Q(d);{const t=W(o,""),r=S("button",{id:B("hud"),textContent:"BUY"});v(t,r),r.addEventListener("click",(()=>{!function(t,e){return t.avail>0&&c.gross+t.product.weight<c.capacity&&c.credit-e>0}(e,a)?i(4,"C",200):(i(4,"E",200),function(t,e){c.gross+=t.product.weight,c.credit=Math.max(0,c.credit-e);const n=l(t.product);n.units+=1,n.lastPrice=e,t.avail=Math.max(0,t.avail-1),s("cargo",c)}(e,a),n(),Y(),u.textContent=`${e.avail}`,h.textContent=`${l(e.product).units}`)}))}u=S("div",{id:B("hud"),textContent:`${e.avail}`,classList:"number-circle"});const r=S("td",{id:B("hud")});v(r,u),v(o,r);const a=function(t,e){return Math.max(Math.round(e.price*(1+t.taxes)*100/100),1)}(t,e);W(o,`${a} (Cr)`),W(o,`${V(K(e))}%`)}{const o=Q(d);{const t=W(o,""),r=S("button",{id:B("hud"),textContent:"SELL"});v(t,r),r.addEventListener("click",(()=>{!function(t){return l(t.product).units>0}(e)?i(4,"C",200):(i(4,"D",200),function(t,e){c.gross-=t.product.weight,c.credit+=e,l(t.product).units-=1,t.avail++,s("cargo",c)}(e,a),n(),Y(),u.textContent=`${e.avail}`,h.textContent=`${l(e.product).units}`)}))}h=S("div",{id:B("hud"),textContent:`${l(e.product).units}`,classList:"number-circle"});const r=S("td",{id:B("hud")});v(r,h),v(o,r);const a=function(t,e){return Math.max(Math.round(e.price*(1-t.taxes)*100/100),1)}(t,e);W(o,`${a} (Cr)`),W(o,`${V(K(e))}%`)}}}function Z(){const t=document.querySelector("#hudtr-container"),e=document.querySelector("#hud-product");e&&u(t,e)}var tt,et,nt,ot;(et=tt||(tt={}))[et.SMALL=0]="SMALL",et[et.MEDIUM=1]="MEDIUM",et[et.LARGE=2]="LARGE",et[et.LENGTH=3]="LENGTH",(ot=nt||(nt={}))[ot.DESERT=0]="DESERT",ot[ot.TEMPERATE=1]="TEMPERATE",ot[ot.EQUATORIAL=2]="EQUATORIAL",ot[ot.LENGTH=3]="LENGTH";const it={[nt.DESERT]:"Desert",[nt.TEMPERATE]:"Temperate",[nt.EQUATORIAL]:"Equatorial"};var rt,at;(at=rt||(rt={}))[at.INDUSTRIAL=0]="INDUSTRIAL",at[at.AGRICOLTURE=1]="AGRICOLTURE",at[at.LENGTH=2]="LENGTH";const st={[rt.INDUSTRIAL]:"Industrial",[rt.AGRICOLTURE]:"Agricolture"};let ct=t=>(lt=(69069*lt+1)%2**31)%t,lt=0;function dt(){let t="";for(let e=ct(3)+2;e--;)t+="x.lexegezacebisousesarmaindirea.eratenberalavetiedorquanteisrion".substr(2*ct(33),2);return t=t.replace(/\./g,""),t=t.charAt(0).toUpperCase()+t.substr(1),t}function ut(){return dt().substring(0,2).toUpperCase()+ct(1e4)}function ht(){let t=a("systems");return t?(t.forEach((t=>{t.planets.forEach((t=>{t.trade.forEach((t=>{t.product=r.find((e=>e.name===t.product.name))}))}))})),t):(t=function(){const t=8,e=5,n=800,o=400,i=[],a=[],s=70,c=40;let l=0;t:for(let e=0;e<t;){const t=Math.random()*n,i=Math.random()*o;for(let n=0;n<a.length;++n){const o=Math.abs(t-a[n][0]),r=Math.abs(i-a[n][1]);if(o<s||r<c){++l,l>1e3&&(l=0,a.length=0,e=0);continue t}}a.push([t,i]),++e}for(let n=0;n<t;++n){const t=ut(),o=ct(e)+1,s=60*(o+1)+"px",c=[`${a[n][0]}px`,`${a[n][1]}px`],l=[],d={r:255*Math.random(),g:255*Math.random(),b:255*Math.random()};for(let t=0;t<o;++t){const e=Math.round(8*F())+2,n=[];let i=0;for(let t=0;t<e;++t){const t=Math.round(10*F());n.push(t),i+=t}const a=r.map((t=>{const[e,n,o]=X(t);return{product:t,demand:e,supply:n,price:o,avail:0}})),s=z(d.r,d.g,d.b);s.v*=.4+.6*(t+1)/o;const c=O(s),u=Math.trunc(tt.LENGTH*Math.random());let h="";const f=Math.trunc(F()*nt.LENGTH);let m;switch(f){case nt.DESERT:h=Math.trunc(100*F()+10)+"M",m=rt.INDUSTRIAL;break;case nt.TEMPERATE:h=Math.trunc(10*F()+1)+"B",m=Math.trunc(F()*rt.LENGTH);break;case nt.EQUATORIAL:h=Math.trunc(40*F()+1)+"B",m=rt.AGRICOLTURE}const p=st[m],v=it[f],g=.2*F()+.05,w={name:dt(),weights:n,sumWeight:i,baseColor:c,size:u,economy:p,climate:v,population:h,trade:a,taxes:g};l.push(w)}const u={name:t,planets:l,position:c,height:s};i.push(u)}return i}(),s("systems",t),t)}function ft(t){const e=document.querySelector("#root");!function(t){const e=t.size+5;t.trade.forEach((t=>t.avail=Math.round(F()*e)))}(t);const n=S("div",{id:"hudtr-container",classList:"hudtr-container",style:{"z-index":2e3,opacity:0,animation:"3000ms ease-out 500ms 1 normal forwards running hudtrRotateIn"}});v(e,n);{const t=S("div",{id:B("hud"),classList:"hud-header"});v(n,t);const e=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(t,e);const o=S("thead",{id:B("hud")});v(e,o);const i=Q(o);j(i,"Product"),j(i,"Cargo"),j(i,"Price (Cr)"),j(i,"Delta (%)"),j(i,"Weight (Kg)")}{const e=S("div",{id:B("hud"),classList:"hud-content"});v(n,e);const o=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(e,o);const r=S("tbody",{id:B("hud")});v(o,r);for(let e of t.trade){const n=Q(r);n.onclick=()=>{i(4,"D",150),Z(),J(t,e,(()=>{a.textContent=""+l(e.product).units}))};const o=K(e);W(n,e.product.name);const a=W(n,l(e.product).units+"");a.style.textAlign="center",W(n,""+e.price),W(n,H(o)+""+Math.abs(o)+"%"),W(n,""+e.product.weight)}}}let mt=null;const pt=[];for(let t=0;t<64;++t){const t=o(4);pt.push(t)}function vt(e,n){const o=t.createBufferSource();o.buffer=pt[Math.trunc(pt.length*F())];const i=t.createBiquadFilter();i.type="bandpass",i.frequency.value=e,i.Q.value=300;const r=t.createBiquadFilter();r.type="highpass",r.frequency.value=e,r.Q.value=10,o.connect(i).connect(r).connect(mt),o.start(),o.stop(t.currentTime+n),setTimeout((()=>{o.stop(),o.disconnect(),i.disconnect(),r.disconnect()}),3e3)}function gt(){const t=1e3*F()+300;setTimeout((()=>{!function(t,e,n){const o=[0,2,4,6,7,9,11,12,14];for(let r=0;r<e;r++){let e=(i=t+o[Math.floor(F()*o.length)],440*Math.pow(2,(i-69)/12));e+=4*Math.random()-2,vt(e,n)}var i}(40+10*F(),5+5*F(),2*F()+1),gt()}),t)}const wt=Math.PI,yt=2*wt;function bt(t){return t*(Math.PI/180)}function Mt(t,e,n,o,i,r){[o,i]=[o,i].sort();const a=+(o*i<0||Math.abs(o-i)>wt),[s,c,l,d]=function(t,e,n,o,i){let r=t+n*Math.cos(o),a=e+n*Math.sin(o),s=t+n*Math.cos(i),c=e+n*Math.sin(i);return[r,a,s,c]}(t,e,n,o,i),u=`${`M${s},${c}`} ${`M${s},${c} A${n},${n} 0 ${a} 1 ${l},${d}`}`;return G("path",{id:B("intro"),d:u,style:{stroke:r,fill:"none",strokeWidth:".2"}})}var _t,xt={};function Ct(t,e){const n=document.querySelector("#root");{const o=S("div",{id:B("map"),classList:"map-wrapper",style:{"z-index":100}});n.appendChild(o);const i=[],r=[],a=[];for(const s of t){const t=S("div",{id:B("map"),classList:"msystem-wrapper",style:{position:"absolute",left:s.position[0],top:s.position[1]}});o.appendChild(t);const c=S("div",{id:B("map"),classList:"msystem",style:{height:s.height,animation:"scaleUpMap 1500ms linear forwards"}});r.push(c),t.appendChild(c);{const e=S("div",{id:B("map"),classList:"msysname",textContent:s.name,style:{animation:"fadein 6000ms linear forwards"}});a.push(e),t.appendChild(e)}const l=[.4,.6,.9];s.planets.forEach(((t,s)=>{const d=l[t.size],h=`rgb(${t.baseColor.r},${t.baseColor.g},${t.baseColor.b})`,f=S("div",{id:B("map"),classList:"mplanet tooltip",style:{"background-color":h,"animation-delay":250*s+"ms",top:60*s+"px",left:-d+"rem",width:2*d+"rem",height:2*d+"rem",animation:"2000ms ease-out 2000ms 1 normal forwards running slideInMap","box-shadow":`0 0 8px ${h}`}});i.push(f),f.onclick=()=>{r.forEach((t=>{t.style.transform="scale(1)",t.style.animation="1500ms linear 1500ms 1 normal forwards running scaleDownMap"})),i.forEach((t=>{t.style.opacity=1,t.style.animation="1500ms ease-out 0ms 1 normal forwards running slideOutMap"})),a.forEach((t=>{t.style.animation="fadeOut 1000ms linear forwards"})),e(t),setTimeout((()=>{u(n,o)}),3e3)},c.append(f);const m=S("span",{id:B("planet"),classList:"tooltiptext msysname",textContent:t.name});f.appendChild(m)}))}}}!function(){var t=.5*(Math.sqrt(3)-1),e=(3-Math.sqrt(3))/6,n=1/6,o=(Math.sqrt(5)-1)/4,i=(5-Math.sqrt(5))/20;function r(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,n=0,o=1,i=s();t=i(" "),e=i(" "),n=i(" ");for(var r=0;r<arguments.length;r++)(t-=i(arguments[r]))<0&&(t+=1),(e-=i(arguments[r]))<0&&(e+=1),(n-=i(arguments[r]))<0&&(n+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*o;return t=e,e=n,n=i-(o=0|i)}}(t):Math.random,this.p=a(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function a(t){var e,n=new Uint8Array(256);for(e=0;e<256;e++)n[e]=e;for(e=0;e<255;e++){var o=e+~~(t()*(256-e)),i=n[e];n[e]=n[o],n[o]=i}return n}function s(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){var o=.02519603282416938*(t+=e.charCodeAt(n));o-=t=o>>>0,t=(o*=t)>>>0,t+=4294967296*(o-=t)}return 2.3283064365386963e-10*(t>>>0)}}r.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(n,o){var i,r,a=this.permMod12,s=this.perm,c=this.grad3,l=0,d=0,u=0,h=(n+o)*t,f=Math.floor(n+h),m=Math.floor(o+h),p=(f+m)*e,v=n-(f-p),g=o-(m-p);v>g?(i=1,r=0):(i=0,r=1);var w=v-i+e,y=g-r+e,b=v-1+2*e,M=g-1+2*e,_=255&f,x=255&m,C=.5-v*v-g*g;if(C>=0){var E=3*a[_+s[x]];l=(C*=C)*C*(c[E]*v+c[E+1]*g)}var L=.5-w*w-y*y;if(L>=0){var T=3*a[_+i+s[x+r]];d=(L*=L)*L*(c[T]*w+c[T+1]*y)}var A=.5-b*b-M*M;if(A>=0){var S=3*a[_+1+s[x+1]];u=(A*=A)*A*(c[S]*b+c[S+1]*M)}return 70*(l+d+u)},noise3D:function(t,e,o){var i,r,a,s,c,l,d,u,h,f,m=this.permMod12,p=this.perm,v=this.grad3,g=.3333333333333333*(t+e+o),w=Math.floor(t+g),y=Math.floor(e+g),b=Math.floor(o+g),M=(w+y+b)*n,_=t-(w-M),x=e-(y-M),C=o-(b-M);_>=x?x>=C?(c=1,l=0,d=0,u=1,h=1,f=0):_>=C?(c=1,l=0,d=0,u=1,h=0,f=1):(c=0,l=0,d=1,u=1,h=0,f=1):x<C?(c=0,l=0,d=1,u=0,h=1,f=1):_<C?(c=0,l=1,d=0,u=0,h=1,f=1):(c=0,l=1,d=0,u=1,h=1,f=0);var E=_-c+n,L=x-l+n,T=C-d+n,A=_-u+2*n,S=x-h+2*n,$=C-f+2*n,N=_-1+.5,k=x-1+.5,P=C-1+.5,D=255&w,R=255&y,I=255&b,q=.6-_*_-x*x-C*C;if(q<0)i=0;else{var G=3*m[D+p[R+p[I]]];i=(q*=q)*q*(v[G]*_+v[G+1]*x+v[G+2]*C)}var U=.6-E*E-L*L-T*T;if(U<0)r=0;else{var O=3*m[D+c+p[R+l+p[I+d]]];r=(U*=U)*U*(v[O]*E+v[O+1]*L+v[O+2]*T)}var z=.6-A*A-S*S-$*$;if(z<0)a=0;else{var B=3*m[D+u+p[R+h+p[I+f]]];a=(z*=z)*z*(v[B]*A+v[B+1]*S+v[B+2]*$)}var F=.6-N*N-k*k-P*P;if(F<0)s=0;else{var H=3*m[D+1+p[R+1+p[I+1]]];s=(F*=F)*F*(v[H]*N+v[H+1]*k+v[H+2]*P)}return 32*(i+r+a+s)},noise4D:function(t,e,n,r){var a,s,c,l,d,u,h,f,m,p,v,g,w,y,b,M,_,x=this.perm,C=this.grad4,E=(t+e+n+r)*o,L=Math.floor(t+E),T=Math.floor(e+E),A=Math.floor(n+E),S=Math.floor(r+E),$=(L+T+A+S)*i,N=t-(L-$),k=e-(T-$),P=n-(A-$),D=r-(S-$),R=0,I=0,q=0,G=0;N>k?R++:I++,N>P?R++:q++,N>D?R++:G++,k>P?I++:q++,k>D?I++:G++,P>D?q++:G++;var U=N-(u=R>=3?1:0)+i,O=k-(h=I>=3?1:0)+i,z=P-(f=q>=3?1:0)+i,B=D-(m=G>=3?1:0)+i,F=N-(p=R>=2?1:0)+2*i,H=k-(v=I>=2?1:0)+2*i,V=P-(g=q>=2?1:0)+2*i,W=D-(w=G>=2?1:0)+2*i,j=N-(y=R>=1?1:0)+3*i,Q=k-(b=I>=1?1:0)+3*i,Y=P-(M=q>=1?1:0)+3*i,K=D-(_=G>=1?1:0)+3*i,X=N-1+4*i,J=k-1+4*i,Z=P-1+4*i,tt=D-1+4*i,et=255&L,nt=255&T,ot=255&A,it=255&S,rt=.6-N*N-k*k-P*P-D*D;if(rt<0)a=0;else{var at=x[et+x[nt+x[ot+x[it]]]]%32*4;a=(rt*=rt)*rt*(C[at]*N+C[at+1]*k+C[at+2]*P+C[at+3]*D)}var st=.6-U*U-O*O-z*z-B*B;if(st<0)s=0;else{var ct=x[et+u+x[nt+h+x[ot+f+x[it+m]]]]%32*4;s=(st*=st)*st*(C[ct]*U+C[ct+1]*O+C[ct+2]*z+C[ct+3]*B)}var lt=.6-F*F-H*H-V*V-W*W;if(lt<0)c=0;else{var dt=x[et+p+x[nt+v+x[ot+g+x[it+w]]]]%32*4;c=(lt*=lt)*lt*(C[dt]*F+C[dt+1]*H+C[dt+2]*V+C[dt+3]*W)}var ut=.6-j*j-Q*Q-Y*Y-K*K;if(ut<0)l=0;else{var ht=x[et+y+x[nt+b+x[ot+M+x[it+_]]]]%32*4;l=(ut*=ut)*ut*(C[ht]*j+C[ht+1]*Q+C[ht+2]*Y+C[ht+3]*K)}var ft=.6-X*X-J*J-Z*Z-tt*tt;if(ft<0)d=0;else{var mt=x[et+1+x[nt+1+x[ot+1+x[it+1]]]]%32*4;d=(ft*=ft)*ft*(C[mt]*X+C[mt+1]*J+C[mt+2]*Z+C[mt+3]*tt)}return 27*(a+s+c+l+d)}},r._buildPermutationTable=a,"undefined"!=typeof define&&define.amd&&define((function(){return r})),void 0!==xt?xt.SimplexNoise=r:"undefined"!=typeof window&&(window.SimplexNoise=r),xt=r}(),function(){const t=[{w:180,h:180,cx:90,cy:90,r:60,rel:"apple-touch-icon",type:"image/png"},{w:16,h:16,cx:8,cy:8,r:8,rel:"icon",type:"image/svg"},{w:16,h:16,cx:8,cy:8,r:8,rel:"mask-icon",type:"image/svg",color:"#FAA"}];for(let n of t){const t=document.createElement("canvas");t.width=n.w,t.height=n.h;const o=t.getContext("2d");var e=o.createLinearGradient(0,0,n.w,0);e.addColorStop(0,"#FAA"),e.addColorStop(1,"#000"),o.arc(n.cx,n.cy,n.r,0,2*Math.PI),o.fillStyle=e,o.fill();const i=t.toDataURL("image/png");v(document.querySelector("head"),S("link",{rel:n.rel,href:i,color:n.color}))}}(),null!=(_t=Math.trunc(255*F()))&&(lt=_t);const Et=()=>{!function(){const t=document.querySelector("#root"),e=document.getElementById("planet");e.style.animation="fadeOut 2000ms linear forwards",setTimeout((()=>{u(t,e)}),2001)}(),function(){const t=document.querySelector("#root"),e=document.getElementById("hudtr-container");e.style.animation="2000ms ease-in 0ms 1 normal forwards running hudtrRotateOut",setTimeout((()=>{u(t,e)}),2001)}(),function(){const t=document.querySelector("#root"),e=document.getElementById("hudpl-container");e.style.animation="2000ms ease-in 0ms 1 normal forwards running hudplRotateOut",setTimeout((()=>{u(t,e)}),2001)}(),setTimeout((()=>Ct(Tt,Lt)),2e3)},Lt=t=>{i(4,"F",200),setTimeout((()=>{!function(t){const e=document.querySelector("#root");{const r=[8,10,18][t.size],a=S("div",{classList:"terrain",style:{"-webkit-animation":`rotatePlanet ${r}s linear infinite`,animation:`rotatePlanet ${r}s linear infinite`}}),s=S("div",{classList:"planetClip"});s.appendChild(a);const c=[.23,.33,.43][t.size],l=S("div",{id:"planet",classList:"planet",style:{"z-index":1e3,transform:`rotate3d(0, 0, 1, 5deg) scale3d(${c}, ${c}, 1)`,animation:"fadein 3000ms linear forwards"}});l.appendChild(s),e.appendChild(l);{const e=t.baseColor.r,n=t.baseColor.g,o=t.baseColor.b,i=z(n,e,o);i.v*=.5;const r=O(i),a=`rgb(${n},${e},${o})`,c=`radial-gradient(circle farthest-side at 0% 0%, rgba(255, 255, 255, 0.25) 0%, rgba(0, 0, 0, 0.35) 100%), radial-gradient(circle farthest-side at 0% 0%, ${a} 25%, transparent 80%), radial-gradient(circle farthest-side at 0% 0%, rgb(${r.r},${r.g},${r.b}) 0%, transparent 100%), radial-gradient(circle farthest-side at 0% 0%, #005700 0%, #270300 85%)`;s.style.setProperty("background-image",c),document.head.appendChild(document.createElement("style")).innerHTML=`#${l.id}:before {background: ${a};}`}const d=1024,u=256;{const e=new xt,r=document.createElement("canvas");r.width=d,r.height=u;const s=r.getContext("2d"),c=s.createImageData(d,u),l=c.data,h=0,f=0,m=1-h,p=1-f,v=Math.PI,g=Math.cos,w=Math.sin,y=d/1,b=u/1;for(var n=0;n<d;n++)for(var o=0;o<u;o++){const i=n/y,r=o/b,a=h+g(2*i*v)*m/(2*v),s=f+g(2*r*v)*p/(2*v),c=h+w(2*i*v)*m/(2*v),u=f+w(2*r*v)*p/(2*v);let M=0;for(let n=0;n<t.weights.length;++n){const o=Math.pow(2,n);M+=t.weights[n]*(e.noise4D(o*a,o*s,o*c,o*u)+1)/2}const _=M/t.sumWeight*255,x=4*(n+o*d);l[x+0]=_,l[x+1]=_,l[x+2]=_,l[x+3]=255}s.putImageData(c,0,0);var i=r.toDataURL();a.style.setProperty("background-image","url("+i+")");const M=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(M)}}}(t),ft(t),function(t){const e=document.querySelector("#root"),n=S("div",{id:"hudpl-container",classList:"hudpl-container",style:{"z-index":2e3,animation:"3000ms ease-out 500ms 1 normal forwards running hudplRotateIn"}});v(e,n);{const e=S("div",{id:B("hud"),classList:"hud-header"});v(n,e);const o=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(e,o);const i=S("tbody",{id:B("hud")});v(o,i),j(Q(i),t.name)}{const e=S("div",{id:B("hud"),classList:"hud-content"});v(n,e);const o=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(e,o);const i=S("tbody",{id:B("hud")});v(o,i);{const e=Q(i);W(e,"Population"),W(e,t.population)}{const e=Q(i);W(e,"Climate"),W(e,t.climate+"")}{const e=Q(i);W(e,"Economy"),W(e,t.economy+"")}{const e=Q(i);W(e,"Taxes"),W(e,Math.trunc(1e3*t.taxes)/10+"%")}}}(t),function(t){const e=document.querySelector("#hudpl-container");{const t=S("div",{id:B("hud"),classList:"hud-header",style:{"margin-top":"10px"}});v(e,t);const n=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(t,n);const o=S("thead",{id:B("hud")});v(n,o),j(Q(o),"cargo")}{const n=S("div",{id:"hud-cargo",classList:"hud-content-auto"});v(e,n);const o=S("table",{id:B("hud"),classList:"hud",cellpadding:"0",cellspacing:"0",border:"0"});v(n,o);const r=S("tbody",{id:B("hud")});v(o,r);{const t=Q(r);W(t,"CAPACITY"),W(t,""+Math.trunc(c.capacity-c.gross),"cargoWeight")}{const t=Q(r);W(t,"CREDIT"),W(t,""+c.credit,"cargoCredit")}{const e=Q(r),n=S("td",{id:B("hud"),colspan:2});v(e,n);const o=S("button",{id:B("hud"),colspan:2,textContent:"EXIT",style:{width:"90%"}});v(n,o);let a=!1;o.onclick=()=>{a||(a=!0,i(4,"C",200),t())}}}}(Et)}),3e3)};let Tt;!function(){const t=S("div",{id:B("space"),style:{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%","z-index":10,color:"white",font:"no-sans","background-image":"radial-gradient(circle at center, #07133E 10%, #153215 100%"}});{const e=[],n=1024,o=1024;{const t=2e3,i=.5,r=100;for(let a=0;a<t;++a){const t=255*Math.random(),a=[Math.random()*n,Math.random()*o],s=G("circle",{r:i,cx:a[0],cy:a[1],fill:`rgb(${t},${t},${t})`}),c=r+Math.random()*r,l=[Math.random()*n,Math.random()*o],d=G("animateTransform",{attributeName:"transform",attributeType:"XML",type:"translate",from:`${a[0]} ${a[1]}`,to:`${l[0]} ${l[1]}`,dur:`${c}s`,repeatCount:"indefinite"}),u=G("g",[s,d],{id:B("star")});e.push(u)}}v(t,G("svg",...e,{id:B("space"),viewBox:`0 0 ${n} ${o}`,preserveAspectRatio:"xMidYMid slice",style:{width:"100%",height:"100%"}}))}v(document.querySelector("#root"),t)}(),function(o){const r=document.querySelector("#root"),a=S("div",{id:B("intro"),style:{position:"absolute",fontSize:"large",left:"12%",top:"12%",width:"75%",height:"75%","z-index":"2000",color:"white",font:"no-sans",backgroundColor:"rgba(0,0,0,0.0)"}});v(r,a);const s=S("div",{textContent:"Spacing Guild",style:{left:"1rem",top:"2rem",position:"absolute","letter-spacing":"1.5rem","z-index":"2000",transform:"rotateY(30DEG)",color:"rgba(255,255,255,.75 )"}});v(r,s);const c=S("div",{textContent:`v.1.0.0 - (c) ${(new Date).getFullYear()} - 2 THINK SNC`,style:{fontSize:".5rem","letter-spacing":".1rem",right:"1rem",bottom:"1rem",position:"absolute","z-index":"2000",transform:"rotateY(30DEG)",color:"rgba(255,255,255,.75 )"}});v(r,c);const l=new Array;{const t=new Array;let e=["#00004f","#00009e","#0000b2"];const n=19,o=19;{e[0%e.length];const i=function(t,e,n,o,i){return G("ellipse",{id:B("intro"),cx:t,cy:e,rx:n,ry:o,style:{stroke:"rgba(200,0,0,.5)",fill:"rgba(255,120,120,.75 )",strokeWidth:"2."}})}(50,50,n,o),r=.5,a=G("animate",{id:B("intro"),attributeName:"opacity",dur:`${r}s`,keyTimes:"0;1",values:"0;1"});{const e=G("g",i,a,{id:B("intro")});t.push(e)}}const i=G("g",...t,{id:B("intro")});l.push(i)}{const t=40,e=new Array,n=20;for(let o=0;o<n;++o){const i=Mt(50,50,t,o*(yt/n)+bt(1),(o+1)*(yt/n)-bt(1),`rgba(255,120,120,${.25+.5*F()} )`);e.push(i)}const o=G("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 50 50",to:"360 50 50",dur:`${40}s`,repeatCount:"indefinite"}),i=G("g",o,...e,{id:B("intro")});l.push(i)}{const d=G("svg",...l,{id:B("intro"),viewBox:"0 0 100 100",style:{width:"100%",height:"100%"}}),h=l=>{l&&window.localStorage.clear(),n=function(){let t=[];for(let e=0;e<9;e++)t[e]=[];return t[4].C=261,t[4]["C#"]=277,t[4].D=293,t[4]["D#"]=311,t[4].E=329,t[4].F=349,t[4]["F#"]=369,t[4].G=391,t[4]["G#"]=415,t[4].A=440,t[4]["A#"]=466,t[4].B=493,t}(),e=t.createGain(),e.connect(t.destination),e.gain.value=1,i(4-+l,"A",200),mt=t.createGain(),mt.connect(t.destination),mt.gain.value=.75,gt(),s.style.animation="fadeOut 500ms linear forwards",c.style.animation="fadeOut 500ms linear forwards",a.style.animation="zoomOut 1000ms linear forwards",setTimeout((()=>{u(r,a),u(r,s),u(r,c),o()}),1e3)};let f=!1;a.addEventListener("click",(t=>{if(f)return;f=!0;const e=t.shiftKey;h(e)})),v(a,d)}}((()=>{Tt=ht(),function(){const t=a("cargo");t?(Object.assign(c,t),c.slots.forEach((t=>{t.product=r.find((e=>e.name===t.product.name))}))):(c.slots=r.map((t=>({product:t,units:0,lastPrice:t.basePrice}))),s("cargo",c))}(),Ct(Tt,Lt)}));