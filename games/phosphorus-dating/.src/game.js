function peopleListTemplate(e,t,i){var s=gId("peopleListTemplate");return s.innerHTML.replace("$1",e).replace("$2",t).replace("$3",i)}function peopleDetail(e){if(null===e)return"";var t=gId("peopleDetail"),i=(0===e.gender?"Female":"Male")+" - "+e.orientation,s=t.innerHTML.replace("$1",e.name+", "+e.age).replace("$2",i).replace("$3",e.bio);return s}var subjects=[{name:"Video Game"},{name:"Books"},{name:"TV"},{name:"Drinks"},{name:"Technology"},{name:"Fitness"},{name:"Science"},{name:"Politics"},{name:"Pets"}],traits=[{s:0,d:2,o:1,t:"Playing videogames."},{s:0,d:2,o:1,t:"Still in love with my Super Nintendo."},{s:0,d:0,o:4,t:"Not into games."},{s:1,d:2,o:1,t:"Like Books, comic books and graphic novels."},{s:1,d:2,o:1,t:"Poetry."},{s:1,d:2,o:1,t:"Love reading."},{s:1,d:0,o:1,t:"Books are the old media."},{s:1,d:0,o:4,t:"I don't read books, come on, it's the 90's!"},{s:2,d:2,o:2,t:"I love soap operas."},{s:2,d:0,o:5,t:"I hate TV."},{s:3,d:2,o:1,t:"Uh, I love beer!"},{s:3,d:2,o:5,t:"Maybe we can go out for a beer?"},{s:3,d:2,o:0,t:"Love me some wine."},{s:3,d:0,o:3,t:"If you're wondering, I don't drink."},{s:3,d:0,o:3,t:"No alcohol for me."},{s:3,d:0,o:3,t:"No drinking."},{s:4,d:2,o:0,t:"I write computer programs."},{s:4,d:2,o:0,t:"I speak C++."},{s:4,d:2,o:0,t:"This Internet thing is promising."},{s:4,d:0,o:0,t:"I'm not a tech person."},{s:4,d:0,o:0,t:"I don't understand this internet."},{s:5,d:2,o:3,t:"Jogging."},{s:5,d:2,o:3,t:"Play basketball."},{s:5,d:0,o:5,t:"High five sedentary people!"},{s:5,d:0,o:3,t:"No sports."},{s:6,d:2,o:1,t:"Hail Carl Sagan!"},{s:6,d:0,o:0,t:"God in first place."},{s:7,d:0,o:3,t:"Capitalism and Conservadorism."},{s:7,d:0,o:0,t:"Right-winged person."},{s:7,d:2,o:5,t:"Have you read some Karl Marx?"},{s:7,d:2,o:2,t:"Communism, socialism, and anarchism."},{s:8,d:2,o:3,t:"Totally a cat person."},{s:8,d:2,o:3,t:"I have a kitten."},{s:8,d:0,o:3,t:"Dog person here."},{s:8,d:0,o:5,t:"Love puppies!"}],female_names=["Joanna","Linda","Lorenna","Alyssa","Anna","Anne","Eduarda","Kat","Giuliana","Lais","Adrianne","Gal","Olivia","Nicole","Lianna","Laura","Emma","Chloe"],male_names=["Bruno","John","Marcus","Jay","Rodrigo","Anderson","Val","Germano","George","Mamoru","Ed","Felipe","Klev","Beto","Frank","Daniel","Karl","Simon","Leo"],last_names=["Smith","Silva","Johnson","Kim","Cruz","Lee","Yamada","Kilmer","Lopes","Miya","Drake","Lira","Love","Lake","Romero","Stark","Muller","Mayer","Laurent"],sex_orient=[{w:.6,t:"Straight"},{w:.25,t:"Homosexual"},{w:.15,t:"Bisexual"}],week_total=5,week_price=10,week_price_increase=5,dismiss_price=20,dismiss_price_increase=5,texts={date_conf:"<p>Do you want to match <b>$1</b> and <b>$2</b>?</p><p>After their date ends you will get a date report.</p>",date_end:'<p>Seems like the date between <b>$1</b> and <b>$2</b> finished. Date result: <span class="$3">$4</span></p>',week_started:"<p>Week <b>$1</b> just started. You need to match <b>$2</b> people this week.</p>",welcome_help:'<div class="inner-object results-box"><p>Phosphorus Dating is a very modern dating website, our matching algorithm was considered one of the most advanced ever created. We achieved more than <b>90%</b> of successful couples. But recently something happened and for some reason the accuracy is below <b>25%</b>, this is why we activated the manual mode and you\'re here.</p><p>You have <b>'+week_total+"</b> weeks, until our system is fixed, to match couples based on their <b>gender</b>, <b>sexual orientation</b>, <b>age</b> and <b>interests</b>. Every week you will have to find a good couple for the people in the left list of the Phosphorus Dating program. Pick the right person on the right and match the couple. If you can't find a good match, you can dismiss anybody on the right list, but it uses <b>Hearts &#10084;</b>, which you only get when you make a successful couple. You will also need <b>Hearts &#10084;</b> to go to the next week.</p><p>When you match a couple, they will go out on a date and you can keep up with the progress on the lower left date list on the program. After that finishes you'll get a report.</p></div>",finish:"You finished the period with <b>$1%</b>.",finish_good:"That's remarkable! Congratulations. We will have to boost our algorithm to keep up with that mark.",finish_ok:"Good job. We hope our algorithm is finally fixed.",finish_bad:"That wasn't as good as we initially thought, but better than using a broken algorithm. Thanks for the effort.",finish_glitch:"That's A̶̦̒A̴a̽a̳̾A̶͖A̎͊A̿a͚͉͠A͠A̋a̦̩ã̷̸AͣA̳ͤ́A̩̥Ä̵́ͅ0͆0̋0̷̸̋f̰a̷͕͒ c͙͗f͑ b̡̕c͓̟̓ 0̵̇͡3͎̞͘ 0̞͑1̯̗͜ 2̲3ͧc͔5̴̞̥ AD",week_next:"Next week ($1 &#10084;)",not_enough_hearts:"<p>You finished the week with <b>$1 &#10084;</b>; and needed <b>$2 &#10084;</b> to go to the next one.<p>",dismiss_button:"Dismiss ($1 &#10084;)",dismiss_conf:"<p>If you dismiss <b>$1</b> another person will take its place. It will cost you <b>$2 &#10084;</b>. Do you want to do that?</p>",dismiss_not:"<p>You can't dismiss <b>$1</b>, because you don't have <b>$2 &#10084;</b>.</p>"},match_category=[{score:90,title:"Marriage",text:"Wow! They really got along very well. Don't be surprise if you get a marriage invite soon."},{score:65,title:"Love",text:"Amazing date! After that, they went to a motel, had a lot of fun and already set another date for the next week."},{score:45,title:"Passion",text:"They're kind of addicted to each other. Other dates are coming, maybe travel together?"},{score:20,title:"Casual Sex",text:"They had a good sex after the date, but they don't seem like they will go out together any more. Call it a good time."},{score:0,title:"Nice Buddies",text:"They enjoyed conversation together, but doesn't seem like they're going to do anything else. Maybe good friends."},{score:-100,title:"Strangers",text:'Weird "date" (if one can call that way). Unconfortable talking with a total stranger. That shall not happen ever again.'},{score:-150,title:"Awkward",text:"The most awkward event in their lives. They're going to forget that forever."},{score:-250,title:"Fight",text:"Oh my Dog! There was a fight over there! They don't even want to see each other's face in the streets! That's awful."}],gId=function(e){return document.getElementById(e)};Array.prototype.rand=function(){return this[Math.floor(Math.random()*this.length)]},Array.prototype.group=function(e){var t={};return this.forEach(function(i){var s=e(i);s in t||(t[s]=[]),t[s].push(i)}),Object.keys(t).map(function(e){return{key:e,values:t[e]}})},Array.prototype.unique=function(){return this.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])};var rangeRand=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},weightRand=function(e){for(var t=Math.random(),i=0,s=0;s<e.length;s++)if(i+=e[s].w,i>t)return e[s].t},getOrientIndex=function(e){for(var t=0;t<sex_orient.length;t++)if(sex_orient[t].t==e)return t},getTraitsExcept=function(e){var t=[];return traits.forEach(function(i){for(var s=0;s<e.length;s++)if(i.s==e[s].s)return;t.push(i)}),t},cecilia_dent={gender:0,orientation:"Straight",sex_orient:0,name:"Cecilia Dent",age:22,traits:[{s:0,d:2},{s:1,d:2},{s:4,d:2},{s:6,d:2}],bio:"Scientist interested in Time Travel. I want to have two children, a boy Arthur and a girl Cecilia, why only men can name their children after themselves?"},Person=function(){this.gender=rangeRand(0,1),this.orientation=weightRand(sex_orient),this.sex_orient=getOrientIndex(this.orientation),0==this.gender?this.name=female_names.rand()+" "+last_names.rand():this.name=male_names.rand()+" "+last_names.rand();var e=30;rangeRand(0,100)>65&&(e=52),this.age=rangeRand(18,e),this.traits=[],this.bio="";for(var t=rangeRand(3,5),i=0;t>i;i++){var s=getTraitsExcept(this.traits).rand();this.traits.push(s)}this.traits.sort(function(e,t){return e.o-t.o}),this.traits.forEach(function(e){this.bio+=e.t+" ",rangeRand(1,100)>90&&(this.bio+="<br><br>")},this);var o=rangeRand(0,100);o>85?this.bio=this.bio.toLowerCase():o>80&&(this.bio=this.bio.toUpperCase()),o=rangeRand(0,100),o>70&&(this.bio=this.bio.replace(/,/g,"").replace(/\./g,","),this.bio=this.bio.substr(0,this.bio.length-2)),o=rangeRand(0,100),o>97&&(this.bio=[].map.call(this.bio,function(e){return 0==rangeRand(0,1)?e.toUpperCase():e.toLowerCase()}).join(""))},match_ids=0,Match=function(e,t){this.id=match_ids++,this.p1=e,this.p2=t,this.value=0,this.calculate=function(){this.sex=0;var i=20,s=-100;2==e.sex_orient&&2==t.sex_orient?this.sex+=i:0===e.sex_orient&&0===t.sex_orient?this.sex+=e.gender!=t.gender?i:s:1===e.sex_orient&&1===t.sex_orient?this.sex+=e.gender==t.gender?i:s:0===e.sex_orient||0===t.sex_orient?2==e.sex_orient||2==t.sex_orient?this.sex+=Math.floor(e.gender!=t.gender?i:s):1!==e.sex_orient&&1!==t.sex_orient||(this.sex+=s):1!==e.sex_orient&&1!==t.sex_orient||(2===e.sex_orient||2===t.sex_orient?this.sex+=Math.floor(e.gender==t.gender?i:s):0!==e.sex_orient&&0!==t.sex_orient||(this.sex+=s)),this.positive=0,this.neutral=0,this.negative=0;var o=function(e){return e.s},n=this.p1.traits.map(o),a=this.p2.traits.map(o),r=this.p1.traits.filter(function(e){return a.indexOf(e.s)>=0}).concat(this.p2.traits.filter(function(e){return n.indexOf(e.s)>=0})),h=this.p1.traits.filter(function(e){return-1==r.map(o).indexOf(e.s)}),l=this.p2.traits.filter(function(e){return-1==r.map(o).indexOf(e.s)}),c=r.group(o);c.forEach(function(e){var t=e.values.reduce(function(e,t){return e+t.d},0)-2;0===t?this.negative++:this.positive++},this),this.neutral=h.length+l.length,this.subjects=this.p1.traits.concat(this.p2.traits).map(function(e){return subjects[e.s]}).unique(),this.total=this.sex+-30*this.negative+30*this.positive;var d=10*this.neutral,p=(rangeRand(d/-2,d/2),Math.abs(this.p1.age-this.p2.age));this.age_penalizing=7*Math.floor(p/10),this.total-=rangeRand(0,this.age_penalizing),this.category=this.getCategory();var u=2*this.subjects.length+4*this.positive;this.sex<0&&(u/=1.8),this.step=100/(100*u),this.score=this.total>0?Math.floor(this.total/2):0,console.log(this)},this.getCategory=function(){var e;for(e in match_category)if(this.total>=match_category[e].score)return e},this.createProgressItem=function(){var e=gId("matchItemTemplate");this.dl=gId("dateList");var t=this.p1.name+" & "+this.p2.name,i=e.innerHTML.replace("$1",t).replace("$2",this.id);this.li=document.createElement("li"),this.li.innerHTML=i,this.dl.appendChild(this.li),this.progress=gId("matchProgress-"+this.id),this.interval=setInterval(this.updateBar.bind(this),10)},this.updateBar=function(){this.value+=this.step,this.progress.value=this.value,this.value>=100&&this.endOfMatch()},this.endOfMatch=function(){clearInterval(this.interval);var e=match_category[this.category],t=this.total>0?"results-good":"results-bad",i=texts.date_end.replace("$1",this.p1.name).replace("$2",this.p2.name).replace("$3",t).replace("$4",e.title);i+='<div class="inner-object results-box"><p>'+e.text+"</p>",i+="<p>They talked about:</p>",i+="<ul>";for(var s=this.total>0?1:2,o=0;o<this.subjects.length/s;o++)i+="<li>"+this.subjects[o].name+"</li>";i+="</ul>",i+="<p>Hearts &#10084; earned <b>"+this.score+"</b>.</p>",i+="</div>",showDialogOk("Date finished: "+e.title,i,this.killCurrentMatch.bind(this))},this.killCurrentMatch=function(){this.dl.removeChild(this.li),this.finished&&(this.finished(this),this.finished=null)},this.calculate(),this.createProgressItem()},dialog={bg:gId("dialogDiv"),dw:gId("dialogWindow"),title:gId("dialogTitle"),section:gId("dialogSection"),ok:gId("dialogOk"),cancel:gId("dialogCancel"),hide:function(){this.bg.style="visibility: hidden",this.dw.style="visibility: hidden",this.active=!1,setTimeout(this.checkQueue.bind(this),100)},show:function(){this.bg.style="visibility: visible",this.dw.style="visibility: visible",this.active=!0},onOk:null,okCancel:null,checkQueue:function(){if(this.dialogQueue.length>0){var e=this.dialogQueue.pop();createDialogOk(e.title,e.section,e.okCallback,e.cancel)}},addResults:function(){this.dw.className+=" results"},removeResults:function(){this.dw.className=this.dw.className.replace(/ results/,"")},showCancel:function(){this.cancel.className=this.cancel.className.replace(/ hidden/g,"")},hideCancel:function(){this.cancel.className+=" hidden"},active:!1,dialogQueue:[]},showDialogOk=function(e,t,i,s){dialog.active?dialog.dialogQueue.push({title:e,section:t,okCallback:i,cancel:s}):createDialogOk(e,t,i,s)},createDialogOk=function(e,t,i,s){dialog.hideCancel(),s&&dialog.showCancel(),dialog.title.innerHTML=e,dialog.section.innerHTML=t,dialog.onOk=function(){dialog.hide(),i&&i()},dialog.onCancel=function(){dialog.hide()},dialog.show()},GameConsole=function(){this.consoleDiv=gId("consoleDiv"),this.consoleFix=document.querySelector("#consoleDiv .console-fix"),this.consolePre=document.querySelector("#consoleDiv pre"),this.keyPressed=function(){this.key&&this.nextToken()},this.init=function(e,t,i){this.callback=t,i&&"error"==i?this.consoleDiv.className+=" error":this.consoleDiv.className=this.consoleDiv.className.replace(/ error/g,""),this.consolePre.innerHTML="";var s=new Date,o=s.getMonth()+1,n=s.getFullYear();10>o&&(o="0"+o);var a=e;a=a.replace(/\$m/g,o).replace(/\$y/g,n),this.tokens=a.split("%c"),this.currentToken=0,this.key=!1,document.onkeypress=this.keyPressed.bind(this),this.show(),this.nextToken()},this.nextToken=function(){this.key=!1,this.consolePre.innerHTML=this.consolePre.innerHTML.substr(0,this.consolePre.innerHTML.length-1),this.consolePre.innerHTML+=this.tokens[this.currentToken],this.consolePre.innerHTML+="_",this.consoleFix.scrollTop=this.consoleFix.scrollHeight,this.currentToken++,this.currentToken<this.tokens.length?(this.tokens[this.currentToken].indexOf("%k")>-1?this.key=!0:this.tokens[this.currentToken].indexOf("%l")>-1?this.timeout=setTimeout(this.nextToken.bind(this),2e3):this.tokens[this.currentToken].indexOf("%s")>-1&&(this.timeout=setTimeout(this.nextToken.bind(this),700)),this.tokens[this.currentToken]=this.tokens[this.currentToken].replace(/%[a-z]/g,"")):this.callback&&this.callback()},this.hide=function(){this.consolePre.innerHTML="",this.consoleDiv.className+=" hidden",document.onkeypress=null,clearInterval(this.timeout)},this.show=function(){this.consoleDiv.className=this.consoleDiv.className.replace(/hidden/g,""),this.consolePre.className=this.consolePre.className.replace(/hidden/g,""),this.consoleDiv.focus()}},Game=function(){this.matches=[],this.week=0,this.totalMatches=0,this.totalGoodMatches=0,this.totalScore=0,this.currentPeople=[0,0],this.dismissPrice=dismiss_price,this.weekPrice=week_price,this.maxPeople=8,this.dateWeek=gId("dateWeek"),this.dateLeft=gId("dateLeft"),this.dateCouples=gId("dateCouples"),this.dateRating=gId("dateRating"),this.dateScore=gId("dateScore"),this.dateBonus=gId("dateBonus"),this.nextWeekButton=gId("nextWeek"),this.dismissButton=gId("dismissButton"),this.start=function(){var e='<p>Welcome to <b>Phosphorus Dating</b>. You are logged in as <span style="color: green">cecilia.dent</span>.</p>';e+=texts.welcome_help,showDialogOk("Welcome",e),this.randomPeople(),this.startWeek()},this.help=function(){showDialogOk("Help",texts.welcome_help)},this.startWeek=function(){if(this.week++,this.week>week_total)return void this.endOfGame();this.goodWeekMatches=0,this.finishedMatches=[],this.startWeekPeople(),this.addWeekPeople(),this.drawPeople(),this.renderDetails(),this.updateDateData(),this.nextWeekButton.innerHTML="<span>"+texts.week_next.replace("$1",this.weekPrice)+"</span>",this.dismissButton.innerHTML="<span>"+texts.dismiss_button.replace("$1",this.dismissPrice)+"</span>",this.nextWeekButton.className+=" disabled";var e=texts.week_started.replace("$1",this.week).replace("$2",this.opeople.length);showDialogOk("Week",e)},this.startWeekPeople=function(){this.opeople=[];for(var e=3+Math.floor(this.week/3),t=0;e>t;t++){var i=new Person;this.opeople.push(i)}this.week==week_total&&this.opeople.push(cecilia_dent),this.currentPeople[0]=this.opeople[0]},this.randomPeople=function(){this.people=[];for(var e=0;7>e;e++){var t=new Person;this.people.push(t)}},this.addWeekPeople=function(){for(var e=this.maxPeople-this.people.length+Math.floor(this.week/2),t=0;e>t;t++){var i=new Person;this.people.push(i)}this.currentPeople[1]=this.people[0]},this.updateDateData=function(){var e="N/A";this.totalMatches>0&&(e=Math.floor(this.totalGoodMatches/this.totalMatches*100),e=""+e+"%"),this.dateWeek.innerHTML=this.week+" / "+week_total,this.dateLeft.innerHTML=this.opeople.length,this.dateCouples.innerHTML=this.goodWeekMatches+" / "+this.finishedMatches.length,this.dateRating.innerHTML=e,this.dateScore.innerHTML=this.totalScore},this.drawPeople=function(){var e=gId("peopleList1"),t=gId("peopleList2");e.innerHTML=t.innerHTML="";var i=0;this.opeople.forEach(function(t){e.innerHTML+=peopleListTemplate(0,i,t.name),i++}),i=0,this.people.forEach(function(e){t.innerHTML+=peopleListTemplate(1,i,e.name),i++})},this.clickPerson=function(e,t){this.currentPeople[e]=0===e?this.opeople[t]:this.people[t],this.renderDetails(e)},this.renderDetails=function(){var e=gId("personDescription1"),t=gId("personDescription2");e.innerHTML=peopleDetail(this.currentPeople[0]),t.innerHTML=peopleDetail(this.currentPeople[1])},this.dismiss=function(){if(this.totalScore>=this.dismissPrice){var e=texts.dismiss_conf.replace("$1",this.currentPeople[1].name).replace("$2",this.dismissPrice);showDialogOk("Dismiss",e,this.dismissPerson.bind(this),"cancel")}else showDialogOk("Dismiss",texts.dismiss_not.replace("$1",this.currentPeople[1].name).replace("$2",this.dismissPrice))},this.dismissPerson=function(){this.people.splice(this.people.indexOf(this.currentPeople[1]),1);var e=new Person;this.people.push(e),this.currentPeople[1]=this.people[this.people.length-1],this.totalScore-=this.dismissPrice,this.dismissPrice+=dismiss_price_increase,this.dismissButton.innerHTML="<span>"+texts.dismiss_button.replace("$1",this.dismissPrice)+"</span>",this.drawPeople(),this.renderDetails(),this.updateDateData()},this.nextWeek=function(){0==this.opeople.length&&0==this.matches&&(this.totalScore-=this.weekPrice,this.weekPrice+=week_price_increase,this.finishWeek())},this.match=function(){var e=this.currentPeople[0],t=this.currentPeople[1];null===e||null===t?showDialogOk("Oops","<p>There's no one else to match right now.</p>"):showDialogOk("Do a Match?",texts.date_conf.replace("$1",e.name).replace("$2",t.name),this.doMatch.bind(this,e,t),!0)},this.doMatch=function(e,t){this.opeople.splice(this.opeople.indexOf(e),1),this.people.splice(this.people.indexOf(t),1),this.opeople.length>0?this.currentPeople[0]=this.opeople[0]:this.currentPeople[0]=null,this.currentPeople[1]=this.people[0],this.drawPeople(),this.renderDetails();var i=new Match(e,t);i.finished=this.finishedMatch.bind(this),e!=cecilia_dent&&t!=cecilia_dent||(this.ceciliaMatch=i),this.matches.push(i)},this.finishedMatch=function(e){if(this.matches.splice(this.matches.indexOf(e),1),this.finishedMatches.push(e),e.total>0&&(this.totalGoodMatches++,this.goodWeekMatches++),this.totalMatches++,this.totalScore+=e.score,this.updateDateData(),console.log(this),0==this.opeople.length&&0==this.matches)if(this.totalScore>=week_price)this.nextWeekButton.className=this.nextWeekButton.className.replace(/ disabled/g,"");else{var t=texts.not_enough_hearts.replace("$1",this.totalScore).replace("$2",this.weekPrice);showDialogOk("Not enough hearts",t,function(){gameConsole.init(gId("consoleEndOfGameNotEnoughHearts").innerHTML,function(){location.reload()})})}},this.finishWeek=function(){var e="<p>Week <b>"+this.week+"</b> has finished.</p>";e+='<div class="inner-object results-box"><p>These are the reports for this week. You matched <b>',e+=this.finishedMatches.length+"</b> couples, which <b>"+this.goodWeekMatches,e+="</b> of them were successful:</p>",e+="<ul>";for(var t=0;t<this.finishedMatches.length;t++){var i=match_category[this.finishedMatches[t].category],s=this.finishedMatches[t].total>0?"results-good":"results-bad";e+="<li>",e+=this.finishedMatches[t].p1.name,e+=" & ",e+=this.finishedMatches[t].p2.name,e+=": ",e+='<span class="'+s+'"><b>'+i.title+"</b></span>",e+="</li>"}var o=this.finishedMatches.reduce(function(e,t){return e+t.score},0);e+="</ul>",e+="<p>You scored <b>"+o+"</b> points this week.</p>",e+="<p>Get ready for next week.</p>",e+="</div>",showDialogOk("Week Report",e,this.startWeek.bind(this))},this.endOfGame=function(){var e="N/A";this.totalMatches>0&&(e=Math.floor(this.totalGoodMatches/this.totalMatches*100));var t=texts.finish.replace("$1",e);this.ceciliaMatch&&this.ceciliaMatch.total>0?(t+=e>=90?" "+texts.finish_good:e>=65?" "+texts.finish_ok:" "+texts.finish_bad,showDialogOk("Finished",t,function(){gameConsole.init(gId("consoleEndOfGameSuccess").innerHTML,function(){location.reload()})})):(t+=" "+texts.finish_glitch,showDialogOk("Finished",t,function(){gameConsole.init(gId("consoleError").innerHTML,function(){gameConsole.hide(),gameConsole.init(gId("consoleEndOfGameFail").innerHTML,function(){location.reload()})},"error")}))}},game=new Game,gameConsole=new GameConsole;gameConsole.init(gId("consoleStart").innerHTML,function(){gameConsole.hide()}),function(){game.start()}();