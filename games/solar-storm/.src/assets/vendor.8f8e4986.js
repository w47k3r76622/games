var t=[],r=[],e={},o="_sign",n="_mask";"undefined"!=typeof Symbol&&(o=Symbol(o),n=Symbol(n));var i=function(t,r){var e=r[t];if(!e)throw new Error("The component is not registered");return e},a=i.bind(null,o),s=i.bind(null,n),h=function(r){r.id&&t.forEach((function(t){return t.match(r)}))},f=1,c={},u=function(t){this.id=t||(f++).toString(36),this.components=Object.assign({},c),this.mask=0};u.prototype.add=function(){for(var t=this,r=[],e=arguments.length;e--;)r[e]=arguments[e];r.forEach((function(r){t.components[a(r.constructor)]=r,t.mask|=s(r.constructor)})),h(this)},u.prototype.remove=function(){for(var t=this,r=[],e=arguments.length;e--;)r[e]=arguments[e];r.forEach((function(r){var e=a(r),o=t.components[e];o&&(o.destructor&&o.destructor(),delete t.components[e],t.mask&=~s(r))})),h(this)},u.prototype.has=function(t){return a(t)in this.components},u.prototype.get=function(t){return this.components[t[o]]},u.prototype.eject=function(){!function(r){var o=r.components;for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)){var i=o[n];i&&i.destructor&&i.destructor()}t.forEach((function(t){return t.remove(r)})),delete e[r.id],r.id=0}(this)};var p=function(t,r){this.entity=t,this.prev=null,this.next=r},v=function(t){if(!t)throw new Error("Empty selector");for(var r in this.mask=t,this.map={},this.list=null,this.length=0,e)Object.prototype.hasOwnProperty.call(e,r)&&this.match(e[r])};v.prototype.iterate=function(t){for(var r=this.list;r;)t(r.entity),r=r.next},v.prototype.match=function(t){(this.mask&t.mask)===this.mask?this.add(t):this.remove(t)},v.prototype.add=function(t){if(!this.map[t.id]){var r=new p(t,this.list);this.list&&(this.list.prev=r),this.list=r,this.map[t.id]=r,this.length++}},v.prototype.remove=function(t){var r=this.map[t.id];r&&(r.prev?r.prev.next=r.next:this.list=r.next,r.next&&(r.next.prev=r.prev),delete this.map[t.id],this.length--)};var l=0,m=performance||Date,d=m.now.bind(m),y={register:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];t.forEach((function(t){if(l>31)throw new Error("Components limit reached");if(!t[o]){var r=l.toString(36);c[r]=null,t[o]=r,t[n]=1<<l,l++}}))},process:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];t.forEach((function(t){return r.push(t)}))},create:function(t){var r=new u(t);if(e[r.id])throw new Error("The ID already exist");return e[r.id]=r,r},get:function(t){return e[t]},select:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var o=0;r.forEach((function(t){o|=s(t)}));for(var n=0;n<t.length;n++)if(t[n].mask===o)return t[n];var i=new v(o);return t.push(i),i},update:function(t){var e={};return r.forEach((function(r){var o=d();r.update(t),e[r.constructor.name]=d()-o})),e}},w={},M={};Object.defineProperty(M,"__esModule",{value:!0}),M.makeNoise2D=void 0;var k=(3-Math.sqrt(3))/6,g=[[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[1,0],[-1,0],[0,1],[0,-1],[0,1],[0,-1]];M.makeNoise2D=function(t){void 0===t&&(t=Math.random);for(var r,e,o=new Uint8Array(256),n=0;n<256;n++)o[n]=n;for(n=255;n>0;n--)r=Math.floor((n+1)*t()),e=o[n],o[n]=o[r],o[r]=e;var i=new Uint8Array(512),a=new Uint8Array(512);for(n=0;n<512;n++)i[n]=o[255&n],a[n]=i[n]%12;return function(t,r){var e=.5*(t+r)*(Math.sqrt(3)-1),o=Math.floor(t+e),n=Math.floor(r+e),s=(o+n)*k,h=t-(o-s),f=r-(n-s),c=h>f?1:0,u=h>f?0:1,p=h-c+k,v=f-u+k,l=h-1+2*k,m=f-1+2*k,d=255&o,y=255&n,w=g[a[d+i[y]]],M=g[a[d+c+i[y+u]]],b=g[a[d+1+i[y+1]]],D=.5-h*h-f*f,N=.5-p*p-v*v,E=.5-l*l-m*m;return 70.14805770653952*((D<0?0:Math.pow(D,4)*(w[0]*h+w[1]*f))+(N<0?0:Math.pow(N,4)*(M[0]*p+M[1]*v))+(E<0?0:Math.pow(E,4)*(b[0]*l+b[1]*m)))}};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.makeNoise3D=void 0;var D=1/6,N=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,-1],[0,1,-1],[0,-1,-1]];b.makeNoise3D=function(t){void 0===t&&(t=Math.random);for(var r,e,o=new Uint8Array(256),n=0;n<256;n++)o[n]=n;for(n=255;n>0;n--)r=Math.floor((n+1)*t()),e=o[n],o[n]=o[r],o[r]=e;var i=new Uint8Array(512),a=new Uint8Array(512);for(n=0;n<512;n++)i[n]=o[255&n],a[n]=i[n]%12;return function(t,r,e){var o,n,s,h,f,c,u=(t+r+e)/3,p=Math.floor(t+u),v=Math.floor(r+u),l=Math.floor(e+u),m=(p+v+l)*D,d=t-(p-m),y=r-(v-m),w=e-(l-m);d>=y?y>=w?(o=h=f=1,n=s=c=0):d>=w?(o=h=c=1,n=s=f=0):(s=h=c=1,o=n=f=0):y<w?(s=f=c=1,o=n=h=0):d<w?(n=f=c=1,o=s=h=0):(n=h=f=1,o=s=c=0);var M=d-o+D,k=y-n+D,g=w-s+D,b=d-h+2*D,E=y-f+2*D,O=w-c+2*D,j=d-1+.5,_=y-1+.5,x=w-1+.5,A=255&p,P=255&v,U=255&l,S=N[a[A+i[P+i[U]]]],q=N[a[A+o+i[P+n+i[U+s]]]],T=N[a[A+h+i[P+f+i[U+c]]]],C=N[a[A+1+i[P+1+i[U+1]]]],I=.5-d*d-y*y-w*w,z=.5-M*M-k*k-g*g,B=.5-b*b-E*E-O*O,F=.5-j*j-_*_-x*x;return 94.68493150681972*((I<0?0:Math.pow(I,4)*(S[0]*d+S[1]*y+S[2]*w))+(z<0?0:Math.pow(z,4)*(q[0]*M+q[1]*k+q[2]*g))+(B<0?0:Math.pow(B,4)*(T[0]*b+T[1]*E+T[2]*O))+(F<0?0:Math.pow(F,4)*(C[0]*j+C[1]*_+C[2]*x)))}};var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.makeNoise4D=void 0;var O=(5-Math.sqrt(5))/20,j=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]];E.makeNoise4D=function(t){void 0===t&&(t=Math.random);for(var r,e,o=new Uint8Array(256),n=0;n<256;n++)o[n]=n;for(n=255;n>0;n--)r=Math.floor((n+1)*t()),e=o[n],o[n]=o[r],o[r]=e;var i=new Uint8Array(512),a=new Uint8Array(512);for(n=0;n<512;n++)i[n]=o[255&n],a[n]=i[n]%12;return function(t,r,e,o){var n=(t+r+e+o)*(Math.sqrt(5)-1)/4,a=Math.floor(t+n),s=Math.floor(r+n),h=Math.floor(e+n),f=Math.floor(o+n),c=(a+s+h+f)*O,u=t-(a-c),p=r-(s-c),v=e-(h-c),l=o-(f-c),m=0,d=0,y=0,w=0;u>p?m++:d++,u>v?m++:y++,u>l?m++:w++,p>v?d++:y++,p>l?d++:w++,v>l?y++:w++;var M=m>=3?1:0,k=d>=3?1:0,g=y>=3?1:0,b=w>=3?1:0,D=m>=2?1:0,N=d>=2?1:0,E=y>=2?1:0,_=w>=2?1:0,x=m>=1?1:0,A=d>=1?1:0,P=y>=1?1:0,U=w>=1?1:0,S=u-M+O,q=p-k+O,T=v-g+O,C=l-b+O,I=u-D+2*O,z=p-N+2*O,B=v-E+2*O,F=l-_+2*O,G=u-x+3*O,H=p-A+3*O,J=v-P+3*O,K=l-U+3*O,L=u-1+4*O,Q=p-1+4*O,R=v-1+4*O,V=l-1+4*O,W=255&a,X=255&s,Y=255&h,Z=255&f,$=j[i[W+i[X+i[Y+i[Z]]]]%32],tt=j[i[W+M+i[X+k+i[Y+g+i[Z+b]]]]%32],rt=j[i[W+D+i[X+N+i[Y+E+i[Z+_]]]]%32],et=j[i[W+x+i[X+A+i[Y+P+i[Z+U]]]]%32],ot=j[i[W+1+i[X+1+i[Y+1+i[Z+1]]]]%32],nt=.5-u*u-p*p-v*v-l*l,it=.5-S*S-q*q-T*T-C*C,at=.5-I*I-z*z-B*B-F*F,st=.5-G*G-H*H-J*J-K*K,ht=.5-L*L-Q*Q-R*R-V*V;return 72.37855765153665*((nt<0?0:Math.pow(nt,4)*($[0]*u+$[1]*p+$[2]*v+$[3]*l))+(it<0?0:Math.pow(it,4)*(tt[0]*S+tt[1]*q+tt[2]*T+tt[3]*C))+(at<0?0:Math.pow(at,4)*(rt[0]*I+rt[1]*z+rt[2]*B+rt[3]*F))+(st<0?0:Math.pow(st,4)*(et[0]*G+et[1]*H+et[2]*J+et[3]*K))+(ht<0?0:Math.pow(ht,4)*(ot[0]*L+ot[1]*Q+ot[2]*R+ot[3]*V)))}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeNoise4D=t.makeNoise3D=t.makeNoise2D=void 0;var r=M;Object.defineProperty(t,"makeNoise2D",{enumerable:!0,get:function(){return r.makeNoise2D}});var e=b;Object.defineProperty(t,"makeNoise3D",{enumerable:!0,get:function(){return e.makeNoise3D}});var o=E;Object.defineProperty(t,"makeNoise4D",{enumerable:!0,get:function(){return o.makeNoise4D}})}(w);export{y as e,w as m};
